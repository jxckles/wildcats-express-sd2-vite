var R0=t=>{throw TypeError(t)};var k0=(t,e,n)=>e.has(t)||R0("Cannot "+n);var Go=(t,e,n)=>(k0(t,e,"read from private field"),n?n.call(t):e.get(t)),Xc=(t,e,n)=>e.has(t)?R0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);var b0=(t,e,n)=>(k0(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function WC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cp={exports:{}},Pl={},hp={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function KC(){if(N0)return De;N0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T($){return $===null||typeof $!="object"?null:($=_&&$[_]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function P($,X,ge){this.props=$,this.context=X,this.refs=D,this.updater=ge||S}P.prototype.isReactComponent={},P.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},P.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=P.prototype;function j($,X,ge){this.props=$,this.context=X,this.refs=D,this.updater=ge||S}var U=j.prototype=new N;U.constructor=j,x(U,P.prototype),U.isPureReactComponent=!0;var Q=Array.isArray,Y=Object.prototype.hasOwnProperty,Z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A($,X,ge){var Re,be={},Ve=null,Be=null;if(X!=null)for(Re in X.ref!==void 0&&(Be=X.ref),X.key!==void 0&&(Ve=""+X.key),X)Y.call(X,Re)&&!k.hasOwnProperty(Re)&&(be[Re]=X[Re]);var ze=arguments.length-2;if(ze===1)be.children=ge;else if(1<ze){for(var oe=Array(ze),ke=0;ke<ze;ke++)oe[ke]=arguments[ke+2];be.children=oe}if($&&$.defaultProps)for(Re in ze=$.defaultProps,ze)be[Re]===void 0&&(be[Re]=ze[Re]);return{$$typeof:t,type:$,key:Ve,ref:Be,props:be,_owner:Z.current}}function R($,X){return{$$typeof:t,type:$.type,key:X,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function F($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ge){return X[ge]})}var z=/\/+/g;function V($,X){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):X.toString(36)}function Ge($,X,ge,Re,be){var Ve=typeof $;(Ve==="undefined"||Ve==="boolean")&&($=null);var Be=!1;if($===null)Be=!0;else switch(Ve){case"string":case"number":Be=!0;break;case"object":switch($.$$typeof){case t:case e:Be=!0}}if(Be)return Be=$,be=be(Be),$=Re===""?"."+V(Be,0):Re,Q(be)?(ge="",$!=null&&(ge=$.replace(z,"$&/")+"/"),Ge(be,X,ge,"",function(ke){return ke})):be!=null&&(L(be)&&(be=R(be,ge+(!be.key||Be&&Be.key===be.key?"":(""+be.key).replace(z,"$&/")+"/")+$)),X.push(be)),1;if(Be=0,Re=Re===""?".":Re+":",Q($))for(var ze=0;ze<$.length;ze++){Ve=$[ze];var oe=Re+V(Ve,ze);Be+=Ge(Ve,X,ge,oe,be)}else if(oe=T($),typeof oe=="function")for($=oe.call($),ze=0;!(Ve=$.next()).done;)Ve=Ve.value,oe=Re+V(Ve,ze++),Be+=Ge(Ve,X,ge,oe,be);else if(Ve==="object")throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Be}function at($,X,ge){if($==null)return $;var Re=[],be=0;return Ge($,Re,"","",function(Ve){return X.call(ge,Ve,be++)}),Re}function Qe($){if($._status===-1){var X=$._result;X=X(),X.then(function(ge){($._status===0||$._status===-1)&&($._status=1,$._result=ge)},function(ge){($._status===0||$._status===-1)&&($._status=2,$._result=ge)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var Te={current:null},ne={transition:null},me={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:at,forEach:function($,X,ge){at($,function(){X.apply(this,arguments)},ge)},count:function($){var X=0;return at($,function(){X++}),X},toArray:function($){return at($,function(X){return X})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},De.Component=P,De.Fragment=n,De.Profiler=s,De.PureComponent=j,De.StrictMode=r,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,De.act=le,De.cloneElement=function($,X,ge){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Re=x({},$.props),be=$.key,Ve=$.ref,Be=$._owner;if(X!=null){if(X.ref!==void 0&&(Ve=X.ref,Be=Z.current),X.key!==void 0&&(be=""+X.key),$.type&&$.type.defaultProps)var ze=$.type.defaultProps;for(oe in X)Y.call(X,oe)&&!k.hasOwnProperty(oe)&&(Re[oe]=X[oe]===void 0&&ze!==void 0?ze[oe]:X[oe])}var oe=arguments.length-2;if(oe===1)Re.children=ge;else if(1<oe){ze=Array(oe);for(var ke=0;ke<oe;ke++)ze[ke]=arguments[ke+2];Re.children=ze}return{$$typeof:t,type:$.type,key:be,ref:Ve,props:Re,_owner:Be}},De.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},De.createElement=A,De.createFactory=function($){var X=A.bind(null,$);return X.type=$,X},De.createRef=function(){return{current:null}},De.forwardRef=function($){return{$$typeof:h,render:$}},De.isValidElement=L,De.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:Qe}},De.memo=function($,X){return{$$typeof:p,type:$,compare:X===void 0?null:X}},De.startTransition=function($){var X=ne.transition;ne.transition={};try{$()}finally{ne.transition=X}},De.unstable_act=le,De.useCallback=function($,X){return Te.current.useCallback($,X)},De.useContext=function($){return Te.current.useContext($)},De.useDebugValue=function(){},De.useDeferredValue=function($){return Te.current.useDeferredValue($)},De.useEffect=function($,X){return Te.current.useEffect($,X)},De.useId=function(){return Te.current.useId()},De.useImperativeHandle=function($,X,ge){return Te.current.useImperativeHandle($,X,ge)},De.useInsertionEffect=function($,X){return Te.current.useInsertionEffect($,X)},De.useLayoutEffect=function($,X){return Te.current.useLayoutEffect($,X)},De.useMemo=function($,X){return Te.current.useMemo($,X)},De.useReducer=function($,X,ge){return Te.current.useReducer($,X,ge)},De.useRef=function($){return Te.current.useRef($)},De.useState=function($){return Te.current.useState($)},De.useSyncExternalStore=function($,X,ge){return Te.current.useSyncExternalStore($,X,ge)},De.useTransition=function(){return Te.current.useTransition()},De.version="18.3.1",De}var D0;function jm(){return D0||(D0=1,hp.exports=KC()),hp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function qC(){if(V0)return Pl;V0=1;var t=jm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,d,p){var g,_={},T=null,S=null;p!==void 0&&(T=""+p),d.key!==void 0&&(T=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(_[g]=d[g]);if(h&&h.defaultProps)for(g in d=h.defaultProps,d)_[g]===void 0&&(_[g]=d[g]);return{$$typeof:e,type:h,key:T,ref:S,props:_,_owner:s.current}}return Pl.Fragment=n,Pl.jsx=l,Pl.jsxs=l,Pl}var L0;function GC(){return L0||(L0=1,cp.exports=qC()),cp.exports}var E=GC(),O=jm();const We=WC(O);var Jc={},dp={exports:{}},mn={},fp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function QC(){return O0||(O0=1,function(t){function e(ne,me){var le=ne.length;ne.push(me);e:for(;0<le;){var $=le-1>>>1,X=ne[$];if(0<s(X,me))ne[$]=me,ne[le]=X,le=$;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],le=ne.pop();if(le!==me){ne[0]=le;e:for(var $=0,X=ne.length,ge=X>>>1;$<ge;){var Re=2*($+1)-1,be=ne[Re],Ve=Re+1,Be=ne[Ve];if(0>s(be,le))Ve<X&&0>s(Be,be)?(ne[$]=Be,ne[Ve]=le,$=Ve):(ne[$]=be,ne[Re]=le,$=Re);else if(Ve<X&&0>s(Be,le))ne[$]=Be,ne[Ve]=le,$=Ve;else break e}}return me}function s(ne,me){var le=ne.sortIndex-me.sortIndex;return le!==0?le:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],p=[],g=1,_=null,T=3,S=!1,x=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(ne){for(var me=n(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ne)r(p),me.sortIndex=me.expirationTime,e(d,me);else break;me=n(p)}}function Q(ne){if(D=!1,U(ne),!x)if(n(d)!==null)x=!0,Qe(Y);else{var me=n(p);me!==null&&Te(Q,me.startTime-ne)}}function Y(ne,me){x=!1,D&&(D=!1,N(A),A=-1),S=!0;var le=T;try{for(U(me),_=n(d);_!==null&&(!(_.expirationTime>me)||ne&&!F());){var $=_.callback;if(typeof $=="function"){_.callback=null,T=_.priorityLevel;var X=$(_.expirationTime<=me);me=t.unstable_now(),typeof X=="function"?_.callback=X:_===n(d)&&r(d),U(me)}else r(d);_=n(d)}if(_!==null)var ge=!0;else{var Re=n(p);Re!==null&&Te(Q,Re.startTime-me),ge=!1}return ge}finally{_=null,T=le,S=!1}}var Z=!1,k=null,A=-1,R=5,L=-1;function F(){return!(t.unstable_now()-L<R)}function z(){if(k!==null){var ne=t.unstable_now();L=ne;var me=!0;try{me=k(!0,ne)}finally{me?V():(Z=!1,k=null)}}else Z=!1}var V;if(typeof j=="function")V=function(){j(z)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,at=Ge.port2;Ge.port1.onmessage=z,V=function(){at.postMessage(null)}}else V=function(){P(z,0)};function Qe(ne){k=ne,Z||(Z=!0,V())}function Te(ne,me){A=P(function(){ne(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){x||S||(x=!0,Qe(Y))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var le=T;T=me;try{return ne()}finally{T=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=T;T=ne;try{return me()}finally{T=le}},t.unstable_scheduleCallback=function(ne,me,le){var $=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?$+le:$):le=$,ne){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,ne={id:g++,callback:me,priorityLevel:ne,startTime:le,expirationTime:X,sortIndex:-1},le>$?(ne.sortIndex=le,e(p,ne),n(d)===null&&ne===n(p)&&(D?(N(A),A=-1):D=!0,Te(Q,le-$))):(ne.sortIndex=X,e(d,ne),x||S||(x=!0,Qe(Y))),ne},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ne){var me=T;return function(){var le=T;T=me;try{return ne.apply(this,arguments)}finally{T=le}}}}(pp)),pp}var M0;function YC(){return M0||(M0=1,fp.exports=QC()),fp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function XC(){if(j0)return mn;j0=1;var t=jm(),e=YC();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(i){return d.call(_,i)?!0:d.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function S(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,o,u,f){if(o===null||typeof o>"u"||S(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,u,f,m,v,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=I}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];P[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(N,j);P[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(N,j);P[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(N,j);P[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function U(i,o,u,f){var m=P.hasOwnProperty(o)?P[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,u,m,f)&&(u=null),f||m===null?T(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),Z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),at=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,$;function X(i){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var ge=!1;function Re(i,o){if(!i||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var f=q}Reflect.construct(i,[],o)}else{try{o.call()}catch(q){f=q}i.call(o.prototype)}else{try{throw Error()}catch(q){f=q}i()}}catch(q){if(q&&f&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),v=f.stack.split(`
`),I=m.length-1,b=v.length-1;1<=I&&0<=b&&m[I]!==v[b];)b--;for(;1<=I&&0<=b;I--,b--)if(m[I]!==v[b]){if(I!==1||b!==1)do if(I--,b--,0>b||m[I]!==v[b]){var M=`
`+m[I].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=I&&0<=b);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?X(i):""}function be(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case Z:return"Portal";case R:return"Profiler";case A:return"StrictMode";case V:return"Suspense";case Ge:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case at:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case Qe:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function Be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ze(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(i){var o=oe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ye(i){i._valueTracker||(i._valueTracker=ke(i))}function Rn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=oe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function on(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function an(i,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Lr(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=ze(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function di(i,o){o=o.checked,o!=null&&U(i,"checked",o,!1)}function Va(i,o){di(i,o);var u=ze(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ro(i,o.type,u):o.hasOwnProperty("defaultValue")&&ro(i,o.type,ze(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ou(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function ro(i,o,u){(o!=="number"||on(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Or=Array.isArray;function Mr(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+ze(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function La(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function io(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Or(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ze(u)}}function so(i,o){var u=ze(o.value),f=ze(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Oa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Tt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Tt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var jr,Ma=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=jr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function fi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(i){hs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),cs[o]=cs[i]})});function ja(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||cs.hasOwnProperty(i)&&cs[i]?(""+o).trim():o+"px"}function Fa(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=ja(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Ua=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(i,o){if(o){if(Ua[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function za(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=null;function oo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ao=null,kn=null,fr=null;function lo(i){if(i=dl(i)){if(typeof ao!="function")throw Error(n(280));var o=i.stateNode;o&&(o=dc(o),ao(i.stateNode,i.type,o))}}function pr(i){kn?fr?fr.push(i):fr=[i]:kn=i}function $a(){if(kn){var i=kn,o=fr;if(fr=kn=null,lo(i),o)for(i=0;i<o.length;i++)lo(o[i])}}function fs(i,o){return i(o)}function Ha(){}var Fr=!1;function Wa(i,o,u){if(Fr)return i(o,u);Fr=!0;try{return fs(i,o,u)}finally{Fr=!1,(kn!==null||fr!==null)&&(Ha(),$a())}}function pt(i,o){var u=i.stateNode;if(u===null)return null;var f=dc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var uo=!1;if(h)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{uo=!1}function ps(i,o,u,f,m,v,I,b,M){var q=Array.prototype.slice.call(arguments,3);try{o.apply(u,q)}catch(te){this.onError(te)}}var ms=!1,co=null,Wn=!1,Ka=null,Md={onError:function(i){ms=!0,co=i}};function ho(i,o,u,f,m,v,I,b,M){ms=!1,co=null,ps.apply(Md,arguments)}function Mu(i,o,u,f,m,v,I,b,M){if(ho.apply(this,arguments),ms){if(ms){var q=co;ms=!1,co=null}else throw Error(n(198));Wn||(Wn=!0,Ka=q)}}function Kn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function gs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function qn(i){if(Kn(i)!==i)throw Error(n(188))}function ju(i){var o=i.alternate;if(!o){if(o=Kn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return qn(m),i;if(v===f)return qn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var I=!1,b=m.child;b;){if(b===u){I=!0,u=m,f=v;break}if(b===f){I=!0,f=m,u=v;break}b=b.sibling}if(!I){for(b=v.child;b;){if(b===u){I=!0,u=v,f=m;break}if(b===f){I=!0,f=v,u=m;break}b=b.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function qa(i){return i=ju(i),i!==null?fo(i):null}function fo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=fo(i);if(o!==null)return o;i=i.sibling}return null}var po=e.unstable_scheduleCallback,Ga=e.unstable_cancelCallback,Fu=e.unstable_shouldYield,jd=e.unstable_requestPaint,Je=e.unstable_now,Uu=e.unstable_getCurrentPriorityLevel,ys=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,bn=e.unstable_NormalPriority,Qa=e.unstable_LowPriority,Bu=e.unstable_IdlePriority,vs=null,_n=null;function zu(i){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(vs,i,void 0,(i.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Hu,Ya=Math.log,$u=Math.LN2;function Hu(i){return i>>>=0,i===0?32:31-(Ya(i)/$u|0)|0}var mo=64,go=4194304;function mi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function _s(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,I=u&268435455;if(I!==0){var b=I&~m;b!==0?f=mi(b):(v&=I,v!==0&&(f=mi(v)))}else I=u&~m,I!==0?f=mi(I):v!==0&&(f=mi(v));if(f===0)return 0;if(o!==0&&o!==f&&!(o&m)&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(f&4&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-Zt(o),m=1<<u,f|=i[u],o&=~m;return f}function Fd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var I=31-Zt(v),b=1<<I,M=m[I];M===-1?(!(b&u)||b&f)&&(m[I]=Fd(b,o)):M<=o&&(i.expiredLanes|=b),v&=~b}}function wn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ws(){var i=mo;return mo<<=1,!(mo&4194240)&&(mo=64),i}function gi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function yi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zt(o),i[o]=u}function Xe(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-Zt(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function vi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-Zt(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Me=0;function _i(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Wu,yo,Ku,qu,Gu,Xa=!1,mr=[],Lt=null,Gn=null,Qn=null,wi=new Map,Nn=new Map,gr=[],Ud="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qu(i,o){switch(i){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":wi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(o.pointerId)}}function ln(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=dl(o),o!==null&&yo(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Bd(i,o,u,f,m){switch(o){case"focusin":return Lt=ln(Lt,i,o,u,f,m),!0;case"dragenter":return Gn=ln(Gn,i,o,u,f,m),!0;case"mouseover":return Qn=ln(Qn,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return wi.set(v,ln(wi.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Nn.set(v,ln(Nn.get(v)||null,i,o,u,f,m)),!0}return!1}function Yu(i){var o=As(i.target);if(o!==null){var u=Kn(o);if(u!==null){if(o=u.tag,o===13){if(o=gs(u),o!==null){i.blockedOn=o,Gu(i.priority,function(){Ku(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Br(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=vo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ds=f,u.target.dispatchEvent(f),ds=null}else return o=dl(u),o!==null&&yo(o),i.blockedOn=u,!1;o.shift()}return!0}function Ts(i,o,u){Br(i)&&u.delete(o)}function Xu(){Xa=!1,Lt!==null&&Br(Lt)&&(Lt=null),Gn!==null&&Br(Gn)&&(Gn=null),Qn!==null&&Br(Qn)&&(Qn=null),wi.forEach(Ts),Nn.forEach(Ts)}function Yn(i,o){i.blockedOn===o&&(i.blockedOn=null,Xa||(Xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xu)))}function Xn(i){function o(m){return Yn(m,i)}if(0<mr.length){Yn(mr[0],i);for(var u=1;u<mr.length;u++){var f=mr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Lt!==null&&Yn(Lt,i),Gn!==null&&Yn(Gn,i),Qn!==null&&Yn(Qn,i),wi.forEach(o),Nn.forEach(o),u=0;u<gr.length;u++)f=gr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<gr.length&&(u=gr[0],u.blockedOn===null);)Yu(u),u.blockedOn===null&&gr.shift()}var zr=Q.ReactCurrentBatchConfig,Ti=!0;function rt(i,o,u,f){var m=Me,v=zr.transition;zr.transition=null;try{Me=1,Ja(i,o,u,f)}finally{Me=m,zr.transition=v}}function zd(i,o,u,f){var m=Me,v=zr.transition;zr.transition=null;try{Me=4,Ja(i,o,u,f)}finally{Me=m,zr.transition=v}}function Ja(i,o,u,f){if(Ti){var m=vo(i,o,u,f);if(m===null)Zd(i,o,f,Es,u),Qu(i,f);else if(Bd(m,i,o,u,f))f.stopPropagation();else if(Qu(i,f),o&4&&-1<Ud.indexOf(i)){for(;m!==null;){var v=dl(m);if(v!==null&&Wu(v),v=vo(i,o,u,f),v===null&&Zd(i,o,f,Es,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else Zd(i,o,f,null,u)}}var Es=null;function vo(i,o,u,f){if(Es=null,i=oo(f),i=As(i),i!==null)if(o=Kn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=gs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Es=i,null}function Za(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uu()){case ys:return 1;case pi:return 4;case bn:case Qa:return 16;case Bu:return 536870912;default:return 16}default:return 16}}var Tn=null,_o=null,un=null;function el(){if(un)return un;var i,o=_o,u=o.length,f,m="value"in Tn?Tn.value:Tn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var I=u-i;for(f=1;f<=I&&o[u-f]===m[v-f];f++);return un=m.slice(i,1<f?1-f:void 0)}function wo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function yr(){return!0}function tl(){return!1}function Ot(i){function o(u,f,m,v,I){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(u=i[b],this[b]=u?u(v):v[b]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?yr:tl,this.isPropagationStopped=tl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),o}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Ot(Jn),vr=le({},Jn,{view:0,detail:0}),$d=Ot(vr),Eo,$r,Ei,Is=le({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ei&&(Ei&&i.type==="mousemove"?(Eo=i.screenX-Ei.screenX,$r=i.screenY-Ei.screenY):$r=Eo=0,Ei=i),Eo)},movementY:function(i){return"movementY"in i?i.movementY:$r}}),Io=Ot(Is),nl=le({},Is,{dataTransfer:0}),Ju=Ot(nl),So=le({},vr,{relatedTarget:0}),Ao=Ot(So),Zu=le({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Ot(Zu),ec=le({},Jn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tc=Ot(ec),nc=le({},Jn,{data:0}),rl=Ot(nc),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=rc[i])?!!o[i]:!1}function _r(){return ic}var c=le({},vr,{key:function(i){if(i.key){var o=Co[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=wo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?en[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(i){return i.type==="keypress"?wo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Ot(c),w=le({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Ot(w),H=le({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),G=Ot(H),ae=le({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Ot(ae),It=le({},Is,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Ot(It),kt=[9,13,27,32],vt=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var En=h&&"TextEvent"in window&&!Dn,Ss=h&&(!vt||Dn&&8<Dn&&11>=Dn),Po=" ",Iy=!1;function Sy(i,o){switch(i){case"keyup":return kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xo=!1;function zA(i,o){switch(i){case"compositionend":return Ay(o);case"keypress":return o.which!==32?null:(Iy=!0,Po);case"textInput":return i=o.data,i===Po&&Iy?null:i;default:return null}}function $A(i,o){if(xo)return i==="compositionend"||!vt&&Sy(i,o)?(i=el(),un=_o=Tn=null,xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ss&&o.locale!=="ko"?null:o.data;default:return null}}var HA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!HA[i.type]:o==="textarea"}function Py(i,o,u,f){pr(f),o=uc(o,"onChange"),0<o.length&&(u=new To("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var il=null,sl=null;function WA(i){Wy(i,0)}function sc(i){var o=Do(i);if(Rn(o))return i}function KA(i,o){if(i==="change")return o}var xy=!1;if(h){var Hd;if(h){var Wd="oninput"in document;if(!Wd){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),Wd=typeof Ry.oninput=="function"}Hd=Wd}else Hd=!1;xy=Hd&&(!document.documentMode||9<document.documentMode)}function ky(){il&&(il.detachEvent("onpropertychange",by),sl=il=null)}function by(i){if(i.propertyName==="value"&&sc(sl)){var o=[];Py(o,sl,i,oo(i)),Wa(WA,o)}}function qA(i,o,u){i==="focusin"?(ky(),il=o,sl=u,il.attachEvent("onpropertychange",by)):i==="focusout"&&ky()}function GA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sc(sl)}function QA(i,o){if(i==="click")return sc(o)}function YA(i,o){if(i==="input"||i==="change")return sc(o)}function XA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zn=typeof Object.is=="function"?Object.is:XA;function ol(i,o){if(Zn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!Zn(i[m],o[m]))return!1}return!0}function Ny(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dy(i,o){var u=Ny(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ny(u)}}function Vy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Vy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Ly(){for(var i=window,o=on();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=on(i.document)}return o}function Kd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function JA(i){var o=Ly(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Vy(u.ownerDocument.documentElement,u)){if(f!==null&&Kd(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=Dy(u,v);var I=Dy(u,f);m&&I&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ZA=h&&"documentMode"in document&&11>=document.documentMode,Ro=null,qd=null,al=null,Gd=!1;function Oy(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gd||Ro==null||Ro!==on(f)||(f=Ro,"selectionStart"in f&&Kd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),al&&ol(al,f)||(al=f,f=uc(qd,"onSelect"),0<f.length&&(o=new To("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Ro)))}function oc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ko={animationend:oc("Animation","AnimationEnd"),animationiteration:oc("Animation","AnimationIteration"),animationstart:oc("Animation","AnimationStart"),transitionend:oc("Transition","TransitionEnd")},Qd={},My={};h&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function ac(i){if(Qd[i])return Qd[i];if(!ko[i])return i;var o=ko[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in My)return Qd[i]=o[u];return i}var jy=ac("animationend"),Fy=ac("animationiteration"),Uy=ac("animationstart"),By=ac("transitionend"),zy=new Map,$y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(i,o){zy.set(i,o),a(o,[i])}for(var Yd=0;Yd<$y.length;Yd++){var Xd=$y[Yd],eC=Xd.toLowerCase(),tC=Xd[0].toUpperCase()+Xd.slice(1);Ii(eC,"on"+tC)}Ii(jy,"onAnimationEnd"),Ii(Fy,"onAnimationIteration"),Ii(Uy,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(By,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Hy(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Mu(f,o,void 0,i),i.currentTarget=null}function Wy(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var I=f.length-1;0<=I;I--){var b=f[I],M=b.instance,q=b.currentTarget;if(b=b.listener,M!==v&&m.isPropagationStopped())break e;Hy(m,b,q),v=M}else for(I=0;I<f.length;I++){if(b=f[I],M=b.instance,q=b.currentTarget,b=b.listener,M!==v&&m.isPropagationStopped())break e;Hy(m,b,q),v=M}}}if(Wn)throw i=Ka,Wn=!1,Ka=null,i}function tt(i,o){var u=o[of];u===void 0&&(u=o[of]=new Set);var f=i+"__bubble";u.has(f)||(Ky(o,i,2,!1),u.add(f))}function Jd(i,o,u){var f=0;o&&(f|=4),Ky(u,i,f,o)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ul(i){if(!i[lc]){i[lc]=!0,r.forEach(function(u){u!=="selectionchange"&&(nC.has(u)||Jd(u,!1,i),Jd(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[lc]||(o[lc]=!0,Jd("selectionchange",!1,o))}}function Ky(i,o,u,f){switch(Za(o)){case 1:var m=rt;break;case 4:m=zd;break;default:m=Ja}u=m.bind(null,o,u,i),m=void 0,!uo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Zd(i,o,u,f,m){var v=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var b=f.stateNode.containerInfo;if(b===m||b.nodeType===8&&b.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var M=I.tag;if((M===3||M===4)&&(M=I.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;I=I.return}for(;b!==null;){if(I=As(b),I===null)return;if(M=I.tag,M===5||M===6){f=v=I;continue e}b=b.parentNode}}f=f.return}Wa(function(){var q=v,te=oo(u),ie=[];e:{var ee=zy.get(i);if(ee!==void 0){var ue=To,de=i;switch(i){case"keypress":if(wo(u)===0)break e;case"keydown":case"keyup":ue=y;break;case"focusin":de="focus",ue=Ao;break;case"focusout":de="blur",ue=Ao;break;case"beforeblur":case"afterblur":ue=Ao;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case jy:case Fy:case Uy:ue=Hr;break;case By:ue=qe;break;case"scroll":ue=$d;break;case"wheel":ue=Fe;break;case"copy":case"cut":case"paste":ue=tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=C}var fe=(o&4)!==0,mt=!fe&&i==="scroll",W=fe?ee!==null?ee+"Capture":null:ee;fe=[];for(var B=q,K;B!==null;){K=B;var se=K.stateNode;if(K.tag===5&&se!==null&&(K=se,W!==null&&(se=pt(B,W),se!=null&&fe.push(cl(B,se,K)))),mt)break;B=B.return}0<fe.length&&(ee=new ue(ee,de,null,u,te),ie.push({event:ee,listeners:fe}))}}if(!(o&7)){e:{if(ee=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ee&&u!==ds&&(de=u.relatedTarget||u.fromElement)&&(As(de)||de[Wr]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=q,de=de?As(de):null,de!==null&&(mt=Kn(de),de!==mt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=q),ue!==de)){if(fe=Io,se="onMouseLeave",W="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(fe=C,se="onPointerLeave",W="onPointerEnter",B="pointer"),mt=ue==null?ee:Do(ue),K=de==null?ee:Do(de),ee=new fe(se,B+"leave",ue,u,te),ee.target=mt,ee.relatedTarget=K,se=null,As(te)===q&&(fe=new fe(W,B+"enter",de,u,te),fe.target=K,fe.relatedTarget=mt,se=fe),mt=se,ue&&de)t:{for(fe=ue,W=de,B=0,K=fe;K;K=bo(K))B++;for(K=0,se=W;se;se=bo(se))K++;for(;0<B-K;)fe=bo(fe),B--;for(;0<K-B;)W=bo(W),K--;for(;B--;){if(fe===W||W!==null&&fe===W.alternate)break t;fe=bo(fe),W=bo(W)}fe=null}else fe=null;ue!==null&&qy(ie,ee,ue,fe,!1),de!==null&&mt!==null&&qy(ie,mt,de,fe,!0)}}e:{if(ee=q?Do(q):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var pe=KA;else if(Cy(ee))if(xy)pe=YA;else{pe=GA;var ve=qA}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(pe=QA);if(pe&&(pe=pe(i,q))){Py(ie,pe,u,te);break e}ve&&ve(i,ee,q),i==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&ro(ee,"number",ee.value)}switch(ve=q?Do(q):window,i){case"focusin":(Cy(ve)||ve.contentEditable==="true")&&(Ro=ve,qd=q,al=null);break;case"focusout":al=qd=Ro=null;break;case"mousedown":Gd=!0;break;case"contextmenu":case"mouseup":case"dragend":Gd=!1,Oy(ie,u,te);break;case"selectionchange":if(ZA)break;case"keydown":case"keyup":Oy(ie,u,te)}var _e;if(vt)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else xo?Sy(i,u)&&(Ae="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ss&&u.locale!=="ko"&&(xo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&xo&&(_e=el()):(Tn=te,_o="value"in Tn?Tn.value:Tn.textContent,xo=!0)),ve=uc(q,Ae),0<ve.length&&(Ae=new rl(Ae,i,null,u,te),ie.push({event:Ae,listeners:ve}),_e?Ae.data=_e:(_e=Ay(u),_e!==null&&(Ae.data=_e)))),(_e=En?zA(i,u):$A(i,u))&&(q=uc(q,"onBeforeInput"),0<q.length&&(te=new rl("onBeforeInput","beforeinput",null,u,te),ie.push({event:te,listeners:q}),te.data=_e))}Wy(ie,o)})}function cl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function uc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=pt(i,u),v!=null&&f.unshift(cl(i,v,m)),v=pt(i,o),v!=null&&f.push(cl(i,v,m))),i=i.return}return f}function bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function qy(i,o,u,f,m){for(var v=o._reactName,I=[];u!==null&&u!==f;){var b=u,M=b.alternate,q=b.stateNode;if(M!==null&&M===f)break;b.tag===5&&q!==null&&(b=q,m?(M=pt(u,v),M!=null&&I.unshift(cl(u,M,b))):m||(M=pt(u,v),M!=null&&I.push(cl(u,M,b)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var rC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function Gy(i){return(typeof i=="string"?i:""+i).replace(rC,`
`).replace(iC,"")}function cc(i,o,u){if(o=Gy(o),Gy(i)!==o&&u)throw Error(n(425))}function hc(){}var ef=null,tf=null;function nf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(i){return Qy.resolve(null).then(i).catch(aC)}:rf;function aC(i){setTimeout(function(){throw i})}function sf(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Xn(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Xn(o)}function Si(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Yy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var No=Math.random().toString(36).slice(2),wr="__reactFiber$"+No,hl="__reactProps$"+No,Wr="__reactContainer$"+No,of="__reactEvents$"+No,lC="__reactListeners$"+No,uC="__reactHandles$"+No;function As(i){var o=i[wr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Wr]||u[wr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Yy(i);i!==null;){if(u=i[wr])return u;i=Yy(i)}return o}i=u,u=i.parentNode}return null}function dl(i){return i=i[wr]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Do(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function dc(i){return i[hl]||null}var af=[],Vo=-1;function Ai(i){return{current:i}}function nt(i){0>Vo||(i.current=af[Vo],af[Vo]=null,Vo--)}function Ze(i,o){Vo++,af[Vo]=i.current,i.current=o}var Ci={},$t=Ai(Ci),cn=Ai(!1),Cs=Ci;function Lo(i,o){var u=i.type.contextTypes;if(!u)return Ci;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function hn(i){return i=i.childContextTypes,i!=null}function fc(){nt(cn),nt($t)}function Xy(i,o,u){if($t.current!==Ci)throw Error(n(168));Ze($t,o),Ze(cn,u)}function Jy(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,Be(i)||"Unknown",m));return le({},u,f)}function pc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ci,Cs=$t.current,Ze($t,i),Ze(cn,cn.current),!0}function Zy(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=Jy(i,o,Cs),f.__reactInternalMemoizedMergedChildContext=i,nt(cn),nt($t),Ze($t,i)):nt(cn),Ze(cn,u)}var Kr=null,mc=!1,lf=!1;function ev(i){Kr===null?Kr=[i]:Kr.push(i)}function cC(i){mc=!0,ev(i)}function Pi(){if(!lf&&Kr!==null){lf=!0;var i=0,o=Me;try{var u=Kr;for(Me=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Kr=null,mc=!1}catch(m){throw Kr!==null&&(Kr=Kr.slice(i+1)),po(ys,Pi),m}finally{Me=o,lf=!1}}return null}var Oo=[],Mo=0,gc=null,yc=0,Vn=[],Ln=0,Ps=null,qr=1,Gr="";function xs(i,o){Oo[Mo++]=yc,Oo[Mo++]=gc,gc=i,yc=o}function tv(i,o,u){Vn[Ln++]=qr,Vn[Ln++]=Gr,Vn[Ln++]=Ps,Ps=i;var f=qr;i=Gr;var m=32-Zt(f)-1;f&=~(1<<m),u+=1;var v=32-Zt(o)+m;if(30<v){var I=m-m%5;v=(f&(1<<I)-1).toString(32),f>>=I,m-=I,qr=1<<32-Zt(o)+m|u<<m|f,Gr=v+i}else qr=1<<v|u<<m|f,Gr=i}function uf(i){i.return!==null&&(xs(i,1),tv(i,1,0))}function cf(i){for(;i===gc;)gc=Oo[--Mo],Oo[Mo]=null,yc=Oo[--Mo],Oo[Mo]=null;for(;i===Ps;)Ps=Vn[--Ln],Vn[Ln]=null,Gr=Vn[--Ln],Vn[Ln]=null,qr=Vn[--Ln],Vn[Ln]=null}var In=null,Sn=null,it=!1,er=null;function nv(i,o){var u=Fn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function rv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,In=i,Sn=Si(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,In=i,Sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ps!==null?{id:qr,overflow:Gr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Fn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,In=i,Sn=null,!0):!1;default:return!1}}function hf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function df(i){if(it){var o=Sn;if(o){var u=o;if(!rv(i,o)){if(hf(i))throw Error(n(418));o=Si(u.nextSibling);var f=In;o&&rv(i,o)?nv(f,u):(i.flags=i.flags&-4097|2,it=!1,In=i)}}else{if(hf(i))throw Error(n(418));i.flags=i.flags&-4097|2,it=!1,In=i}}}function iv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;In=i}function vc(i){if(i!==In)return!1;if(!it)return iv(i),it=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!nf(i.type,i.memoizedProps)),o&&(o=Sn)){if(hf(i))throw sv(),Error(n(418));for(;o;)nv(i,o),o=Si(o.nextSibling)}if(iv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Sn=Si(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Sn=null}}else Sn=In?Si(i.stateNode.nextSibling):null;return!0}function sv(){for(var i=Sn;i;)i=Si(i.nextSibling)}function jo(){Sn=In=null,it=!1}function ff(i){er===null?er=[i]:er.push(i)}var hC=Q.ReactCurrentBatchConfig;function fl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(I){var b=m.refs;I===null?delete b[v]:b[v]=I},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function _c(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function ov(i){var o=i._init;return o(i._payload)}function av(i){function o(W,B){if(i){var K=W.deletions;K===null?(W.deletions=[B],W.flags|=16):K.push(B)}}function u(W,B){if(!i)return null;for(;B!==null;)o(W,B),B=B.sibling;return null}function f(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function m(W,B){return W=Li(W,B),W.index=0,W.sibling=null,W}function v(W,B,K){return W.index=K,i?(K=W.alternate,K!==null?(K=K.index,K<B?(W.flags|=2,B):K):(W.flags|=2,B)):(W.flags|=1048576,B)}function I(W){return i&&W.alternate===null&&(W.flags|=2),W}function b(W,B,K,se){return B===null||B.tag!==6?(B=ip(K,W.mode,se),B.return=W,B):(B=m(B,K),B.return=W,B)}function M(W,B,K,se){var pe=K.type;return pe===k?te(W,B,K.props.children,se,K.key):B!==null&&(B.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Qe&&ov(pe)===B.type)?(se=m(B,K.props),se.ref=fl(W,B,K),se.return=W,se):(se=$c(K.type,K.key,K.props,null,W.mode,se),se.ref=fl(W,B,K),se.return=W,se)}function q(W,B,K,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=sp(K,W.mode,se),B.return=W,B):(B=m(B,K.children||[]),B.return=W,B)}function te(W,B,K,se,pe){return B===null||B.tag!==7?(B=Os(K,W.mode,se,pe),B.return=W,B):(B=m(B,K),B.return=W,B)}function ie(W,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=ip(""+B,W.mode,K),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Y:return K=$c(B.type,B.key,B.props,null,W.mode,K),K.ref=fl(W,null,B),K.return=W,K;case Z:return B=sp(B,W.mode,K),B.return=W,B;case Qe:var se=B._init;return ie(W,se(B._payload),K)}if(Or(B)||me(B))return B=Os(B,W.mode,K,null),B.return=W,B;_c(W,B)}return null}function ee(W,B,K,se){var pe=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return pe!==null?null:b(W,B,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return K.key===pe?M(W,B,K,se):null;case Z:return K.key===pe?q(W,B,K,se):null;case Qe:return pe=K._init,ee(W,B,pe(K._payload),se)}if(Or(K)||me(K))return pe!==null?null:te(W,B,K,se,null);_c(W,K)}return null}function ue(W,B,K,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number")return W=W.get(K)||null,b(B,W,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Y:return W=W.get(se.key===null?K:se.key)||null,M(B,W,se,pe);case Z:return W=W.get(se.key===null?K:se.key)||null,q(B,W,se,pe);case Qe:var ve=se._init;return ue(W,B,K,ve(se._payload),pe)}if(Or(se)||me(se))return W=W.get(K)||null,te(B,W,se,pe,null);_c(B,se)}return null}function de(W,B,K,se){for(var pe=null,ve=null,_e=B,Ae=B=0,Dt=null;_e!==null&&Ae<K.length;Ae++){_e.index>Ae?(Dt=_e,_e=null):Dt=_e.sibling;var He=ee(W,_e,K[Ae],se);if(He===null){_e===null&&(_e=Dt);break}i&&_e&&He.alternate===null&&o(W,_e),B=v(He,B,Ae),ve===null?pe=He:ve.sibling=He,ve=He,_e=Dt}if(Ae===K.length)return u(W,_e),it&&xs(W,Ae),pe;if(_e===null){for(;Ae<K.length;Ae++)_e=ie(W,K[Ae],se),_e!==null&&(B=v(_e,B,Ae),ve===null?pe=_e:ve.sibling=_e,ve=_e);return it&&xs(W,Ae),pe}for(_e=f(W,_e);Ae<K.length;Ae++)Dt=ue(_e,W,Ae,K[Ae],se),Dt!==null&&(i&&Dt.alternate!==null&&_e.delete(Dt.key===null?Ae:Dt.key),B=v(Dt,B,Ae),ve===null?pe=Dt:ve.sibling=Dt,ve=Dt);return i&&_e.forEach(function(Oi){return o(W,Oi)}),it&&xs(W,Ae),pe}function fe(W,B,K,se){var pe=me(K);if(typeof pe!="function")throw Error(n(150));if(K=pe.call(K),K==null)throw Error(n(151));for(var ve=pe=null,_e=B,Ae=B=0,Dt=null,He=K.next();_e!==null&&!He.done;Ae++,He=K.next()){_e.index>Ae?(Dt=_e,_e=null):Dt=_e.sibling;var Oi=ee(W,_e,He.value,se);if(Oi===null){_e===null&&(_e=Dt);break}i&&_e&&Oi.alternate===null&&o(W,_e),B=v(Oi,B,Ae),ve===null?pe=Oi:ve.sibling=Oi,ve=Oi,_e=Dt}if(He.done)return u(W,_e),it&&xs(W,Ae),pe;if(_e===null){for(;!He.done;Ae++,He=K.next())He=ie(W,He.value,se),He!==null&&(B=v(He,B,Ae),ve===null?pe=He:ve.sibling=He,ve=He);return it&&xs(W,Ae),pe}for(_e=f(W,_e);!He.done;Ae++,He=K.next())He=ue(_e,W,Ae,He.value,se),He!==null&&(i&&He.alternate!==null&&_e.delete(He.key===null?Ae:He.key),B=v(He,B,Ae),ve===null?pe=He:ve.sibling=He,ve=He);return i&&_e.forEach(function(HC){return o(W,HC)}),it&&xs(W,Ae),pe}function mt(W,B,K,se){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:e:{for(var pe=K.key,ve=B;ve!==null;){if(ve.key===pe){if(pe=K.type,pe===k){if(ve.tag===7){u(W,ve.sibling),B=m(ve,K.props.children),B.return=W,W=B;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Qe&&ov(pe)===ve.type){u(W,ve.sibling),B=m(ve,K.props),B.ref=fl(W,ve,K),B.return=W,W=B;break e}u(W,ve);break}else o(W,ve);ve=ve.sibling}K.type===k?(B=Os(K.props.children,W.mode,se,K.key),B.return=W,W=B):(se=$c(K.type,K.key,K.props,null,W.mode,se),se.ref=fl(W,B,K),se.return=W,W=se)}return I(W);case Z:e:{for(ve=K.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){u(W,B.sibling),B=m(B,K.children||[]),B.return=W,W=B;break e}else{u(W,B);break}else o(W,B);B=B.sibling}B=sp(K,W.mode,se),B.return=W,W=B}return I(W);case Qe:return ve=K._init,mt(W,B,ve(K._payload),se)}if(Or(K))return de(W,B,K,se);if(me(K))return fe(W,B,K,se);_c(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(u(W,B.sibling),B=m(B,K),B.return=W,W=B):(u(W,B),B=ip(K,W.mode,se),B.return=W,W=B),I(W)):u(W,B)}return mt}var Fo=av(!0),lv=av(!1),wc=Ai(null),Tc=null,Uo=null,pf=null;function mf(){pf=Uo=Tc=null}function gf(i){var o=wc.current;nt(wc),i._currentValue=o}function yf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Bo(i,o){Tc=i,pf=Uo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(dn=!0),i.firstContext=null)}function On(i){var o=i._currentValue;if(pf!==i)if(i={context:i,memoizedValue:o,next:null},Uo===null){if(Tc===null)throw Error(n(308));Uo=i,Tc.dependencies={lanes:0,firstContext:i}}else Uo=Uo.next=i;return o}var Rs=null;function vf(i){Rs===null?Rs=[i]:Rs.push(i)}function uv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,vf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Qr(i,f)}function Qr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var xi=!1;function _f(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Yr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,$e&2){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Qr(i,u)}return m=f.interleaved,m===null?(o.next=o,vf(f)):(o.next=m.next,m.next=o),f.interleaved=o,Qr(i,u)}function Ec(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,vi(i,u)}}function hv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Ic(i,o,u,f){var m=i.updateQueue;xi=!1;var v=m.firstBaseUpdate,I=m.lastBaseUpdate,b=m.shared.pending;if(b!==null){m.shared.pending=null;var M=b,q=M.next;M.next=null,I===null?v=q:I.next=q,I=M;var te=i.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==I&&(b===null?te.firstBaseUpdate=q:b.next=q,te.lastBaseUpdate=M))}if(v!==null){var ie=m.baseState;I=0,te=q=M=null,b=v;do{var ee=b.lane,ue=b.eventTime;if((f&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var de=i,fe=b;switch(ee=o,ue=u,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ie=de.call(ue,ie,ee);break e}ie=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,ee=typeof de=="function"?de.call(ue,ie,ee):de,ee==null)break e;ie=le({},ie,ee);break e;case 2:xi=!0}}b.callback!==null&&b.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[b]:ee.push(b))}else ue={eventTime:ue,lane:ee,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(q=te=ue,M=ie):te=te.next=ue,I|=ee;if(b=b.next,b===null){if(b=m.shared.pending,b===null)break;ee=b,b=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(M=ie),m.baseState=M,m.firstBaseUpdate=q,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ns|=I,i.lanes=I,i.memoizedState=ie}}function dv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var pl={},Tr=Ai(pl),ml=Ai(pl),gl=Ai(pl);function ks(i){if(i===pl)throw Error(n(174));return i}function wf(i,o){switch(Ze(gl,o),Ze(ml,i),Ze(Tr,pl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Et(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Et(o,i)}nt(Tr),Ze(Tr,o)}function zo(){nt(Tr),nt(ml),nt(gl)}function fv(i){ks(gl.current);var o=ks(Tr.current),u=Et(o,i.type);o!==u&&(Ze(ml,i),Ze(Tr,u))}function Tf(i){ml.current===i&&(nt(Tr),nt(ml))}var lt=Ai(0);function Sc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ef=[];function If(){for(var i=0;i<Ef.length;i++)Ef[i]._workInProgressVersionPrimary=null;Ef.length=0}var Ac=Q.ReactCurrentDispatcher,Sf=Q.ReactCurrentBatchConfig,bs=0,ut=null,St=null,bt=null,Cc=!1,yl=!1,vl=0,dC=0;function Ht(){throw Error(n(321))}function Af(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Zn(i[u],o[u]))return!1;return!0}function Cf(i,o,u,f,m,v){if(bs=v,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ac.current=i===null||i.memoizedState===null?gC:yC,i=u(f,m),yl){v=0;do{if(yl=!1,vl=0,25<=v)throw Error(n(301));v+=1,bt=St=null,o.updateQueue=null,Ac.current=vC,i=u(f,m)}while(yl)}if(Ac.current=Rc,o=St!==null&&St.next!==null,bs=0,bt=St=ut=null,Cc=!1,o)throw Error(n(300));return i}function Pf(){var i=vl!==0;return vl=0,i}function Er(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ut.memoizedState=bt=i:bt=bt.next=i,bt}function Mn(){if(St===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var o=bt===null?ut.memoizedState:bt.next;if(o!==null)bt=o,St=i;else{if(i===null)throw Error(n(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},bt===null?ut.memoizedState=bt=i:bt=bt.next=i}return bt}function _l(i,o){return typeof o=="function"?o(i):o}function xf(i){var o=Mn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=St,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var I=m.next;m.next=v.next,v.next=I}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var b=I=null,M=null,q=v;do{var te=q.lane;if((bs&te)===te)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),f=q.hasEagerState?q.eagerState:i(f,q.action);else{var ie={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(b=M=ie,I=f):M=M.next=ie,ut.lanes|=te,Ns|=te}q=q.next}while(q!==null&&q!==v);M===null?I=f:M.next=b,Zn(f,o.memoizedState)||(dn=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=M,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,ut.lanes|=v,Ns|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Rf(i){var o=Mn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do v=i(v,I.action),I=I.next;while(I!==m);Zn(v,o.memoizedState)||(dn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function pv(){}function mv(i,o){var u=ut,f=Mn(),m=o(),v=!Zn(f.memoizedState,m);if(v&&(f.memoizedState=m,dn=!0),f=f.queue,kf(vv.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,wl(9,yv.bind(null,u,f,m,o),void 0,null),Nt===null)throw Error(n(349));bs&30||gv(u,o,m)}return m}function gv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function yv(i,o,u,f){o.value=u,o.getSnapshot=f,_v(o)&&wv(i)}function vv(i,o,u){return u(function(){_v(o)&&wv(i)})}function _v(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Zn(i,u)}catch{return!0}}function wv(i){var o=Qr(i,1);o!==null&&ir(o,i,1,-1)}function Tv(i){var o=Er();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:i},o.queue=i,i=i.dispatch=mC.bind(null,ut,i),[o.memoizedState,i]}function wl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function Ev(){return Mn().memoizedState}function Pc(i,o,u,f){var m=Er();ut.flags|=i,m.memoizedState=wl(1|o,u,void 0,f===void 0?null:f)}function xc(i,o,u,f){var m=Mn();f=f===void 0?null:f;var v=void 0;if(St!==null){var I=St.memoizedState;if(v=I.destroy,f!==null&&Af(f,I.deps)){m.memoizedState=wl(o,u,v,f);return}}ut.flags|=i,m.memoizedState=wl(1|o,u,v,f)}function Iv(i,o){return Pc(8390656,8,i,o)}function kf(i,o){return xc(2048,8,i,o)}function Sv(i,o){return xc(4,2,i,o)}function Av(i,o){return xc(4,4,i,o)}function Cv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Pv(i,o,u){return u=u!=null?u.concat([i]):null,xc(4,4,Cv.bind(null,o,i),u)}function bf(){}function xv(i,o){var u=Mn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Af(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function Rv(i,o){var u=Mn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Af(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function kv(i,o,u){return bs&21?(Zn(u,o)||(u=ws(),ut.lanes|=u,Ns|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,dn=!0),i.memoizedState=u)}function fC(i,o){var u=Me;Me=u!==0&&4>u?u:4,i(!0);var f=Sf.transition;Sf.transition={};try{i(!1),o()}finally{Me=u,Sf.transition=f}}function bv(){return Mn().memoizedState}function pC(i,o,u){var f=Di(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Nv(i))Dv(o,u);else if(u=uv(i,o,u,f),u!==null){var m=nn();ir(u,i,f,m),Vv(u,o,f)}}function mC(i,o,u){var f=Di(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Nv(i))Dv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,b=v(I,u);if(m.hasEagerState=!0,m.eagerState=b,Zn(b,I)){var M=o.interleaved;M===null?(m.next=m,vf(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=uv(i,o,m,f),u!==null&&(m=nn(),ir(u,i,f,m),Vv(u,o,f))}}function Nv(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function Dv(i,o){yl=Cc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Vv(i,o,u){if(u&4194240){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,vi(i,u)}}var Rc={readContext:On,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},gC={readContext:On,useCallback:function(i,o){return Er().memoizedState=[i,o===void 0?null:o],i},useContext:On,useEffect:Iv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Pc(4194308,4,Cv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Pc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Pc(4,2,i,o)},useMemo:function(i,o){var u=Er();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Er();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=pC.bind(null,ut,i),[f.memoizedState,i]},useRef:function(i){var o=Er();return i={current:i},o.memoizedState=i},useState:Tv,useDebugValue:bf,useDeferredValue:function(i){return Er().memoizedState=i},useTransition:function(){var i=Tv(!1),o=i[0];return i=fC.bind(null,i[1]),Er().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ut,m=Er();if(it){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Nt===null)throw Error(n(349));bs&30||gv(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Iv(vv.bind(null,f,v,i),[i]),f.flags|=2048,wl(9,yv.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Er(),o=Nt.identifierPrefix;if(it){var u=Gr,f=qr;u=(f&~(1<<32-Zt(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=vl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=dC++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},yC={readContext:On,useCallback:xv,useContext:On,useEffect:kf,useImperativeHandle:Pv,useInsertionEffect:Sv,useLayoutEffect:Av,useMemo:Rv,useReducer:xf,useRef:Ev,useState:function(){return xf(_l)},useDebugValue:bf,useDeferredValue:function(i){var o=Mn();return kv(o,St.memoizedState,i)},useTransition:function(){var i=xf(_l)[0],o=Mn().memoizedState;return[i,o]},useMutableSource:pv,useSyncExternalStore:mv,useId:bv,unstable_isNewReconciler:!1},vC={readContext:On,useCallback:xv,useContext:On,useEffect:kf,useImperativeHandle:Pv,useInsertionEffect:Sv,useLayoutEffect:Av,useMemo:Rv,useReducer:Rf,useRef:Ev,useState:function(){return Rf(_l)},useDebugValue:bf,useDeferredValue:function(i){var o=Mn();return St===null?o.memoizedState=i:kv(o,St.memoizedState,i)},useTransition:function(){var i=Rf(_l)[0],o=Mn().memoizedState;return[i,o]},useMutableSource:pv,useSyncExternalStore:mv,useId:bv,unstable_isNewReconciler:!1};function tr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Nf(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:le({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var kc={isMounted:function(i){return(i=i._reactInternals)?Kn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=nn(),m=Di(i),v=Yr(f,m);v.payload=o,u!=null&&(v.callback=u),o=Ri(i,v,m),o!==null&&(ir(o,i,m,f),Ec(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=nn(),m=Di(i),v=Yr(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ri(i,v,m),o!==null&&(ir(o,i,m,f),Ec(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=nn(),f=Di(i),m=Yr(u,f);m.tag=2,o!=null&&(m.callback=o),o=Ri(i,m,f),o!==null&&(ir(o,i,f,u),Ec(o,i,f))}};function Lv(i,o,u,f,m,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,I):o.prototype&&o.prototype.isPureReactComponent?!ol(u,f)||!ol(m,v):!0}function Ov(i,o,u){var f=!1,m=Ci,v=o.contextType;return typeof v=="object"&&v!==null?v=On(v):(m=hn(o)?Cs:$t.current,f=o.contextTypes,v=(f=f!=null)?Lo(i,m):Ci),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=kc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Mv(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&kc.enqueueReplaceState(o,o.state,null)}function Df(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},_f(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=On(v):(v=hn(o)?Cs:$t.current,m.context=Lo(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Nf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&kc.enqueueReplaceState(m,m.state,null),Ic(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function $o(i,o){try{var u="",f=o;do u+=be(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Vf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Lf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var _C=typeof WeakMap=="function"?WeakMap:Map;function jv(i,o,u){u=Yr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Mc||(Mc=!0,Yf=f),Lf(i,o)},u}function Fv(i,o,u){u=Yr(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Lf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Lf(i,o),typeof f!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function Uv(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new _C;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=DC.bind(null,i,o,u),o.then(i,i))}function Bv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function zv(i,o,u,f,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Yr(-1,1),o.tag=2,Ri(u,o,1))),u.lanes|=1),i)}var wC=Q.ReactCurrentOwner,dn=!1;function tn(i,o,u,f){o.child=i===null?lv(o,null,u,f):Fo(o,i.child,u,f)}function $v(i,o,u,f,m){u=u.render;var v=o.ref;return Bo(o,m),f=Cf(i,o,u,f,v,m),u=Pf(),i!==null&&!dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Xr(i,o,m)):(it&&u&&uf(o),o.flags|=1,tn(i,o,f,m),o.child)}function Hv(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!rp(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Wv(i,o,v,f,m)):(i=$c(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:ol,u(I,f)&&i.ref===o.ref)return Xr(i,o,m)}return o.flags|=1,i=Li(v,f),i.ref=o.ref,i.return=o,o.child=i}function Wv(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(ol(v,f)&&i.ref===o.ref)if(dn=!1,o.pendingProps=f=v,(i.lanes&m)!==0)i.flags&131072&&(dn=!0);else return o.lanes=i.lanes,Xr(i,o,m)}return Of(i,o,u,f,m)}function Kv(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Wo,An),An|=u;else{if(!(u&1073741824))return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ze(Wo,An),An|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,Ze(Wo,An),An|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,Ze(Wo,An),An|=f;return tn(i,o,m,u),o.child}function qv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Of(i,o,u,f,m){var v=hn(u)?Cs:$t.current;return v=Lo(o,v),Bo(o,m),u=Cf(i,o,u,f,v,m),f=Pf(),i!==null&&!dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Xr(i,o,m)):(it&&f&&uf(o),o.flags|=1,tn(i,o,u,m),o.child)}function Gv(i,o,u,f,m){if(hn(u)){var v=!0;pc(o)}else v=!1;if(Bo(o,m),o.stateNode===null)Nc(i,o),Ov(o,u,f),Df(o,u,f,m),f=!0;else if(i===null){var I=o.stateNode,b=o.memoizedProps;I.props=b;var M=I.context,q=u.contextType;typeof q=="object"&&q!==null?q=On(q):(q=hn(u)?Cs:$t.current,q=Lo(o,q));var te=u.getDerivedStateFromProps,ie=typeof te=="function"||typeof I.getSnapshotBeforeUpdate=="function";ie||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(b!==f||M!==q)&&Mv(o,I,f,q),xi=!1;var ee=o.memoizedState;I.state=ee,Ic(o,f,I,m),M=o.memoizedState,b!==f||ee!==M||cn.current||xi?(typeof te=="function"&&(Nf(o,u,te,f),M=o.memoizedState),(b=xi||Lv(o,u,b,f,ee,M,q))?(ie||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=M),I.props=f,I.state=M,I.context=q,f=b):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,cv(i,o),b=o.memoizedProps,q=o.type===o.elementType?b:tr(o.type,b),I.props=q,ie=o.pendingProps,ee=I.context,M=u.contextType,typeof M=="object"&&M!==null?M=On(M):(M=hn(u)?Cs:$t.current,M=Lo(o,M));var ue=u.getDerivedStateFromProps;(te=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(b!==ie||ee!==M)&&Mv(o,I,f,M),xi=!1,ee=o.memoizedState,I.state=ee,Ic(o,f,I,m);var de=o.memoizedState;b!==ie||ee!==de||cn.current||xi?(typeof ue=="function"&&(Nf(o,u,ue,f),de=o.memoizedState),(q=xi||Lv(o,u,q,f,ee,de,M)||!1)?(te||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,de,M),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,de,M)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||b===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=de),I.props=f,I.state=de,I.context=M,f=q):(typeof I.componentDidUpdate!="function"||b===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),f=!1)}return Mf(i,o,u,f,v,m)}function Mf(i,o,u,f,m,v){qv(i,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&Zy(o,u,!1),Xr(i,o,v);f=o.stateNode,wC.current=o;var b=I&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&I?(o.child=Fo(o,i.child,null,v),o.child=Fo(o,null,b,v)):tn(i,o,b,v),o.memoizedState=f.state,m&&Zy(o,u,!0),o.child}function Qv(i){var o=i.stateNode;o.pendingContext?Xy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Xy(i,o.context,!1),wf(i,o.containerInfo)}function Yv(i,o,u,f,m){return jo(),ff(m),o.flags|=256,tn(i,o,u,f),o.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Ff(i){return{baseLanes:i,cachePool:null,transitions:null}}function Xv(i,o,u){var f=o.pendingProps,m=lt.current,v=!1,I=(o.flags&128)!==0,b;if((b=I)||(b=i!==null&&i.memoizedState===null?!1:(m&2)!==0),b?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ze(lt,m&1),i===null)return df(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(I=f.children,i=f.fallback,v?(f=o.mode,v=o.child,I={mode:"hidden",children:I},!(f&1)&&v!==null?(v.childLanes=0,v.pendingProps=I):v=Hc(I,f,0,null),i=Os(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Ff(u),o.memoizedState=jf,i):Uf(o,I));if(m=i.memoizedState,m!==null&&(b=m.dehydrated,b!==null))return TC(i,o,I,f,b,m,u);if(v){v=f.fallback,I=o.mode,m=i.child,b=m.sibling;var M={mode:"hidden",children:f.children};return!(I&1)&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=M,o.deletions=null):(f=Li(m,M),f.subtreeFlags=m.subtreeFlags&14680064),b!==null?v=Li(b,v):(v=Os(v,I,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,I=i.child.memoizedState,I=I===null?Ff(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=i.childLanes&~u,o.memoizedState=jf,f}return v=i.child,i=v.sibling,f=Li(v,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Uf(i,o){return o=Hc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function bc(i,o,u,f){return f!==null&&ff(f),Fo(o,i.child,null,u),i=Uf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function TC(i,o,u,f,m,v,I){if(u)return o.flags&256?(o.flags&=-257,f=Vf(Error(n(422))),bc(i,o,I,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=Hc({mode:"visible",children:f.children},m,0,null),v=Os(v,m,I,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,o.mode&1&&Fo(o,i.child,null,I),o.child.memoizedState=Ff(I),o.memoizedState=jf,v);if(!(o.mode&1))return bc(i,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var b=f.dgst;return f=b,v=Error(n(419)),f=Vf(v,f,void 0),bc(i,o,I,f)}if(b=(I&i.childLanes)!==0,dn||b){if(f=Nt,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|I)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Qr(i,m),ir(f,i,m,-1))}return np(),f=Vf(Error(n(421))),bc(i,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=VC.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Sn=Si(m.nextSibling),In=o,it=!0,er=null,i!==null&&(Vn[Ln++]=qr,Vn[Ln++]=Gr,Vn[Ln++]=Ps,qr=i.id,Gr=i.overflow,Ps=o),o=Uf(o,f.children),o.flags|=4096,o)}function Jv(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),yf(i.return,o,u)}function Bf(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function Zv(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(tn(i,o,f.children,u),f=lt.current,f&2)f=f&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jv(i,u,o);else if(i.tag===19)Jv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ze(lt,f),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Sc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Bf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Sc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Bf(o,!0,u,null,v);break;case"together":Bf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Nc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Xr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ns|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Li(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Li(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function EC(i,o,u){switch(o.tag){case 3:Qv(o),jo();break;case 5:fv(o);break;case 1:hn(o.type)&&pc(o);break;case 4:wf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Ze(wc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Ze(lt,lt.current&1),o.flags|=128,null):u&o.child.childLanes?Xv(i,o,u):(Ze(lt,lt.current&1),i=Xr(i,o,u),i!==null?i.sibling:null);Ze(lt,lt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,i.flags&128){if(f)return Zv(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(lt,lt.current),f)break;return null;case 22:case 23:return o.lanes=0,Kv(i,o,u)}return Xr(i,o,u)}var e0,zf,t0,n0;e0=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},zf=function(){},t0=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,ks(Tr.current);var v=null;switch(u){case"input":m=an(i,m),f=an(i,f),v=[];break;case"select":m=le({},m,{value:void 0}),f=le({},f,{value:void 0}),v=[];break;case"textarea":m=La(i,m),f=La(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=hc)}Ba(u,f);var I;u=null;for(q in m)if(!f.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var b=m[q];for(I in b)b.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?v||(v=[]):(v=v||[]).push(q,null));for(q in f){var M=f[q];if(b=m!=null?m[q]:void 0,f.hasOwnProperty(q)&&M!==b&&(M!=null||b!=null))if(q==="style")if(b){for(I in b)!b.hasOwnProperty(I)||M&&M.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in M)M.hasOwnProperty(I)&&b[I]!==M[I]&&(u||(u={}),u[I]=M[I])}else u||(v||(v=[]),v.push(q,u)),u=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,b=b?b.__html:void 0,M!=null&&b!==M&&(v=v||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&tt("scroll",i),v||b===M||(v=[])):(v=v||[]).push(q,M))}u&&(v=v||[]).push("style",u);var q=v;(o.updateQueue=q)&&(o.flags|=4)}},n0=function(i,o,u,f){u!==f&&(o.flags|=4)};function Tl(i,o){if(!it)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function IC(i,o,u){var f=o.pendingProps;switch(cf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return hn(o.type)&&fc(),Wt(o),null;case 3:return f=o.stateNode,zo(),nt(cn),nt($t),If(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(vc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,er!==null&&(Zf(er),er=null))),zf(i,o),Wt(o),null;case 5:Tf(o);var m=ks(gl.current);if(u=o.type,i!==null&&o.stateNode!=null)t0(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Wt(o),null}if(i=ks(Tr.current),vc(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[wr]=o,f[hl]=v,i=(o.mode&1)!==0,u){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(m=0;m<ll.length;m++)tt(ll[m],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":Lr(f,v),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},tt("invalid",f);break;case"textarea":io(f,v),tt("invalid",f)}Ba(u,v),m=null;for(var I in v)if(v.hasOwnProperty(I)){var b=v[I];I==="children"?typeof b=="string"?f.textContent!==b&&(v.suppressHydrationWarning!==!0&&cc(f.textContent,b,i),m=["children",b]):typeof b=="number"&&f.textContent!==""+b&&(v.suppressHydrationWarning!==!0&&cc(f.textContent,b,i),m=["children",""+b]):s.hasOwnProperty(I)&&b!=null&&I==="onScroll"&&tt("scroll",f)}switch(u){case"input":Ye(f),Ou(f,v,!0);break;case"textarea":Ye(f),Oa(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=hc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Tt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=I.createElement(u,{is:f.is}):(i=I.createElement(u),u==="select"&&(I=i,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):i=I.createElementNS(i,u),i[wr]=o,i[hl]=f,e0(i,o,!1,!1),o.stateNode=i;e:{switch(I=za(u,f),u){case"dialog":tt("cancel",i),tt("close",i),m=f;break;case"iframe":case"object":case"embed":tt("load",i),m=f;break;case"video":case"audio":for(m=0;m<ll.length;m++)tt(ll[m],i);m=f;break;case"source":tt("error",i),m=f;break;case"img":case"image":case"link":tt("error",i),tt("load",i),m=f;break;case"details":tt("toggle",i),m=f;break;case"input":Lr(i,f),m=an(i,f),tt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=le({},f,{value:void 0}),tt("invalid",i);break;case"textarea":io(i,f),m=La(i,f),tt("invalid",i);break;default:m=f}Ba(u,m),b=m;for(v in b)if(b.hasOwnProperty(v)){var M=b[v];v==="style"?Fa(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ma(i,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&fi(i,M):typeof M=="number"&&fi(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&tt("scroll",i):M!=null&&U(i,v,M,I))}switch(u){case"input":Ye(i),Ou(i,f,!1);break;case"textarea":Ye(i),Oa(i);break;case"option":f.value!=null&&i.setAttribute("value",""+ze(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Mr(i,!!f.multiple,v,!1):f.defaultValue!=null&&Mr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=hc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Wt(o),null;case 6:if(i&&o.stateNode!=null)n0(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=ks(gl.current),ks(Tr.current),vc(o)){if(f=o.stateNode,u=o.memoizedProps,f[wr]=o,(v=f.nodeValue!==u)&&(i=In,i!==null))switch(i.tag){case 3:cc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&cc(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[wr]=o,o.stateNode=f}return Wt(o),null;case 13:if(nt(lt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(it&&Sn!==null&&o.mode&1&&!(o.flags&128))sv(),jo(),o.flags|=98560,v=!1;else if(v=vc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[wr]=o}else jo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Wt(o),v=!1}else er!==null&&(Zf(er),er=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(i===null||lt.current&1?At===0&&(At=3):np())),o.updateQueue!==null&&(o.flags|=4),Wt(o),null);case 4:return zo(),zf(i,o),i===null&&ul(o.stateNode.containerInfo),Wt(o),null;case 10:return gf(o.type._context),Wt(o),null;case 17:return hn(o.type)&&fc(),Wt(o),null;case 19:if(nt(lt),v=o.memoizedState,v===null)return Wt(o),null;if(f=(o.flags&128)!==0,I=v.rendering,I===null)if(f)Tl(v,!1);else{if(At!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(I=Sc(i),I!==null){for(o.flags|=128,Tl(v,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,i=I.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ze(lt,lt.current&1|2),o.child}i=i.sibling}v.tail!==null&&Je()>Ko&&(o.flags|=128,f=!0,Tl(v,!1),o.lanes=4194304)}else{if(!f)if(i=Sc(I),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Tl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!it)return Wt(o),null}else 2*Je()-v.renderingStartTime>Ko&&u!==1073741824&&(o.flags|=128,f=!0,Tl(v,!1),o.lanes=4194304);v.isBackwards?(I.sibling=o.child,o.child=I):(u=v.last,u!==null?u.sibling=I:o.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Je(),o.sibling=null,u=lt.current,Ze(lt,f?u&1|2:u&1),o):(Wt(o),null);case 22:case 23:return tp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?An&1073741824&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function SC(i,o){switch(cf(o),o.tag){case 1:return hn(o.type)&&fc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return zo(),nt(cn),nt($t),If(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Tf(o),null;case 13:if(nt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));jo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(lt),null;case 4:return zo(),null;case 10:return gf(o.type._context),null;case 22:case 23:return tp(),null;case 24:return null;default:return null}}var Dc=!1,Kt=!1,AC=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ho(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){dt(i,o,f)}else u.current=null}function $f(i,o,u){try{u()}catch(f){dt(i,o,f)}}var r0=!1;function CC(i,o){if(ef=Ti,i=Ly(),Kd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,b=-1,M=-1,q=0,te=0,ie=i,ee=null;t:for(;;){for(var ue;ie!==u||m!==0&&ie.nodeType!==3||(b=I+m),ie!==v||f!==0&&ie.nodeType!==3||(M=I+f),ie.nodeType===3&&(I+=ie.nodeValue.length),(ue=ie.firstChild)!==null;)ee=ie,ie=ue;for(;;){if(ie===i)break t;if(ee===u&&++q===m&&(b=I),ee===v&&++te===f&&(M=I),(ue=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ue}u=b===-1||M===-1?null:{start:b,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(tf={focusedElem:i,selectionRange:u},Ti=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var de=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,mt=de.memoizedState,W=o.stateNode,B=W.getSnapshotBeforeUpdate(o.elementType===o.type?fe:tr(o.type,fe),mt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){dt(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return de=r0,r0=!1,de}function El(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&$f(o,u,v)}m=m.next}while(m!==f)}}function Vc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Hf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function i0(i){var o=i.alternate;o!==null&&(i.alternate=null,i0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[wr],delete o[hl],delete o[of],delete o[lC],delete o[uC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function s0(i){return i.tag===5||i.tag===3||i.tag===4}function o0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||s0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=hc));else if(f!==4&&(i=i.child,i!==null))for(Wf(i,o,u),i=i.sibling;i!==null;)Wf(i,o,u),i=i.sibling}function Kf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Kf(i,o,u),i=i.sibling;i!==null;)Kf(i,o,u),i=i.sibling}var Mt=null,nr=!1;function ki(i,o,u){for(u=u.child;u!==null;)a0(i,o,u),u=u.sibling}function a0(i,o,u){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(vs,u)}catch{}switch(u.tag){case 5:Kt||Ho(u,o);case 6:var f=Mt,m=nr;Mt=null,ki(i,o,u),Mt=f,nr=m,Mt!==null&&(nr?(i=Mt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Mt.removeChild(u.stateNode));break;case 18:Mt!==null&&(nr?(i=Mt,u=u.stateNode,i.nodeType===8?sf(i.parentNode,u):i.nodeType===1&&sf(i,u),Xn(i)):sf(Mt,u.stateNode));break;case 4:f=Mt,m=nr,Mt=u.stateNode.containerInfo,nr=!0,ki(i,o,u),Mt=f,nr=m;break;case 0:case 11:case 14:case 15:if(!Kt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,I=v.destroy;v=v.tag,I!==void 0&&(v&2||v&4)&&$f(u,o,I),m=m.next}while(m!==f)}ki(i,o,u);break;case 1:if(!Kt&&(Ho(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(b){dt(u,o,b)}ki(i,o,u);break;case 21:ki(i,o,u);break;case 22:u.mode&1?(Kt=(f=Kt)||u.memoizedState!==null,ki(i,o,u),Kt=f):ki(i,o,u);break;default:ki(i,o,u)}}function l0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new AC),o.forEach(function(f){var m=LC.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function rr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,I=o,b=I;e:for(;b!==null;){switch(b.tag){case 5:Mt=b.stateNode,nr=!1;break e;case 3:Mt=b.stateNode.containerInfo,nr=!0;break e;case 4:Mt=b.stateNode.containerInfo,nr=!0;break e}b=b.return}if(Mt===null)throw Error(n(160));a0(v,I,m),Mt=null,nr=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(q){dt(m,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)u0(o,i),o=o.sibling}function u0(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(rr(o,i),Ir(i),f&4){try{El(3,i,i.return),Vc(3,i)}catch(fe){dt(i,i.return,fe)}try{El(5,i,i.return)}catch(fe){dt(i,i.return,fe)}}break;case 1:rr(o,i),Ir(i),f&512&&u!==null&&Ho(u,u.return);break;case 5:if(rr(o,i),Ir(i),f&512&&u!==null&&Ho(u,u.return),i.flags&32){var m=i.stateNode;try{fi(m,"")}catch(fe){dt(i,i.return,fe)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,I=u!==null?u.memoizedProps:v,b=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{b==="input"&&v.type==="radio"&&v.name!=null&&di(m,v),za(b,I);var q=za(b,v);for(I=0;I<M.length;I+=2){var te=M[I],ie=M[I+1];te==="style"?Fa(m,ie):te==="dangerouslySetInnerHTML"?Ma(m,ie):te==="children"?fi(m,ie):U(m,te,ie,q)}switch(b){case"input":Va(m,v);break;case"textarea":so(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?Mr(m,!!v.multiple,ue,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Mr(m,!!v.multiple,v.defaultValue,!0):Mr(m,!!v.multiple,v.multiple?[]:"",!1))}m[hl]=v}catch(fe){dt(i,i.return,fe)}}break;case 6:if(rr(o,i),Ir(i),f&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(fe){dt(i,i.return,fe)}}break;case 3:if(rr(o,i),Ir(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Xn(o.containerInfo)}catch(fe){dt(i,i.return,fe)}break;case 4:rr(o,i),Ir(i);break;case 13:rr(o,i),Ir(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Qf=Je())),f&4&&l0(i);break;case 22:if(te=u!==null&&u.memoizedState!==null,i.mode&1?(Kt=(q=Kt)||te,rr(o,i),Kt=q):rr(o,i),Ir(i),f&8192){if(q=i.memoizedState!==null,(i.stateNode.isHidden=q)&&!te&&i.mode&1)for(he=i,te=i.child;te!==null;){for(ie=he=te;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:El(4,ee,ee.return);break;case 1:Ho(ee,ee.return);var de=ee.stateNode;if(typeof de.componentWillUnmount=="function"){f=ee,u=ee.return;try{o=f,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(fe){dt(f,u,fe)}}break;case 5:Ho(ee,ee.return);break;case 22:if(ee.memoizedState!==null){d0(ie);continue}}ue!==null?(ue.return=ee,he=ue):d0(ie)}te=te.sibling}e:for(te=null,ie=i;;){if(ie.tag===5){if(te===null){te=ie;try{m=ie.stateNode,q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(b=ie.stateNode,M=ie.memoizedProps.style,I=M!=null&&M.hasOwnProperty("display")?M.display:null,b.style.display=ja("display",I))}catch(fe){dt(i,i.return,fe)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=q?"":ie.memoizedProps}catch(fe){dt(i,i.return,fe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:rr(o,i),Ir(i),f&4&&l0(i);break;case 21:break;default:rr(o,i),Ir(i)}}function Ir(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(s0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(fi(m,""),f.flags&=-33);var v=o0(i);Kf(i,v,m);break;case 3:case 4:var I=f.stateNode.containerInfo,b=o0(i);Wf(i,b,I);break;default:throw Error(n(161))}}catch(M){dt(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function PC(i,o,u){he=i,c0(i)}function c0(i,o,u){for(var f=(i.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||Dc;if(!I){var b=m.alternate,M=b!==null&&b.memoizedState!==null||Kt;b=Dc;var q=Kt;if(Dc=I,(Kt=M)&&!q)for(he=m;he!==null;)I=he,M=I.child,I.tag===22&&I.memoizedState!==null?f0(m):M!==null?(M.return=I,he=M):f0(m);for(;v!==null;)he=v,c0(v),v=v.sibling;he=m,Dc=b,Kt=q}h0(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,he=v):h0(i)}}function h0(i){for(;he!==null;){var o=he;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Kt||Vc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Kt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:tr(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&dv(o,v,f);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}dv(o,I,u)}break;case 5:var b=o.stateNode;if(u===null&&o.flags&4){u=b;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&Xn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kt||o.flags&512&&Hf(o)}catch(ee){dt(o,o.return,ee)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function d0(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function f0(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Vc(4,o)}catch(M){dt(o,u,M)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(M){dt(o,m,M)}}var v=o.return;try{Hf(o)}catch(M){dt(o,v,M)}break;case 5:var I=o.return;try{Hf(o)}catch(M){dt(o,I,M)}}}catch(M){dt(o,o.return,M)}if(o===i){he=null;break}var b=o.sibling;if(b!==null){b.return=o.return,he=b;break}he=o.return}}var xC=Math.ceil,Lc=Q.ReactCurrentDispatcher,qf=Q.ReactCurrentOwner,jn=Q.ReactCurrentBatchConfig,$e=0,Nt=null,_t=null,jt=0,An=0,Wo=Ai(0),At=0,Il=null,Ns=0,Oc=0,Gf=0,Sl=null,fn=null,Qf=0,Ko=1/0,Jr=null,Mc=!1,Yf=null,bi=null,jc=!1,Ni=null,Fc=0,Al=0,Xf=null,Uc=-1,Bc=0;function nn(){return $e&6?Je():Uc!==-1?Uc:Uc=Je()}function Di(i){return i.mode&1?$e&2&&jt!==0?jt&-jt:hC.transition!==null?(Bc===0&&(Bc=ws()),Bc):(i=Me,i!==0||(i=window.event,i=i===void 0?16:Za(i.type)),i):1}function ir(i,o,u,f){if(50<Al)throw Al=0,Xf=null,Error(n(185));yi(i,u,f),(!($e&2)||i!==Nt)&&(i===Nt&&(!($e&2)&&(Oc|=u),At===4&&Vi(i,jt)),pn(i,f),u===1&&$e===0&&!(o.mode&1)&&(Ko=Je()+500,mc&&Pi()))}function pn(i,o){var u=i.callbackNode;Ur(i,o);var f=_s(i,i===Nt?jt:0);if(f===0)u!==null&&Ga(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Ga(u),o===1)i.tag===0?cC(m0.bind(null,i)):ev(m0.bind(null,i)),oC(function(){!($e&6)&&Pi()}),u=null;else{switch(_i(f)){case 1:u=ys;break;case 4:u=pi;break;case 16:u=bn;break;case 536870912:u=Bu;break;default:u=bn}u=I0(u,p0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function p0(i,o){if(Uc=-1,Bc=0,$e&6)throw Error(n(327));var u=i.callbackNode;if(qo()&&i.callbackNode!==u)return null;var f=_s(i,i===Nt?jt:0);if(f===0)return null;if(f&30||f&i.expiredLanes||o)o=zc(i,f);else{o=f;var m=$e;$e|=2;var v=y0();(Nt!==i||jt!==o)&&(Jr=null,Ko=Je()+500,Vs(i,o));do try{bC();break}catch(b){g0(i,b)}while(!0);mf(),Lc.current=v,$e=m,_t!==null?o=0:(Nt=null,jt=0,o=At)}if(o!==0){if(o===2&&(m=wn(i),m!==0&&(f=m,o=Jf(i,m))),o===1)throw u=Il,Vs(i,0),Vi(i,f),pn(i,Je()),u;if(o===6)Vi(i,f);else{if(m=i.current.alternate,!(f&30)&&!RC(m)&&(o=zc(i,f),o===2&&(v=wn(i),v!==0&&(f=v,o=Jf(i,v))),o===1))throw u=Il,Vs(i,0),Vi(i,f),pn(i,Je()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Ls(i,fn,Jr);break;case 3:if(Vi(i,f),(f&130023424)===f&&(o=Qf+500-Je(),10<o)){if(_s(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){nn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=rf(Ls.bind(null,i,fn,Jr),o);break}Ls(i,fn,Jr);break;case 4:if(Vi(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var I=31-Zt(f);v=1<<I,I=o[I],I>m&&(m=I),f&=~v}if(f=m,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*xC(f/1960))-f,10<f){i.timeoutHandle=rf(Ls.bind(null,i,fn,Jr),f);break}Ls(i,fn,Jr);break;case 5:Ls(i,fn,Jr);break;default:throw Error(n(329))}}}return pn(i,Je()),i.callbackNode===u?p0.bind(null,i):null}function Jf(i,o){var u=Sl;return i.current.memoizedState.isDehydrated&&(Vs(i,o).flags|=256),i=zc(i,o),i!==2&&(o=fn,fn=u,o!==null&&Zf(o)),i}function Zf(i){fn===null?fn=i:fn.push.apply(fn,i)}function RC(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Zn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(i,o){for(o&=~Gf,o&=~Oc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Zt(o),f=1<<u;i[u]=-1,o&=~f}}function m0(i){if($e&6)throw Error(n(327));qo();var o=_s(i,0);if(!(o&1))return pn(i,Je()),null;var u=zc(i,o);if(i.tag!==0&&u===2){var f=wn(i);f!==0&&(o=f,u=Jf(i,f))}if(u===1)throw u=Il,Vs(i,0),Vi(i,o),pn(i,Je()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ls(i,fn,Jr),pn(i,Je()),null}function ep(i,o){var u=$e;$e|=1;try{return i(o)}finally{$e=u,$e===0&&(Ko=Je()+500,mc&&Pi())}}function Ds(i){Ni!==null&&Ni.tag===0&&!($e&6)&&qo();var o=$e;$e|=1;var u=jn.transition,f=Me;try{if(jn.transition=null,Me=1,i)return i()}finally{Me=f,jn.transition=u,$e=o,!($e&6)&&Pi()}}function tp(){An=Wo.current,nt(Wo)}function Vs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,sC(u)),_t!==null)for(u=_t.return;u!==null;){var f=u;switch(cf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&fc();break;case 3:zo(),nt(cn),nt($t),If();break;case 5:Tf(f);break;case 4:zo();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:gf(f.type._context);break;case 22:case 23:tp()}u=u.return}if(Nt=i,_t=i=Li(i.current,null),jt=An=o,At=0,Il=null,Gf=Oc=Ns=0,fn=Sl=null,Rs!==null){for(o=0;o<Rs.length;o++)if(u=Rs[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var I=v.next;v.next=m,f.next=I}u.pending=f}Rs=null}return i}function g0(i,o){do{var u=_t;try{if(mf(),Ac.current=Rc,Cc){for(var f=ut.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Cc=!1}if(bs=0,bt=St=ut=null,yl=!1,vl=0,qf.current=null,u===null||u.return===null){At=1,Il=o,_t=null;break}e:{var v=i,I=u.return,b=u,M=o;if(o=jt,b.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,te=b,ie=te.tag;if(!(te.mode&1)&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=Bv(I);if(ue!==null){ue.flags&=-257,zv(ue,I,b,v,o),ue.mode&1&&Uv(v,q,o),o=ue,M=q;var de=o.updateQueue;if(de===null){var fe=new Set;fe.add(M),o.updateQueue=fe}else de.add(M);break e}else{if(!(o&1)){Uv(v,q,o),np();break e}M=Error(n(426))}}else if(it&&b.mode&1){var mt=Bv(I);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),zv(mt,I,b,v,o),ff($o(M,b));break e}}v=M=$o(M,b),At!==4&&(At=2),Sl===null?Sl=[v]:Sl.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=jv(v,M,o);hv(v,W);break e;case 1:b=M;var B=v.type,K=v.stateNode;if(!(v.flags&128)&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(bi===null||!bi.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var se=Fv(v,b,o);hv(v,se);break e}}v=v.return}while(v!==null)}_0(u)}catch(pe){o=pe,_t===u&&u!==null&&(_t=u=u.return);continue}break}while(!0)}function y0(){var i=Lc.current;return Lc.current=Rc,i===null?Rc:i}function np(){(At===0||At===3||At===2)&&(At=4),Nt===null||!(Ns&268435455)&&!(Oc&268435455)||Vi(Nt,jt)}function zc(i,o){var u=$e;$e|=2;var f=y0();(Nt!==i||jt!==o)&&(Jr=null,Vs(i,o));do try{kC();break}catch(m){g0(i,m)}while(!0);if(mf(),$e=u,Lc.current=f,_t!==null)throw Error(n(261));return Nt=null,jt=0,At}function kC(){for(;_t!==null;)v0(_t)}function bC(){for(;_t!==null&&!Fu();)v0(_t)}function v0(i){var o=E0(i.alternate,i,An);i.memoizedProps=i.pendingProps,o===null?_0(i):_t=o,qf.current=null}function _0(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=SC(u,o),u!==null){u.flags&=32767,_t=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{At=6,_t=null;return}}else if(u=IC(u,o,An),u!==null){_t=u;return}if(o=o.sibling,o!==null){_t=o;return}_t=o=i}while(o!==null);At===0&&(At=5)}function Ls(i,o,u){var f=Me,m=jn.transition;try{jn.transition=null,Me=1,NC(i,o,u,f)}finally{jn.transition=m,Me=f}return null}function NC(i,o,u,f){do qo();while(Ni!==null);if($e&6)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Xe(i,v),i===Nt&&(_t=Nt=null,jt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||jc||(jc=!0,I0(bn,function(){return qo(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=jn.transition,jn.transition=null;var I=Me;Me=1;var b=$e;$e|=4,qf.current=null,CC(i,u),u0(u,i),JA(tf),Ti=!!ef,tf=ef=null,i.current=u,PC(u),jd(),$e=b,Me=I,jn.transition=v}else i.current=u;if(jc&&(jc=!1,Ni=i,Fc=m),v=i.pendingLanes,v===0&&(bi=null),zu(u.stateNode),pn(i,Je()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Mc)throw Mc=!1,i=Yf,Yf=null,i;return Fc&1&&i.tag!==0&&qo(),v=i.pendingLanes,v&1?i===Xf?Al++:(Al=0,Xf=i):Al=0,Pi(),null}function qo(){if(Ni!==null){var i=_i(Fc),o=jn.transition,u=Me;try{if(jn.transition=null,Me=16>i?16:i,Ni===null)var f=!1;else{if(i=Ni,Ni=null,Fc=0,$e&6)throw Error(n(331));var m=$e;for($e|=4,he=i.current;he!==null;){var v=he,I=v.child;if(he.flags&16){var b=v.deletions;if(b!==null){for(var M=0;M<b.length;M++){var q=b[M];for(he=q;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:El(8,te,v)}var ie=te.child;if(ie!==null)ie.return=te,he=ie;else for(;he!==null;){te=he;var ee=te.sibling,ue=te.return;if(i0(te),te===q){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var de=v.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var mt=fe.sibling;fe.sibling=null,fe=mt}while(fe!==null)}}he=v}}if(v.subtreeFlags&2064&&I!==null)I.return=v,he=I;else e:for(;he!==null;){if(v=he,v.flags&2048)switch(v.tag){case 0:case 11:case 15:El(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,he=W;break e}he=v.return}}var B=i.current;for(he=B;he!==null;){I=he;var K=I.child;if(I.subtreeFlags&2064&&K!==null)K.return=I,he=K;else e:for(I=B;he!==null;){if(b=he,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:Vc(9,b)}}catch(pe){dt(b,b.return,pe)}if(b===I){he=null;break e}var se=b.sibling;if(se!==null){se.return=b.return,he=se;break e}he=b.return}}if($e=m,Pi(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(vs,i)}catch{}f=!0}return f}finally{Me=u,jn.transition=o}}return!1}function w0(i,o,u){o=$o(u,o),o=jv(i,o,1),i=Ri(i,o,1),o=nn(),i!==null&&(yi(i,1,o),pn(i,o))}function dt(i,o,u){if(i.tag===3)w0(i,i,u);else for(;o!==null;){if(o.tag===3){w0(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(bi===null||!bi.has(f))){i=$o(u,i),i=Fv(o,i,1),o=Ri(o,i,1),i=nn(),o!==null&&(yi(o,1,i),pn(o,i));break}}o=o.return}}function DC(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=nn(),i.pingedLanes|=i.suspendedLanes&u,Nt===i&&(jt&u)===u&&(At===4||At===3&&(jt&130023424)===jt&&500>Je()-Qf?Vs(i,0):Gf|=u),pn(i,o)}function T0(i,o){o===0&&(i.mode&1?(o=go,go<<=1,!(go&130023424)&&(go=4194304)):o=1);var u=nn();i=Qr(i,o),i!==null&&(yi(i,o,u),pn(i,u))}function VC(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),T0(i,u)}function LC(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),T0(i,u)}var E0;E0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||cn.current)dn=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return dn=!1,EC(i,o,u);dn=!!(i.flags&131072)}else dn=!1,it&&o.flags&1048576&&tv(o,yc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Nc(i,o),i=o.pendingProps;var m=Lo(o,$t.current);Bo(o,u),m=Cf(null,o,f,i,m,u);var v=Pf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,hn(f)?(v=!0,pc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,_f(o),m.updater=kc,o.stateNode=m,m._reactInternals=o,Df(o,f,i,u),o=Mf(null,o,f,!0,v,u)):(o.tag=0,it&&v&&uf(o),tn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Nc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=MC(f),i=tr(f,i),m){case 0:o=Of(null,o,f,i,u);break e;case 1:o=Gv(null,o,f,i,u);break e;case 11:o=$v(null,o,f,i,u);break e;case 14:o=Hv(null,o,f,tr(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),Of(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),Gv(i,o,f,m,u);case 3:e:{if(Qv(o),i===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,cv(i,o),Ic(o,f,null,u);var I=o.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=$o(Error(n(423)),o),o=Yv(i,o,f,u,m);break e}else if(f!==m){m=$o(Error(n(424)),o),o=Yv(i,o,f,u,m);break e}else for(Sn=Si(o.stateNode.containerInfo.firstChild),In=o,it=!0,er=null,u=lv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(jo(),f===m){o=Xr(i,o,u);break e}tn(i,o,f,u)}o=o.child}return o;case 5:return fv(o),i===null&&df(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,I=m.children,nf(f,m)?I=null:v!==null&&nf(f,v)&&(o.flags|=32),qv(i,o),tn(i,o,I,u),o.child;case 6:return i===null&&df(o),null;case 13:return Xv(i,o,u);case 4:return wf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Fo(o,null,f,u):tn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),$v(i,o,f,m,u);case 7:return tn(i,o,o.pendingProps,u),o.child;case 8:return tn(i,o,o.pendingProps.children,u),o.child;case 12:return tn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,I=m.value,Ze(wc,f._currentValue),f._currentValue=I,v!==null)if(Zn(v.value,I)){if(v.children===m.children&&!cn.current){o=Xr(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var b=v.dependencies;if(b!==null){I=v.child;for(var M=b.firstContext;M!==null;){if(M.context===f){if(v.tag===1){M=Yr(-1,u&-u),M.tag=2;var q=v.updateQueue;if(q!==null){q=q.shared;var te=q.pending;te===null?M.next=M:(M.next=te.next,te.next=M),q.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),yf(v.return,u,o),b.lanes|=u;break}M=M.next}}else if(v.tag===10)I=v.type===o.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(n(341));I.lanes|=u,b=I.alternate,b!==null&&(b.lanes|=u),yf(I,u,o),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===o){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}tn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Bo(o,u),m=On(m),f=f(m),o.flags|=1,tn(i,o,f,u),o.child;case 14:return f=o.type,m=tr(f,o.pendingProps),m=tr(f.type,m),Hv(i,o,f,m,u);case 15:return Wv(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),Nc(i,o),o.tag=1,hn(f)?(i=!0,pc(o)):i=!1,Bo(o,u),Ov(o,f,m),Df(o,f,m,u),Mf(null,o,f,!0,i,u);case 19:return Zv(i,o,u);case 22:return Kv(i,o,u)}throw Error(n(156,o.tag))};function I0(i,o){return po(i,o)}function OC(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(i,o,u,f){return new OC(i,o,u,f)}function rp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function MC(i){if(typeof i=="function")return rp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===at)return 14}return 2}function Li(i,o){var u=i.alternate;return u===null?(u=Fn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function $c(i,o,u,f,m,v){var I=2;if(f=i,typeof i=="function")rp(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case k:return Os(u.children,m,v,o);case A:I=8,m|=8;break;case R:return i=Fn(12,u,o,m|2),i.elementType=R,i.lanes=v,i;case V:return i=Fn(13,u,o,m),i.elementType=V,i.lanes=v,i;case Ge:return i=Fn(19,u,o,m),i.elementType=Ge,i.lanes=v,i;case Te:return Hc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:I=10;break e;case F:I=9;break e;case z:I=11;break e;case at:I=14;break e;case Qe:I=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Fn(I,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Os(i,o,u,f){return i=Fn(7,i,f,o),i.lanes=u,i}function Hc(i,o,u,f){return i=Fn(22,i,f,o),i.elementType=Te,i.lanes=u,i.stateNode={isHidden:!1},i}function ip(i,o,u){return i=Fn(6,i,null,o),i.lanes=u,i}function sp(i,o,u){return o=Fn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function jC(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function op(i,o,u,f,m,v,I,b,M){return i=new jC(i,o,u,b,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Fn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},_f(v),i}function FC(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function S0(i){if(!i)return Ci;i=i._reactInternals;e:{if(Kn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(hn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(hn(u))return Jy(i,u,o)}return o}function A0(i,o,u,f,m,v,I,b,M){return i=op(u,f,!0,i,m,v,I,b,M),i.context=S0(null),u=i.current,f=nn(),m=Di(u),v=Yr(f,m),v.callback=o??null,Ri(u,v,m),i.current.lanes=m,yi(i,m,f),pn(i,f),i}function Wc(i,o,u,f){var m=o.current,v=nn(),I=Di(m);return u=S0(u),o.context===null?o.context=u:o.pendingContext=u,o=Yr(v,I),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Ri(m,o,I),i!==null&&(ir(i,m,I,v),Ec(i,m,I)),I}function Kc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function C0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function ap(i,o){C0(i,o),(i=i.alternate)&&C0(i,o)}function UC(){return null}var P0=typeof reportError=="function"?reportError:function(i){console.error(i)};function lp(i){this._internalRoot=i}qc.prototype.render=lp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Wc(i,o,null,null)},qc.prototype.unmount=lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ds(function(){Wc(null,i,null,null)}),o[Wr]=null}};function qc(i){this._internalRoot=i}qc.prototype.unstable_scheduleHydration=function(i){if(i){var o=qu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<gr.length&&o!==0&&o<gr[u].priority;u++);gr.splice(u,0,i),u===0&&Yu(i)}};function up(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Gc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function x0(){}function BC(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var q=Kc(I);v.call(q)}}var I=A0(o,f,i,0,null,!1,!1,"",x0);return i._reactRootContainer=I,i[Wr]=I.current,ul(i.nodeType===8?i.parentNode:i),Ds(),I}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var b=f;f=function(){var q=Kc(M);b.call(q)}}var M=op(i,0,!1,null,null,!1,!1,"",x0);return i._reactRootContainer=M,i[Wr]=M.current,ul(i.nodeType===8?i.parentNode:i),Ds(function(){Wc(o,M,u,f)}),M}function Qc(i,o,u,f,m){var v=u._reactRootContainer;if(v){var I=v;if(typeof m=="function"){var b=m;m=function(){var M=Kc(I);b.call(M)}}Wc(o,I,i,m)}else I=BC(u,o,i,m,f);return Kc(I)}Wu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=mi(o.pendingLanes);u!==0&&(vi(o,u|1),pn(o,Je()),!($e&6)&&(Ko=Je()+500,Pi()))}break;case 13:Ds(function(){var f=Qr(i,1);if(f!==null){var m=nn();ir(f,i,1,m)}}),ap(i,1)}},yo=function(i){if(i.tag===13){var o=Qr(i,134217728);if(o!==null){var u=nn();ir(o,i,134217728,u)}ap(i,134217728)}},Ku=function(i){if(i.tag===13){var o=Di(i),u=Qr(i,o);if(u!==null){var f=nn();ir(u,i,o,f)}ap(i,o)}},qu=function(){return Me},Gu=function(i,o){var u=Me;try{return Me=i,o()}finally{Me=u}},ao=function(i,o,u){switch(o){case"input":if(Va(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=dc(f);if(!m)throw Error(n(90));Rn(f),Va(f,m)}}}break;case"textarea":so(i,u);break;case"select":o=u.value,o!=null&&Mr(i,!!u.multiple,o,!1)}},fs=ep,Ha=Ds;var zC={usingClientEntryPoint:!1,Events:[dl,Do,dc,pr,$a,ep]},Cl={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$C={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=qa(i),i===null?null:i.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||UC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{vs=Yc.inject($C),_n=Yc}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zC,mn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!up(o))throw Error(n(200));return FC(i,o,null,u)},mn.createRoot=function(i,o){if(!up(i))throw Error(n(299));var u=!1,f="",m=P0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=op(i,1,!1,null,null,u,!1,f,m),i[Wr]=o.current,ul(i.nodeType===8?i.parentNode:i),new lp(o)},mn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=qa(o),i=i===null?null:i.stateNode,i},mn.flushSync=function(i){return Ds(i)},mn.hydrate=function(i,o,u){if(!Gc(o))throw Error(n(200));return Qc(null,i,o,!0,u)},mn.hydrateRoot=function(i,o,u){if(!up(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",I=P0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=A0(o,null,i,1,u??null,m,!1,v,I),i[Wr]=o.current,ul(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new qc(o)},mn.render=function(i,o,u){if(!Gc(o))throw Error(n(200));return Qc(null,i,o,!1,u)},mn.unmountComponentAtNode=function(i){if(!Gc(i))throw Error(n(40));return i._reactRootContainer?(Ds(function(){Qc(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},mn.unstable_batchedUpdates=ep,mn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Gc(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Qc(i,o,u,!1,f)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var F0;function JC(){if(F0)return dp.exports;F0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dp.exports=XC(),dp.exports}var U0;function ZC(){if(U0)return Jc;U0=1;var t=JC();return Jc.createRoot=t.createRoot,Jc.hydrateRoot=t.hydrateRoot,Jc}var eP=ZC(),xl={},B0;function tP(){if(B0)return xl;B0=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=l,xl.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function l(T,S){const x=new a,D=T.length;if(D<2)return x;const P=(S==null?void 0:S.decode)||g;let N=0;do{const j=T.indexOf("=",N);if(j===-1)break;const U=T.indexOf(";",N),Q=U===-1?D:U;if(j>Q){N=T.lastIndexOf(";",j-1)+1;continue}const Y=h(T,N,j),Z=d(T,j,Y),k=T.slice(Y,Z);if(x[k]===void 0){let A=h(T,j+1,Q),R=d(T,Q,A);const L=P(T.slice(A,R));x[k]=L}N=Q+1}while(N<D);return x}function h(T,S,x){do{const D=T.charCodeAt(S);if(D!==32&&D!==9)return S}while(++S<x);return x}function d(T,S,x){for(;S>x;){const D=T.charCodeAt(--S);if(D!==32&&D!==9)return S+1}return x}function p(T,S,x){const D=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const P=D(S);if(!e.test(P))throw new TypeError(`argument val is invalid: ${S}`);let N=T+"="+P;if(!x)return N;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);N+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);N+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);N+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);N+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(N+="; HttpOnly"),x.secure&&(N+="; Secure"),x.partitioned&&(N+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return N}function g(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return s.call(T)==="[object Date]"}return xl}tP();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z0="popstate";function nP(t={}){function e(r,s){let{pathname:a,search:l,hash:h}=r.location;return $p("",{pathname:a,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xl(s)}return iP(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rP(){return Math.random().toString(36).substring(2,10)}function $0(t,e){return{usr:t.state,key:t.key,idx:e}}function $p(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:n,key:e&&e.key||r||rP()}}function Xl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function iP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,h="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){h="POP";let P=g(),N=P==null?null:P-p;p=P,d&&d({action:h,location:D.location,delta:N})}function T(P,N){h="PUSH";let j=$p(D.location,P,N);p=g()+1;let U=$0(j,p),Q=D.createHref(j);try{l.pushState(U,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(Q)}a&&d&&d({action:h,location:D.location,delta:1})}function S(P,N){h="REPLACE";let j=$p(D.location,P,N);p=g();let U=$0(j,p),Q=D.createHref(j);l.replaceState(U,"",Q),a&&d&&d({action:h,location:D.location,delta:0})}function x(P){let N=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof P=="string"?P:Xl(P);return j=j.replace(/ $/,"%20"),ot(N,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,N)}let D={get action(){return h},get location(){return t(s,l)},listen(P){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(z0,_),d=P,()=>{s.removeEventListener(z0,_),d=null}},createHref(P){return e(s,P)},createURL:x,encodeLocation(P){let N=x(P);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:T,replace:S,go(P){return l.go(P)}};return D}function QT(t,e,n="/"){return sP(t,e,n,!1)}function sP(t,e,n,r){let s=typeof e=="string"?Ea(e):e,a=Yi(s.pathname||"/",n);if(a==null)return null;let l=YT(t);oP(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let p=yP(a);h=mP(l[d],p,r)}return h}function YT(t,e=[],n=[],r=""){let s=(a,l,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(ot(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=ni([r,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(ot(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),YT(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:fP(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,l);else for(let d of XT(a.path))s(a,l,d)}),e}function XT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=XT(r.join("/")),h=[];return h.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&h.push(...l),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function oP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var aP=/^:[\w-]+$/,lP=3,uP=2,cP=1,hP=10,dP=-2,H0=t=>t==="*";function fP(t,e){let n=t.split("/"),r=n.length;return n.some(H0)&&(r+=dP),e&&(r+=uP),n.filter(s=>!H0(s)).reduce((s,a)=>s+(aP.test(a)?lP:a===""?cP:hP),r)}function pP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function mP(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Ah({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),T=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Ah({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:ni([a,_.pathname]),pathnameBase:TP(ni([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=ni([a,_.pathnameBase]))}return l}function Ah(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},T)=>{if(g==="*"){let x=h[T]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const S=h[T];return _&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function gP(t,e=!1,n=!0){lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function yP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ea(t):t;return{pathname:n?n.startsWith("/")?n:_P(n,e):e,search:EP(r),hash:IP(s)}}function _P(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fm(t){let e=wP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Um(t,e,n,r=!1){let s;typeof t=="string"?s=Ea(t):(s={...t},ot(!s.pathname||!s.pathname.includes("?"),mp("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),mp("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),mp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}h=_>=0?e[_]:"/"}let d=vP(s,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var ni=t=>t.join("/").replace(/\/\/+/g,"/"),TP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var JT=["POST","PUT","PATCH","DELETE"];new Set(JT);var AP=["GET",...JT];new Set(AP);var Ia=O.createContext(null);Ia.displayName="DataRouter";var nd=O.createContext(null);nd.displayName="DataRouterState";var ZT=O.createContext({isTransitioning:!1});ZT.displayName="ViewTransition";var CP=O.createContext(new Map);CP.displayName="Fetchers";var PP=O.createContext(null);PP.displayName="Await";var hr=O.createContext(null);hr.displayName="Navigation";var yu=O.createContext(null);yu.displayName="Location";var Vr=O.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var Bm=O.createContext(null);Bm.displayName="RouteError";function xP(t,{relative:e}={}){ot(Sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(hr),{hash:s,pathname:a,search:l}=_u(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:ni([n,a])),r.createHref({pathname:h,search:l,hash:s})}function Sa(){return O.useContext(yu)!=null}function ss(){return ot(Sa(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(yu).location}var eE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tE(t){O.useContext(hr).static||O.useLayoutEffect(t)}function vu(){let{isDataRoute:t}=O.useContext(Vr);return t?BP():RP()}function RP(){ot(Sa(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Ia),{basename:e,navigator:n}=O.useContext(hr),{matches:r}=O.useContext(Vr),{pathname:s}=ss(),a=JSON.stringify(Fm(r)),l=O.useRef(!1);return tE(()=>{l.current=!0}),O.useCallback((d,p={})=>{if(lr(l.current,eE),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=Um(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ni([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}O.createContext(null);function _u(t,{relative:e}={}){let{matches:n}=O.useContext(Vr),{pathname:r}=ss(),s=JSON.stringify(Fm(n));return O.useMemo(()=>Um(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function kP(t,e){return nE(t,e)}function nE(t,e,n,r){var j;ot(Sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=O.useContext(hr),{matches:l}=O.useContext(Vr),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";rE(p,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=ss(),S;if(e){let U=typeof e=="string"?Ea(e):e;ot(g==="/"||((j=U.pathname)==null?void 0:j.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=T;let x=S.pathname||"/",D=x;if(g!=="/"){let U=g.replace(/^\//,"").split("/");D="/"+x.replace(/^\//,"").split("/").slice(U.length).join("/")}let P=!a&&n&&n.matches&&n.matches.length>0?n.matches:QT(t,{pathname:D});lr(_||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),lr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=LP(P&&P.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:ni([g,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:ni([g,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,n,r);return e&&N?O.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function bP(){let t=UP(),e=SP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,l)}var NP=O.createElement(bP,null),DP=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Vr.Provider,{value:this.props.routeContext},O.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VP({routeContext:t,match:e,children:n}){let r=O.useContext(Ia);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Vr.Provider,{value:t},n)}function LP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ot(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,h=-1;if(n)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:_}=n,T=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||T){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,p,g)=>{let _,T=!1,S=null,x=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||NP,l&&(h<0&&g===0?(rE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):h===g&&(T=!0,x=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,g+1)),P=()=>{let N;return _?N=S:T?N=x:p.route.Component?N=O.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=d,O.createElement(VP,{match:p,routeContext:{outlet:d,matches:D,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(DP,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:P(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):P()},null)}function zm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OP(t){let e=O.useContext(Ia);return ot(e,zm(t)),e}function MP(t){let e=O.useContext(nd);return ot(e,zm(t)),e}function jP(t){let e=O.useContext(Vr);return ot(e,zm(t)),e}function $m(t){let e=jP(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FP(){return $m("useRouteId")}function UP(){var r;let t=O.useContext(Bm),e=MP("useRouteError"),n=$m("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function BP(){let{router:t}=OP("useNavigate"),e=$m("useNavigate"),n=O.useRef(!1);return tE(()=>{n.current=!0}),O.useCallback(async(s,a={})=>{lr(n.current,eE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var W0={};function rE(t,e,n){!e&&!W0[t]&&(W0[t]=!0,lr(!1,n))}O.memo(zP);function zP({routes:t,future:e,state:n}){return nE(t,void 0,n,e)}function $P({to:t,replace:e,state:n,relative:r}){ot(Sa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(hr);lr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Vr),{pathname:l}=ss(),h=vu(),d=Um(t,Fm(a),l,r==="path"),p=JSON.stringify(d);return O.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function bl(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){ot(!Sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Ea(n));let{pathname:d="/",search:p="",hash:g="",state:_=null,key:T="default"}=n,S=O.useMemo(()=>{let x=Yi(d,l);return x==null?null:{location:{pathname:x,search:p,hash:g,state:_,key:T},navigationType:r}},[l,d,p,g,_,T,r]);return lr(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(hr.Provider,{value:h},O.createElement(yu.Provider,{children:e,value:S}))}function WP({children:t,location:e}){return kP(Hp(t),e)}function Hp(t,e=[]){let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){n.push.apply(n,Hp(r.props.children,a));return}ot(r.type===bl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Hp(r.props.children,a)),n.push(l)}),n}var ch="get",hh="application/x-www-form-urlencoded";function rd(t){return t!=null&&typeof t.tagName=="string"}function KP(t){return rd(t)&&t.tagName.toLowerCase()==="button"}function qP(t){return rd(t)&&t.tagName.toLowerCase()==="form"}function GP(t){return rd(t)&&t.tagName.toLowerCase()==="input"}function QP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YP(t,e){return t.button===0&&(!e||e==="_self")&&!QP(t)}var Zc=null;function XP(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var JP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(t){return t!=null&&!JP.has(t)?(lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):t}function ZP(t,e){let n,r,s,a,l;if(qP(t)){let h=t.getAttribute("action");r=h?Yi(h,e):null,n=t.getAttribute("method")||ch,s=gp(t.getAttribute("enctype"))||hh,a=new FormData(t)}else if(KP(t)||GP(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Yi(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||ch,s=gp(t.getAttribute("formenctype"))||gp(h.getAttribute("enctype"))||hh,a=new FormData(h,t),!XP()){let{name:p,type:g,value:_}=t;if(g==="image"){let T=p?`${p}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else p&&a.append(p,_)}}else{if(rd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,r=null,s=hh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function Hm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function ex(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nx(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await ex(a,n);return l.links?l.links():[]}return[]}));return ox(r.flat(1).filter(tx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function K0(t,e,n,r,s,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>l(d,p)||h(d,p)):a==="data"?e.filter((d,p)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let T=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function rx(t,e){return ix(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function ix(t){return[...new Set(t)]}function sx(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ox(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(sx(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function ax(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function lx(){let t=O.useContext(Ia);return Hm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ux(){let t=O.useContext(nd);return Hm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wm=O.createContext(void 0);Wm.displayName="FrameworkContext";function iE(){let t=O.useContext(Wm);return Hm(t,"You must render this element inside a <HydratedRouter> element"),t}function cx(t,e){let n=O.useContext(Wm),[r,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,T=O.useRef(null);O.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let D=N=>{N.forEach(j=>{l(j.isIntersecting)})},P=new IntersectionObserver(D,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[t]),O.useEffect(()=>{if(r){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[r]);let S=()=>{s(!0)},x=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:Rl(h,S),onBlur:Rl(d,x),onMouseEnter:Rl(p,S),onMouseLeave:Rl(g,x),onTouchStart:Rl(_,S)}]:[!1,T,{}]}function Rl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function hx({page:t,...e}){let{router:n}=lx(),r=O.useMemo(()=>QT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(fx,{page:t,matches:r,...e}):null}function dx(t){let{manifest:e,routeModules:n}=iE(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return nx(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function fx({page:t,matches:e,...n}){let r=ss(),{manifest:s,routeModules:a}=iE(),{loaderData:l,matches:h}=ux(),d=O.useMemo(()=>K0(t,e,h,s,r,"data"),[t,e,h,s,r]),p=O.useMemo(()=>K0(t,e,h,s,r,"assets"),[t,e,h,s,r]),g=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(e.forEach(P=>{var j;let N=s.routes[P.route.id];!N||!N.hasLoader||(!d.some(U=>U.route.id===P.route.id)&&P.route.id in l&&((j=a[P.route.id])!=null&&j.shouldRevalidate)||N.hasClientLoader?x=!0:S.add(P.route.id))}),S.size===0)return[];let D=ax(t);return x&&S.size>0&&D.searchParams.set("_routes",e.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[D.pathname+D.search]},[l,r,s,d,e,t,a]),_=O.useMemo(()=>rx(p,s),[p,s]),T=dx(p);return O.createElement(O.Fragment,null,g.map(S=>O.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>O.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),T.map(({key:S,link:x})=>O.createElement("link",{key:S,...x})))}function px(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sE&&(window.__reactRouterVersion="7.1.5")}catch{}function mx({basename:t,children:e,window:n}){let r=O.useRef();r.current==null&&(r.current=nP({window:n,v5Compat:!0}));let s=r.current,[a,l]=O.useState({action:s.action,location:s.location}),h=O.useCallback(d=>{O.startTransition(()=>l(d))},[l]);return O.useLayoutEffect(()=>s.listen(h),[s,h]),O.createElement(HP,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var oE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Km=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:h,target:d,to:p,preventScrollReset:g,viewTransition:_,...T},S){let{basename:x}=O.useContext(hr),D=typeof p=="string"&&oE.test(p),P,N=!1;if(typeof p=="string"&&D&&(P=p,sE))try{let R=new URL(window.location.href),L=p.startsWith("//")?new URL(R.protocol+p):new URL(p),F=Yi(L.pathname,x);L.origin===R.origin&&F!=null?p=F+L.search+L.hash:N=!0}catch{lr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=xP(p,{relative:s}),[U,Q,Y]=cx(r,T),Z=_x(p,{replace:l,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:_});function k(R){e&&e(R),R.defaultPrevented||Z(R)}let A=O.createElement("a",{...T,...Y,href:P||j,onClick:N||a?e:k,ref:px(S,Q),target:d,"data-discover":!D&&n==="render"?"true":void 0});return U&&!D?O.createElement(O.Fragment,null,A,O.createElement(hx,{page:j})):A});Km.displayName="Link";var gx=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:h,children:d,...p},g){let _=_u(l,{relative:p.relative}),T=ss(),S=O.useContext(nd),{navigator:x,basename:D}=O.useContext(hr),P=S!=null&&Sx(_)&&h===!0,N=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,j=T.pathname,U=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(j=j.toLowerCase(),U=U?U.toLowerCase():null,N=N.toLowerCase()),U&&D&&(U=Yi(U,D)||U);const Q=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Y=j===N||!s&&j.startsWith(N)&&j.charAt(Q)==="/",Z=U!=null&&(U===N||!s&&U.startsWith(N)&&U.charAt(N.length)==="/"),k={isActive:Y,isPending:Z,isTransitioning:P},A=Y?e:void 0,R;typeof r=="function"?R=r(k):R=[r,Y?"active":null,Z?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(k):a;return O.createElement(Km,{...p,"aria-current":A,className:R,ref:g,style:L,to:l,viewTransition:h},typeof d=="function"?d(k):d)});gx.displayName="NavLink";var yx=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=ch,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:_,...T},S)=>{let x=Ex(),D=Ix(h,{relative:p}),P=l.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&oE.test(h),j=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let Q=U.nativeEvent.submitter,Y=(Q==null?void 0:Q.getAttribute("formmethod"))||l;x(Q||U.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return O.createElement("form",{ref:S,method:P,action:D,onSubmit:r?d:j,...T,"data-discover":!N&&t==="render"?"true":void 0})});yx.displayName="Form";function vx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aE(t){let e=O.useContext(Ia);return ot(e,vx(t)),e}function _x(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let h=vu(),d=ss(),p=_u(t,{relative:a});return O.useCallback(g=>{if(YP(g,e)){g.preventDefault();let _=n!==void 0?n:Xl(d)===Xl(p);h(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,h,p,n,r,e,t,s,a,l])}var wx=0,Tx=()=>`__${String(++wx)}__`;function Ex(){let{router:t}=aE("useSubmit"),{basename:e}=O.useContext(hr),n=FP();return O.useCallback(async(r,s={})=>{let{action:a,method:l,encType:h,formData:d,body:p}=ZP(r,e);if(s.navigate===!1){let g=s.fetcherKey||Tx();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Ix(t,{relative:e}={}){let{basename:n}=O.useContext(hr),r=O.useContext(Vr);ot(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={..._u(t||".",{relative:e})},l=ss();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ni([n,a.pathname])),Xl(a)}function Sx(t,e={}){let n=O.useContext(ZT);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aE("useViewTransitionState"),s=_u(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Yi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Yi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ah(s.pathname,l)!=null||Ah(s.pathname,a)!=null}new TextEncoder;const Ax="/assets/new-mainlogo-DdxHqH-1.svg",Cx=()=>E.jsx(E.Fragment,{children:E.jsxs("main",{className:"main-content",children:[E.jsxs("div",{className:"text-container",children:[E.jsx("div",{className:"hide-mobile",children:E.jsxs("h1",{className:"wildcats-desktop",children:["Wildcats ",E.jsx("span",{className:"express-mobile",children:"Express"})]})}),E.jsx("div",{className:"hide-title"}),E.jsx("h3",{className:"typing-text",children:"Fast. Fresh. Fierce."}),E.jsx("h3",{className:"typing-text-mobile",children:"Fast. Fresh. Fierce."}),E.jsx("div",{className:"order-button",children:E.jsx(Km,{to:"/login-page",className:"primary-cta",children:"Order Here"})})]}),E.jsx("div",{className:"cat",children:E.jsx("img",{src:Ax,alt:"Photo of Wildcat chef"})})]})});var q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Px=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],h=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,h=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let T=(h&15)<<2|p>>6,S=p&63;d||(S=64,l||(T=64)),r.push(n[g],n[_],n[T],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Px(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new xx;const T=a<<2|h>>4;if(r.push(T),p!==64){const S=h<<4&240|p>>2;if(r.push(S),_!==64){const x=p<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rx=function(t){const e=lE(t);return uE.encodeByteArray(e,!0)},Ch=function(t){return Rx(t).replace(/\./g,"")},cE=function(t){try{return uE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=()=>kx().__FIREBASE_DEFAULTS__,Nx=()=>{if(typeof process>"u"||typeof q0>"u")return;const t=q0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cE(t[1]);return e&&JSON.parse(e)},id=()=>{try{return bx()||Nx()||Dx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hE=t=>{var e,n;return(n=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Vx=t=>{const e=hE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dE=()=>{var t;return(t=id())===null||t===void 0?void 0:t.config},fE=t=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ch(JSON.stringify(n)),Ch(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function jx(){var t;const e=(t=id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ux(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bx(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zx(){return!jx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mE(){try{return typeof indexedDB=="object"}catch{return!1}}function gE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function $x(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hx,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Js.prototype.create)}}class Js{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?Wx(a,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new dr(s,h,r)}}function Wx(t,e){return t.replace(Kx,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Kx=/\{\$([^}]+)}/g;function qx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ph(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(G0(a)&&G0(l)){if(!Ph(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function G0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Gx(t,e){const n=new Qx(t,e);return n.subscribe.bind(n)}class Qx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yx(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=yp),s.error===void 0&&(s.error=yp),s.complete===void 0&&(s.complete=yp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=1e3,Jx=2,Zx=4*60*60*1e3,eR=.5;function Q0(t,e=Xx,n=Jx){const r=e*Math.pow(n,t),s=Math.round(eR*r*(Math.random()-.5)*2);return Math.min(Zx,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rR(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(t){return t===js?void 0:t}function rR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const sR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},oR=Le.INFO,aR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},lR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=aR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sd{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const uR=(t,e)=>e.some(n=>t instanceof n);let Y0,X0;function cR(){return Y0||(Y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,Wp=new WeakMap,vE=new WeakMap,vp=new WeakMap,qm=new WeakMap;function dR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Hi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&yE.set(n,t)}).catch(()=>{}),qm.set(e,t),e}function fR(t){if(Wp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Wp.set(t,e)}let Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pR(t){Kp=t(Kp)}function mR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_p(this),e,...n);return vE.set(r,e.sort?e.sort():[e]),Hi(r)}:hR().includes(t)?function(...e){return t.apply(_p(this),e),Hi(yE.get(this))}:function(...e){return Hi(t.apply(_p(this),e))}}function gR(t){return typeof t=="function"?mR(t):(t instanceof IDBTransaction&&fR(t),uR(t,cR())?new Proxy(t,Kp):t)}function Hi(t){if(t instanceof IDBRequest)return dR(t);if(vp.has(t))return vp.get(t);const e=gR(t);return e!==t&&(vp.set(t,e),qm.set(e,t)),e}const _p=t=>qm.get(t);function _E(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),h=Hi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Hi(l.result),d.oldVersion,d.newVersion,Hi(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const yR=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],wp=new Map;function J0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yR.includes(n)))return;const a=async function(l,...h){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&d.done]))[0]};return wp.set(e,a),a}pR(t=>({...t,get:(e,n,r)=>J0(e,n)||t.get(e,n,r),has:(e,n)=>!!J0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qp="@firebase/app",Z0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new sd("@firebase/app"),TR="@firebase/app-compat",ER="@firebase/analytics-compat",IR="@firebase/analytics",SR="@firebase/app-check-compat",AR="@firebase/app-check",CR="@firebase/auth",PR="@firebase/auth-compat",xR="@firebase/database",RR="@firebase/data-connect",kR="@firebase/database-compat",bR="@firebase/functions",NR="@firebase/functions-compat",DR="@firebase/installations",VR="@firebase/installations-compat",LR="@firebase/messaging",OR="@firebase/messaging-compat",MR="@firebase/performance",jR="@firebase/performance-compat",FR="@firebase/remote-config",UR="@firebase/remote-config-compat",BR="@firebase/storage",zR="@firebase/storage-compat",$R="@firebase/firestore",HR="@firebase/vertexai",WR="@firebase/firestore-compat",KR="firebase",qR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="[DEFAULT]",GR={[qp]:"fire-core",[TR]:"fire-core-compat",[IR]:"fire-analytics",[ER]:"fire-analytics-compat",[AR]:"fire-app-check",[SR]:"fire-app-check-compat",[CR]:"fire-auth",[PR]:"fire-auth-compat",[xR]:"fire-rtdb",[RR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[bR]:"fire-fn",[NR]:"fire-fn-compat",[DR]:"fire-iid",[VR]:"fire-iid-compat",[LR]:"fire-fcm",[OR]:"fire-fcm-compat",[MR]:"fire-perf",[jR]:"fire-perf-compat",[FR]:"fire-rc",[UR]:"fire-rc-compat",[BR]:"fire-gcs",[zR]:"fire-gcs-compat",[$R]:"fire-fst",[WR]:"fire-fst-compat",[HR]:"fire-vertex","fire-js":"fire-js",[KR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,QR=new Map,Qp=new Map;function e_(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function br(t){const e=t.name;if(Qp.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,t);for(const n of xh.values())e_(n,t);for(const n of QR.values())e_(n,t);return!0}function Tu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new Js("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=qR;function wE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Wi.create("bad-app-name",{appName:String(s)});if(n||(n=dE()),!n)throw Wi.create("no-options");const a=xh.get(s);if(a){if(Ph(n,a.options)&&Ph(r,a.config))return a;throw Wi.create("duplicate-app",{appName:s})}const l=new iR(s);for(const d of Qp.values())l.addComponent(d);const h=new XR(n,r,l);return xh.set(s,h),h}function TE(t=Gp){const e=xh.get(t);if(!e&&t===Gp&&dE())return wE();if(!e)throw Wi.create("no-app",{appName:t});return e}function zn(t,e,n){var r;let s=(r=GR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(h.join(" "));return}br(new ur(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",ZR=1,Jl="firebase-heartbeat-store";let Tp=null;function EE(){return Tp||(Tp=_E(JR,ZR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Tp}async function ek(t){try{const n=(await EE()).transaction(Jl),r=await n.objectStore(Jl).get(IE(t));return await n.done,r}catch(e){if(e instanceof dr)si.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function t_(t,e){try{const r=(await EE()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,IE(t)),await r.done}catch(n){if(n instanceof dr)si.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function IE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=1024,nk=30;class rk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>nk){const l=ok(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=n_(),{heartbeatsToSend:r,unsentEntries:s}=ik(this._heartbeatsCache.heartbeats),a=Ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return si.warn(n),""}}}function n_(){return new Date().toISOString().substring(0,10)}function ik(t,e=tk){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),r_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),r_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mE()?gE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ek(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function r_(t){return Ch(JSON.stringify({version:2,heartbeats:t})).length}function ok(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){br(new ur("platform-logger",e=>new _R(e),"PRIVATE")),br(new ur("heartbeat",e=>new rk(e),"PRIVATE")),zn(qp,Z0,t),zn(qp,Z0,"esm2017"),zn("fire-js","")}ak("");function Gm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lk=SE,AE=new Js("auth","Firebase",SE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new sd("@firebase/auth");function uk(t,...e){Rh.logLevel<=Le.WARN&&Rh.warn(`Auth (${Aa}): ${t}`,...e)}function dh(t,...e){Rh.logLevel<=Le.ERROR&&Rh.error(`Auth (${Aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,...e){throw Qm(t,...e)}function Ar(t,...e){return Qm(t,...e)}function CE(t,e,n){const r=Object.assign(Object.assign({},lk()),{[e]:n});return new Js("auth","Firebase",r).create(e,{appName:t.name})}function Ki(t){return CE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AE.create(t,...e)}function Ie(t,e,...n){if(!t)throw Qm(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dh(e),new Error(e)}function oi(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ck(){return i_()==="http:"||i_()==="https:"}function i_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ck()||pE()||"connection"in navigator)?navigator.onLine:!0}function dk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=Mx()||Ux()}get(){return hk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new Eu(3e4,6e4);function Zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function os(t,e,n,r,s={}){return xE(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=wu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},a);return Fx()||(p.referrerPolicy="no-referrer"),PE.fetch()(RE(t,t.config.apiHost,n,h),p)})}async function xE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fk),e);try{const s=new gk(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw eh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw eh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw eh(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw CE(t,g,p);cr(t,g)}}catch(s){if(s instanceof dr)throw s;cr(t,"network-request-failed",{message:String(s)})}}async function od(t,e,n,r,s={}){const a=await os(t,e,n,r,s);return"mfaPendingCredential"in a&&cr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function RE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ym(t.config,s):`${t.config.apiScheme}://${s}`}function mk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),pk.get())})}}function eh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ar(t,e,r);return s.customData._tokenResponse=n,s}function s_(t){return t!==void 0&&t.enterprise!==void 0}class yk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vk(t,e){return os(t,"GET","/v2/recaptchaConfig",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function kE(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wk(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),s=Xm(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Bl(Ep(s.auth_time)),issuedAtTime:Bl(Ep(s.iat)),expirationTime:Bl(Ep(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ep(t){return Number(t)*1e3}function Xm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const s=cE(n);return s?JSON.parse(s):(dh("Failed to decode base64 JWT payload"),null)}catch(s){return dh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function o_(t){const e=Xm(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&Tk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Tk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Zl(t,kE(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?bE(a.providerUserInfo):[],h=Sk(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Xp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function Ik(t){const e=Rt(t);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sk(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function bE(t){return t.map(e=>{var{providerId:n}=e,r=Gm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e){const n=await xE(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=RE(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",PE.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ck(t,e){return os(t,"POST","/v2/accounts:revokeToken",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=o_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await Ak(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new sa;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ie(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wk(this,e)}reload(){return Ik(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await Zl(this,_k(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,h,d,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,T=(s=n.email)!==null&&s!==void 0?s:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(l=n.photoURL)!==null&&l!==void 0?l:void 0,D=(h=n.tenantId)!==null&&h!==void 0?h:void 0,P=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,j=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:Q,isAnonymous:Y,providerData:Z,stsTokenManager:k}=n;Ie(U&&k,e,"internal-error");const A=sa.fromJSON(this.name,k);Ie(typeof U=="string",e,"internal-error"),Mi(_,e.name),Mi(T,e.name),Ie(typeof Q=="boolean",e,"internal-error"),Ie(typeof Y=="boolean",e,"internal-error"),Mi(S,e.name),Mi(x,e.name),Mi(D,e.name),Mi(P,e.name),Mi(N,e.name),Mi(j,e.name);const R=new ei({uid:U,auth:e,email:T,emailVerified:Q,displayName:_,isAnonymous:Y,photoURL:x,phoneNumber:S,tenantId:D,stsTokenManager:A,createdAt:N,lastLoginAt:j});return Z&&Array.isArray(Z)&&(R.providerData=Z.map(L=>Object.assign({},L))),P&&(R._redirectEventId=P),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new sa;s.updateFromServerResponse(n);const a=new ei({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await kh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?bE(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new sa;h.updateFromIdToken(r);const d=new ei({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Xp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;function ti(t){oi(t instanceof Function,"Expected a class definition");let e=a_.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NE.type="NONE";const l_=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e,n){return`firebase:${t}:${e}:${n}`}class oa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=fh(this.userKey,s.apiKey,a),this.fullPersistenceKey=fh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oa(ti(l_),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ti(l_);const l=fh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){const _=ei._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new oa(a,e,r):(a=d[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new oa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jE(e))return"Blackberry";if(FE(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||LE(e))&&!e.includes("edge/"))return"Chrome";if(ME(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DE(t=Jt()){return/firefox\//i.test(t)}function VE(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LE(t=Jt()){return/crios\//i.test(t)}function OE(t=Jt()){return/iemobile/i.test(t)}function ME(t=Jt()){return/android/i.test(t)}function jE(t=Jt()){return/blackberry/i.test(t)}function FE(t=Jt()){return/webos/i.test(t)}function Jm(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pk(t=Jt()){var e;return Jm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xk(){return Bx()&&document.documentMode===10}function UE(t=Jt()){return Jm(t)||ME(t)||FE(t)||jE(t)||/windows phone/i.test(t)||OE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e=[]){let n;switch(t){case"Browser":n=u_(Jt());break;case"Worker":n=`${u_(Jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const d=e(a);l(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(t,e={}){return os(t,"GET","/v2/passwordPolicy",Zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=6;class Nk{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:bk,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c_(this),this.idTokenSubscription=new c_(this),this.beforeStateQueue=new Rk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await oa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kE(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Ki(this));const n=e?Rt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kk(this),n=new Nk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Js("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ck(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ca(t){return Rt(t)}class c_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gx(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vk(t){ad=t}function zE(t){return ad.loadJS(t)}function Lk(){return ad.recaptchaEnterpriseScript}function Ok(){return ad.gapiScript}function Mk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jk{constructor(){this.enterprise=new Fk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Fk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Uk="recaptcha-enterprise",$E="NO_RECAPTCHA";class Bk{constructor(e){this.type=Uk,this.auth=Ca(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{vk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new yk(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{h(d)})})}function s(a,l,h){const d=window.grecaptcha;s_(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l($E)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jk().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&s_(window.grecaptcha))s(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Lk();d.length!==0&&(d+=h),zE(d).then(()=>{s(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function h_(t,e,n,r=!1,s=!1){const a=new Bk(t);let l;if(s)l=$E;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function d_(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await h_(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await h_(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){const n=Tu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ph(a,e??{}))return s;cr(s,"already-initialized")}return n.initialize({options:e})}function $k(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Hk(t,e,n){const r=Ca(t);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=HE(e),{host:l,port:h}=Wk(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),Kk()}function HE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wk(t){const e=HE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:f_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:f_(l)}}}function f_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function qk(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return od(t,"POST","/v1/accounts:signInWithPassword",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(t,e){return od(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}async function Yk(t,e){return od(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Zm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,n,"signInWithPassword",Gk);case"emailLink":return Qk(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,r,"signUpPassword",qk);case"emailLink":return Yk(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(t,e){return od(t,"POST","/v1/accounts:signInWithIdp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="http://localhost";class Ks extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Gm(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Ks(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,aa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}buildRequest(){const e={requestUri:Xk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zk(t){const e=Nl(Dl(t)).link,n=e?Nl(Dl(e)).deep_link_id:null,r=Nl(Dl(t)).deep_link_id;return(r?Nl(Dl(r)).link:null)||r||n||e||t}class eg{constructor(e){var n,r,s,a,l,h;const d=Nl(Dl(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=Jk((s=d.mode)!==null&&s!==void 0?s:null);Ie(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=Zk(e);try{return new eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=eg.parseLink(n);return Ie(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends WE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Iu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Iu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Iu{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ei._fromIdTokenResponse(e,r,s),l=p_(r);return new ca({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=p_(r);return new ca({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function p_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends dr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bh(e,n,r,s)}}function KE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(t,a,e,r):a})}async function eb(t,e,n=!1){const r=await Zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(Ki(r));const s="reauthenticate";try{const a=await Zl(t,KE(r,s,e,t),n);Ie(a.idToken,r,"internal-error");const l=Xm(a.idToken);Ie(l,r,"internal-error");const{sub:h}=l;return Ie(t.uid===h,r,"user-mismatch"),ca._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(t,e,n=!1){if(or(t.app))return Promise.reject(Ki(t));const r="signIn",s=await KE(t,r,e),a=await ca._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function nb(t,e){return qE(Ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(t){const e=Ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ib(t,e,n){return or(t.app)?Promise.reject(Ki(t)):nb(Rt(t),Pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rb(t),r})}function sb(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function ob(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function tg(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function ab(t){return Rt(t).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=1e3,ub=10;class QE extends GE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);xk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ub):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QE.type="LOCAL";const cb=QE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends GE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YE.type="SESSION";const XE=YE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ld(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async p=>p(n.origin,a)),d=await hb(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((h,d)=>{const p=ng("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function fb(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function pb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mb(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gb(){return JE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firebaseLocalStorageDb",yb=1,Dh="firebaseLocalStorage",eI="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(t,e){return t.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function vb(){const t=indexedDB.deleteDatabase(ZE);return new Su(t).toPromise()}function Jp(){const t=indexedDB.open(ZE,yb);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dh,{keyPath:eI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await vb(),e(await Jp()))})})}async function m_(t,e,n){const r=ud(t,!0).put({[eI]:e,value:n});return new Su(r).toPromise()}async function _b(t,e){const n=ud(t,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function g_(t,e){const n=ud(t,!0).delete(e);return new Su(n).toPromise()}const wb=800,Tb=3;class tI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Tb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(gb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pb(),!this.activeServiceWorker)return;this.sender=new db(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await m_(e,Nh,"1"),await g_(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>m_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_b(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ud(s,!1).getAll();return new Su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tI.type="LOCAL";const Eb=tI;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e){return e?ti(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return aa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Sb(t){return qE(t.auth,new rg(t),t.bypassAuthState)}function Ab(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),tb(n,new rg(t),t.bypassAuthState)}async function Cb(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),eb(n,new rg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sb;case"linkViaPopup":case"linkViaRedirect":return Cb;case"reauthViaPopup":case"reauthViaRedirect":return Ab;default:cr(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new Eu(2e3,1e4);class Zo extends nI{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pb.get())};e()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="pendingRedirect",ph=new Map;class Rb extends nI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await kb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kb(t,e){const n=Db(e),r=Nb(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function bb(t,e){ph.set(t._key(),e)}function Nb(t){return ti(t._redirectPersistence)}function Db(t){return fh(xb,t.config.apiKey,t.name)}async function Vb(t,e,n=!1){if(or(t.app))return Promise.reject(Ki(t));const r=Ca(t),s=Ib(r,e),l=await new Rb(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=10*60*1e3;class Ob{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lb&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ub=/^https?/;async function Bb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jb(t);for(const n of e)try{if(zb(n))return}catch{}cr(t,"unauthorized-domain")}function zb(t){const e=Yp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Ub.test(n))return!1;if(Fb.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Eu(3e4,6e4);function v_(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Hb(t){return new Promise((e,n)=>{var r,s,a;function l(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),n(Ar(t,"network-request-failed"))},timeout:$b.get()})}if(!((s=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Cr().gapi)===null||a===void 0)&&a.load)l();else{const h=Mk("iframefcb");return Cr()[h]=()=>{gapi.load?l():n(Ar(t,"network-request-failed"))},zE(`${Ok()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw mh=null,e})}let mh=null;function Wb(t){return mh=mh||Hb(t),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Eu(5e3,15e3),qb="__/auth/iframe",Gb="emulator/auth/iframe",Qb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xb(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ym(e,Gb):`https://${t.config.authDomain}/${qb}`,r={apiKey:e.apiKey,appName:t.name,v:Aa},s=Yb.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${wu(r).slice(1)}`}async function Jb(t){const e=await Wb(t),n=Cr().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:Xb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qb,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Ar(t,"network-request-failed"),h=Cr().setTimeout(()=>{a(l)},Kb.get());function d(){Cr().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2=500,t2=600,n2="_blank",r2="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i2(t,e,n,r=e2,s=t2){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},Zb),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Jt().toLowerCase();n&&(h=LE(p)?n2:n),DE(p)&&(e=e||r2,d.scrollbars="yes");const g=Object.entries(d).reduce((T,[S,x])=>`${T}${S}=${x},`,"");if(Pk(p)&&h!=="_self")return s2(e||"",h),new __(null);const _=window.open(e||"",h,g);Ie(_,t,"popup-blocked");try{_.focus()}catch{}return new __(_)}function s2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="__/auth/handler",a2="emulator/auth/handler",l2=encodeURIComponent("fac");async function w_(t,e,n,r,s,a){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Aa,eventId:s};if(e instanceof WE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",qx(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Iu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${l2}=${encodeURIComponent(d)}`:"";return`${u2(t)}?${wu(h).slice(1)}${p}`}function u2({config:t}){return t.emulator?Ym(t,a2):`https://${t.authDomain}/${o2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class c2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XE,this._completeRedirectFn=Vb,this._overrideRedirectResult=bb}async _openPopup(e,n,r,s){var a;oi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await w_(e,n,r,Yp(),s);return i2(e,l,ng())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await w_(e,n,r,Yp(),s);return fb(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(oi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Jb(e),r=new Ob(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ip,{type:Ip},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Ip];l!==void 0&&n(!!l),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Bb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UE()||VE()||Jm()}}const h2=c2;var T_="@firebase/auth",E_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p2(t){br(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Ie(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BE(t)},p=new Dk(r,s,a,d);return $k(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),br(new ur("auth-internal",e=>{const n=Ca(e.getProvider("auth").getImmediate());return(r=>new d2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(T_,E_,f2(t)),zn(T_,E_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=5*60,g2=fE("authIdTokenMaxAge")||m2;let I_=null;const y2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g2)return;const s=n==null?void 0:n.token;I_!==s&&(I_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function v2(t=TE()){const e=Tu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zk(t,{popupRedirectResolver:h2,persistence:[Eb,cb,XE]}),r=fE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=y2(a.toString());ob(n,l,()=>l(n.currentUser)),sb(n,h=>l(h))}}const s=hE("auth");return s&&Hk(n,`http://${s}`),n}function _2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Vk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Ar("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",_2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p2("Browser");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,iI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function R(){}R.prototype=A.prototype,k.D=A.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(L,F,z){for(var V=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)V[Ge-2]=arguments[Ge];return A.prototype[F].apply(L,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,A,R){R||(R=0);var L=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)L[F]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(F=0;16>F;++F)L[F]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=k.g[0],R=k.g[1],F=k.g[2];var z=k.g[3],V=A+(z^R&(F^z))+L[0]+3614090360&4294967295;A=R+(V<<7&4294967295|V>>>25),V=z+(F^A&(R^F))+L[1]+3905402710&4294967295,z=A+(V<<12&4294967295|V>>>20),V=F+(R^z&(A^R))+L[2]+606105819&4294967295,F=z+(V<<17&4294967295|V>>>15),V=R+(A^F&(z^A))+L[3]+3250441966&4294967295,R=F+(V<<22&4294967295|V>>>10),V=A+(z^R&(F^z))+L[4]+4118548399&4294967295,A=R+(V<<7&4294967295|V>>>25),V=z+(F^A&(R^F))+L[5]+1200080426&4294967295,z=A+(V<<12&4294967295|V>>>20),V=F+(R^z&(A^R))+L[6]+2821735955&4294967295,F=z+(V<<17&4294967295|V>>>15),V=R+(A^F&(z^A))+L[7]+4249261313&4294967295,R=F+(V<<22&4294967295|V>>>10),V=A+(z^R&(F^z))+L[8]+1770035416&4294967295,A=R+(V<<7&4294967295|V>>>25),V=z+(F^A&(R^F))+L[9]+2336552879&4294967295,z=A+(V<<12&4294967295|V>>>20),V=F+(R^z&(A^R))+L[10]+4294925233&4294967295,F=z+(V<<17&4294967295|V>>>15),V=R+(A^F&(z^A))+L[11]+2304563134&4294967295,R=F+(V<<22&4294967295|V>>>10),V=A+(z^R&(F^z))+L[12]+1804603682&4294967295,A=R+(V<<7&4294967295|V>>>25),V=z+(F^A&(R^F))+L[13]+4254626195&4294967295,z=A+(V<<12&4294967295|V>>>20),V=F+(R^z&(A^R))+L[14]+2792965006&4294967295,F=z+(V<<17&4294967295|V>>>15),V=R+(A^F&(z^A))+L[15]+1236535329&4294967295,R=F+(V<<22&4294967295|V>>>10),V=A+(F^z&(R^F))+L[1]+4129170786&4294967295,A=R+(V<<5&4294967295|V>>>27),V=z+(R^F&(A^R))+L[6]+3225465664&4294967295,z=A+(V<<9&4294967295|V>>>23),V=F+(A^R&(z^A))+L[11]+643717713&4294967295,F=z+(V<<14&4294967295|V>>>18),V=R+(z^A&(F^z))+L[0]+3921069994&4294967295,R=F+(V<<20&4294967295|V>>>12),V=A+(F^z&(R^F))+L[5]+3593408605&4294967295,A=R+(V<<5&4294967295|V>>>27),V=z+(R^F&(A^R))+L[10]+38016083&4294967295,z=A+(V<<9&4294967295|V>>>23),V=F+(A^R&(z^A))+L[15]+3634488961&4294967295,F=z+(V<<14&4294967295|V>>>18),V=R+(z^A&(F^z))+L[4]+3889429448&4294967295,R=F+(V<<20&4294967295|V>>>12),V=A+(F^z&(R^F))+L[9]+568446438&4294967295,A=R+(V<<5&4294967295|V>>>27),V=z+(R^F&(A^R))+L[14]+3275163606&4294967295,z=A+(V<<9&4294967295|V>>>23),V=F+(A^R&(z^A))+L[3]+4107603335&4294967295,F=z+(V<<14&4294967295|V>>>18),V=R+(z^A&(F^z))+L[8]+1163531501&4294967295,R=F+(V<<20&4294967295|V>>>12),V=A+(F^z&(R^F))+L[13]+2850285829&4294967295,A=R+(V<<5&4294967295|V>>>27),V=z+(R^F&(A^R))+L[2]+4243563512&4294967295,z=A+(V<<9&4294967295|V>>>23),V=F+(A^R&(z^A))+L[7]+1735328473&4294967295,F=z+(V<<14&4294967295|V>>>18),V=R+(z^A&(F^z))+L[12]+2368359562&4294967295,R=F+(V<<20&4294967295|V>>>12),V=A+(R^F^z)+L[5]+4294588738&4294967295,A=R+(V<<4&4294967295|V>>>28),V=z+(A^R^F)+L[8]+2272392833&4294967295,z=A+(V<<11&4294967295|V>>>21),V=F+(z^A^R)+L[11]+1839030562&4294967295,F=z+(V<<16&4294967295|V>>>16),V=R+(F^z^A)+L[14]+4259657740&4294967295,R=F+(V<<23&4294967295|V>>>9),V=A+(R^F^z)+L[1]+2763975236&4294967295,A=R+(V<<4&4294967295|V>>>28),V=z+(A^R^F)+L[4]+1272893353&4294967295,z=A+(V<<11&4294967295|V>>>21),V=F+(z^A^R)+L[7]+4139469664&4294967295,F=z+(V<<16&4294967295|V>>>16),V=R+(F^z^A)+L[10]+3200236656&4294967295,R=F+(V<<23&4294967295|V>>>9),V=A+(R^F^z)+L[13]+681279174&4294967295,A=R+(V<<4&4294967295|V>>>28),V=z+(A^R^F)+L[0]+3936430074&4294967295,z=A+(V<<11&4294967295|V>>>21),V=F+(z^A^R)+L[3]+3572445317&4294967295,F=z+(V<<16&4294967295|V>>>16),V=R+(F^z^A)+L[6]+76029189&4294967295,R=F+(V<<23&4294967295|V>>>9),V=A+(R^F^z)+L[9]+3654602809&4294967295,A=R+(V<<4&4294967295|V>>>28),V=z+(A^R^F)+L[12]+3873151461&4294967295,z=A+(V<<11&4294967295|V>>>21),V=F+(z^A^R)+L[15]+530742520&4294967295,F=z+(V<<16&4294967295|V>>>16),V=R+(F^z^A)+L[2]+3299628645&4294967295,R=F+(V<<23&4294967295|V>>>9),V=A+(F^(R|~z))+L[0]+4096336452&4294967295,A=R+(V<<6&4294967295|V>>>26),V=z+(R^(A|~F))+L[7]+1126891415&4294967295,z=A+(V<<10&4294967295|V>>>22),V=F+(A^(z|~R))+L[14]+2878612391&4294967295,F=z+(V<<15&4294967295|V>>>17),V=R+(z^(F|~A))+L[5]+4237533241&4294967295,R=F+(V<<21&4294967295|V>>>11),V=A+(F^(R|~z))+L[12]+1700485571&4294967295,A=R+(V<<6&4294967295|V>>>26),V=z+(R^(A|~F))+L[3]+2399980690&4294967295,z=A+(V<<10&4294967295|V>>>22),V=F+(A^(z|~R))+L[10]+4293915773&4294967295,F=z+(V<<15&4294967295|V>>>17),V=R+(z^(F|~A))+L[1]+2240044497&4294967295,R=F+(V<<21&4294967295|V>>>11),V=A+(F^(R|~z))+L[8]+1873313359&4294967295,A=R+(V<<6&4294967295|V>>>26),V=z+(R^(A|~F))+L[15]+4264355552&4294967295,z=A+(V<<10&4294967295|V>>>22),V=F+(A^(z|~R))+L[6]+2734768916&4294967295,F=z+(V<<15&4294967295|V>>>17),V=R+(z^(F|~A))+L[13]+1309151649&4294967295,R=F+(V<<21&4294967295|V>>>11),V=A+(F^(R|~z))+L[4]+4149444226&4294967295,A=R+(V<<6&4294967295|V>>>26),V=z+(R^(A|~F))+L[11]+3174756917&4294967295,z=A+(V<<10&4294967295|V>>>22),V=F+(A^(z|~R))+L[2]+718787259&4294967295,F=z+(V<<15&4294967295|V>>>17),V=R+(z^(F|~A))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var R=A-this.blockSize,L=this.B,F=this.h,z=0;z<A;){if(F==0)for(;z<=R;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<A;)if(L[F++]=k.charCodeAt(z++),F==this.blockSize){s(this,L),F=0;break}}else for(;z<A;)if(L[F++]=k[z++],F==this.blockSize){s(this,L),F=0;break}}this.h=F,this.o+=A},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var R=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=R&255,R/=256;for(this.u(k),k=Array(16),A=R=0;4>A;++A)for(var L=0;32>L;L+=8)k[R++]=this.g[A]>>>L&255;return k};function a(k,A){var R=h;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=A(k)}function l(k,A){this.h=A;for(var R=[],L=!0,F=k.length-1;0<=F;F--){var z=k[F]|0;L&&z==A||(R[F]=z,L=!1)}this.g=R}var h={};function d(k){return-128<=k&&128>k?a(k,function(A){return new l([A|0],0>A?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return P(p(-k));for(var A=[],R=1,L=0;k>=R;L++)A[L]=k/R|0,R*=4294967296;return new l(A,0)}function g(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return P(g(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),L=_,F=0;F<k.length;F+=8){var z=Math.min(8,k.length-F),V=parseInt(k.substring(F,F+z),A);8>z?(z=p(Math.pow(A,z)),L=L.j(z).add(p(V))):(L=L.j(R),L=L.add(p(V)))}return L}var _=d(0),T=d(1),S=d(16777216);t=l.prototype,t.m=function(){if(D(this))return-P(this).m();for(var k=0,A=1,R=0;R<this.g.length;R++){var L=this.i(R);k+=(0<=L?L:4294967296+L)*A,A*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(D(this))return"-"+P(this).toString(k);for(var A=p(Math.pow(k,6)),R=this,L="";;){var F=Q(R,A).g;R=N(R,F.j(A));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=F,x(R))return z+L;for(;6>z.length;)z="0"+z;L=z+L}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function D(k){return k.h==-1}t.l=function(k){return k=N(this,k),D(k)?-1:x(k)?0:1};function P(k){for(var A=k.g.length,R=[],L=0;L<A;L++)R[L]=~k.g[L];return new l(R,~k.h).add(T)}t.abs=function(){return D(this)?P(this):this},t.add=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],L=0,F=0;F<=A;F++){var z=L+(this.i(F)&65535)+(k.i(F)&65535),V=(z>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);L=V>>>16,z&=65535,V&=65535,R[F]=V<<16|z}return new l(R,R[R.length-1]&-2147483648?-1:0)};function N(k,A){return k.add(P(A))}t.j=function(k){if(x(this)||x(k))return _;if(D(this))return D(k)?P(this).j(P(k)):P(P(this).j(k));if(D(k))return P(this.j(P(k)));if(0>this.l(S)&&0>k.l(S))return p(this.m()*k.m());for(var A=this.g.length+k.g.length,R=[],L=0;L<2*A;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<k.g.length;F++){var z=this.i(L)>>>16,V=this.i(L)&65535,Ge=k.i(F)>>>16,at=k.i(F)&65535;R[2*L+2*F]+=V*at,j(R,2*L+2*F),R[2*L+2*F+1]+=z*at,j(R,2*L+2*F+1),R[2*L+2*F+1]+=V*Ge,j(R,2*L+2*F+1),R[2*L+2*F+2]+=z*Ge,j(R,2*L+2*F+2)}for(L=0;L<A;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=A;L<2*A;L++)R[L]=0;return new l(R,0)};function j(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function U(k,A){this.g=k,this.h=A}function Q(k,A){if(x(A))throw Error("division by zero");if(x(k))return new U(_,_);if(D(k))return A=Q(P(k),A),new U(P(A.g),P(A.h));if(D(A))return A=Q(k,P(A)),new U(P(A.g),A.h);if(30<k.g.length){if(D(k)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,L=A;0>=L.l(k);)R=Y(R),L=Y(L);var F=Z(R,1),z=Z(L,1);for(L=Z(L,2),R=Z(R,2);!x(L);){var V=z.add(L);0>=V.l(k)&&(F=F.add(R),z=V),L=Z(L,1),R=Z(R,1)}return A=N(k,F.j(A)),new U(F,A)}for(F=_;0<=k.l(A);){for(R=Math.max(1,Math.floor(k.m()/A.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),z=p(R),V=z.j(A);D(V)||0<V.l(k);)R-=L,z=p(R),V=z.j(A);x(z)&&(z=T),F=F.add(z),k=N(k,V)}return new U(F,k)}t.A=function(k){return Q(this,k).h},t.and=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],L=0;L<A;L++)R[L]=this.i(L)&k.i(L);return new l(R,this.h&k.h)},t.or=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],L=0;L<A;L++)R[L]=this.i(L)|k.i(L);return new l(R,this.h|k.h)},t.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],L=0;L<A;L++)R[L]=this.i(L)^k.i(L);return new l(R,this.h^k.h)};function Y(k){for(var A=k.g.length+1,R=[],L=0;L<A;L++)R[L]=k.i(L)<<1|k.i(L-1)>>>31;return new l(R,k.h)}function Z(k,A){var R=A>>5;A%=32;for(var L=k.g.length-R,F=[],z=0;z<L;z++)F[z]=0<A?k.i(z+R)>>>A|k.i(z+R+1)<<32-A:k.i(z+R);return new l(F,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,qi=l}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sI,Vl,oI,gh,Zp,aI,lI,uI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var H=c[C];if(!(H in w))break e;w=w[H]}c=c[c.length-1],C=w[c],y=y(C),y!=C&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,C=!1,H={next:function(){if(!C&&w<c.length){var G=w++;return{value:y(G,c[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function d(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,C),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function T(c,y,w){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function S(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function x(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(C,H,G){for(var ae=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ae[qe-2]=arguments[qe];return y.prototype[H].apply(C,ae)}}function D(c){const y=c.length;if(0<y){const w=Array(y);for(let C=0;C<y;C++)w[C]=c[C];return w}return[]}function P(c,y){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(d(C)){const H=c.length||0,G=C.length||0;c.length=H+G;for(let ae=0;ae<G;ae++)c[H+ae]=C[ae]}else c.push(C)}}class N{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var Y=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Z(c,y,w){for(const C in c)y.call(w,c[C],C,c)}function k(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function A(c){const y={};for(const w in c)y[w]=c[w];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,y){let w,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(w in C)c[w]=C[w];for(let G=0;G<R.length;G++)w=R[G],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function F(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function z(c){h.setTimeout(()=>{throw c},0)}function V(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ge{constructor(){this.h=this.g=null}add(y,w){const C=at.get();C.set(y,w),this.h?this.h.next=C:this.g=C,this.h=C}}var at=new N(()=>new Qe,c=>c.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ne=!1,me=new Ge,le=()=>{const c=h.Promise.resolve(void 0);Te=()=>{c.then($)}};var $=()=>{for(var c;c=V();){try{c.h.call(c.g)}catch(w){z(w)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ne=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function be(c,y){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Y){e:{try{Q(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}x(be,ge);var Ve={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),ze=0;function oe(c,y,w,C,H){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!C,this.ha=H,this.key=++ze,this.da=this.fa=!1}function ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ye(c){this.src=c,this.g={},this.h=0}Ye.prototype.add=function(c,y,w,C,H){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ae=on(c,y,C,H);return-1<ae?(y=c[ae],w||(y.fa=!1)):(y=new oe(y,this.src,G,!!C,H),y.fa=w,c.push(y)),y};function Rn(c,y){var w=y.type;if(w in c.g){var C=c.g[w],H=Array.prototype.indexOf.call(C,y,void 0),G;(G=0<=H)&&Array.prototype.splice.call(C,H,1),G&&(ke(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function on(c,y,w,C){for(var H=0;H<c.length;++H){var G=c[H];if(!G.da&&G.listener==y&&G.capture==!!w&&G.ha==C)return H}return-1}var an="closure_lm_"+(1e6*Math.random()|0),Lr={};function di(c,y,w,C,H){if(Array.isArray(y)){for(var G=0;G<y.length;G++)di(c,y[G],w,C,H);return null}return w=Oa(w),c&&c[Be]?c.K(y,w,p(C)?!!C.capture:!1,H):Va(c,y,w,!1,C,H)}function Va(c,y,w,C,H,G){if(!y)throw Error("Invalid event type");var ae=p(H)?!!H.capture:!!H,qe=io(c);if(qe||(c[an]=qe=new Ye(c)),w=qe.add(y,w,C,ae,G),w.proxy)return w;if(C=Ou(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)Re||(H=ae),H===void 0&&(H=!1),c.addEventListener(y.toString(),C,H);else if(c.attachEvent)c.attachEvent(Mr(y.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ou(){function c(w){return y.call(c.src,c.listener,w)}const y=La;return c}function ro(c,y,w,C,H){if(Array.isArray(y))for(var G=0;G<y.length;G++)ro(c,y[G],w,C,H);else C=p(C)?!!C.capture:!!C,w=Oa(w),c&&c[Be]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],w=on(G,w,C,H),-1<w&&(ke(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=io(c))&&(y=c.g[y.toString()],c=-1,y&&(c=on(y,w,C,H)),(w=-1<c?y[c]:null)&&Or(w))}function Or(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Be])Rn(y.i,c);else{var w=c.type,C=c.proxy;y.removeEventListener?y.removeEventListener(w,C,c.capture):y.detachEvent?y.detachEvent(Mr(w),C):y.addListener&&y.removeListener&&y.removeListener(C),(w=io(y))?(Rn(w,c),w.h==0&&(w.src=null,y[an]=null)):ke(c)}}}function Mr(c){return c in Lr?Lr[c]:Lr[c]="on"+c}function La(c,y){if(c.da)c=!0;else{y=new be(y,this);var w=c.listener,C=c.ha||c.src;c.fa&&Or(c),c=w.call(C,y)}return c}function io(c){return c=c[an],c instanceof Ye?c:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oa(c){return typeof c=="function"?c:(c[so]||(c[so]=function(y){return c.handleEvent(y)}),c[so])}function Tt(){X.call(this),this.i=new Ye(this),this.M=this,this.F=null}x(Tt,X),Tt.prototype[Be]=!0,Tt.prototype.removeEventListener=function(c,y,w,C){ro(this,c,y,w,C)};function Et(c,y){var w,C=c.F;if(C)for(w=[];C;C=C.F)w.push(C);if(c=c.M,C=y.type||y,typeof y=="string")y=new ge(y,c);else if(y instanceof ge)y.target=y.target||c;else{var H=y;y=new ge(C,c),L(y,H)}if(H=!0,w)for(var G=w.length-1;0<=G;G--){var ae=y.g=w[G];H=jr(ae,C,!0,y)&&H}if(ae=y.g=c,H=jr(ae,C,!0,y)&&H,H=jr(ae,C,!1,y)&&H,w)for(G=0;G<w.length;G++)ae=y.g=w[G],H=jr(ae,C,!1,y)&&H}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],C=0;C<w.length;C++)ke(w[C]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,w,C){return this.i.add(String(c),y,!1,w,C)},Tt.prototype.L=function(c,y,w,C){return this.i.add(String(c),y,!0,w,C)};function jr(c,y,w,C){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,G=0;G<y.length;++G){var ae=y[G];if(ae&&!ae.da&&ae.capture==w){var qe=ae.listener,It=ae.ha||ae.src;ae.fa&&Rn(c.i,ae),H=qe.call(It,C)!==!1&&H}}return H&&!C.defaultPrevented}function Ma(c,y,w){if(typeof c=="function")w&&(c=T(c,w));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function fi(c){c.g=Ma(()=>{c.g=null,c.i&&(c.i=!1,fi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class cs extends X{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){X.call(this),this.h=c,this.g={}}x(hs,X);var ja=[];function Fa(c){Z(c.g,function(y,w){this.g.hasOwnProperty(w)&&Or(y)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),Fa(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ua=h.JSON.stringify,Ba=h.JSON.parse,za=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ds(){}ds.prototype.h=null;function oo(c){return c.h||(c.h=c.i())}function ao(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){ge.call(this,"d")}x(fr,ge);function lo(){ge.call(this,"c")}x(lo,ge);var pr={},$a=null;function fs(){return $a=$a||new Tt}pr.La="serverreachability";function Ha(c){ge.call(this,pr.La,c)}x(Ha,ge);function Fr(c){const y=fs();Et(y,new Ha(y))}pr.STAT_EVENT="statevent";function Wa(c,y){ge.call(this,pr.STAT_EVENT,c),this.stat=y}x(Wa,ge);function pt(c){const y=fs();Et(y,new Wa(y,c))}pr.Ma="timingevent";function uo(c,y){ge.call(this,pr.Ma,c),this.size=y}x(uo,ge);function Hn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ps(){this.g=!0}ps.prototype.xa=function(){this.g=!1};function ms(c,y,w,C,H,G){c.info(function(){if(c.g)if(G)for(var ae="",qe=G.split("&"),It=0;It<qe.length;It++){var Fe=qe[It].split("=");if(1<Fe.length){var kt=Fe[0];Fe=Fe[1];var vt=kt.split("_");ae=2<=vt.length&&vt[1]=="type"?ae+(kt+"="+Fe+"&"):ae+(kt+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+y+`
`+w+`
`+ae})}function co(c,y,w,C,H,G,ae){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+y+`
`+w+`
`+G+" "+ae})}function Wn(c,y,w,C){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Md(c,w)+(C?" "+C:"")})}function Ka(c,y){c.info(function(){return"TIMEOUT: "+y})}ps.prototype.info=function(){};function Md(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var C=w[c];if(!(2>C.length)){var H=C[1];if(Array.isArray(H)&&!(1>H.length)){var G=H[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return Ua(w)}catch{return y}}var ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function gs(){}x(gs,ds),gs.prototype.g=function(){return new XMLHttpRequest},gs.prototype.i=function(){return{}},Kn=new gs;function qn(c,y,w,C){this.j=c,this.i=y,this.l=w,this.R=C||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ju}function ju(){this.i=null,this.g="",this.h=!1}var qa={},fo={};function po(c,y,w){c.L=1,c.v=vi(wn(y)),c.m=w,c.P=!0,Ga(c,null)}function Ga(c,y){c.F=Date.now(),Je(c),c.A=wn(c.v);var w=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),wi(w.i,"t",C),c.C=0,w=c.j.J,c.h=new ju,c.g=nc(c.j,w?y:null,!c.m),0<c.O&&(c.M=new cs(T(c.Y,c,c.g),c.O)),y=c.U,w=c.g,C=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(ja[0]=H.toString()),H=ja);for(var G=0;G<H.length;G++){var ae=di(w,H[G],C||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Fr(),ms(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const y=this.M;y&&un(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const vt=un(this.g);var y=this.g.Ba();const Dn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||vt!=4||y==7||(y==8||0>=Dn?Fr(3):Fr(2)),ys(this);var w=this.g.Z();this.X=w;t:if(Fu(this)){var C=el(this.g);c="";var H=C.length,G=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),pi(this);var ae="";break t}this.h.i=new h.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(C[y],{stream:!(G&&y==H-1)});C.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,co(this.i,this.u,this.A,this.l,this.R,vt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,It=this.g;if((qe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(qe)){var Fe=qe;break t}}Fe=null}if(w=Fe)Wn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,w);else{this.o=!1,this.s=3,pt(12),bn(this),pi(this);break e}}if(this.P){w=!0;let En;for(;!this.J&&this.C<ae.length;)if(En=jd(this,ae),En==fo){vt==4&&(this.s=4,pt(14),w=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==qa){this.s=4,pt(15),Wn(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else Wn(this.i,this.l,En,null),Qa(this,En);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ae.length!=0||this.h.h||(this.s=1,pt(16),w=!1),this.o=this.o&&w,!w)Wn(this.i,this.l,ae,"[Invalid Chunked Response]"),bn(this),pi(this);else if(0<ae.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),nl(kt),kt.M=!0,pt(11))}}else Wn(this.i,this.l,ae,null),Qa(this,ae);vt==4&&bn(this),this.o&&!this.J&&(vt==4?Ao(this.j,this):(this.o=!1,Je(this)))}else wo(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),bn(this),pi(this)}}}catch{}finally{}};function Fu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function jd(c,y){var w=c.C,C=y.indexOf(`
`,w);return C==-1?fo:(w=Number(y.substring(w,C)),isNaN(w)?qa:(C+=1,C+w>y.length?fo:(y=y.slice(C,C+w),c.C=C+w,y)))}qn.prototype.cancel=function(){this.J=!0,bn(this)};function Je(c){c.S=Date.now()+c.I,Uu(c,c.I)}function Uu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Hn(T(c.ba,c),y)}function ys(c){c.B&&(h.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ka(this.i,this.A),this.L!=2&&(Fr(),pt(17)),bn(this),this.s=2,pi(this)):Uu(this,this.S-c)};function pi(c){c.j.G==0||c.J||Ao(c.j,c)}function bn(c){ys(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Fa(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Qa(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Zt(w.h,c))){if(!c.K&&Zt(w.h,c)&&w.G==3){try{var C=w.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)So(w),Jn(w);else break e;Io(w),pt(18)}}else w.za=H[1],0<w.za-w.T&&37500>H[2]&&w.F&&w.v==0&&!w.C&&(w.C=Hn(T(w.Za,w),6e3));if(1>=zu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Hr(w,11)}else if((c.K||w.g==c)&&So(w),!j(y))for(H=w.Da.g.parse(y),y=0;y<H.length;y++){let Fe=H[y];if(w.T=Fe[0],Fe=Fe[1],w.G==2)if(Fe[0]=="c"){w.K=Fe[1],w.ia=Fe[2];const kt=Fe[3];kt!=null&&(w.la=kt,w.j.info("VER="+w.la));const vt=Fe[4];vt!=null&&(w.Aa=vt,w.j.info("SVER="+w.Aa));const Dn=Fe[5];Dn!=null&&typeof Dn=="number"&&0<Dn&&(C=1.5*Dn,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const En=c.g;if(En){const Ss=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var G=C.h;G.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ya(G,G.h),G.h=null))}if(C.D){const Po=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(C.ya=Po,Xe(C.I,C.D,Po))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var ae=c;if(C.qa=tc(C,C.J?C.ia:null,C.W),ae.K){$u(C.h,ae);var qe=ae,It=C.L;It&&(qe.I=It),qe.B&&(ys(qe),Je(qe)),C.g=ae}else Is(C);0<w.i.length&&vr(w)}else Fe[0]!="stop"&&Fe[0]!="close"||Hr(w,7);else w.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Hr(w,7):Ot(w):Fe[0]!="noop"&&w.l&&w.l.ta(Fe),w.v=0)}}Fr(4)}catch{}}var Bu=class{constructor(c,y){this.g=c,this.map=y}};function vs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _n(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function zu(c){return c.h?1:c.g?c.g.size:0}function Zt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ya(c,y){c.g?c.g.add(y):c.h=y}function $u(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}vs.prototype.cancel=function(){if(this.i=Hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Hu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return D(c.i)}function mo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var y=[],w=c.length,C=0;C<w;C++)y.push(c[C]);return y}y=[],w=0;for(C in c)y[w++]=c[C];return y}function go(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const C in c)y[w++]=C;return y}}}function mi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=go(c),C=mo(c),H=C.length,G=0;G<H;G++)y.call(void 0,C[G],w&&w[G],c)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fd(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var C=c[w].indexOf("="),H=null;if(0<=C){var G=c[w].substring(0,C);H=c[w].substring(C+1)}else G=c[w];y(G,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,ws(this,c.j),this.o=c.o,this.g=c.g,gi(this,c.s),this.l=c.l;var y=c.i,w=new mr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),yi(this,w),this.m=c.m}else c&&(y=String(c).match(_s))?(this.h=!1,ws(this,y[1]||"",!0),this.o=Me(y[2]||""),this.g=Me(y[3]||"",!0),gi(this,y[4]),this.l=Me(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=Me(y[7]||"")):(this.h=!1,this.i=new mr(null,this.h))}Ur.prototype.toString=function(){var c=[],y=this.j;y&&c.push(_i(y,yo,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_i(y,yo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(_i(w,w.charAt(0)=="/"?qu:Ku,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",_i(w,Xa)),c.join("")};function wn(c){return new Ur(c)}function ws(c,y,w){c.j=w?Me(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function yi(c,y,w){y instanceof mr?(c.i=y,gr(c.i,c.h)):(w||(y=_i(y,Gu)),c.i=new mr(y,c.h))}function Xe(c,y,w){c.i.set(y,w)}function vi(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Me(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _i(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Wu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yo=/[#\/\?@]/g,Ku=/[#\?:]/g,qu=/[#\?]/g,Gu=/[#\?@]/g,Xa=/#/g;function mr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Lt(c){c.g||(c.g=new Map,c.h=0,c.i&&Fd(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=mr.prototype,t.add=function(c,y){Lt(this),this.i=null,c=Nn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Gn(c,y){Lt(c),y=Nn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qn(c,y){return Lt(c),y=Nn(c,y),c.g.has(y)}t.forEach=function(c,y){Lt(this),this.g.forEach(function(w,C){w.forEach(function(H){c.call(y,H,C,this)},this)},this)},t.na=function(){Lt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let C=0;C<y.length;C++){const H=c[C];for(let G=0;G<H.length;G++)w.push(y[C])}return w},t.V=function(c){Lt(this);let y=[];if(typeof c=="string")Qn(this,c)&&(y=y.concat(this.g.get(Nn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return Lt(this),this.i=null,c=Nn(this,c),Qn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function wi(c,y,w){Gn(c,y),0<w.length&&(c.i=null,c.g.set(Nn(c,y),D(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var C=y[w];const G=encodeURIComponent(String(C)),ae=this.V(C);for(C=0;C<ae.length;C++){var H=G;ae[C]!==""&&(H+="="+encodeURIComponent(String(ae[C]))),c.push(H)}}return this.i=c.join("&")};function Nn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function gr(c,y){y&&!c.j&&(Lt(c),c.i=null,c.g.forEach(function(w,C){var H=C.toLowerCase();C!=H&&(Gn(this,C),wi(this,H,w))},c)),c.j=y}function Ud(c,y){const w=new ps;if(h.Image){const C=new Image;C.onload=S(ln,w,"TestLoadImage: loaded",!0,y,C),C.onerror=S(ln,w,"TestLoadImage: error",!1,y,C),C.onabort=S(ln,w,"TestLoadImage: abort",!1,y,C),C.ontimeout=S(ln,w,"TestLoadImage: timeout",!1,y,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else y(!1)}function Qu(c,y){const w=new ps,C=new AbortController,H=setTimeout(()=>{C.abort(),ln(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:C.signal}).then(G=>{clearTimeout(H),G.ok?ln(w,"TestPingServer: ok",!0,y):ln(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),ln(w,"TestPingServer: error",!1,y)})}function ln(c,y,w,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(w)}catch{}}function Bd(){this.g=new za}function Yu(c,y,w){const C=w||"";try{mi(c,function(H,G){let ae=H;p(H)&&(ae=Ua(H)),y.push(C+G+"="+encodeURIComponent(ae))})}catch(H){throw y.push(C+"type="+encodeURIComponent("_badmap")),H}}function Br(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Br,ds),Br.prototype.g=function(){return new Ts(this.l,this.j)},Br.prototype.i=function(c){return function(){return c}}({});function Ts(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ts,Tt),t=Ts.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Xn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Yn(this):Xn(this),this.readyState==3&&Xu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},t.Qa=function(c){this.g&&(this.response=c,Yn(this))},t.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zr(c){let y="";return Z(c,function(w,C){y+=C,y+=":",y+=w,y+=`\r
`}),y}function Ti(c,y,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=zr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Xe(c,y,w))}function rt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(rt,Tt);var zd=/^https?$/i,Ja=["POST","PUT"];t=rt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?oo(this.o):oo(Kn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Es(this,G);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)w.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const G of C.keys())w.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ja,y,void 0))||C||H||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of w)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_o(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Es(this,G)}};function Es(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,vo(c),Tn(c)}function vo(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),Tn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},t.bb=function(){Za(this)};function Za(c){if(c.h&&typeof l<"u"&&(!c.v[1]||un(c)!=4||c.Z()!=2)){if(c.u&&un(c)==4)Ma(c.Ea,0,c);else if(Et(c,"readystatechange"),un(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var C;if(C=ae===0){var H=String(c.D).match(_s)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),C=!zd.test(H?H.toLowerCase():"")}w=C}if(w)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var G=2<un(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",vo(c)}}finally{Tn(c)}}}}function Tn(c,y){if(c.g){_o(c);const w=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Et(c,"ready");try{w.onreadystatechange=C}catch{}}}function _o(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function un(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ba(y)}};function el(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wo(c){const y={};c=(c.g&&2<=un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(j(c[C]))continue;var w=F(c[C]);const H=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=y[H]||[];y[H]=G,G.push(w)}k(y,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function tl(c){this.Aa=0,this.i=[],this.j=new ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yr("baseRetryDelayMs",5e3,c),this.cb=yr("retryDelaySeedMs",1e4,c),this.Wa=yr("forwardChannelMaxRetries",2,c),this.wa=yr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vs(c&&c.concurrentRequestLimit),this.Da=new Bd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tl.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,C){pt(0),this.W=c,this.H=y||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=tc(this,null,this.W),vr(this)};function Ot(c){if(To(c),c.G==3){var y=c.U++,w=wn(c.I);if(Xe(w,"SID",c.K),Xe(w,"RID",y),Xe(w,"TYPE","terminate"),$r(c,w),y=new qn(c,c.j,y),y.L=2,y.v=vi(wn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=nc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}ec(c)}function Jn(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function To(c){Jn(c),c.u&&(h.clearTimeout(c.u),c.u=null),So(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function vr(c){if(!_n(c.h)&&!c.s){c.s=!0;var y=c.Ga;Te||le(),ne||(Te(),ne=!0),me.add(y,c),c.B=0}}function $d(c,y){return zu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Hn(T(c.Ga,c,y),Zu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new qn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=A(G),L(G,this.S)):G=this.S),this.m!==null||this.O||(H.H=G,G=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Ei(this,H,y),w=wn(this.I),Xe(w,"RID",c),Xe(w,"CVER",22),this.D&&Xe(w,"X-HTTP-Session-Id",this.D),$r(this,w),G&&(this.O?y="headers="+encodeURIComponent(String(zr(G)))+"&"+y:this.m&&Ti(w,this.m,G)),Ya(this.h,H),this.Ua&&Xe(w,"TYPE","init"),this.P?(Xe(w,"$req",y),Xe(w,"SID","null"),H.T=!0,po(H,w,null)):po(H,w,y),this.G=2}}else this.G==3&&(c?Eo(this,c):this.i.length==0||_n(this.h)||Eo(this))};function Eo(c,y){var w;y?w=y.l:w=c.U++;const C=wn(c.I);Xe(C,"SID",c.K),Xe(C,"RID",w),Xe(C,"AID",c.T),$r(c,C),c.m&&c.o&&Ti(C,c.m,c.o),w=new qn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ei(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ya(c.h,w),po(w,C,y)}function $r(c,y){c.H&&Z(c.H,function(w,C){Xe(y,C,w)}),c.l&&mi({},function(w,C){Xe(y,C,w)})}function Ei(c,y,w){w=Math.min(c.i.length,w);var C=c.l?T(c.l.Na,c.l,c):null;e:{var H=c.i;let G=-1;for(;;){const ae=["count="+w];G==-1?0<w?(G=H[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let qe=!0;for(let It=0;It<w;It++){let Fe=H[It].g;const kt=H[It].map;if(Fe-=G,0>Fe)G=Math.max(0,H[It].g-100),qe=!1;else try{Yu(kt,ae,"req"+Fe+"_")}catch{C&&C(kt)}}if(qe){C=ae.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,C}function Is(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Te||le(),ne||(Te(),ne=!0),me.add(y,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Hn(T(c.Fa,c),Zu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Hn(T(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Jn(this),Ju(this))};function nl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Ju(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=wn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),$r(c,y),c.m&&c.o&&Ti(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=vi(wn(y)),w.m=null,w.P=!0,Ga(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Jn(this),Io(this),pt(19))};function So(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ao(c,y){var w=null;if(c.g==y){So(c),nl(c),c.g=null;var C=2}else if(Zt(c.h,y))w=y.D,$u(c.h,y),C=1;else return;if(c.G!=0){if(y.o)if(C==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;C=fs(),Et(C,new uo(C,w)),vr(c)}else Is(c);else if(H=y.s,H==3||H==0&&0<y.X||!(C==1&&$d(c,y)||C==2&&Io(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),H){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function Zu(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Hr(c,y){if(c.j.info("Error code "+y),y==2){var w=T(c.fb,c),C=c.Xa;const H=!C;C=new Ur(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ws(C,"https"),vi(C),H?Ud(C.toString(),w):Qu(C.toString(),w)}else pt(2);c.G=0,c.l&&c.l.sa(y),ec(c),To(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function ec(c){if(c.G=0,c.ka=[],c.l){const y=Hu(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function tc(c,y,w){var C=w instanceof Ur?wn(w):new Ur(w);if(C.g!="")y&&(C.g=y+"."+C.g),gi(C,C.s);else{var H=h.location;C=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var G=new Ur(null);C&&ws(G,C),y&&(G.g=y),H&&gi(G,H),w&&(G.l=w),C=G}return w=c.D,y=c.ya,w&&y&&Xe(C,w,y),Xe(C,"VER",c.la),$r(c,C),C}function nc(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new rt(new Br({eb:w})):new rt(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}t=rl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Co(){}Co.prototype.g=function(c,y){return new en(c,y)};function en(c,y){Tt.call(this),this.g=new tl(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!j(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!j(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new _r(this)}x(en,Tt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ot(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ua(c),c=w);y.i.push(new Bu(y.Ya++,c)),y.G==3&&vr(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,en.aa.N.call(this)};function rc(c){fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(rc,fr);function ic(){lo.call(this),this.status=1}x(ic,lo);function _r(c){this.g=c}x(_r,rl),_r.prototype.ua=function(){Et(this.g,"a")},_r.prototype.ta=function(c){Et(this.g,new rc(c))},_r.prototype.sa=function(c){Et(this.g,new ic)},_r.prototype.ra=function(){Et(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,uI=function(){return new Co},lI=function(){return fs()},aI=pr,Zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,gh=ho,Mu.COMPLETE="complete",oI=Mu,ao.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Vl=ao,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,sI=rt}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const A_="@firebase/firestore",C_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new sd("@firebase/firestore");function Qo(){return qs.logLevel}function ce(t,...e){if(qs.logLevel<=Le.DEBUG){const n=e.map(ig);qs.debug(`Firestore (${xa}): ${t}`,...n)}}function ai(t,...e){if(qs.logLevel<=Le.ERROR){const n=e.map(ig);qs.error(`Firestore (${xa}): ${t}`,...n)}}function ha(t,...e){if(qs.logLevel<=Le.WARN){const n=e.map(ig);qs.warn(`Firestore (${xa}): ${t}`,...n)}}function ig(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function Ke(t,e){t||Se()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class T2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class E2{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $s,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $s)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new cI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Qt(e)}}class I2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class S2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new I2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,or(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new P_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new P_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=C2(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function da(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=-62135596800,R_=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*R_);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x_)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-x_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Pt(0,0))}static max(){return new Ce(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__name__";class Sr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Sr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Sr.isNumericId(e),s=Sr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Sr.extractNumericId(e).compare(Sr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class st extends Sr{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new st(n)}static emptyPath(){return new st([])}}const P2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Sr{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return P2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new Bt([k_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(a(),s++)}if(a(),l)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(st.fromString(e))}static fromName(e){return new we(st.fromString(e).popFirst(5))}static empty(){return new we(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function x2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new Xi(s,we.empty(),e)}function R2(t){return new Xi(t.readTime,t.key,tu)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(Ce.min(),we.empty(),tu)}static max(){return new Xi(Ce.max(),we.empty(),tu)}}function k2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==b2)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,a=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const a=e.length,l=new Array(a);let h=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(g=>{l[p]=g,++h,h===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new J((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function D2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}cd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function hd(t){return t==null}function Vh(t){return t===0&&1/t==-1/0}function V2(t){return typeof t=="number"&&Number.isInteger(t)&&!Vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="";function L2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=b_(e)),e=O2(t.get(n),e);return b_(e)}function O2(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case dI:n+="";break;default:n+=a}}return n}function b_(t){return t+dI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function as(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Ut(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,s,a){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new xt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pI("Invalid base64 string: "+a):a}}(e);return new zt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=M2.exec(t);if(Ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="server_timestamp",gI="__type__",yI="__previous_value__",vI="__local_write_time__";function og(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[gI])===null||n===void 0?void 0:n.stringValue)===mI}function dd(t){const e=t.mapValue.fields[yI];return og(e)?dd(e):e}function nu(t){const e=Ji(t.mapValue.fields[vI].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n,r,s,a,l,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const Lh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="__type__",F2="__max__",rh={mapValue:{}},wI="__vector__",Oh="value";function es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?og(t)?4:B2(t)?9007199254740991:U2(t)?10:11:Se()}function Nr(t,e){if(t===e)return!0;const n=es(t);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nu(t).isEqual(nu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ji(s.timestampValue),h=Ji(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Zi(s.bytesValue).isEqual(Zi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return yt(s.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return yt(s.integerValue)===yt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=yt(s.doubleValue),h=yt(a.doubleValue);return l===h?Vh(l)===Vh(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(N_(l)!==N_(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!Nr(l[d],h[d])))return!1;return!0}(t,e);default:return Se()}}function iu(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function fa(t,e){if(t===e)return 0;const n=es(t),r=es(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(a,l){const h=yt(a.integerValue||a.doubleValue),d=yt(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return V_(t.timestampValue,e.timestampValue);case 4:return V_(nu(t),nu(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(a,l){const h=Zi(a),d=Zi(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),d=l.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=je(h[p],d[p]);if(g!==0)return g}return je(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const h=je(yt(a.latitude),yt(l.latitude));return h!==0?h:je(yt(a.longitude),yt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return L_(t.arrayValue,e.arrayValue);case 10:return function(a,l){var h,d,p,g;const _=a.fields||{},T=l.fields||{},S=(h=_[Oh])===null||h===void 0?void 0:h.arrayValue,x=(d=T[Oh])===null||d===void 0?void 0:d.arrayValue,D=je(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:L_(S,x)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===rh.mapValue&&l===rh.mapValue)return 0;if(a===rh.mapValue)return 1;if(l===rh.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const T=je(d[_],g[_]);if(T!==0)return T;const S=fa(h[d[_]],p[g[_]]);if(S!==0)return S}return je(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Se()}}function V_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Ji(t),r=Ji(e),s=je(n.seconds,r.seconds);return s!==0?s:je(n.nanos,r.nanos)}function L_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=fa(n[s],r[s]);if(a)return a}return je(n.length,r.length)}function pa(t){return em(t)}function em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=em(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${em(n.fields[l])}`;return s+"}"}(t.mapValue):Se()}function yh(t){switch(es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dd(t);return e?16+yh(e):16;case 5:return 2*t.stringValue.length;case 6:return Zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+yh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return as(r.fields,(a,l)=>{s+=a.length+yh(l)}),s}(t.mapValue);default:throw Se()}}function tm(t){return!!t&&"integerValue"in t}function ag(t){return!!t&&"arrayValue"in t}function O_(t){return!!t&&"nullValue"in t}function M_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vh(t){return!!t&&"mapValue"in t}function U2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_I])===null||n===void 0?void 0:n.stringValue)===wI}function zl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return as(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Bt.emptyPath(),r={},s=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=h.popLast()}l?r[h.lastSegment()]=zl(l):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];vh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){as(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new yn(zl(this.value))}}function TI(t){const e=[];return as(t.fields,(n,r)=>{const s=new Bt([n]);if(vh(r)){const a=TI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,s,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Yt(e,0,Ce.min(),Ce.min(),Ce.min(),yn.empty(),0)}static newFoundDocument(e,n,r,s){return new Yt(e,1,n,Ce.min(),r,s,0)}static newNoDocument(e,n){return new Yt(e,2,n,Ce.min(),Ce.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Ce.min(),Ce.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function j_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=we.comparator(we.fromName(l.referenceValue),n.key):r=fa(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function F_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function z2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{}class Ct extends EI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new H2(e,n,r):n==="array-contains"?new q2(e,r):n==="in"?new G2(e,r):n==="not-in"?new Q2(e,r):n==="array-contains-any"?new Y2(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new W2(e,r):new K2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fa(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends EI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Dr(e,n)}matches(e){return II(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function II(t){return t.op==="and"}function SI(t){return $2(t)&&II(t)}function $2(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function nm(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(SI(t))return t.filters.map(e=>nm(e)).join(",");{const e=t.filters.map(n=>nm(n)).join(",");return`${t.op}(${e})`}}function AI(t,e){return t instanceof Ct?function(r,s){return s instanceof Ct&&r.op===s.op&&r.field.isEqual(s.field)&&Nr(r.value,s.value)}(t,e):t instanceof Dr?function(r,s){return s instanceof Dr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,h)=>a&&AI(l,s.filters[h]),!0):!1}(t,e):void Se()}function CI(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(CI).join(" ,")+"}"}(t):"Filter"}class H2 extends Ct{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class W2 extends Ct{constructor(e,n){super(e,"in",n),this.keys=PI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class K2 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=PI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class q2 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ag(n)&&iu(n.arrayValue,this.value)}}class G2 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class Q2 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class Y2 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n=null,r=[],s=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.le=null}}function U_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new X2(t,e,n,r,s,a,l)}function lg(t){const e=Pe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pa(r)).join(",")),e.le=n}return e.le}function ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!F_(t.startAt,e.startAt)&&F_(t.endAt,e.endAt)}function rm(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n=null,r=[],s=[],a=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function J2(t,e,n,r,s,a,l,h){return new fd(t,e,n,r,s,a,l,h)}function cg(t){return new fd(t)}function B_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Z2(t){return t.collectionGroup!==null}function $l(t){const e=Pe(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new xt(Bt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new jh(a,r))}),n.has(Bt.keyField().canonicalString())||e.he.push(new jh(Bt.keyField(),r))}return e.he}function Pr(t){const e=Pe(t);return e.Pe||(e.Pe=eN(e,$l(t))),e.Pe}function eN(t,e){if(t.limitType==="F")return U_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new jh(s.field,a)});const n=t.endAt?new Mh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mh(t.startAt.position,t.startAt.inclusive):null;return U_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function im(t,e,n){return new fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pd(t,e){return ug(Pr(t),Pr(e))&&t.limitType===e.limitType}function xI(t){return`${lg(Pr(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>CI(s)).join(", ")}]`),hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pa(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function md(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of $l(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,h,d){const p=j_(l,h,d);return l.inclusive?p<=0:p<0}(r.startAt,$l(r),s)||r.endAt&&!function(l,h,d){const p=j_(l,h,d);return l.inclusive?p>=0:p>0}(r.endAt,$l(r),s))}(t,e)}function tN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RI(t){return(e,n)=>{let r=!1;for(const s of $l(t)){const a=nN(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function nN(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(a,l,h){const d=l.data.field(a),p=h.data.field(a);return d!==null&&p!==null?fa(d,p):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return fI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new ht(we.comparator);function li(){return rN}const kI=new ht(we.comparator);function Ll(...t){let e=kI;for(const n of t)e=e.insert(n.key,n);return e}function bI(t){let e=kI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Us(){return Hl()}function NI(){return Hl()}function Hl(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const iN=new ht(we.comparator),sN=new xt(we.comparator);function Oe(...t){let e=sN;for(const n of t)e=e.add(n);return e}const oN=new xt(je);function aN(){return oN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function DI(t){return{integerValue:""+t}}function lN(t,e){return V2(e)?DI(e):hg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this._=void 0}}function uN(t,e,n){return t instanceof Fh?function(s,a){const l={fields:{[gI]:{stringValue:mI},[vI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&og(a)&&(a=dd(a)),a&&(l.fields[yI]=a),{mapValue:l}}(n,e):t instanceof su?LI(t,e):t instanceof ou?OI(t,e):function(s,a){const l=VI(s,a),h=z_(l)+z_(s.Ie);return tm(l)&&tm(s.Ie)?DI(h):hg(s.serializer,h)}(t,e)}function cN(t,e,n){return t instanceof su?LI(t,e):t instanceof ou?OI(t,e):n}function VI(t,e){return t instanceof Uh?function(r){return tm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Fh extends gd{}class su extends gd{constructor(e){super(),this.elements=e}}function LI(t,e){const n=MI(e);for(const r of t.elements)n.some(s=>Nr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ou extends gd{constructor(e){super(),this.elements=e}}function OI(t,e){let n=MI(e);for(const r of t.elements)n=n.filter(s=>!Nr(s,r));return{arrayValue:{values:n}}}class Uh extends gd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function z_(t){return yt(t.integerValue||t.doubleValue)}function MI(t){return ag(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof su&&s instanceof su||r instanceof ou&&s instanceof ou?da(r.elements,s.elements,Nr):r instanceof Uh&&s instanceof Uh?Nr(r.Ie,s.Ie):r instanceof Fh&&s instanceof Fh}(t.transform,e.transform)}class dN{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yd{}function jI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dg(t.key,ar.none()):new Au(t.key,t.data,ar.none());{const n=t.data,r=yn.empty();let s=new xt(Bt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ls(t.key,r,new Cn(s.toArray()),ar.none())}}function fN(t,e,n){t instanceof Au?function(s,a,l){const h=s.value.clone(),d=H_(s.fieldTransforms,a,l.transformResults);h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(s,a,l){if(!_h(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=H_(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(FI(s)),d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Wl(t,e,n,r){return t instanceof Au?function(a,l,h,d){if(!_h(a.precondition,l))return h;const p=a.value.clone(),g=W_(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ls?function(a,l,h,d){if(!_h(a.precondition,l))return h;const p=W_(a.fieldTransforms,d,l),g=l.data;return g.setAll(FI(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,h){return _h(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function pN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=VI(r.transform,s||null);a!=null&&(n===null&&(n=yn.empty()),n.set(r.field,a))}return n||null}function $_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&da(r,s,(a,l)=>hN(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Au extends yd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ls extends yd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function H_(t,e,n){const r=new Map;Ke(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,h=e.data.field(a.field);r.set(a.field,cN(l,h,n[s]))}return r}function W_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,uN(a,l,e))}return r}class dg extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mN extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&fN(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NI();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(s.key)?null:h;const d=jI(l,h);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>$_(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>$_(n,r))}}class fg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ke(e.mutations.length===r.length);let s=function(){return iN}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new fg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ue;function _N(t){switch(t){case re.OK:return Se();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se()}}function UI(t){if(t===void 0)return ai("GRPC error has no .code"),re.UNKNOWN;switch(t){case wt.OK:return re.OK;case wt.CANCELLED:return re.CANCELLED;case wt.UNKNOWN:return re.UNKNOWN;case wt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case wt.INTERNAL:return re.INTERNAL;case wt.UNAVAILABLE:return re.UNAVAILABLE;case wt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case wt.NOT_FOUND:return re.NOT_FOUND;case wt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case wt.ABORTED:return re.ABORTED;case wt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case wt.DATA_LOSS:return re.DATA_LOSS;default:return Se()}}(Ue=wt||(wt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new qi([4294967295,4294967295],0);function K_(t){const e=wN().encode(t),n=new iI;return n.update(e),new Uint8Array(n.digest())}function q_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qi([n,r],0),new qi([s,a],0)]}class pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=qi.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(qi.fromNumber(r)));return s.compare(TN)===1&&(s=new qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=K_(e),[r,s]=q_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new pg(a,s,n);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.Ee===0)return;const n=K_(e),[r,s]=q_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vd(Ce.min(),s,new ht(je),li(),Oe())}}class Cu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class BI{constructor(e,n){this.targetId=e,this.ge=n}}class zI{constructor(e,n,r=zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class G_{constructor(){this.pe=0,this.ye=Q_(),this.we=zt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Oe(),n=Oe(),r=Oe();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new Cu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Q_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class EN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=li(),this.$e=ih(),this.Ke=ih(),this.Ue=new ht(je)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(rm(a))if(r===0){const l=new we(a.path);this.ze(n,l,Yt.newNoDocument(l,Ce.min()))}else Ke(r===1);else{const l=this.et(n);if(l!==r){const h=this.tt(e),d=h?this.nt(h,e,l):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,h;try{l=Zi(r).toUint8Array()}catch(d){if(d instanceof pI)return ha("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new pg(l,s,a)}catch(d){return ha(d instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ke.it(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const h=this.Xe(l);if(h){if(a.current&&rm(h.target)){const d=new we(h.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,Yt.newNoDocument(d,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=Oe();this.Ke.forEach((a,l)=>{let h=!0;l.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new vd(e,n,this.Ue,this.Qe,r);return this.Qe=li(),this.$e=ih(),this.Ke=ih(),this.Ue=new ht(je),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new G_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new xt(je),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new xt(je),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new G_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ih(){return new ht(we.comparator)}function Q_(){return new ht(we.comparator)}const IN={asc:"ASCENDING",desc:"DESCENDING"},SN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AN={and:"AND",or:"OR"};class CN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(t,e){return t.useProto3Json||hd(e)?e:{value:e}}function Bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $I(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PN(t,e){return Bh(t,e.toTimestamp())}function xr(t){return Ke(!!t),Ce.fromTimestamp(function(n){const r=Ji(n);return new Pt(r.seconds,r.nanos)}(t))}function mg(t,e){return om(t,e).canonicalString()}function om(t,e){const n=function(s){return new st(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HI(t){const e=st.fromString(t);return Ke(QI(e)),e}function am(t,e){return mg(t.databaseId,e.path)}function Sp(t,e){const n=HI(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(KI(n))}function WI(t,e){return mg(t.databaseId,e)}function xN(t){const e=HI(t);return e.length===4?st.emptyPath():KI(e)}function lm(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KI(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Y_(t,e,n){return{name:am(t,e),fields:n.value.mapValue.fields}}function RN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Ke(g===void 0||typeof g=="string"),zt.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array),zt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=p.code===void 0?re.UNKNOWN:UI(p.code);return new ye(g,p.message||"")}(l);n=new zI(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sp(t,r.document.name),a=xr(r.document.updateTime),l=r.document.createTime?xr(r.document.createTime):Ce.min(),h=new yn({mapValue:{fields:r.document.fields}}),d=Yt.newFoundDocument(s,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new wh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sp(t,r.document),a=r.readTime?xr(r.readTime):Ce.min(),l=Yt.newNoDocument(s,a),h=r.removedTargetIds||[];n=new wh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sp(t,r.document),a=r.removedTargetIds||[];n=new wh([],a,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new vN(s,a),h=r.targetId;n=new BI(h,l)}}return n}function kN(t,e){let n;if(e instanceof Au)n={update:Y_(t,e.key,e.value)};else if(e instanceof dg)n={delete:am(t,e.key)};else if(e instanceof ls)n={update:Y_(t,e.key,e.data),updateMask:FN(e.fieldMask)};else{if(!(e instanceof mN))return Se();n={verify:am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof Fh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof su)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ou)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uh)return{fieldPath:l.field.canonicalString(),increment:h.Ie};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:PN(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(t,e.precondition)),n}function bN(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?xr(s.updateTime):xr(a);return l.isEqual(Ce.min())&&(l=xr(a)),new dN(l,s.transformResults||[])}(n,e))):[]}function NN(t,e){return{documents:[WI(t,e.path)]}}function DN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WI(t,s);const a=function(p){if(p.length!==0)return GI(Dr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:Xo(T.field),direction:ON(T.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=sm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:s}}function VN(t){let e=xN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ke(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const T=qI(_);return T instanceof Dr&&SI(T)?T.getFilters():[T]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(T=>function(x){return new jh(Jo(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T))}(n.orderBy));let h=null;n.limit&&(h=function(_){let T;return T=typeof _=="object"?_.value:_,hd(T)?null:T}(n.limit));let d=null;n.startAt&&(d=function(_){const T=!!_.before,S=_.values||[];return new Mh(S,T)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const T=!_.before,S=_.values||[];return new Mh(S,T)}(n.endAt)),J2(e,s,l,a,h,"F",d,p)}function LN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jo(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Jo(n.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jo(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Jo(n.unaryFilter.field);return Ct.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(Jo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>qI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function ON(t){return IN[t]}function MN(t){return SN[t]}function jN(t){return AN[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function Jo(t){return Bt.fromServerFormat(t.fieldPath)}function GI(t){return t instanceof Ct?function(n){if(n.op==="=="){if(M_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(O_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(O_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:MN(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(s=>GI(s));return r.length===1?r[0]:{compositeFilter:{op:jN(n.op),filters:r}}}(t):Se()}function FN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r,s,a=Ce.min(),l=Ce.min(),h=zt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.Tt=e}}function BN(t){const e=VN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Tn=new $N}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Xi.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class $N{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new xt(st.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YI=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(YI,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ma(0)}static Un(){return new ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LruGarbageCollector",HN=1048576;function Z_([t,e],[n,r]){const s=je(t,n);return s===0?je(e,r):s}class WN{constructor(e){this.Hn=e,this.buffer=new xt(Z_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Z_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(J_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?ce(J_,"Ignoring IndexedDB error during garbage collection: ",n):await Ra(n)}await this.er(3e5)})}}class qN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(cd.ae);const r=new WN(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(X_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,l,h,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Qo()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${a} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function GN(t,e){return new qN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wl(r.mutation,s,Cn.empty(),Pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=Us();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Ll();return a.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,s){let a=li();const l=Hl(),h=function(){return Hl()}();return n.forEach((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof ls)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Wl(g.mutation,p,g.mutation.getFieldMask(),Pt.now())):l.set(p.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return h.set(p,new YN(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Hl();let s=new ht((l,h)=>l-h),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||Cn.empty();g=h.applyToLocalView(p,g),r.set(d,g);const _=(s.get(h.batchId)||Oe()).add(d);s=s.insert(h.batchId,_)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,_=NI();g.forEach(T=>{if(!a.has(T)){const S=jI(n.get(T),r.get(T));S!==null&&_.set(T,S),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return we.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):J.resolve(Us());let h=tu,d=a;return l.next(p=>J.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{d=d.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Oe())).next(g=>({batchId:h,changes:bI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let s=Ll();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Ll();return this.indexManager.getCollectionParents(e,a).next(h=>J.forEach(h,d=>{const p=function(_,T){return new fd(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Yt.newInvalidDocument(g)))});let h=Ll();return l.forEach((d,p)=>{const g=a.get(d);g!==void 0&&Wl(g.mutation,p,Cn.empty(),Pt.now()),md(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xr(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:BN(s.bundledQuery),readTime:xr(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.overlays=new ht(we.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Us();return J.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Us(),a=n.length+1,l=new we(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ht((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Us(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Us(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return J.resolve(h)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new yN(n,r));let a=this.Rr.get(n);a===void 0&&(a=Oe(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Vr=new xt(Vt.mr),this.gr=new xt(Vt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Vt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new we(new st([])),r=new Vt(n,e),s=new Vt(n,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new we(new st([])),r=new Vt(n,e),s=new Vt(n,e+1);let a=Oe();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Vt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return we.comparator(e.key,n.key)||je(e.Cr,n.Cr)}static pr(e,n){return je(e.Cr,n.Cr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(Vt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new gN(a,n,r,s);this.mutationQueue.push(l);for(const h of s)this.Mr=this.Mr.add(new Vt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sg:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const h=this.Or(l.Cr);a.push(h)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(je);return n.forEach(s=>{const a=new Vt(s,0),l=new Vt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],h=>{r=r.add(h.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const l=new Vt(new we(a),0);let h=new xt(je);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.Cr)),!0)},l),J.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(n.mutations,s=>{const a=new Vt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Vt(n,0),s=this.Mr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.kr=e,this.docs=function(){return new ht(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Yt.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=li();const l=n.path,h=new we(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||k2(R2(g),r)<=0||(s.has(g.key)||md(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Se()}qr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rD(this)}getSize(e){return J.resolve(this.size)}}class rD extends QN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.persistence=e,this.Qr=new eo(n=>lg(n),ug),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new gg,this.targetCount=0,this.Ur=ma.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ma(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new cd(0),this.zr=!1,this.zr=!0,this.jr=new eD,this.referenceDelegate=e(this),this.Hr=new iD(this),this.indexManager=new zN,this.remoteDocumentCache=function(s){return new nD(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new UN(n),this.Yr=new JN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new tD(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new sD(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class sD extends N2{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.ti=new gg,this.ni=null}static ri(e){return new yg(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const s=we.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,Ce.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.oi=new eo(r=>L2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=GN(this,n)}static ri(e,n){return new zh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,n).next(h=>{h||(r++,a.removeEntry(l,Ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}ar(e,n,r){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Oe(),s=Oe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new vg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zx()?8:D2(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new oD;return this._s(e,n,l).next(h=>{if(a.result=h,this.Xi)return this.us(e,n,l,h.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Qo()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Qo()<=Le.DEBUG&&ce("QueryEngine","Query:",Yo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Qo()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):J.resolve())}rs(e,n){if(B_(n))return J.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=im(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Oe(...a);return this.ns.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(n,h);return this.ls(n,p,l,d.readTime)?this.rs(e,im(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,r,s){return B_(n)||s.isEqual(Ce.min())?J.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,s)?J.resolve(null):(Qo()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Yo(n)),this.hs(e,l,n,x2(s,tu)).next(h=>h))})}cs(e,n){let r=new xt(RI(e));return n.forEach((s,a)=>{md(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return Qo()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.ns.getDocumentsMatchingQuery(e,n,Xi.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",lD=3e8;class uD{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ht(je),this.Is=new eo(a=>lg(a),ug),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function cD(t,e,n,r){return new uD(t,e,n,r)}async function JI(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let d=Oe();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:h}))})})}function hD(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,p,g){const _=p.batch,T=_.keys();let S=J.resolve();return T.forEach(x=>{S=S.next(()=>g.getEntry(d,x)).next(D=>{const P=p.docVersions.get(x);Ke(P!==null),D.version.compareTo(P)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),g.addEntry(D)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Oe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ZI(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function dD(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const T=s.get(_);if(!T)return;h.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,_)));let S=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(zt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(_,S),function(D,P,N){return D.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=lD?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(T,S,g)&&h.push(n.Hr.updateTargetData(a,S))});let d=li(),p=Oe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(fD(a,l,e.documentUpdates).next(g=>{d=g.Vs,p=g.fs})),!r.isEqual(Ce.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(_=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return J.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.Ts=s,a))}function fD(t,e,n){let r=Oe(),s=Oe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=li();return n.forEach((h,d)=>{const p=a.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):ce(_g,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Vs:l,fs:s}})}function pD(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mD(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,J.resolve(s)):n.Hr.allocateTargetId(r).next(l=>(s=new $i(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function um(t,e,n){const r=Pe(t),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!ka(l))throw l;ce(_g,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function ew(t,e,n){const r=Pe(t);let s=Ce.min(),a=Oe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,g){const _=Pe(d),T=_.Is.get(g);return T!==void 0?J.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Pr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,h.targetId).next(d=>{a=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?s:Ce.min(),n?a:Oe())).next(h=>(gD(r,tN(e),h),{documents:h,gs:a})))}function gD(t,e,n){let r=t.Es.get(e)||Ce.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class tw{constructor(){this.activeTargetIds=aN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yD{constructor(){this.ho=new tw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new tw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="ConnectivityMonitor";class rw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(nw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function cm(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",_D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Lh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,a){const l=cm(),h=this.bo(e,n.toUriEncodedString());ce(Ap,`Sending RPC '${e}' ${l}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,h,d,r).then(p=>(ce(Ap,`Received RPC '${e}' ${l}: `,p),p),p=>{throw ha(Ap,`RPC '${e}' ${l} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,n,r,s,a,l){return this.So(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,n){const r=_D[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class ED extends wD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=cm();return new Promise((l,h)=>{const d=new sI;d.setWithCredentials(!0),d.listenOnce(oI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case gh.NO_ERROR:const g=d.getResponseJson();ce(qt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case gh.TIMEOUT:ce(qt,`RPC '${e}' ${a} timed out`),h(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const _=d.getStatus();if(ce(qt,`RPC '${e}' ${a} failed with status:`,_,"response text:",d.getResponseText()),_>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const x=function(P){const N=P.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(N)>=0?N:re.UNKNOWN}(S.status);h(new ye(x,S.message))}else h(new ye(re.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(qt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ce(qt,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",p,r,15)})}Wo(e,n,r){const s=cm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=uI(),h=lI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");ce(qt,`Creating RPC '${e}' stream ${s}: ${g}`,d);const _=l.createWebChannel(g,d);let T=!1,S=!1;const x=new TD({Fo:P=>{S?ce(qt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(T||(ce(qt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),T=!0),ce(qt,`RPC '${e}' stream ${s} sending:`,P),_.send(P))},Mo:()=>_.close()}),D=(P,N,j)=>{P.listen(N,U=>{try{j(U)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(_,Vl.EventType.OPEN,()=>{S||(ce(qt,`RPC '${e}' stream ${s} transport opened.`),x.Qo())}),D(_,Vl.EventType.CLOSE,()=>{S||(S=!0,ce(qt,`RPC '${e}' stream ${s} transport closed`),x.Ko())}),D(_,Vl.EventType.ERROR,P=>{S||(S=!0,ha(qt,`RPC '${e}' stream ${s} transport errored:`,P),x.Ko(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),D(_,Vl.EventType.MESSAGE,P=>{var N;if(!S){const j=P.data[0];Ke(!!j);const U=j,Q=(U==null?void 0:U.error)||((N=U[0])===null||N===void 0?void 0:N.error);if(Q){ce(qt,`RPC '${e}' stream ${s} received error:`,Q);const Y=Q.status;let Z=function(R){const L=wt[R];if(L!==void 0)return UI(L)}(Y),k=Q.message;Z===void 0&&(Z=re.INTERNAL,k="Unknown error status: "+Y+" with message "+Q.message),S=!0,x.Ko(new ye(Z,k)),_.close()}else ce(qt,`RPC '${e}' stream ${s} received:`,j),x.Uo(j)}}),D(h,aI.STAT_EVENT,P=>{P.stat===Zp.PROXY?ce(qt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Zp.NOPROXY&&ce(qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new CN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="PersistentStream";class t1{constructor(e,n,r,s,a,l,h,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new e1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new ye(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(iw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(iw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ID extends t1{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=RN(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?xr(l.readTime):Ce.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=lm(this.serializer),n.addTarget=function(a,l){let h;const d=l.target;if(h=rm(d)?{documents:NN(a,d)}:{query:DN(a,d).ht},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=$I(a,l.resumeToken);const p=sm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){h.readTime=Bh(a,l.snapshotVersion.toTimestamp());const p=sm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=LN(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.I_(n)}}class SD extends t1{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=bN(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=lm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kN(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{}class CD extends AD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,om(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(re.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Co(e,om(n,r),s,l,h,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(re.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class PD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ai(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class xD{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{to(this)&&(ce(Gs,"Restarting streams for network reachability change."),await async function(d){const p=Pe(d);p.W_.add(4),await Pu(p),p.j_.set("Unknown"),p.W_.delete(4),await wd(p)}(this))})}),this.j_=new PD(r,s)}}async function wd(t){if(to(t))for(const e of t.G_)await e(!0)}async function Pu(t){for(const e of t.G_)await e(!1)}function n1(t,e){const n=Pe(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Ig(n)?Eg(n):ba(n).c_()&&Tg(n,e))}function wg(t,e){const n=Pe(t),r=ba(n);n.U_.delete(e),r.c_()&&r1(n,e),n.U_.size===0&&(r.c_()?r.P_():to(n)&&n.j_.set("Unknown"))}function Tg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ba(t).y_(e)}function r1(t,e){t.H_.Ne(e),ba(t).w_(e)}function Eg(t){t.H_=new EN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ba(t).start(),t.j_.B_()}function Ig(t){return to(t)&&!ba(t).u_()&&t.U_.size>0}function to(t){return Pe(t).W_.size===0}function i1(t){t.H_=void 0}async function RD(t){t.j_.set("Online")}async function kD(t){t.U_.forEach((e,n)=>{Tg(t,e)})}async function bD(t,e){i1(t),Ig(t)?(t.j_.q_(e),Eg(t)):t.j_.set("Unknown")}async function ND(t,e,n){if(t.j_.set("Online"),e instanceof zI&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const h of a.targetIds)s.U_.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.U_.delete(h),s.H_.removeTarget(h))}(t,e)}catch(r){ce(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $h(t,r)}else if(e instanceof wh?t.H_.We(e):e instanceof BI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ce.min()))try{const r=await ZI(t.localStore);n.compareTo(r)>=0&&await function(a,l){const h=a.H_.ot(l);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,p)=>{const g=a.U_.get(d);if(!g)return;a.U_.set(d,g.withResumeToken(zt.EMPTY_BYTE_STRING,g.snapshotVersion)),r1(a,d);const _=new $i(g.target,d,p,g.sequenceNumber);Tg(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){ce(Gs,"Failed to raise snapshot:",r),await $h(t,r)}}async function $h(t,e,n){if(!ka(e))throw e;t.W_.add(1),await Pu(t),t.j_.set("Offline"),n||(n=()=>ZI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(Gs,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await wd(t)})}function s1(t,e){return e().catch(n=>$h(t,n,e))}async function Td(t){const e=Pe(t),n=ts(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:sg;for(;DD(e);)try{const s=await pD(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,VD(e,s)}catch(s){await $h(e,s)}o1(e)&&a1(e)}function DD(t){return to(t)&&t.K_.length<10}function VD(t,e){t.K_.push(e);const n=ts(t);n.c_()&&n.S_&&n.b_(e.mutations)}function o1(t){return to(t)&&!ts(t).u_()&&t.K_.length>0}function a1(t){ts(t).start()}async function LD(t){ts(t).C_()}async function OD(t){const e=ts(t);for(const n of t.K_)e.b_(n.mutations)}async function MD(t,e,n){const r=t.K_.shift(),s=fg.from(r,e,n);await s1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Td(t)}async function jD(t,e){e&&ts(t).S_&&await async function(r,s){if(function(l){return _N(l)&&l!==re.ABORTED}(s.code)){const a=r.K_.shift();ts(r).h_(),await s1(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Td(r)}}(t,e),o1(t)&&a1(t)}async function sw(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ce(Gs,"RemoteStore received new credentials");const r=to(n);n.W_.add(3),await Pu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await wd(n)}async function FD(t,e){const n=Pe(t);e?(n.W_.delete(2),await wd(n)):e||(n.W_.add(2),await Pu(n),n.j_.set("Unknown"))}function ba(t){return t.J_||(t.J_=function(n,r,s){const a=Pe(n);return a.M_(),new ID(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:RD.bind(null,t),No:kD.bind(null,t),Lo:bD.bind(null,t),p_:ND.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Ig(t)?Eg(t):t.j_.set("Unknown")):(await t.J_.stop(),i1(t))})),t.J_}function ts(t){return t.Y_||(t.Y_=function(n,r,s){const a=Pe(n);return a.M_(),new SD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:LD.bind(null,t),Lo:jD.bind(null,t),D_:OD.bind(null,t),v_:MD.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Td(t)):(await t.Y_.stop(),t.K_.length>0&&(ce(Gs,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,h=new Sg(e,n,l,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(t,e){if(ai("AsyncQueue",`${e}: ${t}`),ka(t))return new ye(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{static emptySet(e){return new la(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Ll(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof la)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new la;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.Z_=new ht(we.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ga{constructor(e,n,r,s,a,l,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new ga(e,n,la.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class BD{constructor(){this.queries=aw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=Pe(n),a=s.queries;s.queries=aw(),a.forEach((l,h)=>{for(const d of h.ta)d.onError(r)})})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function aw(){return new eo(t=>xI(t),pd)}async function zD(t,e){const n=Pe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new UD,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const h=Ag(l,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&Cg(n)}async function $D(t,e){const n=Pe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HD(t,e){const n=Pe(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const h of l.ta)h.oa(s)&&(r=!0);l.ea=s}}r&&Cg(n)}function WD(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function Cg(t){t.ia.forEach(e=>{e.next()})}var hm,lw;(lw=hm||(hm={}))._a="default",lw.Cache="cache";class KD{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.key=e}}class u1{constructor(e){this.key=e}}class qD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Oe(),this.mutatedKeys=Oe(),this.ya=RI(e),this.wa=new la(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new ow,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const T=s.get(g),S=md(this.query,_)?_:null,x=!!T&&this.mutatedKeys.has(T.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;T&&S?T.data.isEqual(S.data)?x!==D&&(r.track({type:3,doc:S}),P=!0):this.va(T,S)||(r.track({type:2,doc:S}),P=!0,(d&&this.ya(S,d)>0||p&&this.ya(S,p)<0)&&(h=!0)):!T&&S?(r.track({type:0,doc:S}),P=!0):T&&!S&&(r.track({type:1,doc:T}),P=!0,(d||p)&&(h=!0)),P&&(S?(l=l.add(S),a=D?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:h,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(S,x){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return D(S)-D(x)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),s=s!=null&&s;const h=n&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,p=d!==this.ga;return this.ga=d,l.length!==0||p?{snapshot:new ga(this.query,e.wa,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ow,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Oe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new u1(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new l1(r))}),n}Oa(e){this.fa=e.gs,this.pa=Oe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ga.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pg="SyncEngine";class GD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QD{constructor(e){this.key=e,this.Ba=!1}}class YD{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new eo(h=>xI(h),pd),this.qa=new Map,this.Qa=new Set,this.$a=new ht(we.comparator),this.Ka=new Map,this.Ua=new gg,this.Wa={},this.Ga=new Map,this.za=ma.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function XD(t,e,n=!0){const r=m1(t);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await c1(r,e,n,!0),s}async function JD(t,e){const n=m1(t);await c1(n,e,!0,!1)}async function c1(t,e,n,r){const s=await mD(t.localStore,Pr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await ZD(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&n1(t.remoteStore,s),h}async function ZD(t,e,n,r,s){t.Ha=(_,T,S)=>async function(D,P,N,j){let U=P.view.ba(N);U.ls&&(U=await ew(D.localStore,P.query,!1).then(({documents:k})=>P.view.ba(k,U)));const Q=j&&j.targetChanges.get(P.targetId),Y=j&&j.targetMismatches.get(P.targetId)!=null,Z=P.view.applyChanges(U,D.isPrimaryClient,Q,Y);return cw(D,P.targetId,Z.Ma),Z.snapshot}(t,_,T,S);const a=await ew(t.localStore,e,!0),l=new qD(e,a.gs),h=l.ba(a.documents),d=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(h,t.isPrimaryClient,d);cw(t,n,p.Ma);const g=new GD(e,n,l);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function eV(t,e,n){const r=Pe(t),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!pd(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await um(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wg(r.remoteStore,s.targetId),dm(r,s.targetId)}).catch(Ra)):(dm(r,s.targetId),await um(r.localStore,s.targetId,!0))}async function tV(t,e){const n=Pe(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wg(n.remoteStore,r.targetId))}async function nV(t,e,n){const r=uV(t);try{const s=await function(l,h){const d=Pe(l),p=Pt.now(),g=h.reduce((S,x)=>S.add(x.key),Oe());let _,T;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let x=li(),D=Oe();return d.ds.getEntries(S,g).next(P=>{x=P,x.forEach((N,j)=>{j.isValidDocument()||(D=D.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,x)).next(P=>{_=P;const N=[];for(const j of h){const U=pN(j,_.get(j.key).overlayedDocument);U!=null&&N.push(new ls(j.key,U,TI(U.value.mapValue),ar.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,N,h)}).next(P=>{T=P;const N=P.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(S,P.batchId,N)})}).then(()=>({batchId:T.batchId,changes:bI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,h,d){let p=l.Wa[l.currentUser.toKey()];p||(p=new ht(je)),p=p.insert(h,d),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,n),await xu(r,s.changes),await Td(r.remoteStore)}catch(s){const a=Ag(s,"Failed to persist write");n.reject(a)}}async function h1(t,e){const n=Pe(t);try{const r=await dD(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Ka.get(a);l&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Ke(l.Ba):s.removedDocuments.size>0&&(Ke(l.Ba),l.Ba=!1))}),await xu(n,r,e)}catch(r){await Ra(r)}}function uw(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,l)=>{const h=l.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const d=Pe(l);d.onlineState=h;let p=!1;d.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(h)&&(p=!0)}),p&&Cg(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rV(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),a=s&&s.key;if(a){let l=new ht(we.comparator);l=l.insert(a,Yt.newNoDocument(a,Ce.min()));const h=Oe().add(a),d=new vd(Ce.min(),new Map,new ht(je),l,h);await h1(r,d),r.$a=r.$a.remove(a),r.Ka.delete(e),xg(r)}else await um(r.localStore,e,!1).then(()=>dm(r,e,n)).catch(Ra)}async function iV(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await hD(n.localStore,e);f1(n,r,null),d1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xu(n,s)}catch(s){await Ra(s)}}async function sV(t,e,n){const r=Pe(t);try{const s=await function(l,h){const d=Pe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,h).next(_=>(Ke(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(r.localStore,e);f1(r,e,n),d1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xu(r,s)}catch(s){await Ra(s)}}function d1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function f1(t,e,n){const r=Pe(t);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function dm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||p1(t,r)})}function p1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(wg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),xg(t))}function cw(t,e,n){for(const r of n)r instanceof l1?(t.Ua.addReference(r.key,e),oV(t,r)):r instanceof u1?(ce(Pg,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||p1(t,r.key)):Se()}function oV(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ce(Pg,"New document in limbo: "+n),t.Qa.add(r),xg(t))}function xg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new we(st.fromString(e)),r=t.za.next();t.Ka.set(r,new QD(n)),t.$a=t.$a.insert(n,r),n1(t.remoteStore,new $i(Pr(cg(n.path)),r,"TargetPurposeLimboResolution",cd.ae))}}async function xu(t,e,n){const r=Pe(t),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{l.push(r.Ha(d,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){s.push(p);const _=vg.Yi(d.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(s),await async function(d,p){const g=Pe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>J.forEach(p,T=>J.forEach(T.Hi,S=>g.persistence.referenceDelegate.addReference(_,T.targetId,S)).next(()=>J.forEach(T.Ji,S=>g.persistence.referenceDelegate.removeReference(_,T.targetId,S)))))}catch(_){if(!ka(_))throw _;ce(_g,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const S=g.Ts.get(T),x=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(x);g.Ts=g.Ts.insert(T,D)}}}(r.localStore,a))}async function aV(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ce(Pg,"User change. New user:",e.toKey());const r=await JI(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(h=>{h.forEach(d=>{d.reject(new ye(re.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(n,r.Rs)}}function lV(t,e){const n=Pe(t),r=n.Ka.get(e);if(r&&r.Ba)return Oe().add(r.key);{let s=Oe();const a=n.qa.get(e);if(!a)return s;for(const l of a){const h=n.ka.get(l);s=s.unionWith(h.view.Sa)}return s}}function m1(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rV.bind(null,e),e.La.p_=HD.bind(null,e.eventManager),e.La.Ja=WD.bind(null,e.eventManager),e}function uV(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sV.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return cD(this.persistence,new aD,e.initialUser,this.serializer)}Xa(e){return new XI(yg.ri,this.serializer)}Za(e){return new yD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class cV extends Hh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof zh);const r=this.persistence.referenceDelegate.garbageCollector;return new KN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new XI(r=>zh.ri(r,n),this.serializer)}}class fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aV.bind(null,this.syncEngine),await FD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BD}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),r=function(a){return new ED(a)}(e.databaseInfo);return function(a,l,h,d){return new CD(a,l,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,h){return new xD(r,s,a,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>uw(this.syncEngine,n,0),function(){return rw.D()?new rw:new vD}())}createSyncEngine(e,n){return function(s,a,l,h,d,p,g){const _=new YD(s,a,l,h,d,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Pe(s);ce(Gs,"RemoteStore shutting down."),a.W_.add(5),await Pu(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class dV{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Qt.UNAUTHENTICATED,this.clientId=hI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ce(ns,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ce(ns,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ag(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pp(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ns,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await JI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fV(t);ce(ns,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>sw(e.remoteStore,s)),t._onlineComponents=e}async function fV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ns,"Using user provided OfflineComponentProvider");try{await Pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ha("Error using user provided cache. Falling back to memory cache: "+n),await Pp(t,new Hh)}}else ce(ns,"Using default OfflineComponentProvider"),await Pp(t,new cV(void 0));return t._offlineComponents}async function g1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ns,"Using user provided OnlineComponentProvider"),await hw(t,t._uninitializedComponentsProvider._online)):(ce(ns,"Using default OnlineComponentProvider"),await hw(t,new fm))),t._onlineComponents}function pV(t){return g1(t).then(e=>e.syncEngine)}async function dw(t){const e=await g1(t),n=e.eventManager;return n.onListen=XD.bind(null,e.syncEngine),n.onUnlisten=eV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tV.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mV(t,e,n,r){if(e===!0&&r===!0)throw new ye(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pw(t){if(!we.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mw(t){if(we.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rg(t);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firestore.googleapis.com",gw=!0;class yw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_1,this.ssl=gw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:gw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HN)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ed{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w2;switch(r.type){case"firstParty":return new S2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fw.get(n);r&&(ce("ComponentProvider","Removing Datastore"),fw.delete(n),r.terminate())}(this),Promise.resolve()}}function gV(t,e,n,r={}){var s;const a=(t=Gi(t,Ed))._getSettings(),l=`${e}:${n}`;if(a.host!==_1&&a.host!==l&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Qt.MOCK_USER;else{h=Ox(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Qt(p)}t._authCredentials=new T2(new cI(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Id(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Qi extends Id{constructor(e,n,r){super(e,n,cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new we(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function pm(t,e,...n){if(t=Rt(t),v1("collection","path",e),t instanceof Ed){const r=st.fromString(e,...n);return mw(r),new Qi(t,null,r)}{if(!(t instanceof Pn||t instanceof Qi))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return mw(r),new Qi(t.firestore,null,r)}}function mm(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=hI.newId()),v1("doc","path",e),t instanceof Ed){const r=st.fromString(e,...n);return pw(r),new Pn(t,null,new we(r))}{if(!(t instanceof Pn||t instanceof Qi))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return pw(r),new Pn(t.firestore,t instanceof Qi?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="AsyncQueue";class _w{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new e1(this,"async_queue_retry"),this.Su=()=>{const r=Cp();r&&ce(vw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new $s;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ka(e))throw e;ce(vw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(r);throw ai("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Sg.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function ww(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ya extends Ed{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new _w,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _w(e),this._firestoreClient=void 0,await e}}}function yV(t,e){const n=typeof t=="object"?t:TE(),r=typeof t=="string"?t:Lh,s=Tu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Vx("firestore");a&&gV(s,...a)}return s}function w1(t){if(t._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vV(t),t._firestoreClient}function vV(t){var e,n,r;const s=t._freezeSettings(),a=function(h,d,p,g){return new j2(h,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,y1(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new dV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(zt.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new va(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=/^__.*__$/;class wV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class T1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function E1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Dg{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(E1(this.Lu)&&_V.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class TV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_d(e)}ju(e,n,r,s=!1){return new Dg({Lu:e,methodName:n,zu:r,path:Bt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I1(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new TV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EV(t,e,n,r,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,s);Vg("Data must be an object, but it was:",l,r);const h=S1(r,l);let d,p;if(a.merge)d=new Cn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=gm(e,_,n);if(!l.contains(T))throw new ye(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);C1(g,T)||g.push(T)}d=new Cn(g),p=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=l.fieldTransforms;return new wV(new yn(h),d,p)}class Ad extends kg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}function IV(t,e,n,r){const s=t.ju(1,e,n);Vg("Data must be an object, but it was:",s,r);const a=[],l=yn.empty();as(r,(d,p)=>{const g=Lg(e,d,n);p=Rt(p);const _=s.Ku(g);if(p instanceof Ad)a.push(g);else{const T=Cd(p,_);T!=null&&(a.push(g),l.set(g,T))}});const h=new Cn(a);return new T1(l,h,s.fieldTransforms)}function SV(t,e,n,r,s,a){const l=t.ju(1,e,n),h=[gm(e,r,n)],d=[s];if(a.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(gm(e,a[T])),d.push(a[T+1]);const p=[],g=yn.empty();for(let T=h.length-1;T>=0;--T)if(!C1(p,h[T])){const S=h[T];let x=d[T];x=Rt(x);const D=l.Ku(S);if(x instanceof Ad)p.push(S);else{const P=Cd(x,D);P!=null&&(p.push(S),g.set(S,P))}}const _=new Cn(p);return new T1(g,_,l.fieldTransforms)}function Cd(t,e){if(A1(t=Rt(t)))return Vg("Unsupported field value:",e,t),S1(t,e);if(t instanceof kg)return function(r,s){if(!E1(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const h of r){let d=Cd(h,s.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:Bh(s.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bh(s.serializer,a)}}if(r instanceof bg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof va)return{bytesValue:$I(s.serializer,r._byteString)};if(r instanceof Pn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ng)return function(l,h){return{mapValue:{fields:{[_I]:{stringValue:wI},[Oh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return hg(h.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Rg(r)}`)}(t,e)}function S1(t,e){const n={};return fI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(t,(r,s)=>{const a=Cd(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function A1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof bg||t instanceof va||t instanceof Pn||t instanceof kg||t instanceof Ng)}function Vg(t,e,n){if(!A1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Rg(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function gm(t,e,n){if((e=Rt(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return Lg(t,e);throw Wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const AV=new RegExp("[~\\*/\\[\\]]");function Lg(t,e,n){if(e.search(AV)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sd(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ye(re.INVALID_ARGUMENT,h+t+d)}function C1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CV extends P1{data(){return super.data()}}function x1(t,e){return typeof e=="string"?Lg(t,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xV{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return as(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Oh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>yt(l.doubleValue));return new Ng(a)}convertGeoPoint(e){return new bg(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ke(QI(r));const s=new ru(r.get(1),r.get(3)),a=new we(r.popFirst(5));return s.isEqual(n)||ai(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R1 extends P1{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Th extends R1{data(e={}){return super.data(e)}}class kV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ml(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Th(this._firestore,this._userDataWriter,r.key,r,new Ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const d=new Th(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ml(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const d=new Th(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ml(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:bV(h.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class k1 extends xV{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function NV(t,e,n,...r){t=Gi(t,Pn);const s=Gi(t.firestore,ya),a=I1(s);let l;return l=typeof(e=Rt(e))=="string"||e instanceof Sd?SV(a,"updateDoc",t._key,e,n,r):IV(a,"updateDoc",t._key,e),Og(s,[l.toMutation(t._key,ar.exists(!0))])}function DV(t){return Og(Gi(t.firestore,ya),[new dg(t._key,ar.none())])}function VV(t,e){const n=Gi(t.firestore,ya),r=mm(t),s=RV(t.converter,e);return Og(n,[EV(I1(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function b1(t,...e){var n,r,s;t=Rt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||ww(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ww(e[l])){const _=e[l];e[l]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let d,p,g;if(t instanceof Pn)p=Gi(t.firestore,ya),g=cg(t._key.path),d={next:_=>{e[l]&&e[l](LV(p,t,_))},error:e[l+1],complete:e[l+2]};else{const _=Gi(t,Id);p=Gi(_.firestore,ya),g=_._query;const T=new k1(p);d={next:S=>{e[l]&&e[l](new kV(p,T,_,S))},error:e[l+1],complete:e[l+2]},PV(t._query)}return function(T,S,x,D){const P=new hV(D),N=new KD(S,P,x);return T.asyncQueue.enqueueAndForget(async()=>zD(await dw(T),N)),()=>{P.su(),T.asyncQueue.enqueueAndForget(async()=>$D(await dw(T),N))}}(w1(p),g,h,d)}function Og(t,e){return function(r,s){const a=new $s;return r.asyncQueue.enqueueAndForget(async()=>nV(await pV(r),s,a)),a.promise}(w1(t),e)}function LV(t,e,n){const r=n.docs.get(e._key),s=new k1(t);return new R1(t,s,e._key,r,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){xa=s})(Aa),br(new ur("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new ya(new E2(r.getProvider("auth-internal")),new A2(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),zn(A_,C_,e),zn(A_,C_,"esm2017")})();var OV="firebase",MV="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(OV,MV,"app");const N1="@firebase/installations",Mg="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1e4,V1=`w:${Mg}`,L1="FIS_v2",jV="https://firebaseinstallations.googleapis.com/v1",FV=60*60*1e3,UV="installations",BV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qs=new Js(UV,BV,zV);function O1(t){return t instanceof dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1({projectId:t}){return`${jV}/projects/${t}/installations`}function j1(t){return{token:t.token,requestStatus:2,expiresIn:HV(t.expiresIn),creationTime:Date.now()}}async function F1(t,e){const r=(await e.json()).error;return Qs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function U1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $V(t,{refreshToken:e}){const n=U1(t);return n.append("Authorization",WV(e)),n}async function B1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function HV(t){return Number(t.replace("s","000"))}function WV(t){return`${L1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=M1(t),s=U1(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:L1,appId:t.appId,sdkVersion:V1},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await B1(()=>fetch(r,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:j1(p.authToken)}}else throw await F1("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=/^[cdef][\w-]{21}$/,ym="";function QV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=YV(t);return GV.test(n)?n:ym}catch{return ym}}function YV(t){return qV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;function H1(t,e){const n=Pd(t);W1(n,e),XV(n,e)}function W1(t,e){const n=$1.get(t);if(n)for(const r of n)r(e)}function XV(t,e){const n=JV();n&&n.postMessage({key:t,fid:e}),ZV()}let Bs=null;function JV(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=t=>{W1(t.data.key,t.data.fid)}),Bs}function ZV(){$1.size===0&&Bs&&(Bs.close(),Bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="firebase-installations-database",tL=1,Ys="firebase-installations-store";let xp=null;function jg(){return xp||(xp=_E(eL,tL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ys)}}})),xp}async function Kh(t,e){const n=Pd(t),s=(await jg()).transaction(Ys,"readwrite"),a=s.objectStore(Ys),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&H1(t,e.fid),e}async function K1(t){const e=Pd(t),r=(await jg()).transaction(Ys,"readwrite");await r.objectStore(Ys).delete(e),await r.done}async function xd(t,e){const n=Pd(t),s=(await jg()).transaction(Ys,"readwrite"),a=s.objectStore(Ys),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await s.done,h&&(!l||l.fid!==h.fid)&&H1(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(t){let e;const n=await xd(t.appConfig,r=>{const s=nL(r),a=rL(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===ym?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nL(t){const e=t||{fid:QV(),registrationStatus:0};return q1(e)}function rL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Qs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=iL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sL(t)}:{installationEntry:e}}async function iL(t,e){try{const n=await KV(t,e);return Kh(t.appConfig,n)}catch(n){throw O1(n)&&n.customData.serverCode===409?await K1(t.appConfig):await Kh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function sL(t){let e=await Tw(t.appConfig);for(;e.registrationStatus===1;)await z1(100),e=await Tw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fg(t);return r||n}return e}function Tw(t){return xd(t,e=>{if(!e)throw Qs.create("installation-not-found");return q1(e)})}function q1(t){return oL(t)?{fid:t.fid,registrationStatus:0}:t}function oL(t){return t.registrationStatus===1&&t.registrationTime+D1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL({appConfig:t,heartbeatServiceProvider:e},n){const r=lL(t,n),s=$V(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:V1,appId:t.appId}},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await B1(()=>fetch(r,h));if(d.ok){const p=await d.json();return j1(p)}else throw await F1("Generate Auth Token",d)}function lL(t,{fid:e}){return`${M1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t,e=!1){let n;const r=await xd(t.appConfig,a=>{if(!G1(a))throw Qs.create("not-registered");const l=a.authToken;if(!e&&hL(l))return a;if(l.requestStatus===1)return n=uL(t,e),a;{if(!navigator.onLine)throw Qs.create("app-offline");const h=fL(a);return n=cL(t,h),h}});return n?await n:r.authToken}async function uL(t,e){let n=await Ew(t.appConfig);for(;n.authToken.requestStatus===1;)await z1(100),n=await Ew(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ug(t,e):r}function Ew(t){return xd(t,e=>{if(!G1(e))throw Qs.create("not-registered");const n=e.authToken;return pL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function cL(t,e){try{const n=await aL(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Kh(t.appConfig,r),n}catch(n){if(O1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await K1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Kh(t.appConfig,r)}throw n}}function G1(t){return t!==void 0&&t.registrationStatus===2}function hL(t){return t.requestStatus===2&&!dL(t)}function dL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FV}function fL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function pL(t){return t.requestStatus===1&&t.requestTime+D1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fg(e);return r?r.catch(console.error):Ug(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e=!1){const n=t;return await yL(n),(await Ug(n,e)).token}async function yL(t){const{registrationPromise:e}=await Fg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){if(!t||!t.options)throw Rp("App Configuration");if(!t.name)throw Rp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Rp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Rp(t){return Qs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="installations",_L="installations-internal",wL=t=>{const e=t.getProvider("app").getImmediate(),n=vL(e),r=Tu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},TL=t=>{const e=t.getProvider("app").getImmediate(),n=Tu(e,Q1).getImmediate();return{getId:()=>mL(n),getToken:s=>gL(n,s)}};function EL(){br(new ur(Q1,wL,"PUBLIC")),br(new ur(_L,TL,"PRIVATE"))}EL();zn(N1,Mg);zn(N1,Mg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="analytics",IL="firebase_id",SL="origin",AL=60*1e3,CL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new sd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new Js("analytics","Analytics",PL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){if(!t.startsWith(Bg)){const e=$n.create("invalid-gtag-resource",{gtagURL:t});return vn.warn(e.message),""}return t}function Y1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function RL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kL(t,e){const n=RL("firebase-js-sdk-policy",{createScriptURL:xL}),r=document.createElement("script"),s=`${Bg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function bL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function NL(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await Y1(n)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(h){vn.error(h)}t("config",s,a)}async function DL(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const h=await Y1(n);for(const d of l){const p=h.find(_=>_.measurementId===d),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){vn.error(a)}}function VL(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[h,d]=l;await DL(t,e,n,h,d)}else if(a==="config"){const[h,d]=l;await NL(t,e,n,r,h,d)}else if(a==="consent"){const[h,d]=l;t("consent",h,d)}else if(a==="get"){const[h,d,p]=l;t("get",h,d,p)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){vn.error(h)}}return s}function LL(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=VL(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function OL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Bg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=30,jL=1e3;class FL{constructor(e={},n=jL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const X1=new FL;function UL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function BL(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:UL(r)},a=CL.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let h="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function zL(t,e=X1,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw $n.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw $n.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new WL;return setTimeout(async()=>{h.abort()},AL),J1({appId:r,apiKey:s,measurementId:a},l,h,e)}async function J1(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=X1){var a;const{appId:l,measurementId:h}=t;try{await $L(r,e)}catch(d){if(h)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:h};throw d}try{const d=await BL(t);return s.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!HL(p)){if(s.deleteThrottleMetadata(l),h)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:h};throw d}const g=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?Q0(n,s.intervalMillis,ML):Q0(n,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return s.setThrottleMetadata(l,_),vn.debug(`Calling attemptFetch again in ${g} millis`),J1(t,_,r,s)}}function $L(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HL(t){if(!(t instanceof dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KL(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(){if(mE())try{await gE()}catch(t){return vn.warn($n.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return vn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GL(t,e,n,r,s,a,l){var h;const d=zL(t);d.then(S=>{n[S.measurementId]=S.appId,t.options.measurementId&&S.measurementId!==t.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>vn.error(S)),e.push(d);const p=qL().then(S=>{if(S)return r.getId()}),[g,_]=await Promise.all([d,p]);OL(a)||kL(a,g.measurementId),s("js",new Date);const T=(h=l==null?void 0:l.config)!==null&&h!==void 0?h:{};return T[SL]="firebase",T.update=!0,_!=null&&(T[IL]=_),s("config",g.measurementId,T),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.app=e}_delete(){return delete Kl[this.app.options.appId],Promise.resolve()}}let Kl={},Sw=[];const Aw={};let kp="dataLayer",YL="gtag",Cw,Z1,Pw=!1;function XL(){const t=[];if(pE()&&t.push("This is a browser extension environment."),$x()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=$n.create("invalid-analytics-context",{errorInfo:e});vn.warn(n.message)}}function JL(t,e,n){XL();const r=t.options.appId;if(!r)throw $n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(Kl[r]!=null)throw $n.create("already-exists",{id:r});if(!Pw){bL(kp);const{wrappedGtag:a,gtagCore:l}=LL(Kl,Sw,Aw,kp,YL);Z1=a,Cw=l,Pw=!0}return Kl[r]=GL(t,Sw,Aw,e,Cw,kp,n),new QL(t)}function ZL(t,e,n,r){t=Rt(t),KL(Z1,Kl[t.app.options.appId],e,n,r).catch(s=>vn.error(s))}const xw="@firebase/analytics",Rw="0.10.11";function eO(){br(new ur(Iw,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return JL(r,s,n)},"PUBLIC")),br(new ur("analytics-internal",t,"PRIVATE")),zn(xw,Rw),zn(xw,Rw,"esm2017");function t(e){try{const n=e.getProvider(Iw).getImmediate();return{logEvent:(r,s,a)=>ZL(n,r,s,a)}}catch(n){throw $n.create("interop-component-reg-failed",{reason:n})}}}eO();function eS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=eS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Hs(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=eS(t))&&(r&&(r+=" "),r+=e);return r}function tO(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}tO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ru=t=>typeof t=="number"&&!isNaN(t),Xs=t=>typeof t=="string",ui=t=>typeof t=="function",nO=t=>Xs(t)||Ru(t),vm=t=>Xs(t)||ui(t)?t:null,rO=(t,e)=>t===!1||Ru(t)&&t>0?t:e,_m=t=>O.isValidElement(t)||Xs(t)||ui(t)||Ru(t);function iO(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function sO({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:h,done:d,nodeRef:p,isIn:g,playToast:_}){let T=n?`${t}--${l}`:t,S=n?`${e}--${l}`:e,x=O.useRef(0);return O.useLayoutEffect(()=>{let D=p.current,P=T.split(" "),N=j=>{j.target===p.current&&(_(),D.removeEventListener("animationend",N),D.removeEventListener("animationcancel",N),x.current===0&&j.type!=="animationcancel"&&D.classList.remove(...P))};D.classList.add(...P),D.addEventListener("animationend",N),D.addEventListener("animationcancel",N)},[]),O.useEffect(()=>{let D=p.current,P=()=>{D.removeEventListener("animationend",P),r?iO(D,d,s):d()};g||(h?P():(x.current=1,D.className+=` ${S}`,D.addEventListener("animationend",P)))},[g]),We.createElement(We.Fragment,null,a)}}function kw(t,e){return{content:tS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function tS(t,e,n=!1){return O.isValidElement(t)&&!Xs(t.type)?O.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):ui(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function oO({closeToast:t,theme:e,ariaLabel:n="close"}){return We.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},We.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},We.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function aO({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:a,controlledProgress:l,progress:h,rtl:d,isIn:p,theme:g}){let _=s||l&&h===0,T={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(T.transform=`scaleX(${h})`);let S=Hs("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),x=ui(a)?a({rtl:d,type:r,defaultClassName:S}):Hs(S,a),D={[l&&h>=1?"onTransitionEnd":"onAnimationEnd"]:l&&h<1?null:()=>{p&&n()}};return We.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},We.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),We.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:x,style:T,...D}))}var lO=1,nS=()=>`${lO++}`;function uO(t,e,n){let r=1,s=0,a=[],l=[],h=e,d=new Map,p=new Set,g=j=>(p.add(j),()=>p.delete(j)),_=()=>{l=Array.from(d.values()),p.forEach(j=>j())},T=({containerId:j,toastId:U,updateId:Q})=>{let Y=j?j!==t:t!==1,Z=d.has(U)&&Q==null;return Y||Z},S=(j,U)=>{d.forEach(Q=>{var Y;(U==null||U===Q.props.toastId)&&((Y=Q.toggle)==null||Y.call(Q,j))})},x=j=>{var U,Q;(Q=(U=j.props)==null?void 0:U.onClose)==null||Q.call(U,j.removalReason),j.isActive=!1},D=j=>{if(j==null)d.forEach(x);else{let U=d.get(j);U&&x(U)}_()},P=()=>{s-=a.length,a=[]},N=j=>{var U,Q;let{toastId:Y,updateId:Z}=j.props,k=Z==null;j.staleId&&d.delete(j.staleId),j.isActive=!0,d.set(Y,j),_(),n(kw(j,k?"added":"updated")),k&&((Q=(U=j.props).onOpen)==null||Q.call(U))};return{id:t,props:h,observe:g,toggle:S,removeToast:D,toasts:d,clearQueue:P,buildToast:(j,U)=>{if(T(U))return;let{toastId:Q,updateId:Y,data:Z,staleId:k,delay:A}=U,R=Y==null;R&&s++;let L={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(U).filter(([z,V])=>V!=null)),toastId:Q,updateId:Y,data:Z,isIn:!1,className:vm(U.className||h.toastClassName),progressClassName:vm(U.progressClassName||h.progressClassName),autoClose:U.isLoading?!1:rO(U.autoClose,h.autoClose),closeToast(z){d.get(Q).removalReason=z,D(Q)},deleteToast(){let z=d.get(Q);if(z!=null){if(n(kw(z,"removed")),d.delete(Q),s--,s<0&&(s=0),a.length>0){N(a.shift());return}_()}}};L.closeButton=h.closeButton,U.closeButton===!1||_m(U.closeButton)?L.closeButton=U.closeButton:U.closeButton===!0&&(L.closeButton=_m(h.closeButton)?h.closeButton:!0);let F={content:j,props:L,staleId:k};h.limit&&h.limit>0&&s>h.limit&&R?a.push(F):Ru(A)?setTimeout(()=>{N(F)},A):N(F)},setProps(j){h=j},setToggle:(j,U)=>{let Q=d.get(j);Q&&(Q.toggle=U)},isToastActive:j=>{var U;return(U=d.get(j))==null?void 0:U.isActive},getSnapshot:()=>l}}var rn=new Map,au=[],wm=new Set,cO=t=>wm.forEach(e=>e(t)),rS=()=>rn.size>0;function hO(){au.forEach(t=>sS(t.content,t.options)),au=[]}var dO=(t,{containerId:e})=>{var n;return(n=rn.get(e||1))==null?void 0:n.toasts.get(t)};function iS(t,e){var n;if(e)return!!((n=rn.get(e))!=null&&n.isToastActive(t));let r=!1;return rn.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function fO(t){if(!rS()){au=au.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||nO(t))rn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=rn.get(t.containerId);e?e.removeToast(t.id):rn.forEach(n=>{n.removeToast(t.id)})}}var pO=(t={})=>{rn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function sS(t,e){_m(t)&&(rS()||au.push({content:t,options:e}),rn.forEach(n=>{n.buildToast(t,e)}))}function mO(t){var e;(e=rn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function oS(t,e){rn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function gO(t){let e=t.containerId||1;return{subscribe(n){let r=uO(e,t,cO);rn.set(e,r);let s=r.observe(n);return hO(),()=>{s(),rn.delete(e)}},setProps(n){var r;(r=rn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=rn.get(e))==null?void 0:n.getSnapshot()}}}function yO(t){return wm.add(t),()=>{wm.delete(t)}}function vO(t){return t&&(Xs(t.toastId)||Ru(t.toastId))?t.toastId:nS()}function ku(t,e){return sS(t,e),e.toastId}function Rd(t,e){return{...e,type:e&&e.type||t,toastId:vO(e)}}function kd(t){return(e,n)=>ku(e,Rd(t,n))}function Ne(t,e){return ku(t,Rd("default",e))}Ne.loading=(t,e)=>ku(t,Rd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function _O(t,{pending:e,error:n,success:r},s){let a;e&&(a=Xs(e)?Ne.loading(e,s):Ne.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,g,_)=>{if(g==null){Ne.dismiss(a);return}let T={type:p,...l,...s,data:_},S=Xs(g)?{render:g}:g;return a?Ne.update(a,{...T,...S}):Ne(S.render,{...T,...S}),_},d=ui(t)?t():t;return d.then(p=>h("success",r,p)).catch(p=>h("error",n,p)),d}Ne.promise=_O;Ne.success=kd("success");Ne.info=kd("info");Ne.error=kd("error");Ne.warning=kd("warning");Ne.warn=Ne.warning;Ne.dark=(t,e)=>ku(t,Rd("default",{theme:"dark",...e}));function wO(t){fO(t)}Ne.dismiss=wO;Ne.clearWaitingQueue=pO;Ne.isActive=iS;Ne.update=(t,e={})=>{let n=dO(t,e);if(n){let{props:r,content:s}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:nS()};a.toastId!==t&&(a.staleId=t);let l=a.render||s;delete a.render,ku(l,a)}};Ne.done=t=>{Ne.update(t,{progress:1})};Ne.onChange=yO;Ne.play=t=>oS(!0,t);Ne.pause=t=>oS(!1,t);function TO(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=O.useRef(gO(t)).current;s(t);let a=(e=O.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(h){if(!a)return[];let d=new Map;return t.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:g}=p.props;d.has(g)||d.set(g,[]),d.get(g).push(p)}),Array.from(d,p=>h(p[0],p[1]))}return{getToastToRender:l,isToastActive:iS,count:a==null?void 0:a.length}}function EO(t){let[e,n]=O.useState(!1),[r,s]=O.useState(!1),a=O.useRef(null),l=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:p,onClick:g,closeOnClick:_}=t;mO({id:t.toastId,containerId:t.containerId,fn:n}),O.useEffect(()=>{if(t.pauseOnFocusLoss)return T(),()=>{S()}},[t.pauseOnFocusLoss]);function T(){document.hasFocus()||N(),window.addEventListener("focus",P),window.addEventListener("blur",N)}function S(){window.removeEventListener("focus",P),window.removeEventListener("blur",N)}function x(k){if(t.draggable===!0||t.draggable===k.pointerType){j();let A=a.current;l.canCloseOnClick=!0,l.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(l.start=k.clientX,l.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(l.start=k.clientY,l.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function D(k){let{top:A,bottom:R,left:L,right:F}=a.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&k.clientX>=L&&k.clientX<=F&&k.clientY>=A&&k.clientY<=R?N():P()}function P(){n(!0)}function N(){n(!1)}function j(){l.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",Y)}function U(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",Y)}function Q(k){let A=a.current;if(l.canDrag&&A){l.didMove=!0,e&&N(),t.draggableDirection==="x"?l.delta=k.clientX-l.start:l.delta=k.clientY-l.start,l.start!==k.clientX&&(l.canCloseOnClick=!1);let R=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;A.style.transform=`translate3d(${R},0)`,A.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function Y(){U();let k=a.current;if(l.canDrag&&l.didMove&&k){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let Z={onPointerDown:x,onPointerUp:D};return h&&d&&(Z.onMouseEnter=N,t.stacked||(Z.onMouseLeave=P)),_&&(Z.onClick=k=>{g&&g(k),l.canCloseOnClick&&p(!0)}),{playToast:P,pauseToast:N,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:Z}}var IO=typeof window<"u"?O.useLayoutEffect:O.useEffect,bd=({theme:t,type:e,isLoading:n,...r})=>We.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function SO(t){return We.createElement(bd,{...t},We.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function AO(t){return We.createElement(bd,{...t},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function CO(t){return We.createElement(bd,{...t},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PO(t){return We.createElement(bd,{...t},We.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function xO(){return We.createElement("div",{className:"Toastify__spinner"})}var Tm={info:AO,warning:SO,success:CO,error:PO,spinner:xO},RO=t=>t in Tm;function kO({theme:t,type:e,isLoading:n,icon:r}){let s=null,a={theme:t,type:e};return r===!1||(ui(r)?s=r({...a,isLoading:n}):O.isValidElement(r)?s=O.cloneElement(r,a):n?s=Tm.spinner():RO(e)&&(s=Tm[e](a))),s}var bO=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:a}=EO(t),{closeButton:l,children:h,autoClose:d,onClick:p,type:g,hideProgressBar:_,closeToast:T,transition:S,position:x,className:D,style:P,progressClassName:N,updateId:j,role:U,progress:Q,rtl:Y,toastId:Z,deleteToast:k,isIn:A,isLoading:R,closeOnClick:L,theme:F,ariaLabel:z}=t,V=Hs("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":L}),Ge=ui(D)?D({rtl:Y,position:x,type:g,defaultClassName:V}):Hs(V,D),at=kO(t),Qe=!!Q||!d,Te={closeToast:T,type:g,theme:F},ne=null;return l===!1||(ui(l)?ne=l(Te):O.isValidElement(l)?ne=O.cloneElement(l,Te):ne=oO(Te)),We.createElement(S,{isIn:A,done:k,position:x,preventExitTransition:n,nodeRef:r,playToast:a},We.createElement("div",{id:Z,tabIndex:0,onClick:p,"data-in":A,className:Ge,...s,style:P,ref:r,...A&&{role:U,"aria-label":z}},at!=null&&We.createElement("div",{className:Hs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},at),tS(h,t,!e),ne,!t.customProgressBar&&We.createElement(aO,{...j&&!Qe?{key:`p-${j}`}:{},rtl:Y,theme:F,delay:d,isRunning:e,isIn:A,closeToast:T,hide:_,type:g,className:N,controlledProgress:Qe,progress:Q||0})))},NO=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),DO=sO(NO("bounce",!0)),VO={position:"top-right",transition:DO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function aS(t){let e={...VO,...t},n=t.stacked,[r,s]=O.useState(!0),a=O.useRef(null),{getToastToRender:l,isToastActive:h,count:d}=TO(e),{className:p,style:g,rtl:_,containerId:T,hotKeys:S}=e;function x(P){let N=Hs("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":_});return ui(p)?p({position:P,rtl:_,defaultClassName:N}):Hs(N,vm(p))}function D(){n&&(s(!0),Ne.play())}return IO(()=>{var P;if(n){let N=a.current.querySelectorAll('[data-in="true"]'),j=12,U=(P=e.position)==null?void 0:P.includes("top"),Q=0,Y=0;Array.from(N).reverse().forEach((Z,k)=>{let A=Z;A.classList.add("Toastify__toast--stacked"),k>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=U?"top":"bot");let R=Q*(r?.2:1)+(r?0:j*k);A.style.setProperty("--y",`${U?R:R*-1}px`),A.style.setProperty("--g",`${j}`),A.style.setProperty("--s",`${1-(r?Y:0)}`),Q+=A.offsetHeight,Y+=.025})}},[r,d,n]),O.useEffect(()=>{function P(N){var j;let U=a.current;S(N)&&((j=U.querySelector('[tabIndex="0"]'))==null||j.focus(),s(!1),Ne.pause()),N.key==="Escape"&&(document.activeElement===U||U!=null&&U.contains(document.activeElement))&&(s(!0),Ne.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[S]),We.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{n&&(s(!1),Ne.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((P,N)=>{let j=N.length?{...g}:{...g,pointerEvents:"none"};return We.createElement("div",{tabIndex:-1,className:x(P),"data-stacked":n,style:j,key:`c-${P}`},N.map(({content:U,props:Q})=>We.createElement(bO,{...Q,stacked:n,collapseAll:D,isIn:h(Q.toastId,Q.containerId),key:`t-${Q.key}`},U)))}))}const LO={apiKey:"AIzaSyBc8RjtuaZOMWn4AA9ovmw1OOLDbwlSwWM",authDomain:"wildcats-express-pos.firebaseapp.com",databaseURL:"https://wildcats-express-pos-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wildcats-express-pos",storageBucket:"wildcats-express-pos.firebasestorage.app",messagingSenderId:"908404798026",appId:"1:908404798026:web:c14da08358320310f5ecb3",measurementId:"G-30FN1V543L"},lS=wE(LO),bu=v2(lS),jl=yV(lS);var ua,gu,td,uS;class OO{constructor(){Xc(this,td);Xc(this,ua,"wildcats_express.admin@cit.edu");Xc(this,gu,"wildcats.admin")}async login(e,n){if(b0(this,td,uS).call(this,e,n))return await this.signInAdmin();throw new Error("Invalid admin credentials!")}async signInAdmin(){try{const e=await ib(bu,Go(this,ua),Go(this,gu));return console.log("Admin logged in:",e.user),e.user}catch(e){throw new Error("Error during login: "+e.message)}}isAdminEmail(e){return e===Go(this,ua)}}ua=new WeakMap,gu=new WeakMap,td=new WeakSet,uS=function(e,n){return e===Go(this,ua)&&n===Go(this,gu)};const cS=new OO;tg(bu,t=>{t&&(cS.isAdminEmail(t.email)?window.location.pathname!=="/admin-page"&&(window.location.href="/admin-page"):alert("Access denied: You are not an admin."))});const MO=t=>{const[e,n]=O.useState(!0);return O.useEffect(()=>{const r=tg(bu,s=>{s?n(!1):(Ne.warn("Unauthorized access! Please log in."),setTimeout(()=>{t("/")},100))});return()=>r()},[t]),e},jO=async t=>{try{await ab(bu),localStorage.removeItem("token"),t("/")}catch(e){console.error("Error during logout:",e)}},FO=t=>{const[e,n]=O.useState(!0);return O.useEffect(()=>{const r=tg(bu,s=>{s?(console.log("Trying to access login/signup page while logged in."),t("/admin-page")):n(!1)});return()=>r()},[t]),e},zg=O.createContext({});function $g(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nd=O.createContext(null),Hg=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class UO extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function BO({children:t,isPresent:e,anchorX:n}){const r=O.useId(),s=O.useRef(null),a=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=O.useContext(Hg);return O.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:_}=a.current;if(e||!s.current||!h||!d)return;const T=n==="left"?`left: ${g}`:`right: ${_}`;s.current.dataset.motionPopId=r;const S=document.createElement("style");return l&&(S.nonce=l),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${T}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),E.jsx(UO,{isPresent:e,childRef:s,sizeRef:a,children:O.cloneElement(t,{ref:s})})}const zO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:h})=>{const d=$g($O),p=O.useId(),g=O.useCallback(T=>{d.set(T,!0);for(const S of d.values())if(!S)return;r&&r()},[d,r]),_=O.useMemo(()=>({id:p,initial:e,isPresent:n,custom:s,onExitComplete:g,register:T=>(d.set(T,!1),()=>d.delete(T))}),a?[Math.random(),g]:[n,g]);return O.useMemo(()=>{d.forEach((T,S)=>d.set(S,!1))},[n]),O.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(t=E.jsx(BO,{isPresent:n,anchorX:h,children:t})),E.jsx(Nd.Provider,{value:_,children:t})};function $O(){return new Map}function hS(t=!0){const e=O.useContext(Nd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=O.useId();O.useEffect(()=>{t&&s(a)},[t]);const l=O.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const oh=t=>t.key||"";function bw(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const Wg=typeof window<"u",dS=Wg?O.useLayoutEffect:O.useEffect,lu=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:h="left"})=>{const[d,p]=hS(l),g=O.useMemo(()=>bw(t),[t]),_=l&&!d?[]:g.map(oh),T=O.useRef(!0),S=O.useRef(g),x=$g(()=>new Map),[D,P]=O.useState(g),[N,j]=O.useState(g);dS(()=>{T.current=!1,S.current=g;for(let Y=0;Y<N.length;Y++){const Z=oh(N[Y]);_.includes(Z)?x.delete(Z):x.get(Z)!==!0&&x.set(Z,!1)}},[N,_.length,_.join("-")]);const U=[];if(g!==D){let Y=[...g];for(let Z=0;Z<N.length;Z++){const k=N[Z],A=oh(k);_.includes(A)||(Y.splice(Z,0,k),U.push(k))}return a==="wait"&&U.length&&(Y=U),j(bw(Y)),P(g),null}const{forceRender:Q}=O.useContext(zg);return E.jsx(E.Fragment,{children:N.map(Y=>{const Z=oh(Y),k=l&&!d?!1:g===N||_.includes(Z),A=()=>{if(x.has(Z))x.set(Z,!0);else return;let R=!0;x.forEach(L=>{L||(R=!1)}),R&&(Q==null||Q(),j(S.current),l&&(p==null||p()),r&&r())};return E.jsx(zO,{isPresent:k,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:k?void 0:A,anchorX:h,children:Y},Z)})})},xn=t=>t;let fS=xn;function Kg(t){let e;return()=>(e===void 0&&(e=t()),e)}const _a=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ri=t=>t*1e3,ii=t=>t/1e3,HO={useManualTiming:!1},ah=["read","resolveKeyframes","update","preRender","render","postRender"],Nw={value:null};function WO(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(_){l.has(_)&&(g.schedule(_),t()),d++,_(h)}const g={schedule:(_,T=!1,S=!1)=>{const D=S&&s?n:r;return T&&l.add(_),D.has(_)||D.add(_),_},cancel:_=>{r.delete(_),l.delete(_)},process:_=>{if(h=_,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(p),e&&Nw.value&&Nw.value.frameloop[e].push(d),d=0,n.clear(),s=!1,a&&(a=!1,g.process(_))}};return g}const KO=40;function pS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ah.reduce((N,j)=>(N[j]=WO(a,e?j:void 0),N),{}),{read:h,resolveKeyframes:d,update:p,preRender:g,render:_,postRender:T}=l,S=()=>{const N=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,KO),1),s.timestamp=N,s.isProcessing=!0,h.process(s),d.process(s),p.process(s),g.process(s),_.process(s),T.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},x=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:ah.reduce((N,j)=>{const U=l[j];return N[j]=(Q,Y=!1,Z=!1)=>(n||x(),U.schedule(Q,Y,Z)),N},{}),cancel:N=>{for(let j=0;j<ah.length;j++)l[ah[j]].cancel(N)},state:s,steps:l}}const{schedule:et,cancel:rs,state:Ft,steps:bp}=pS(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0),mS=O.createContext({strict:!1}),Dw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wa={};for(const t in Dw)wa[t]={isEnabled:e=>Dw[t].some(n=>!!e[n])};function qO(t){for(const e in t)wa[e]={...wa[e],...t[e]}}const GO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||GO.has(t)}let gS=t=>!qh(t);function QO(t){t&&(gS=e=>e.startsWith("on")?!qh(e):t(e))}try{QO(require("@emotion/is-prop-valid").default)}catch{}function YO(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(gS(s)||n===!0&&qh(s)||!e&&!qh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function XO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Dd=O.createContext({});function Vd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function uu(t){return typeof t=="string"||Array.isArray(t)}const qg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gg=["initial",...qg];function Ld(t){return Vd(t.animate)||Gg.some(e=>uu(t[e]))}function yS(t){return!!(Ld(t)||t.variants)}function JO(t,e){if(Ld(t)){const{initial:n,animate:r}=t;return{initial:n===!1||uu(n)?n:void 0,animate:uu(r)?r:void 0}}return t.inherit!==!1?e:{}}function ZO(t){const{initial:e,animate:n}=JO(t,O.useContext(Dd));return O.useMemo(()=>({initial:e,animate:n}),[Vw(e),Vw(n)])}function Vw(t){return Array.isArray(t)?t.join(" "):t}const eM=Symbol.for("motionComponentSymbol");function ea(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tM(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ea(n)&&(n.current=r))},[e])}const Qg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nM="framerAppearId",vS="data-"+Qg(nM),{schedule:Yg}=pS(queueMicrotask,!1),_S=O.createContext({});function rM(t,e,n,r,s){var a,l;const{visualElement:h}=O.useContext(Dd),d=O.useContext(mS),p=O.useContext(Nd),g=O.useContext(Hg).reducedMotion,_=O.useRef(null);r=r||d.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const T=_.current,S=O.useContext(_S);T&&!T.projection&&s&&(T.type==="html"||T.type==="svg")&&iM(_.current,n,s,S);const x=O.useRef(!1);O.useInsertionEffect(()=>{T&&x.current&&T.update(n,p)});const D=n[vS],P=O.useRef(!!D&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,D))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,D)));return dS(()=>{T&&(x.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Yg.render(T.render),P.current&&T.animationState&&T.animationState.animateChanges())}),O.useEffect(()=>{T&&(!P.current&&T.animationState&&T.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,D)}),P.current=!1))}),T}function iM(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:h,layoutScroll:d,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||h&&ea(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:p})}function wS(t){if(t)return t.options.allowProjection!==!1?t.projection:wS(t.parent)}function sM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&qO(t);function h(p,g){let _;const T={...O.useContext(Hg),...p,layoutId:oM(p)},{isStatic:S}=T,x=ZO(p),D=r(p,S);if(!S&&Wg){aM();const P=lM(T);_=P.MeasureLayout,x.visualElement=rM(s,D,T,e,P.ProjectionNode)}return E.jsxs(Dd.Provider,{value:x,children:[_&&x.visualElement?E.jsx(_,{visualElement:x.visualElement,...T}):null,n(s,p,tM(D,x.visualElement,g),D,S,x.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const d=O.forwardRef(h);return d[eM]=s,d}function oM({layoutId:t}){const e=O.useContext(zg).id;return e&&t!==void 0?e+"-"+t:t}function aM(t,e){O.useContext(mS).strict}function lM(t){const{drag:e,layout:n}=wa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const TS=t=>e=>typeof e=="string"&&e.startsWith(t),Xg=TS("--"),uM=TS("var(--"),Jg=t=>uM(t)?cM.test(t.split("/*")[0].trim()):!1,cM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cu={};function hM(t){for(const e in t)cu[e]=t[e],Xg(e)&&(cu[e].isCSSVariable=!0)}const Na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],no=new Set(Na);function ES(t,{layout:e,layoutId:n}){return no.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cu[t]||t==="opacity")}const Xt=t=>!!(t&&t.getVelocity),IS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ci=(t,e,n)=>n>e?e:n<t?t:n,Da={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hu={...Da,transform:t=>ci(0,1,t)},lh={...Da,default:1},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ji=Nu("deg"),Rr=Nu("%"),Ee=Nu("px"),dM=Nu("vh"),fM=Nu("vw"),Lw={...Rr,parse:t=>Rr.parse(t)/100,transform:t=>Rr.transform(t*100)},pM={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},mM={rotate:ji,rotateX:ji,rotateY:ji,rotateZ:ji,scale:lh,scaleX:lh,scaleY:lh,scaleZ:lh,skew:ji,skewX:ji,skewY:ji,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:hu,originX:Lw,originY:Lw,originZ:Ee},Ow={...Da,transform:Math.round},Zg={...pM,...mM,zIndex:Ow,size:Ee,fillOpacity:hu,strokeOpacity:hu,numOctaves:Ow},gM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yM=Na.length;function vM(t,e,n){let r="",s=!0;for(let a=0;a<yM;a++){const l=Na[a],h=t[l];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(l.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=IS(h,Zg[l]);if(!d){s=!1;const g=gM[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function ey(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,h=!1;for(const d in e){const p=e[d];if(no.has(d)){l=!0;continue}else if(Xg(d)){s[d]=p;continue}else{const g=IS(p,Zg[d]);d.startsWith("origin")?(h=!0,a[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=vM(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}const ty=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SS(t,e,n){for(const r in e)!Xt(e[r])&&!ES(r,n)&&(t[r]=e[r])}function _M({transformTemplate:t},e){return O.useMemo(()=>{const n=ty();return ey(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wM(t,e){const n=t.style||{},r={};return SS(r,n,t),Object.assign(r,_M(t,e)),r}function TM(t,e){const n={},r=wM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const EM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ny(t){return typeof t!="string"||t.includes("-")?!1:!!(EM.indexOf(t)>-1||/[A-Z]/u.test(t))}const IM={offset:"stroke-dashoffset",array:"stroke-dasharray"},SM={offset:"strokeDashoffset",array:"strokeDasharray"};function AM(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?IM:SM;t[a.offset]=Ee.transform(-r);const l=Ee.transform(e),h=Ee.transform(n);t[a.array]=`${l} ${h}`}function Mw(t,e,n){return typeof t=="string"?t:Ee.transform(e+n*t)}function CM(t,e,n){const r=Mw(e,t.x,t.width),s=Mw(n,t.y,t.height);return`${r} ${s}`}function ry(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:h=1,pathOffset:d=0,...p},g,_){if(ey(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S,dimensions:x}=t;T.transform&&(x&&(S.transform=T.transform),delete T.transform),x&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=CM(x,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),r!==void 0&&(T.scale=r),l!==void 0&&AM(T,l,h,d,!1)}const AS=()=>({...ty(),attrs:{}}),iy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PM(t,e,n,r){const s=O.useMemo(()=>{const a=AS();return ry(a,e,iy(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};SS(a,t.style,t),s.style={...a,...s.style}}return s}function xM(t=!1){return(n,r,s,{latestValues:a},l)=>{const d=(ny(n)?PM:TM)(r,a,l,n),p=YO(r,typeof n=="string",t),g=n!==O.Fragment?{...p,...d,ref:s}:{},{children:_}=r,T=O.useMemo(()=>Xt(_)?_.get():_,[_]);return O.createElement(n,{...g,children:T})}}function jw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function sy(t,e,n,r){if(typeof e=="function"){const[s,a]=jw(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=jw(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const Em=t=>Array.isArray(t),RM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),kM=t=>Em(t)?t[t.length-1]||0:t;function Eh(t){const e=Xt(t)?t.get():t;return RM(e)?e.toValue():e}function bM({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:NM(r,s,a,t),renderState:e()};return n&&(l.onMount=h=>n({props:r,current:h,...l}),l.onUpdate=h=>n(h)),l}const CS=t=>(e,n)=>{const r=O.useContext(Dd),s=O.useContext(Nd),a=()=>bM(t,e,r,s);return n?a():$g(a)};function NM(t,e,n,r){const s={},a=r(t,{});for(const T in a)s[T]=Eh(a[T]);let{initial:l,animate:h}=t;const d=Ld(t),p=yS(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?h:l;if(_&&typeof _!="boolean"&&!Vd(_)){const T=Array.isArray(_)?_:[_];for(let S=0;S<T.length;S++){const x=sy(t,T[S]);if(x){const{transitionEnd:D,transition:P,...N}=x;for(const j in N){let U=N[j];if(Array.isArray(U)){const Q=g?U.length-1:0;U=U[Q]}U!==null&&(s[j]=U)}for(const j in D)s[j]=D[j]}}}return s}function oy(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(Xt(s[l])||e.style&&Xt(e.style[l])||ES(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}const DM={useVisualState:CS({scrapeMotionValuesFromProps:oy,createRenderState:ty})};function PS(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function xS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const RS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kS(t,e,n,r){xS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(RS.has(s)?s:Qg(s),e.attrs[s])}function bS(t,e,n){const r=oy(t,e,n);for(const s in t)if(Xt(t[s])||Xt(e[s])){const a=Na.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const Fw=["x","y","width","height","cx","cy","r"],VM={useVisualState:CS({scrapeMotionValuesFromProps:bS,createRenderState:AS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in s)if(no.has(h)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let h=0;h<Fw.length;h++){const d=Fw[h];t[d]!==e[d]&&(l=!0)}l&&et.read(()=>{PS(n,r),et.render(()=>{ry(r,s,iy(n.tagName),t.transformTemplate),kS(n,r)})})}})};function LM(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...ny(r)?VM:DM,preloadedFeatures:t,useRender:xM(s),createVisualElement:e,Component:r};return sM(l)}}function du(t,e,n){const r=t.getProps();return sy(r,e,n!==void 0?n:r.custom,t)}const OM=Kg(()=>window.ScrollTimeline!==void 0);class MM{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(OM()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jM extends MM{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ay(t,e){return t?t[e]||t.default||t:void 0}const Im=2e4;function NS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Im;)e+=n,r=t.next(e);return e>=Im?1/0:e}function ly(t){return typeof t=="function"}function Uw(t,e){t.timeline=e,t.onfinish=null}const uy=t=>Array.isArray(t)&&typeof t[0]=="number",FM={linearEasing:void 0};function UM(t,e){const n=Kg(t);return()=>{var r;return(r=FM[e])!==null&&r!==void 0?r:n()}}const Gh=UM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),DS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(_a(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function VS(t){return!!(typeof t=="function"&&Gh()||!t||typeof t=="string"&&(t in Sm||Gh())||uy(t)||Array.isArray(t)&&t.every(VS))}const Fl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Sm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fl([0,.65,.55,1]),circOut:Fl([.55,0,1,.45]),backIn:Fl([.31,.01,.66,-.59]),backOut:Fl([.33,1.53,.69,.99])};function LS(t,e){if(t)return typeof t=="function"&&Gh()?DS(t,e):uy(t)?Fl(t):Array.isArray(t)?t.map(n=>LS(n,e)||Sm.easeOut):Sm[t]}const sr={x:!1,y:!1};function OS(){return sr.x||sr.y}function BM(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function MS(t,e){const n=BM(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Bw(t){return!(t.pointerType==="touch"||OS())}function zM(t,e,n={}){const[r,s,a]=MS(t,n),l=h=>{if(!Bw(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=_=>{Bw(_)&&(p(_),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(h=>{h.addEventListener("pointerenter",l,s)}),a}const jS=(t,e)=>e?t===e?!0:jS(t,e.parentElement):!1,cy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$M=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HM(t){return $M.has(t.tagName)||t.tabIndex!==-1}const Ul=new WeakSet;function zw(t){return e=>{e.key==="Enter"&&t(e)}}function Np(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const WM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=zw(()=>{if(Ul.has(n))return;Np(n,"down");const s=zw(()=>{Np(n,"up")}),a=()=>Np(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function $w(t){return cy(t)&&!OS()}function KM(t,e,n={}){const[r,s,a]=MS(t,n),l=h=>{const d=h.currentTarget;if(!$w(h)||Ul.has(d))return;Ul.add(d);const p=e(d,h),g=(S,x)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),!(!$w(S)||!Ul.has(d))&&(Ul.delete(d),typeof p=="function"&&p(S,{success:x}))},_=S=>{g(S,n.useGlobalTarget||jS(d,S.target))},T=S=>{g(S,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",T,s)};return r.forEach(h=>{!HM(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,s),h.addEventListener("focus",p=>WM(p,s),s)}),a}function qM(t){return t==="x"||t==="y"?sr[t]?null:(sr[t]=!0,()=>{sr[t]=!1}):sr.x||sr.y?null:(sr.x=sr.y=!0,()=>{sr.x=sr.y=!1})}const FS=new Set(["width","height","top","left","right","bottom",...Na]);let Ih;function GM(){Ih=void 0}const kr={now:()=>(Ih===void 0&&kr.set(Ft.isProcessing||HO.useManualTiming?Ft.timestamp:performance.now()),Ih),set:t=>{Ih=t,queueMicrotask(GM)}};function hy(t,e){t.indexOf(e)===-1&&t.push(e)}function dy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fy{constructor(){this.subscriptions=[]}add(e){return hy(this.subscriptions,e),()=>dy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function US(t,e){return e?t*(1e3/e):0}const Hw=30,QM=t=>!isNaN(parseFloat(t));class YM{constructor(e,n={}){this.version="12.4.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=kr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fy);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Hw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hw);return US(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fu(t,e){return new YM(t,e)}function XM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fu(n))}function JM(t,e){const n=du(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const h=kM(a[l]);XM(t,l,h)}}function ZM(t){return!!(Xt(t)&&t.add)}function Am(t,e){const n=t.getValue("willChange");if(ZM(n))return n.add(e)}function BS(t){return t.props[vS]}const zS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,e4=1e-7,t4=12;function n4(t,e,n,r,s){let a,l,h=0;do l=e+(n-e)/2,a=zS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>e4&&++h<t4);return l}function Du(t,e,n,r){if(t===e&&n===r)return xn;const s=a=>n4(a,0,1,t,n);return a=>a===0||a===1?a:zS(s(a),e,r)}const $S=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HS=t=>e=>1-t(1-e),WS=Du(.33,1.53,.69,.99),py=HS(WS),KS=$S(py),qS=t=>(t*=2)<1?.5*py(t):.5*(2-Math.pow(2,-10*(t-1))),my=t=>1-Math.sin(Math.acos(t)),GS=HS(my),QS=$S(my),YS=t=>/^0[^.\s]+$/u.test(t);function r4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YS(t):!0}const ql=t=>Math.round(t*1e5)/1e5,gy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function i4(t){return t==null}const s4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yy=(t,e)=>n=>!!(typeof n=="string"&&s4.test(n)&&n.startsWith(t)||e&&!i4(n)&&Object.prototype.hasOwnProperty.call(n,e)),XS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,h]=r.match(gy);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},o4=t=>ci(0,255,t),Dp={...Da,transform:t=>Math.round(o4(t))},zs={test:yy("rgb","red"),parse:XS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dp.transform(t)+", "+Dp.transform(e)+", "+Dp.transform(n)+", "+ql(hu.transform(r))+")"};function a4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cm={test:yy("#"),parse:a4,transform:zs.transform},ta={test:yy("hsl","hue"),parse:XS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rr.transform(ql(e))+", "+Rr.transform(ql(n))+", "+ql(hu.transform(r))+")"},Gt={test:t=>zs.test(t)||Cm.test(t)||ta.test(t),parse:t=>zs.test(t)?zs.parse(t):ta.test(t)?ta.parse(t):Cm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zs.transform(t):ta.transform(t)},l4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function u4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(l4))===null||n===void 0?void 0:n.length)||0)>0}const JS="number",ZS="color",c4="var",h4="var(",Ww="${}",d4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(d4,d=>(Gt.test(d)?(r.color.push(a),s.push(ZS),n.push(Gt.parse(d))):d.startsWith(h4)?(r.var.push(a),s.push(c4),n.push(d)):(r.number.push(a),s.push(JS),n.push(parseFloat(d))),++a,Ww)).split(Ww);return{values:n,split:h,indexes:r,types:s}}function eA(t){return pu(t).values}function tA(t){const{split:e,types:n}=pu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const h=n[l];h===JS?a+=ql(s[l]):h===ZS?a+=Gt.transform(s[l]):a+=s[l]}return a}}const f4=t=>typeof t=="number"?0:t;function p4(t){const e=eA(t);return tA(t)(e.map(f4))}const is={test:u4,parse:eA,createTransformer:tA,getAnimatableNone:p4},m4=new Set(["brightness","contrast","saturate","opacity"]);function g4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gy)||[];if(!r)return t;const s=n.replace(r,"");let a=m4.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const y4=/\b([a-z-]*)\(.*?\)/gu,Pm={...is,getAnimatableNone:t=>{const e=t.match(y4);return e?e.map(g4).join(" "):t}},v4={...Zg,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:Pm,WebkitFilter:Pm},vy=t=>v4[t];function nA(t,e){let n=vy(t);return n!==Pm&&(n=is),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _4=new Set(["auto","none","0"]);function w4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!_4.has(a)&&pu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=nA(n,s)}const Kw=t=>t===Da||t===Ee,qw=(t,e)=>parseFloat(t.split(", ")[e]),Gw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return qw(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?qw(a[1],t):0}},T4=new Set(["x","y","z"]),E4=Na.filter(t=>!T4.has(t));function I4(t){const e=[];return E4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Gw(4,13),y:Gw(5,14)};Ta.translateX=Ta.x;Ta.translateY=Ta.y;const Ws=new Set;let xm=!1,Rm=!1;function rA(){if(Rm){const t=Array.from(Ws).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=I4(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var h;(h=r.getValue(a))===null||h===void 0||h.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rm=!1,xm=!1,Ws.forEach(t=>t.complete()),Ws.clear()}function iA(){Ws.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rm=!0)})}function S4(){iA(),rA()}class _y{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ws.add(this),xm||(xm=!0,et.read(iA),et.resolveKeyframes(rA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),h=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const d=r.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ws.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ws.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),A4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function C4(t){const e=A4.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function oA(t,e,n=1){const[r,s]=C4(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return sA(l)?parseFloat(l):l}return Jg(s)?oA(s,e,n+1):s}const aA=t=>e=>e.test(t),P4={test:t=>t==="auto",parse:t=>t},lA=[Da,Ee,Rr,ji,fM,dM,P4],Qw=t=>lA.find(aA(t));class uA extends _y{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Jg(p))){const g=oA(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!FS.has(r)||e.length!==2)return;const[s,a]=e,l=Qw(s),h=Qw(a);if(l!==h)if(Kw(l)&&Kw(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)r4(e[s])&&r.push(s);r.length&&w4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ta[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,h=s[l];s[l]=Ta[r](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const Yw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(is.test(t)||t==="0")&&!t.startsWith("url("));function x4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function R4(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Yw(s,e),h=Yw(a,e);return!l||!h?!1:x4(t)||(n==="spring"||ly(n))&&r}const k4=t=>t!==null;function Od(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(k4),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const b4=40;class cA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>b4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&S4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=kr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:h,onUpdate:d,isGenerator:p}=this.options;if(!p&&!R4(e,r,s,a))if(l)this.options.duration=0;else{d&&d(Od(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ct=(t,e,n)=>t+(e-t)*n;function Vp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function N4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;s=Vp(d,h,t+1/3),a=Vp(d,h,t),l=Vp(d,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Qh(t,e){return n=>n>0?e:t}const Lp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},D4=[Cm,zs,ta],V4=t=>D4.find(e=>e.test(t));function Xw(t){const e=V4(t);if(!e)return!1;let n=e.parse(t);return e===ta&&(n=N4(n)),n}const Jw=(t,e)=>{const n=Xw(t),r=Xw(e);if(!n||!r)return Qh(t,e);const s={...n};return a=>(s.red=Lp(n.red,r.red,a),s.green=Lp(n.green,r.green,a),s.blue=Lp(n.blue,r.blue,a),s.alpha=ct(n.alpha,r.alpha,a),zs.transform(s))},L4=(t,e)=>n=>e(t(n)),Vu=(...t)=>t.reduce(L4),km=new Set(["none","hidden"]);function O4(t,e){return km.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function M4(t,e){return n=>ct(t,e,n)}function wy(t){return typeof t=="number"?M4:typeof t=="string"?Jg(t)?Qh:Gt.test(t)?Jw:U4:Array.isArray(t)?hA:typeof t=="object"?Gt.test(t)?Jw:j4:Qh}function hA(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>wy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function j4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=wy(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function F4(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],h=t.indexes[l][s[l]],d=(n=t.values[h])!==null&&n!==void 0?n:0;r[a]=d,s[l]++}return r}const U4=(t,e)=>{const n=is.createTransformer(e),r=pu(t),s=pu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?km.has(t)&&!s.values.length||km.has(e)&&!r.values.length?O4(t,e):Vu(hA(F4(r,s),s.values),n):Qh(t,e)};function dA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):wy(t)(t,e)}const B4=5;function fA(t,e,n){const r=Math.max(e-B4,0);return US(n-t(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zw=.001;function z4({duration:t=ft.duration,bounce:e=ft.bounce,velocity:n=ft.velocity,mass:r=ft.mass}){let s,a,l=1-e;l=ci(ft.minDamping,ft.maxDamping,l),t=ci(ft.minDuration,ft.maxDuration,ii(t)),l<1?(s=p=>{const g=p*l,_=g*t,T=g-n,S=bm(p,l),x=Math.exp(-_);return Zw-T/S*x},a=p=>{const _=p*l*t,T=_*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,x=Math.exp(-_),D=bm(Math.pow(p,2),l);return(-s(p)+Zw>0?-1:1)*((T-S)*x)/D}):(s=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const h=5/t,d=H4(s,a,h);if(t=ri(t),isNaN(d))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const $4=12;function H4(t,e,n){let r=n;for(let s=1;s<$4;s++)r=r-t(r)/e(r);return r}function bm(t,e){return t*Math.sqrt(1-e*e)}const W4=["duration","bounce"],K4=["stiffness","damping","mass"];function eT(t,e){return e.some(n=>t[n]!==void 0)}function q4(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!eT(t,K4)&&eT(t,W4))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*ci(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ft.mass,stiffness:s,damping:a}}else{const n=z4(t);e={...e,...n,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function pA(t=ft.visualDuration,e=ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:_,velocity:T,isResolvedFromDuration:S}=q4({...n,velocity:-ii(n.velocity||0)}),x=T||0,D=p/(2*Math.sqrt(d*g)),P=l-a,N=ii(Math.sqrt(d/g)),j=Math.abs(P)<5;r||(r=j?ft.restSpeed.granular:ft.restSpeed.default),s||(s=j?ft.restDelta.granular:ft.restDelta.default);let U;if(D<1){const Y=bm(N,D);U=Z=>{const k=Math.exp(-D*N*Z);return l-k*((x+D*N*P)/Y*Math.sin(Y*Z)+P*Math.cos(Y*Z))}}else if(D===1)U=Y=>l-Math.exp(-N*Y)*(P+(x+N*P)*Y);else{const Y=N*Math.sqrt(D*D-1);U=Z=>{const k=Math.exp(-D*N*Z),A=Math.min(Y*Z,300);return l-k*((x+D*N*P)*Math.sinh(A)+Y*P*Math.cosh(A))/Y}}const Q={calculatedDuration:S&&_||null,next:Y=>{const Z=U(Y);if(S)h.done=Y>=_;else{let k=0;D<1&&(k=Y===0?ri(x):fA(U,Y,Z));const A=Math.abs(k)<=r,R=Math.abs(l-Z)<=s;h.done=A&&R}return h.value=h.done?l:Z,h},toString:()=>{const Y=Math.min(NS(Q),Im),Z=DS(k=>Q.next(Y*k).value,Y,30);return Y+"ms "+Z}};return Q}function tT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:d,restDelta:p=.5,restSpeed:g}){const _=t[0],T={done:!1,value:_},S=A=>h!==void 0&&A<h||d!==void 0&&A>d,x=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let D=n*e;const P=_+D,N=l===void 0?P:l(P);N!==P&&(D=N-_);const j=A=>-D*Math.exp(-A/r),U=A=>N+j(A),Q=A=>{const R=j(A),L=U(A);T.done=Math.abs(R)<=p,T.value=T.done?N:L};let Y,Z;const k=A=>{S(T.value)&&(Y=A,Z=pA({keyframes:[T.value,x(T.value)],velocity:fA(U,A,T.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return k(0),{calculatedDuration:null,next:A=>{let R=!1;return!Z&&Y===void 0&&(R=!0,Q(A),k(A)),Y!==void 0&&A>=Y?Z.next(A-Y):(!R&&Q(A),T)}}}const G4=Du(.42,0,1,1),Q4=Du(0,0,.58,1),mA=Du(.42,0,.58,1),Y4=t=>Array.isArray(t)&&typeof t[0]!="number",X4={linear:xn,easeIn:G4,easeInOut:mA,easeOut:Q4,circIn:my,circInOut:QS,circOut:GS,backIn:py,backInOut:KS,backOut:WS,anticipate:qS},nT=t=>{if(uy(t)){fS(t.length===4);const[e,n,r,s]=t;return Du(e,n,r,s)}else if(typeof t=="string")return X4[t];return t};function J4(t,e,n){const r=[],s=n||dA,a=t.length-1;for(let l=0;l<a;l++){let h=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||xn:e;h=Vu(d,h)}r.push(h)}return r}function Z4(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(fS(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=J4(e,r,s),d=h.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const T=_a(t[_],t[_+1],g);return h[_](T)};return n?g=>p(ci(t[0],t[a-1],g)):p}function ej(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=_a(0,e,r);t.push(ct(n,1,s))}}function tj(t){const e=[0];return ej(e,t.length-1),e}function nj(t,e){return t.map(n=>n*e)}function rj(t,e){return t.map(()=>e||mA).splice(0,t.length-1)}function Yh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Y4(r)?r.map(nT):nT(r),a={done:!1,value:e[0]},l=nj(n&&n.length===e.length?n:tj(e),t),h=Z4(l,e,{ease:Array.isArray(s)?s:rj(e,s)});return{calculatedDuration:t,next:d=>(a.value=h(d),a.done=d>=t,a)}}const ij=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>rs(e),now:()=>Ft.isProcessing?Ft.timestamp:kr.now()}},sj={decay:tT,inertia:tT,tween:Yh,keyframes:Yh,spring:pA},oj=t=>t/100;class Ty extends cA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||_y,h=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,h,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,h=ly(n)?n:sj[n]||Yh;let d,p;h!==Yh&&typeof e[0]!="number"&&(d=Vu(oj,dA(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=NS(g));const{calculatedDuration:_}=g,T=_+s,S=T*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:_,resolvedDuration:T,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:T,repeat:S,repeatType:x,repeatDelay:D,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-T*(this.speed>=0?1:-1),j=this.speed>=0?N<0:N>g;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let U=this.currentTime,Q=a;if(S){const A=Math.min(this.currentTime,g)/_;let R=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&R--,R=Math.min(R,S+1),!!(R%2)&&(x==="reverse"?(L=1-L,D&&(L-=D/_)):x==="mirror"&&(Q=l)),U=ci(0,1,L)*_}const Y=j?{done:!1,value:d[0]}:Q.next(U);h&&(Y.value=h(Y.value));let{done:Z}=Y;!j&&p!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return k&&s!==void 0&&(Y.value=Od(d,this.options,s)),P&&P(Y.value),k&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?ii(e.calculatedDuration):0}get time(){return ii(this.currentTime)}set time(e){e=ri(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ij,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const aj=new Set(["opacity","clipPath","filter","transform"]);function lj(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:h="easeInOut",times:d}={}){const p={[e]:n};d&&(p.offset=d);const g=LS(h,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const uj=Kg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xh=10,cj=2e4;function hj(t){return ly(t.type)||t.type==="spring"||!VS(t.ease)}function dj(t,e){const n=new Ty({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<cj;)r=n.sample(a),s.push(r.value),a+=Xh;return{times:void 0,keyframes:s,duration:a-Xh,ease:"linear"}}const gA={anticipate:qS,backInOut:KS,circInOut:QS};function fj(t){return t in gA}class rT extends cA{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new uA(a,(l,h)=>this.onKeyframesResolved(l,h),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:h,name:d,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&Gh()&&fj(a)&&(a=gA[a]),hj(this.options)){const{onComplete:_,onUpdate:T,motionValue:S,element:x,...D}=this.options,P=dj(e,D);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,s=P.times,a=P.ease,l="keyframes"}const g=lj(h.owner.current,d,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(Uw(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(Od(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ii(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ii(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ri(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return xn;const{animation:r}=n;Uw(r,e)}return xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:T,...S}=this.options,x=new Ty({...S,keyframes:r,duration:s,type:a,ease:l,times:h,isGenerator:!0}),D=ri(this.time);p.setWithVelocity(x.sample(D-Xh).value,x.sample(D).value,Xh)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return uj()&&r&&aj.has(r)&&!d&&!p&&!s&&a!=="mirror"&&l!==0&&h!=="inertia"}}const pj={type:"spring",stiffness:500,damping:25,restSpeed:10},mj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gj={type:"keyframes",duration:.8},yj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vj=(t,{keyframes:e})=>e.length>2?gj:no.has(t)?t.startsWith("scale")?mj(e[1]):pj:yj;function _j({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const Ey=(t,e,n,r={},s,a)=>l=>{const h=ay(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ri(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:s};_j(h)||(g={...g,...vj(t,g)}),g.duration&&(g.duration=ri(g.duration)),g.repeatDelay&&(g.repeatDelay=ri(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const T=Od(g.keyframes,h);if(T!==void 0)return et.update(()=>{g.onUpdate(T),g.onComplete()}),new jM([])}return!a&&rT.supports(g)?new rT(g):new Ty(g)};function wj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:h,...d}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const _ in d){const T=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),S=d[_];if(S===void 0||g&&wj(g,_))continue;const x={delay:n,...ay(l||{},_)};let D=!1;if(window.MotionHandoffAnimation){const N=BS(t);if(N){const j=window.MotionHandoffAnimation(N,_,et);j!==null&&(x.startTime=j,D=!0)}}Am(t,_),T.start(Ey(_,T,S,t.shouldReduceMotion&&FS.has(_)?{type:!1}:x,t,D));const P=T.animation;P&&p.push(P)}return h&&Promise.all(p).then(()=>{et.update(()=>{h&&JM(t,h)})}),p}function Nm(t,e,n={}){var r;const s=du(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(yA(t,s,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:T}=a;return Tj(t,e,g+p,_,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,h]:[h,l];return p().then(()=>g())}else return Promise.all([l(),h(n.delay)])}function Tj(t,e,n=0,r=0,s=1,a){const l=[],h=(t.variantChildren.size-1)*r,d=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(Ej).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Nm(p,e,{...a,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function Ej(t,e){return t.sortNodePosition(e)}function Ij(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Nm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Nm(t,e,n);else{const s=typeof e=="function"?du(t,e,n.custom):e;r=Promise.all(yA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function vA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Sj=Gg.length;function _A(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_A(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Sj;n++){const r=Gg[n],s=t.props[r];(uu(s)||s===!1)&&(e[r]=s)}return e}const Aj=[...qg].reverse(),Cj=qg.length;function Pj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ij(t,n,r)))}function xj(t){let e=Pj(t),n=iT(),r=!0;const s=d=>(p,g)=>{var _;const T=du(t,g,d==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(T){const{transition:S,transitionEnd:x,...D}=T;p={...p,...D,...x}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,g=_A(t.parent)||{},_=[],T=new Set;let S={},x=1/0;for(let P=0;P<Cj;P++){const N=Aj[P],j=n[N],U=p[N]!==void 0?p[N]:g[N],Q=uu(U),Y=N===d?j.isActive:null;Y===!1&&(x=P);let Z=U===g[N]&&U!==p[N]&&Q;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),j.protectedKeys={...S},!j.isActive&&Y===null||!U&&!j.prevProp||Vd(U)||typeof U=="boolean")continue;const k=Rj(j.prevProp,U);let A=k||N===d&&j.isActive&&!Z&&Q||P>x&&Q,R=!1;const L=Array.isArray(U)?U:[U];let F=L.reduce(s(N),{});Y===!1&&(F={});const{prevResolvedValues:z={}}=j,V={...z,...F},Ge=Te=>{A=!0,T.has(Te)&&(R=!0,T.delete(Te)),j.needsAnimating[Te]=!0;const ne=t.getValue(Te);ne&&(ne.liveStyle=!1)};for(const Te in V){const ne=F[Te],me=z[Te];if(S.hasOwnProperty(Te))continue;let le=!1;Em(ne)&&Em(me)?le=!vA(ne,me):le=ne!==me,le?ne!=null?Ge(Te):T.add(Te):ne!==void 0&&T.has(Te)?Ge(Te):j.protectedKeys[Te]=!0}j.prevProp=U,j.prevResolvedValues=F,j.isActive&&(S={...S,...F}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(Z&&k)||R)&&_.push(...L.map(Te=>({animation:Te,options:{type:N}})))}if(T.size){const P={};if(typeof p.initial!="boolean"){const N=du(t,Array.isArray(p.initial)?p.initial[0]:p.initial);N&&N.transition&&(P.transition=N.transition)}T.forEach(N=>{const j=t.getBaseTarget(N),U=t.getValue(N);U&&(U.liveStyle=!0),P[N]=j??null}),_.push({animation:P})}let D=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(_):Promise.resolve()}function h(d,p){var g;if(n[d].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(T=>{var S;return(S=T.animationState)===null||S===void 0?void 0:S.setActive(d,p)}),n[d].isActive=p;const _=l(d);for(const T in n)n[T].protectedKeys={};return _}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=iT(),r=!0}}}function Rj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vA(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iT(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kj extends us{constructor(e){super(e),e.animationState||(e.animationState=xj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let bj=0;class Nj extends us{constructor(){super(...arguments),this.id=bj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Dj={animation:{Feature:kj},exit:{Feature:Nj}};function mu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lu(t){return{point:{x:t.pageX,y:t.pageY}}}const Vj=t=>e=>cy(e)&&t(e,Lu(e));function Gl(t,e,n,r){return mu(t,e,Vj(n),r)}const sT=(t,e)=>Math.abs(t-e);function Lj(t,e){const n=sT(t.x,e.x),r=sT(t.y,e.y);return Math.sqrt(n**2+r**2)}class wA{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Mp(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=Lj(_.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:x}=_,{timestamp:D}=Ft;this.history.push({...x,timestamp:D});const{onStart:P,onMove:N}=this.handlers;T||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Op(T,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:S,onSessionEnd:x,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Mp(_.type==="pointercancel"?this.lastMoveEventInfo:Op(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,P),x&&x(_,P)},!cy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=Lu(e),h=Op(l,this.transformPagePoint),{point:d}=h,{timestamp:p}=Ft;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Mp(h,this.history)),this.removeListeners=Vu(Gl(this.contextWindow,"pointermove",this.handlePointerMove),Gl(this.contextWindow,"pointerup",this.handlePointerUp),Gl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function Op(t,e){return e?{point:e(t.point)}:t}function oT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mp({point:t},e){return{point:t,delta:oT(t,TA(e)),offset:oT(t,Oj(e)),velocity:Mj(e,.1)}}function Oj(t){return t[0]}function TA(t){return t[t.length-1]}function Mj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=TA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ri(e)));)n--;if(!r)return{x:0,y:0};const a=ii(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const EA=1e-4,jj=1-EA,Fj=1+EA,IA=.01,Uj=0-IA,Bj=0+IA;function sn(t){return t.max-t.min}function zj(t,e,n){return Math.abs(t-e)<=n}function aT(t,e,n,r=.5){t.origin=r,t.originPoint=ct(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jj&&t.scale<=Fj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Uj&&t.translate<=Bj||isNaN(t.translate))&&(t.translate=0)}function Ql(t,e,n,r){aT(t.x,e.x,n.x,r?r.originX:void 0),aT(t.y,e.y,n.y,r?r.originY:void 0)}function lT(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function $j(t,e,n){lT(t.x,e.x,n.x),lT(t.y,e.y,n.y)}function uT(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function Yl(t,e,n){uT(t.x,e.x,n.x),uT(t.y,e.y,n.y)}function Hj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ct(n,t,r.max):Math.min(t,n)),t}function cT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Wj(t,{top:e,left:n,bottom:r,right:s}){return{x:cT(t.x,n,s),y:cT(t.y,e,r)}}function hT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Kj(t,e){return{x:hT(t.x,e.x),y:hT(t.y,e.y)}}function qj(t,e){let n=.5;const r=sn(t),s=sn(e);return s>r?n=_a(e.min,e.max-r,t.min):r>s&&(n=_a(t.min,t.max-s,e.min)),ci(0,1,n)}function Gj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dm=.35;function Qj(t=Dm){return t===!1?t=0:t===!0&&(t=Dm),{x:dT(t,"left","right"),y:dT(t,"top","bottom")}}function dT(t,e,n){return{min:fT(t,e),max:fT(t,n)}}function fT(t,e){return typeof t=="number"?t:t[e]||0}const pT=()=>({translate:0,scale:1,origin:0,originPoint:0}),na=()=>({x:pT(),y:pT()}),mT=()=>({min:0,max:0}),gt=()=>({x:mT(),y:mT()});function Bn(t){return[t("x"),t("y")]}function SA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Yj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Xj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jp(t){return t===void 0||t===1}function Vm({scale:t,scaleX:e,scaleY:n}){return!jp(t)||!jp(e)||!jp(n)}function Fs(t){return Vm(t)||AA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AA(t){return gT(t.x)||gT(t.y)}function gT(t){return t&&t!=="0%"}function Jh(t,e,n){const r=t-n,s=e*r;return n+s}function yT(t,e,n,r,s){return s!==void 0&&(t=Jh(t,s,r)),Jh(t,n,r)+e}function Lm(t,e=0,n=1,r,s){t.min=yT(t.min,e,n,r,s),t.max=yT(t.max,e,n,r,s)}function CA(t,{x:e,y:n}){Lm(t.x,e.translate,e.scale,e.originPoint),Lm(t.y,n.translate,n.scale,n.originPoint)}const vT=.999999999999,_T=1.0000000000001;function Jj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let h=0;h<s;h++){a=n[h],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ia(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,CA(t,l)),r&&Fs(a.latestValues)&&ia(t,a.latestValues))}e.x<_T&&e.x>vT&&(e.x=1),e.y<_T&&e.y>vT&&(e.y=1)}function ra(t,e){t.min=t.min+e,t.max=t.max+e}function wT(t,e,n,r,s=.5){const a=ct(t.min,t.max,s);Lm(t,e,n,a,r)}function ia(t,e){wT(t.x,e.x,e.scaleX,e.scale,e.originX),wT(t.y,e.y,e.scaleY,e.scale,e.originY)}function PA(t,e){return SA(Xj(t.getBoundingClientRect(),e))}function Zj(t,e,n){const r=PA(t,n),{scroll:s}=e;return s&&(ra(r.x,s.offset.x),ra(r.y,s.offset.y)),r}const xA=({current:t})=>t?t.ownerDocument.defaultView:null,eF=new WeakMap;class tF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lu(g).point)},a=(g,_)=>{const{drag:T,dragPropagation:S,onDragStart:x}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qM(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(P=>{let N=this.getAxisMotionValue(P).get()||0;if(Rr.test(N)){const{projection:j}=this.visualElement;if(j&&j.layout){const U=j.layout.layoutBox[P];U&&(N=sn(U)*(parseFloat(N)/100))}}this.originPoint[P]=N}),x&&et.postRender(()=>x(g,_)),Am(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:x,onDrag:D}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:P}=_;if(S&&this.currentDirection===null){this.currentDirection=nF(P),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",_.point,P),this.updateAxis("y",_.point,P),this.visualElement.render(),D&&D(g,_)},h=(g,_)=>this.stop(g,_),d=()=>Bn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new wA(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:xA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&et.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!uh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=Hj(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&ea(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Wj(s.layoutBox,n):this.constraints=!1,this.elastic=Qj(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Bn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Gj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ea(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Zj(r,s.root,this.visualElement.getTransformPagePoint());let l=Kj(s.layout.layoutBox,a);if(n){const h=n(Yj(l));this.hasMutatedConstraints=!!h,h&&(l=SA(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=Bn(g=>{if(!uh(g,n,this.currentDirection))return;let _=d&&d[g]||{};l&&(_={min:0,max:0});const T=s?200:1e6,S=s?40:1e7,x={type:"inertia",velocity:r?e[g]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,x)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Am(this.visualElement,e),r.start(Ey(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bn(n=>{const{drag:r}=this.getProps();if(!uh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:h}=s.layout.layoutBox[n];a.set(e[n]-ct(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ea(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Bn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const d=h.get();s[l]=qj({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(l=>{if(!uh(l,e,null))return;const h=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];h.set(ct(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;eF.set(this.visualElement,this);const e=this.visualElement.current,n=Gl(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ea(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const l=mu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Bn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=d[g].translate,_.set(_.get()+d[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Dm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function uh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rF extends us{constructor(e){super(e),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new tF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const TT=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class iF extends us{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(e){this.session=new wA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:TT(e),onStart:TT(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&et.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Gl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ET(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const kl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=ET(t,e.target.x),r=ET(t,e.target.y);return`${n}% ${r}%`}},sF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=is.parse(t);if(s.length>5)return r;const a=is.createTransformer(t),l=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=h,s[1+l]/=d;const p=ct(h,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class oF extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;hM(aF),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Sh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||et.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RA(t){const[e,n]=hS(),r=O.useContext(zg);return E.jsx(oF,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(_S),isPresent:e,safeToRemove:n})}const aF={borderRadius:{...kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kl,borderTopRightRadius:kl,borderBottomLeftRadius:kl,borderBottomRightRadius:kl,boxShadow:sF};function lF(t,e,n){const r=Xt(t)?t:fu(t);return r.start(Ey("",r,e,n)),r.animation}function uF(t){return t instanceof SVGElement&&t.tagName!=="svg"}const cF=(t,e)=>t.depth-e.depth;class hF{constructor(){this.children=[],this.isDirty=!1}add(e){hy(this.children,e),this.isDirty=!0}remove(e){dy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cF),this.isDirty=!1,this.children.forEach(e)}}function dF(t,e){const n=kr.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(rs(r),t(a-e))};return et.read(r,!0),()=>rs(r)}const kA=["TopLeft","TopRight","BottomLeft","BottomRight"],fF=kA.length,IT=t=>typeof t=="string"?parseFloat(t):t,ST=t=>typeof t=="number"||Ee.test(t);function pF(t,e,n,r,s,a){s?(t.opacity=ct(0,n.opacity!==void 0?n.opacity:1,mF(r)),t.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,gF(r))):a&&(t.opacity=ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<fF;l++){const h=`border${kA[l]}Radius`;let d=AT(e,h),p=AT(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||ST(d)===ST(p)?(t[h]=Math.max(ct(IT(d),IT(p),r),0),(Rr.test(p)||Rr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,r))}function AT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mF=bA(0,.5,GS),gF=bA(.5,.95,xn);function bA(t,e,n){return r=>r<t?0:r>e?1:n(_a(t,e,r))}function CT(t,e){t.min=e.min,t.max=e.max}function Un(t,e){CT(t.x,e.x),CT(t.y,e.y)}function PT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function xT(t,e,n,r,s){return t-=e,t=Jh(t,1/n,r),s!==void 0&&(t=Jh(t,1/s,r)),t}function yF(t,e=0,n=1,r=.5,s,a=t,l=t){if(Rr.test(e)&&(e=parseFloat(e),e=ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=ct(a.min,a.max,r);t===a&&(h-=e),t.min=xT(t.min,e,n,h,s),t.max=xT(t.max,e,n,h,s)}function RT(t,e,[n,r,s],a,l){yF(t,e[n],e[r],e[s],e.scale,a,l)}const vF=["x","scaleX","originX"],_F=["y","scaleY","originY"];function kT(t,e,n,r){RT(t.x,e,vF,n?n.x:void 0,r?r.x:void 0),RT(t.y,e,_F,n?n.y:void 0,r?r.y:void 0)}function bT(t){return t.translate===0&&t.scale===1}function NA(t){return bT(t.x)&&bT(t.y)}function NT(t,e){return t.min===e.min&&t.max===e.max}function wF(t,e){return NT(t.x,e.x)&&NT(t.y,e.y)}function DT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DA(t,e){return DT(t.x,e.x)&&DT(t.y,e.y)}function VT(t){return sn(t.x)/sn(t.y)}function LT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class TF{constructor(){this.members=[]}add(e){hy(this.members,e),e.scheduleRender()}remove(e){if(dy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EF(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:T,skewX:S,skewY:x}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),x&&(r+=`skewY(${x}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Fp=["","X","Y","Z"],IF={visibility:"hidden"},OT=1e3;let SF=0;function Up(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function VA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=BS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&VA(r)}function LA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},h=e==null?void 0:e()){this.id=SF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PF),this.nodes.forEach(NF),this.nodes.forEach(DF),this.nodes.forEach(xF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new hF)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new fy),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const d=this.eventHandlers.get(l);d&&d.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uF(l),this.instance=l;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let _;const T=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=dF(T,250),Sh.hasAnimatedSinceResize&&(Sh.hasAnimatedSinceResize=!1,this.nodes.forEach(jT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||jF,{onLayoutAnimationStart:P,onLayoutAnimationComplete:N}=g.getProps(),j=!this.targetLayout||!DA(this.targetLayout,x),U=!T&&S;if(this.options.layoutRoot||this.resumeFrom||U||T&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,U);const Q={...ay(D,"layout"),onPlay:P,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else T||jT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MT);return}this.isUpdating||this.nodes.forEach(kF),this.isUpdating=!1,this.nodes.forEach(bF),this.nodes.forEach(AF),this.nodes.forEach(CF),this.clearAllSnapshots();const h=kr.now();Ft.delta=ci(0,1e3/60,h-Ft.timestamp),Ft.timestamp=h,Ft.isProcessing=!0,bp.update.process(Ft),bp.preRender.process(Ft),bp.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RF),this.sharedNodes.forEach(LF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!NA(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(h||Fs(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return l&&(d=this.removeTransform(d)),FF(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:h}=this.options;if(!h)return gt();const d=h.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(UF))){const{scroll:g}=this.root;g&&(ra(d.x,g.offset.x),ra(d.y,g.offset.y))}return d}removeElementScroll(l){var h;const d=gt();if(Un(d,l),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:T}=g;g!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&Un(d,l),ra(d.x,_.offset.x),ra(d.y,_.offset.y))}return d}applyTransform(l,h=!1){const d=gt();Un(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ia(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Fs(g.latestValues)&&ia(d,g.latestValues)}return Fs(this.latestValues)&&ia(d,this.latestValues),d}removeTransform(l){const h=gt();Un(h,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Fs(p.latestValues))continue;Vm(p.latestValues)&&p.updateSnapshot();const g=gt(),_=p.measurePageBox();Un(g,_),kT(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Fs(this.latestValues)&&kT(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:T}=this.options;if(!(!this.layout||!(_||T))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Yl(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$j(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),CA(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Yl(this.relativeTargetOrigin,this.target,S.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vm(this.parent.latestValues)||AA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Un(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;Jj(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=gt());const{target:x}=h;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PT(this.prevProjectionDelta.x,this.projectionDelta.x),PT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ql(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!LT(this.projectionDelta.x,this.prevProjectionDelta.x)||!LT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=na(),this.projectionDelta=na(),this.projectionDeltaWithTransform=na()}setAnimationOrigin(l,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},_=na();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=gt(),S=d?d.source:void 0,x=this.layout?this.layout.source:void 0,D=S!==x,P=this.getStack(),N=!P||P.members.length<=1,j=!!(D&&!N&&this.options.crossfade===!0&&!this.path.some(MF));this.animationProgress=0;let U;this.mixTargetDelta=Q=>{const Y=Q/1e3;FT(_.x,l.x,Y),FT(_.y,l.y,Y),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yl(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OF(this.relativeTarget,this.relativeTargetOrigin,T,Y),U&&wF(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=gt()),Un(U,this.relativeTarget)),D&&(this.animationValues=g,pF(g,p,this.latestValues,Y,j,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Sh.hasAnimatedSinceResize=!0,this.currentAnimation=lF(0,OT,{...l,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=l;if(!(!h||!d||!p)){if(this!==l&&this.layout&&p&&OA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||gt();const _=sn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+_;const T=sn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+T}Un(h,d),ia(h,g),Ql(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new TF),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:h}=this.options;return h?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:h}=this.options;return h?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Up("z",l,p,this.animationValues);for(let g=0;g<Fp.length;g++)Up(`rotate${Fp[g]}`,l,p,this.animationValues),Up(`skew${Fp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return IF;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Eh(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=Eh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Fs(this.latestValues)&&(D.transform=g?g({},""):"none",this.hasProjected=!1),D}const T=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=EF(this.projectionDeltaWithTransform,this.treeScale,T),g&&(p.transform=g(T,p.transform));const{x:S,y:x}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${x.origin*100}% 0`,_.animationValues?p.opacity=_===this?(d=(h=T.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:p.opacity=_===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const D in cu){if(T[D]===void 0)continue;const{correct:P,applyTo:N,isCSSVariable:j}=cu[D],U=p.transform==="none"?T[D]:P(T[D],_);if(N){const Q=N.length;for(let Y=0;Y<Q;Y++)p[N[Y]]=U}else j?this.options.visualElement.renderState.vars[D]=U:p[D]=U}return this.options.layoutId&&(p.pointerEvents=_===this?Eh(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var h;return(h=l.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(MT),this.root.sharedNodes.clear()}}}function AF(t){t.updateLayout()}function CF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Bn(_=>{const T=l?n.measuredBox[_]:n.layoutBox[_],S=sn(T);T.min=r[_].min,T.max=T.min+S}):OA(a,n.layoutBox,r)&&Bn(_=>{const T=l?n.measuredBox[_]:n.layoutBox[_],S=sn(r[_]);T.max=T.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const h=na();Ql(h,r,n.layoutBox);const d=na();l?Ql(d,t.applyTransform(s,!0),n.measuredBox):Ql(d,r,n.layoutBox);const p=!NA(h);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:S}=_;if(T&&S){const x=gt();Yl(x,n.layoutBox,T.layoutBox);const D=gt();Yl(D,r,S.layoutBox),DA(x,D)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=x,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function PF(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RF(t){t.clearSnapshot()}function MT(t){t.clearMeasurements()}function kF(t){t.isLayoutDirty=!1}function bF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NF(t){t.resolveTargetDelta()}function DF(t){t.calcProjection()}function VF(t){t.resetSkewAndRotation()}function LF(t){t.removeLeadSnapshot()}function FT(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UT(t,e,n,r){t.min=ct(e.min,n.min,r),t.max=ct(e.max,n.max,r)}function OF(t,e,n,r){UT(t.x,e.x,n.x,r),UT(t.y,e.y,n.y,r)}function MF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jF={duration:.45,ease:[.4,0,.1,1]},BT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zT=BT("applewebkit/")&&!BT("chrome/")?Math.round:xn;function $T(t){t.min=zT(t.min),t.max=zT(t.max)}function FF(t){$T(t.x),$T(t.y)}function OA(t,e,n){return t==="position"||t==="preserve-aspect"&&!zj(VT(e),VT(n),.2)}function UF(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const BF=LA({attachResizeListener:(t,e)=>mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bp={current:void 0},MA=LA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bp.current){const t=new BF({});t.mount(window),t.setOptions({layoutScroll:!0}),Bp.current=t}return Bp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zF={pan:{Feature:iF},drag:{Feature:rF,ProjectionNode:MA,MeasureLayout:RA}};function HT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&et.postRender(()=>a(e,Lu(e)))}class $F extends us{mount(){const{current:e}=this.node;e&&(this.unmount=zM(e,(n,r)=>(HT(this.node,r,"Start"),s=>HT(this.node,s,"End"))))}unmount(){}}class HF extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vu(mu(this.node.current,"focus",()=>this.onFocus()),mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&et.postRender(()=>a(e,Lu(e)))}class WF extends us{mount(){const{current:e}=this.node;e&&(this.unmount=KM(e,(n,r)=>(WT(this.node,r,"Start"),(s,{success:a})=>WT(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Om=new WeakMap,zp=new WeakMap,KF=t=>{const e=Om.get(t.target);e&&e(t)},qF=t=>{t.forEach(KF)};function GF({root:t,...e}){const n=t||document;zp.has(n)||zp.set(n,{});const r=zp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(qF,{root:t,...e})),r[s]}function QF(t,e,n){const r=GF(e);return Om.set(t,n),r.observe(t),()=>{Om.delete(t),r.unobserve(t)}}const YF={some:0,all:1};class XF extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:YF[s]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),T=p?g:_;T&&T(d)};return QF(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(JF(e,n))&&this.startObserver()}unmount(){}}function JF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZF={inView:{Feature:XF},tap:{Feature:WF},focus:{Feature:HF},hover:{Feature:$F}},e3={layout:{ProjectionNode:MA,MeasureLayout:RA}},Mm={current:null},jA={current:!1};function t3(){if(jA.current=!0,!!Wg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Mm.current=t.matches;t.addListener(e),e()}else Mm.current=!1}const n3=[...lA,Gt,is],r3=t=>n3.find(aA(t)),i3=new WeakMap;function s3(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Xt(s))t.addValue(r,s);else if(Xt(a))t.addValue(r,fu(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,fu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const KT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class o3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_y,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=kr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,et.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Ld(n),this.isVariantNode=yS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in T){const x=T[S];d[S]!==void 0&&Xt(x)&&x.set(d[S],!1)}}mount(e){this.current=e,i3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jA.current||t3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=no.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wa){const n=wa[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<KT.length;r++){const s=KT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=s3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=fu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(sA(s)||YS(s))?s=parseFloat(s):!r3(s)&&is.test(n)&&(s=nA(e,n)),this.setBaseTarget(e,Xt(s)?s.get():s)),Xt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=sy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Xt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class FA extends o3{constructor(){super(...arguments),this.KeyframeResolver=uA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function a3(t){return window.getComputedStyle(t)}class l3 extends FA{constructor(){super(...arguments),this.type="html",this.renderInstance=xS}readValueFromInstance(e,n){if(no.has(n)){const r=vy(n);return r&&r.default||0}else{const r=a3(e),s=(Xg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PA(e,n)}build(e,n,r){ey(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return oy(e,n,r)}}class u3 extends FA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&PS(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(no.has(n)){const r=vy(n);return r&&r.default||0}return n=RS.has(n)?n:Qg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return bS(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&et.postRender(this.updateDimensions)}build(e,n,r){ry(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){kS(e,n,r,s)}mount(e){this.isSVGTag=iy(e.tagName),super.mount(e)}}const c3=(t,e)=>ny(t)?new u3(e):new l3(e,{allowProjection:t!==O.Fragment}),h3=LM({...Dj,...ZF,...zF,...e3},c3),xe=XO(h3);var UA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qT=We.createContext&&We.createContext(UA),d3=["attr","size","title"];function f3(t,e){if(t==null)return{};var n=p3(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function GT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(n),!0).forEach(function(r){m3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m3(t,e,n){return e=g3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g3(t){var e=y3(t,"string");return typeof e=="symbol"?e:e+""}function y3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BA(t){return t&&t.map((e,n)=>We.createElement(e.tag,ed({key:n},e.attr),BA(e.child)))}function hi(t){return e=>We.createElement(v3,Zh({attr:ed({},t.attr)},e),BA(t.child))}function v3(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=f3(t,d3),h=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),We.createElement("svg",Zh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:ed(ed({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&We.createElement("title",null,a),t.children)};return qT!==void 0?We.createElement(qT.Consumer,null,n=>e(n)):e(UA)}function _3(t){return hi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function w3(t){return hi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function T3(t){return hi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function E3(t){return hi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function I3(t){return hi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3V2"},child:[]},{tag:"path",attr:{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5"},child:[]},{tag:"path",attr:{d:"M2 14h12a2 2 0 0 1 0 4h-2"},child:[]},{tag:"path",attr:{d:"M4 10h16"},child:[]},{tag:"path",attr:{d:"M5 10a7 7 0 0 1 14 0"},child:[]},{tag:"path",attr:{d:"M5 14v6a1 1 0 0 1-1 1H2"},child:[]}]})(t)}function S3(t){return hi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}function A3(t){return hi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{width:"3",height:"9",x:"7",y:"7"},child:[]},{tag:"rect",attr:{width:"3",height:"5",x:"14",y:"7"},child:[]}]})(t)}function C3(t){return hi({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Image_Off"},child:[{tag:"path",attr:{d:"M19.937,14.218l0,-8.654c0,-0.829 -0.672,-1.5 -1.5,-1.5l-10.628,-0c-0.276,-0 -0.5,-0.225 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l10.628,-0c1.38,-0 2.5,1.118 2.5,2.5l0,10.624c0,0.276 -0.224,0.5 -0.5,0.501c-0.276,-0 -0.5,-0.225 -0.5,-0.5l0,-0.556l-4.583,-4.584c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.162,0.162 2.37,2.37 3.876,3.876Zm-0.121,6.304c-0.395,0.262 -0.869,0.415 -1.379,0.415l-12.874,-0c-1.381,-0 -2.5,-1.119 -2.5,-2.5l0,-12.873c0,-0.51 0.153,-0.984 0.414,-1.38l-0.263,-0.263c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.088,0.088 0.176,0.176 0.263,0.263c0.245,0.245 16.095,16.094 16.339,16.338l0.263,0.263c0.455,0.456 -0.252,1.163 -0.707,0.707c-0.088,-0.087 -0.175,-0.175 -0.263,-0.263Zm-11.104,-11.103l-2.001,-2.001c-0.094,0.196 -0.146,0.415 -0.146,0.647c-0,0.829 0.672,1.5 1.5,1.5c0.232,-0 0.451,-0.052 0.647,-0.146Zm-2.733,-2.733l-1.77,-1.77c-0.093,0.196 -0.146,0.416 -0.146,0.648l0,10.717l1.926,-1.926c0.587,-0.586 1.536,-0.586 2.122,-0l0.555,0.554c0.195,0.196 0.511,0.196 0.706,0l2.415,-2.415l-2.343,-2.343c-0.395,0.262 -0.869,0.414 -1.379,0.414c-1.38,-0 -2.5,-1.119 -2.5,-2.5c-0,-0.509 0.152,-0.983 0.414,-1.379Zm-1.916,11.009l0,0.741c0,0.829 0.671,1.5 1.5,1.5l12.874,0c0.232,0 0.451,-0.052 0.647,-0.145c-0.165,-0.165 -3.264,-3.263 -6.59,-6.59l-2.414,2.415c-0.585,0.586 -1.537,0.586 -2.122,0l-0.554,-0.554c-0.195,-0.196 -0.512,-0.196 -0.708,0l-2.633,2.633Z"},child:[]}]}]})(t)}const P3="/new-mainlogo.svg",x3="/cat_profile.svg",R3=()=>{const t=vu(),e=MO(t),[n,r]=O.useState("dashboard"),[s,a]=O.useState(!1),[l,h]=O.useState([]),[d,p]=O.useState({name:"",price:0,quantity:0,image:null,_id:null,imageURL:"",category:""}),[g,_]=O.useState(!1),[T,S]=O.useState(!1),[x,D]=O.useState(null),[P,N]=O.useState(""),[j,U]=O.useState(""),[Q,Y]=O.useState(""),[Z,k]=O.useState(""),A=[{orderNumber:"22-5714-674",dateOrdered:"7/16/2024, 1:22:16 AM",status:"Completed",product:"Fried Chicken",quantity:"1x",totalPrice:"50.00"}],[R,L]=O.useState([{orderNumber:"19-4566-878",name:"James Bond",totalAmount:"100.00",products:"Fried Chicken, Burger, Rice",status:"Preparing",paymentMode:"Cash"},{orderNumber:"20-3454-654",name:"Steve Harvey",totalAmount:"200.00",products:"Pasta, Salad",status:"Preparing",paymentMode:"Card"},{orderNumber:"21-7784-123",name:"Clark Kent",totalAmount:"150.00",products:"Fried Chicken, Fries, Soda",status:"Preparing",paymentMode:"Cash"}]),F=(oe,ke)=>{const Ye=[...R];Ye[oe].status=ke,L(Ye)},z=()=>{console.log("Downloading report...")};if(O.useEffect(()=>{const oe=pm(jl,"menu"),ke=b1(oe,Ye=>{const Rn=Ye.docs.map(on=>({...on.data(),_id:on.id}));h(Rn)},Ye=>{console.error("Error fetching menu items:",Ye),Ne.error("Failed to fetch menu items.")});return()=>ke()},[]),e)return E.jsx("div",{children:"Loading..."});const V=()=>{p({name:"",price:"",quantity:"",image:null,_id:null,imageURL:"",category:""}),_(!0)},Ge=oe=>{p({name:oe.name,price:oe.price,quantity:oe.quantity,image:null,_id:oe._id,imageURL:oe.imageURL,category:oe.category}),_(!0)},at=()=>{_(!1),p({name:"",image:"",price:0,quantity:0,category:""})},Qe=oe=>{r(oe)},Te=()=>{a(!s)},ne=oe=>{const{name:ke,value:Ye}=oe.target;p(Rn=>({...Rn,[ke]:Ye}))},me=async oe=>{oe.preventDefault();try{let ke=null,Ye=null;if(d.image){const an=new FormData;an.append("file",d.image),an.append("upload_preset","wildcats_express_menu"),an.append("cloud_name","dxbkzby8x");const Lr=await fetch("https://api.cloudinary.com/v1_1/dxbkzby8x/image/upload",{method:"POST",body:an});if(!Lr.ok)throw new Error("Cloudinary upload failed");const di=await Lr.json();ke=di.secure_url,Ye=di.public_id}const Rn=pm(jl,"menu"),on={name:d.name,price:parseFloat(d.price),quantity:Number(d.quantity),imageURL:ke||d.imageURL,publicID:Ye||"",category:d.category};if(d._id){const an=mm(jl,"menu",d._id);await NV(an,on),Ne.success("Menu item updated successfully.")}else await VV(Rn,on),Ne.success("New menu item added successfully.");at()}catch(ke){console.error("Error uploading menu item: ",ke),Ne.error("Failed to add menu item.")}},le=oe=>{D(oe),S(!0)},$=oe=>{const ke=oe.target.files[0];if(ke){if(ke.size>5*1024*1024){Ne.error("Image file is too large. Max size is 5MB.");return}p(Ye=>({...Ye,image:ke}))}},X=async()=>{if(!x){console.error("No item selected for deletion.");return}try{const oe=mm(jl,"menu",x);await DV(oe),h(ke=>ke.filter(Ye=>Ye._id!==x)),D(null),Ne.success("Menu item deleted successfully.",{autoClose:5e3})}catch(oe){console.error("Error deleting menu item:",oe),Ne.error("Failed to delete menu item. Please try again.",{autoClose:5e3})}finally{S(!1)}},ge=()=>E.jsxs("div",{className:"add-menu-container",children:[E.jsx("button",{onClick:V,className:"add-menu-button",children:"Add New Menu"}),g&&E.jsx("div",{className:"modal-overlay-menu",children:E.jsxs("div",{className:"modal-menu",children:[E.jsx("h2",{children:d._id?"Edit Item":"Add New Item"}),E.jsxs("form",{onSubmit:me,children:[E.jsx("input",{type:"text",name:"name",value:d.name,onChange:ne,placeholder:"Item Name",required:!0}),E.jsx("input",{type:"number",name:"price",value:d.price,onChange:ne,placeholder:"Price",min:"0",step:"0.01",required:!0}),E.jsx("input",{type:"number",name:"quantity",value:d.quantity,onChange:ne,placeholder:"Quantity",min:"0",step:"1",required:!0}),E.jsx("input",{type:"text",name:"category",value:d.category,onChange:ne,placeholder:"Category",required:!0}),!d._id&&E.jsxs("div",{className:"file-input-container",children:[E.jsx("label",{htmlFor:"image",children:"Choose Image:"}),E.jsx("input",{className:"input-image",type:"file",id:"image",name:"image",onChange:$,accept:"image/*"})]}),d.image&&E.jsxs("div",{className:"image-preview",children:[E.jsx("img",{src:URL.createObjectURL(d.image),alt:"Preview",className:"image-preview-img"}),E.jsx("p",{children:d.image.name})]}),E.jsxs("div",{className:"modal-actions-menu",children:[E.jsx("button",{type:"submit",children:"Save"}),E.jsx("button",{type:"button",onClick:at,children:"Cancel"})]})]})]})})]}),Re=()=>E.jsx(E.Fragment,{children:E.jsx("div",{className:"menu-items",children:l.map(oe=>E.jsxs("div",{className:"menu-item",children:[E.jsx("div",{className:"menu-image-container",children:oe.imageURL?E.jsx("img",{src:oe.imageURL,alt:oe.name,className:"menu-image"}):E.jsx("div",{className:"menu-image-placeholder",children:E.jsx(C3,{className:"no-image-icon"})})}),E.jsxs("div",{className:"menu-details",children:[E.jsx("div",{className:"menu-name",children:oe.name}),E.jsxs("div",{className:"menu-price",children:["Php ",Number(oe.price).toFixed(2)]}),E.jsxs("div",{className:"menu-quantity",children:["Quantity: ",oe.quantity]})]}),E.jsxs("div",{className:"menu-actions",children:[E.jsx("button",{className:"action-link-edit",onClick:()=>Ge(oe),children:"Edit"}),E.jsx("button",{className:"action-link-delete",onClick:()=>le(oe._id),children:"Delete"}),T&&E.jsx("div",{className:"modal-overlay-delete",children:E.jsxs("div",{className:"modal-delete",children:[E.jsx("p",{children:"Are you sure you want to delete this menu item?"}),E.jsxs("div",{className:"modal-actions-delete",children:[E.jsx("button",{onClick:()=>X(),children:"Yes"}),E.jsx("button",{onClick:()=>{S(!1),D(null)},children:"No"})]})]})})]})]},oe._id))})}),be=()=>E.jsxs("div",{className:"dashboard-container-admin",children:[E.jsxs("div",{className:"orders-wrapper",children:[E.jsxs("div",{className:"order-line-container",children:[E.jsx("h3",{children:"Order Line"}),E.jsx("br",{}),E.jsxs("div",{className:"order-cards",children:[E.jsxs("div",{className:"order-card",children:[E.jsxs("div",{className:"order-card-header",children:[E.jsx("div",{className:"school-id",children:"19-4566-878"}),E.jsx("div",{className:"order-id",children:"Order #1"})]}),E.jsxs("div",{className:"order-details",children:[E.jsx("p",{children:"James Bond"}),E.jsxs("div",{className:"order-status",children:[E.jsx("span",{children:E.jsx("p",{children:"In Progress"})}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress",style:{width:"90%"}})}),E.jsx("span",{className:"progress-percentage",children:"90%"})]})]})]}),E.jsxs("div",{className:"order-card",children:[E.jsxs("div",{className:"order-card-header",children:[E.jsx("div",{className:"school-id",children:"20-3454-654"}),E.jsx("div",{className:"order-id",children:"Order #2"})]}),E.jsxs("div",{className:"order-details",children:[E.jsx("p",{children:"Steve Harvey"}),E.jsxs("div",{className:"order-status",children:[E.jsx("span",{children:E.jsx("p",{children:"In Progress"})}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress",style:{width:"50%"}})}),E.jsx("span",{className:"progress-percentage",children:"50%"})]})]})]}),E.jsxs("div",{className:"order-card",children:[E.jsxs("div",{className:"order-card-header",children:[E.jsx("div",{className:"school-id",children:"19-4566-878"}),E.jsx("div",{className:"order-id",children:"Order #3"})]}),E.jsxs("div",{className:"order-details",children:[E.jsx("p",{children:"Clark Johnson"}),E.jsxs("div",{className:"order-status",children:[E.jsx("span",{children:E.jsx("p",{children:"In Progress"})}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress",style:{width:"68%"}})}),E.jsx("span",{className:"progress-percentage",children:"68%"})]})]})]}),E.jsxs("div",{className:"order-card",children:[E.jsxs("div",{className:"order-card-header",children:[E.jsx("div",{className:"school-id",children:"22-4535-765"}),E.jsx("div",{className:"order-id",children:"Order #4"})]}),E.jsxs("div",{className:"order-details",children:[E.jsx("p",{children:"Steve Rogers"}),E.jsxs("div",{className:"order-status",children:[E.jsx("span",{children:E.jsx("p",{children:"In Progress"})}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress",style:{width:"30%"}})}),E.jsx("span",{className:"progress-percentage",children:"30%"})]})]})]})]})]}),E.jsxs("div",{className:"current-order-container",children:[E.jsx("h3",{children:"Current Order"}),E.jsx("br",{}),E.jsxs("div",{className:"current-order-card",children:[E.jsx("h4",{children:"Recipient: Dave Miller"}),E.jsx("p",{children:"School ID:"}),E.jsx("p",{children:"#123456789"}),E.jsx("br",{}),E.jsxs("div",{className:"current-order-card-bottom",children:[E.jsx("span",{children:"Order#: 4"}),E.jsx("span",{children:"Items: 8"})]})]})]})]}),E.jsxs("div",{className:"popular-picks-container",children:[E.jsx("h2",{children:"Popular Picks"}),E.jsx("br",{}),E.jsxs("div",{className:"popular-picks",children:[E.jsx("div",{className:"pick",children:E.jsxs("div",{className:"pick-name-price",children:[E.jsx("span",{className:"pick-name",children:"Fried Chicken"}),E.jsx("span",{className:"pick-price",children:"50.00"})]})}),E.jsx("div",{className:"pick",children:E.jsxs("div",{className:"pick-name-price",children:[E.jsx("span",{className:"pick-name",children:"Bulalo"}),E.jsx("span",{className:"pick-price",children:"100.00"})]})}),E.jsx("div",{className:"pick",children:E.jsxs("div",{className:"pick-name-price",children:[E.jsx("span",{className:"pick-name",children:"Longganisa"}),E.jsx("span",{className:"pick-price",children:"80.00"})]})}),E.jsx("div",{className:"pick",children:E.jsxs("div",{className:"pick-name-price",children:[E.jsx("span",{className:"pick-name",children:"Rice"}),E.jsx("span",{className:"pick-price",children:"10.00"})]})})]})]})]}),Ve=()=>E.jsx("div",{className:"orders-modal",children:E.jsxs("table",{className:"orders-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Order Number"}),E.jsx("th",{children:"Name"}),E.jsx("th",{children:"Total Amount"}),E.jsx("th",{children:"Products"}),E.jsx("th",{children:"Status"}),E.jsx("th",{children:"Mode of Payment"})]})}),E.jsx("tbody",{children:R.map((oe,ke)=>E.jsxs("tr",{children:[E.jsx("td",{children:oe.orderNumber}),E.jsx("td",{children:oe.name}),E.jsx("td",{children:oe.totalAmount}),E.jsx("td",{children:oe.products}),E.jsx("td",{children:E.jsxs("select",{value:oe.status,onChange:Ye=>F(ke,Ye.target.value),children:[E.jsx("option",{value:"Preparing",children:"Preparing"}),E.jsx("option",{value:"Ready to Pickup",children:"Ready to Pickup"}),E.jsx("option",{value:"Completed",children:"Completed"}),E.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),E.jsx("td",{children:oe.paymentMode})]},oe.orderNumber))})]})}),Be=()=>E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"search-container",children:E.jsx("input",{type:"text",placeholder:"Search by Order Number, Date, Status, or Product",value:P,onChange:oe=>N(oe.target.value)})}),E.jsxs("div",{className:"filters-section",children:[E.jsx("span",{className:"filters-label",children:"Filters"}),E.jsxs("select",{value:j,onChange:oe=>U(oe.target.value),children:[E.jsx("option",{value:"",children:"Day"}),Array.from({length:31},(oe,ke)=>E.jsx("option",{value:ke+1,children:ke+1},ke+1))]}),E.jsxs("select",{value:Q,onChange:oe=>Y(oe.target.value),children:[E.jsx("option",{value:"",children:"Month"}),E.jsx("option",{value:"1",children:"January"}),E.jsx("option",{value:"2",children:"February"}),E.jsx("option",{value:"3",children:"March"}),E.jsx("option",{value:"4",children:"April"}),E.jsx("option",{value:"5",children:"May"}),E.jsx("option",{value:"6",children:"June"}),E.jsx("option",{value:"7",children:"July"}),E.jsx("option",{value:"8",children:"August"}),E.jsx("option",{value:"9",children:"September"}),E.jsx("option",{value:"10",children:"October"}),E.jsx("option",{value:"11",children:"November"}),E.jsx("option",{value:"12",children:"December"})]}),E.jsxs("select",{value:Z,onChange:oe=>k(oe.target.value),children:[E.jsx("option",{value:"",children:"Year"}),E.jsx("option",{value:"2025",children:"2025"}),E.jsx("option",{value:"2026",children:"2026"}),E.jsx("option",{value:"2026",children:"2027"}),E.jsx("option",{value:"2028",children:"2028"}),E.jsx("option",{value:"2029",children:"2029"}),E.jsx("option",{value:"2030",children:"2030"}),E.jsx("option",{value:"2031",children:"2031"}),E.jsx("option",{value:"2032",children:"2032"}),E.jsx("option",{value:"2033",children:"2033"}),E.jsx("option",{value:"2034",children:"2034"}),E.jsx("option",{value:"2035",children:"2035"})]}),E.jsx("button",{className:"download-button",onClick:z,children:"Download Report"})]}),E.jsx("div",{className:"table-container",children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Order Number"}),E.jsx("th",{children:"Date Ordered"}),E.jsx("th",{children:"Status"}),E.jsx("th",{children:"Product"}),E.jsx("th",{children:"Quantity"}),E.jsx("th",{children:"Total Price"})]})}),E.jsx("tbody",{children:A.map(oe=>E.jsxs("tr",{children:[E.jsx("td",{children:oe.orderNumber}),E.jsx("td",{children:oe.dateOrdered}),E.jsx("td",{children:E.jsx("span",{className:`status-badge ${oe.status.toLowerCase()}`,children:oe.status})}),E.jsx("td",{children:oe.product}),E.jsx("td",{children:oe.quantity}),E.jsx("td",{children:oe.totalPrice})]},oe.orderNumber))})]})})]}),ze=()=>E.jsx(E.Fragment,{children:E.jsx("div",{className:"settings-modal",children:E.jsxs("div",{className:"settings-content",children:[E.jsx("label",{children:"Email:"}),E.jsx("input",{type:"email",placeholder:"Enter new email"}),E.jsx("label",{children:"Password:"}),E.jsx("input",{type:"password",placeholder:"Enter new password"}),E.jsx("label",{children:"Confirm Password:"}),E.jsx("input",{type:"password",placeholder:"Confirm new password"}),E.jsx("button",{className:"save-btn",children:"Save Changes"})]})})});return E.jsxs(E.Fragment,{children:[E.jsxs(xe.div,{className:"admin-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[E.jsxs("div",{className:"header",children:[E.jsxs("div",{className:"logo-container",children:[E.jsx("img",{src:P3,alt:"Wildcats Express Logo",className:"logo"}),E.jsx("h1",{children:"Wildcats Express"})]}),E.jsxs("div",{className:"profile-section",onClick:Te,children:[E.jsx("img",{src:x3,alt:"Admin",className:"profile-photo"}),E.jsx("span",{className:"profile-name",children:"Admin"}),E.jsx(lu,{mode:"sync",children:s&&E.jsxs(xe.div,{className:"dropdown-menu",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[E.jsxs("div",{className:"dropdown-item",onClick:()=>Qe("adminReports"),children:[E.jsx(w3,{})," Admin Reports"]}),E.jsxs("div",{className:"dropdown-item",onClick:()=>Qe("analytics"),children:[E.jsx(_3,{})," Analytics"]}),E.jsxs("div",{className:"dropdown-item",onClick:()=>Qe("settings"),children:[E.jsx(T3,{})," Settings"]}),E.jsxs("div",{className:"dropdown-item",onClick:()=>jO(t),children:[E.jsx(E3,{})," Sign Out"]})]})})]})]}),E.jsx("div",{className:"sidebar",children:E.jsxs("nav",{children:[E.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Qe("dashboard"),className:n==="dashboard"?"active":"",children:E.jsx(A3,{className:"dashboard-icon"})}),E.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Qe("addMenu"),className:n==="addMenu"?"active":"",children:E.jsx(S3,{className:"addmenu-icon"})}),E.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Qe("orders"),className:n==="orders"?"active":"",children:E.jsx(I3,{className:"orders-icon"})})]})}),E.jsx("div",{className:"main-content-admin",children:E.jsx(lu,{mode:"wait",children:E.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[n==="dashboard"&&E.jsxs(xe.div,{className:"dashboard",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[E.jsx("h3",{children:"Welcome, Admin!"}),E.jsx("br",{}),E.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),E.jsx("div",{children:be()})]}),n==="addMenu"&&E.jsxs(xe.div,{className:"add-menu",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[E.jsx("h3",{children:"Welcome, Admin!"}),E.jsx("br",{}),E.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),E.jsx("br",{}),E.jsx("div",{children:ge()}),E.jsx("br",{}),E.jsx("div",{children:Re()})]}),n==="orders"&&E.jsxs(xe.div,{className:"orders",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[E.jsx("h2",{children:"Orders"}),E.jsx("br",{}),E.jsx("div",{children:Ve()})]}),n==="adminReports"&&E.jsxs(xe.div,{className:"admin-reports",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[E.jsx("h2",{children:"Admin Reports"}),E.jsx("br",{}),E.jsx("div",{children:Be()})]}),n==="analytics"&&E.jsx(xe.div,{className:"analytics",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:E.jsx("h2",{children:"Analytics"})}),n==="settings"&&E.jsxs(xe.div,{className:"settings",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[E.jsx("h2",{children:"Settings"}),E.jsx("br",{}),E.jsx("div",{children:ze()})]})]},n)})})]}),E.jsx(aS,{position:"top-center",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})},k3=()=>{vu();const[t,e]=O.useState({}),[n,r]=O.useState([]),[s,a]=O.useState("All"),[l,h]=O.useState(""),[d,p]=O.useState("menu");O.useEffect(()=>{const P=pm(jl,"menu"),N=b1(P,j=>{const U=j.docs.map(Q=>({...Q.data(),_id:Q.id}));r(U)},j=>{console.error("Error fetching menu items:",j),Ne.error("Failed to fetch menu items.")});return()=>N()},[]);const g=(P,N)=>{e(j=>({...j,[P]:Math.max(1,(j[P]||1)+N)}))},_=P=>{e(N=>({...N,[P._id]:N[P._id]||1}))};n.filter(P=>(s==="All"||P.category===s)&&P.name.toLowerCase().includes(l.toLowerCase()));const T=P=>{p(P)},S=()=>E.jsxs(E.Fragment,{children:[E.jsx(xe.div,{className:"search-bar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:E.jsx("input",{type:"text",placeholder:"Search for food...",value:l,onChange:P=>h(P.target.value)})}),E.jsx(xe.div,{className:"category-filter",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:["All","Rice","Dishes","Coffee","Drinks","Snacks"].map(P=>E.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:s===P?"active-category":"",onClick:()=>a(P),children:P},P))}),E.jsx(xe.div,{className:"menu-grid",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:E.jsx(lu,{mode:"wait",children:n.filter(P=>(s==="All"||P.category===s)&&P.name.toLowerCase().includes(l.toLowerCase())).map(P=>E.jsxs(xe.div,{className:"menu-item-pos",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{scale:1.05},transition:{duration:.2},children:[E.jsx("img",{src:P.imageURL,alt:P.name,className:"item-img"}),E.jsx("h3",{className:"item-name",children:P.name}),E.jsxs("p",{className:"item-price",children:["Php ",P.price]}),E.jsxs("div",{className:"quantity-selector",children:[E.jsx(xe.button,{whileTap:{scale:.9},onClick:()=>g(P._id,-1),children:"-"}),E.jsx("span",{children:t[P._id]||0}),E.jsx(xe.button,{whileTap:{scale:.9},onClick:()=>g(P._id,1),children:"+"})]}),E.jsx(xe.button,{className:"add-to-cart",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>_(P),children:"Add to Cart"})]},P._id))})})]}),x=()=>E.jsx(E.Fragment,{children:E.jsxs("div",{className:"cart",children:[E.jsx("h2",{className:"view-title",children:"Your Cart"}),Object.keys(t).length===0?E.jsxs("div",{className:"empty-state-cart",children:[E.jsx("p",{children:"Your cart is empty"}),E.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T("menu"),className:"return-to-menu",children:"Return to Menu"})]}):E.jsxs("div",{className:"cart-items",children:[Object.keys(t).map(P=>{const N=n.find(j=>j._id===P);return N?E.jsxs(xe.div,{className:"cart-item",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[E.jsxs("div",{className:"cart-item-details",children:[E.jsx("h3",{children:N.name}),E.jsxs("p",{children:["Php ",N.price,"  ",t[P]," = Php ",(N.price*t[P]).toFixed(2)]})]}),E.jsxs("div",{className:"cart-item-actions",children:[E.jsx(xe.button,{whileTap:{scale:.9},onClick:()=>g(P,-1),children:"-"}),E.jsx("span",{children:t[P]}),E.jsx(xe.button,{whileTap:{scale:.9},onClick:()=>g(P,1),children:"+"})]})]},P):null}),E.jsxs("div",{className:"cart-summary",children:[E.jsxs("div",{className:"cart-total",children:[E.jsx("strong",{children:"Total:"}),E.jsxs("span",{children:["Php ",Object.keys(t).reduce((P,N)=>{const j=n.find(U=>U._id===N);return P+(j?j.price*t[N]:0)},0).toFixed(2)]})]}),E.jsx(xe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"checkout-button",children:"Proceed to Checkout"})]})]})]})}),D=()=>E.jsx(E.Fragment,{children:E.jsxs("div",{className:"track-order",children:[E.jsx("h2",{className:"view-title",children:"Track Your Order"}),E.jsx("div",{className:"track-order-content",children:E.jsxs("div",{className:"order-tracking-form",children:[E.jsx("input",{type:"text",placeholder:"Enter your order number",className:"order-number-input"}),E.jsx(xe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"track-button",children:"Track"})]})})]})});return E.jsxs(xe.div,{className:"pos-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[E.jsx(xe.header,{className:"navbar-pos",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:E.jsxs("div",{className:"logo-container-pos",children:[E.jsx("img",{src:"/new-mainlogo.svg",className:"new-logo",alt:"Wildcats Express"}),E.jsxs("span",{className:"title",children:[E.jsx("h1",{children:"Wildcats Express"}),E.jsx("small",{children:"CIT-UNIVERSITY"})]})]})}),E.jsxs("div",{className:"main-content-container",children:[E.jsxs(xe.aside,{className:"sidebar-pos",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.3},children:[E.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:d==="menu"?"active-view-button":"",onClick:()=>T("menu"),children:"Menu"}),E.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:d==="cart"?"active-view-button":"",onClick:()=>T("cart"),children:"Cart"}),E.jsx(xe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:d==="trackOrder"?"active-view-button":"",onClick:()=>T("trackOrder"),children:"Track Order"})]}),E.jsx("div",{className:"pos-page",children:E.jsxs(lu,{mode:"wait",children:["Menu Modal",d==="menu"&&E.jsx(xe.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:E.jsx("div",{children:S()})},"menu-view"),"Cart Modal",d==="cart"&&E.jsx(xe.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:E.jsx("div",{children:x()})},"cart-view"),"TrackOrder Modal",d==="trackOrder"&&E.jsx(xe.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:E.jsx("div",{children:D()})},"track-order-view")]})})]})]})},b3=()=>{const{name:t,profilePhoto:e,userID:n,isAuth:r}=JSON.parse(localStorage.getItem("auth"))||{};return{name:t,profilePhoto:e,userID:n,isAuth:r}},N3="/assets/thinking-cat-Def_mMOd.svg";function D3(t){return hi({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M7.987 8.5l6.146 6.146-0.707 0.707-6.853-6.853 6.854-6.854 0.707 0.707-6.147 6.147zM9.29 2.353l-0.707-0.707-6.854 6.854 6.854 6.854 0.707-0.707-6.146-6.147 6.146-6.147z"},child:[]}]})(t)}const V3=()=>{const t=vu(),e=FO(t),{isAuth:n}=b3(),[r,s]=O.useState(""),[a,l]=O.useState(""),[h,d]=O.useState(!1);if(e)return E.jsx("div",{children:"Loading..."});const p={exit:{scale:.95,opacity:0,rotate:[0,-5],y:-50,transition:{duration:.4,ease:"easeInOut"}}},g=async T=>{T.preventDefault(),Ne.dismiss();try{await cS.login(r,a),d(!0),Ne.success("Login successful!"),setTimeout(()=>{t("/admin-page")},5e3)}catch(S){console.error("Login failed: ",S.message),Ne.error(`${S.message}`)}};if(n)return E.jsx($P,{to:"/admin-page"});const _=()=>{t("/")};return E.jsxs(E.Fragment,{children:[E.jsx(lu,{children:!h&&E.jsx(xe.div,{className:"login-page",initial:{opacity:1},animate:{opacity:1},exit:p.exit,variants:p,children:E.jsxs("div",{className:"login-container",children:[E.jsx(xe.div,{className:"back-button",whileHover:{scale:1.1},whileTap:{scale:.9},children:E.jsx("button",{type:"button",className:"button",onClick:_,children:E.jsx(D3,{className:"button-icon"})})}),E.jsx(xe.div,{className:"mascot-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:E.jsx("img",{src:N3,alt:"Mascot",className:"mascot-image"})}),E.jsxs(xe.div,{className:"form-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[E.jsxs("div",{className:"wildcats-title",children:[E.jsx("h2",{className:"wildcats",children:"Wildcats "}),E.jsx("h2",{className:"express",children:"Express"})]}),E.jsx("h3",{children:"Admin"}),E.jsxs("form",{onSubmit:g,children:[E.jsx(xe.input,{type:"text",placeholder:"Username",value:r,required:!0,onChange:T=>s(T.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4}}),E.jsx(xe.input,{type:"password",placeholder:"Password",value:a,required:!0,onChange:T=>l(T.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5}}),E.jsx(xe.button,{type:"submit",className:"login-button",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:"Login"})]})]})]})},"login-page")}),E.jsx(aS,{position:"top-left",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})};function L3(){return E.jsx(E.Fragment,{children:E.jsx("div",{className:"App",children:E.jsx(mx,{children:E.jsxs(WP,{children:[E.jsx(bl,{path:"/",element:E.jsx(Cx,{})}),E.jsx(bl,{path:"/login-page",element:E.jsx(V3,{})}),E.jsx(bl,{path:"/admin-page",element:E.jsx(R3,{})}),E.jsx(bl,{path:"/pos-page",element:E.jsx(k3,{})})]})})})})}eP.createRoot(document.getElementById("root")).render(E.jsx(O.StrictMode,{children:E.jsx(L3,{})}));
