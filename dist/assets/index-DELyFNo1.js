(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function YC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ap={exports:{}},Pl={},lp={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function XC(){if(x0)return Me;x0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=_&&$[_]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function R($,X,pe){this.props=$,this.context=X,this.refs=N,this.updater=pe||S}R.prototype.isReactComponent={},R.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function V(){}V.prototype=R.prototype;function U($,X,pe){this.props=$,this.context=X,this.refs=N,this.updater=pe||S}var F=U.prototype=new V;F.constructor=U,A(F,R.prototype),F.isPureReactComponent=!0;var Q=Array.isArray,Y=Object.prototype.hasOwnProperty,Z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function x($,X,pe){var Ve,be={},ee=null,_e=null;if(X!=null)for(Ve in X.ref!==void 0&&(_e=X.ref),X.key!==void 0&&(ee=""+X.key),X)Y.call(X,Ve)&&!k.hasOwnProperty(Ve)&&(be[Ve]=X[Ve]);var de=arguments.length-2;if(de===1)be.children=pe;else if(1<de){for(var Le=Array(de),Ke=0;Ke<de;Ke++)Le[Ke]=arguments[Ke+2];be.children=Le}if($&&$.defaultProps)for(Ve in de=$.defaultProps,de)be[Ve]===void 0&&(be[Ve]=de[Ve]);return{$$typeof:t,type:$,key:ee,ref:_e,props:be,_owner:Z.current}}function P($,X){return{$$typeof:t,type:$.type,key:X,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function j($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(pe){return X[pe]})}var z=/\/+/g;function D($,X){return typeof $=="object"&&$!==null&&$.key!=null?j(""+$.key):X.toString(36)}function $e($,X,pe,Ve,be){var ee=typeof $;(ee==="undefined"||ee==="boolean")&&($=null);var _e=!1;if($===null)_e=!0;else switch(ee){case"string":case"number":_e=!0;break;case"object":switch($.$$typeof){case t:case e:_e=!0}}if(_e)return _e=$,be=be(_e),$=Ve===""?"."+D(_e,0):Ve,Q(be)?(pe="",$!=null&&(pe=$.replace(z,"$&/")+"/"),$e(be,X,pe,"",function(Ke){return Ke})):be!=null&&(L(be)&&(be=P(be,pe+(!be.key||_e&&_e.key===be.key?"":(""+be.key).replace(z,"$&/")+"/")+$)),X.push(be)),1;if(_e=0,Ve=Ve===""?".":Ve+":",Q($))for(var de=0;de<$.length;de++){ee=$[de];var Le=Ve+D(ee,de);_e+=$e(ee,X,pe,Le,be)}else if(Le=E($),typeof Le=="function")for($=Le.call($),de=0;!(ee=$.next()).done;)ee=ee.value,Le=Ve+D(ee,de++),_e+=$e(ee,X,pe,Le,be);else if(ee==="object")throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return _e}function tt($,X,pe){if($==null)return $;var Ve=[],be=0;return $e($,Ve,"","",function(ee){return X.call(pe,ee,be++)}),Ve}function it($){if($._status===-1){var X=$._result;X=X(),X.then(function(pe){($._status===0||$._status===-1)&&($._status=1,$._result=pe)},function(pe){($._status===0||$._status===-1)&&($._status=2,$._result=pe)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var Te={current:null},re={transition:null},ge={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:re,ReactCurrentOwner:Z};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:tt,forEach:function($,X,pe){tt($,function(){X.apply(this,arguments)},pe)},count:function($){var X=0;return tt($,function(){X++}),X},toArray:function($){return tt($,function(X){return X})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Me.Component=R,Me.Fragment=n,Me.Profiler=s,Me.PureComponent=U,Me.StrictMode=r,Me.Suspense=d,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Me.act=ue,Me.cloneElement=function($,X,pe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ve=A({},$.props),be=$.key,ee=$.ref,_e=$._owner;if(X!=null){if(X.ref!==void 0&&(ee=X.ref,_e=Z.current),X.key!==void 0&&(be=""+X.key),$.type&&$.type.defaultProps)var de=$.type.defaultProps;for(Le in X)Y.call(X,Le)&&!k.hasOwnProperty(Le)&&(Ve[Le]=X[Le]===void 0&&de!==void 0?de[Le]:X[Le])}var Le=arguments.length-2;if(Le===1)Ve.children=pe;else if(1<Le){de=Array(Le);for(var Ke=0;Ke<Le;Ke++)de[Ke]=arguments[Ke+2];Ve.children=de}return{$$typeof:t,type:$.type,key:be,ref:ee,props:Ve,_owner:_e}},Me.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Me.createElement=x,Me.createFactory=function($){var X=x.bind(null,$);return X.type=$,X},Me.createRef=function(){return{current:null}},Me.forwardRef=function($){return{$$typeof:h,render:$}},Me.isValidElement=L,Me.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:it}},Me.memo=function($,X){return{$$typeof:p,type:$,compare:X===void 0?null:X}},Me.startTransition=function($){var X=re.transition;re.transition={};try{$()}finally{re.transition=X}},Me.unstable_act=ue,Me.useCallback=function($,X){return Te.current.useCallback($,X)},Me.useContext=function($){return Te.current.useContext($)},Me.useDebugValue=function(){},Me.useDeferredValue=function($){return Te.current.useDeferredValue($)},Me.useEffect=function($,X){return Te.current.useEffect($,X)},Me.useId=function(){return Te.current.useId()},Me.useImperativeHandle=function($,X,pe){return Te.current.useImperativeHandle($,X,pe)},Me.useInsertionEffect=function($,X){return Te.current.useInsertionEffect($,X)},Me.useLayoutEffect=function($,X){return Te.current.useLayoutEffect($,X)},Me.useMemo=function($,X){return Te.current.useMemo($,X)},Me.useReducer=function($,X,pe){return Te.current.useReducer($,X,pe)},Me.useRef=function($){return Te.current.useRef($)},Me.useState=function($){return Te.current.useState($)},Me.useSyncExternalStore=function($,X,pe){return Te.current.useSyncExternalStore($,X,pe)},Me.useTransition=function(){return Te.current.useTransition()},Me.version="18.3.1",Me}var C0;function Fm(){return C0||(C0=1,lp.exports=XC()),lp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function JC(){if(A0)return Pl;A0=1;var t=Fm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,d,p){var g,_={},E=null,S=null;p!==void 0&&(E=""+p),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(_[g]=d[g]);if(h&&h.defaultProps)for(g in d=h.defaultProps,d)_[g]===void 0&&(_[g]=d[g]);return{$$typeof:e,type:h,key:E,ref:S,props:_,_owner:s.current}}return Pl.Fragment=n,Pl.jsx=l,Pl.jsxs=l,Pl}var P0;function ZC(){return P0||(P0=1,ap.exports=JC()),ap.exports}var T=ZC(),O=Fm();const qe=YC(O);var Yc={},up={exports:{}},yn={},cp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function eA(){return R0||(R0=1,function(t){function e(re,ge){var ue=re.length;re.push(ge);e:for(;0<ue;){var $=ue-1>>>1,X=re[$];if(0<s(X,ge))re[$]=ge,re[ue]=X,ue=$;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ge=re[0],ue=re.pop();if(ue!==ge){re[0]=ue;e:for(var $=0,X=re.length,pe=X>>>1;$<pe;){var Ve=2*($+1)-1,be=re[Ve],ee=Ve+1,_e=re[ee];if(0>s(be,ue))ee<X&&0>s(_e,be)?(re[$]=_e,re[ee]=ue,$=ee):(re[$]=be,re[Ve]=ue,$=Ve);else if(ee<X&&0>s(_e,ue))re[$]=_e,re[ee]=ue,$=ee;else break e}}return ge}function s(re,ge){var ue=re.sortIndex-ge.sortIndex;return ue!==0?ue:re.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],p=[],g=1,_=null,E=3,S=!1,A=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(re){for(var ge=n(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=re)r(p),ge.sortIndex=ge.expirationTime,e(d,ge);else break;ge=n(p)}}function Q(re){if(N=!1,F(re),!A)if(n(d)!==null)A=!0,it(Y);else{var ge=n(p);ge!==null&&Te(Q,ge.startTime-re)}}function Y(re,ge){A=!1,N&&(N=!1,V(x),x=-1),S=!0;var ue=E;try{for(F(ge),_=n(d);_!==null&&(!(_.expirationTime>ge)||re&&!j());){var $=_.callback;if(typeof $=="function"){_.callback=null,E=_.priorityLevel;var X=$(_.expirationTime<=ge);ge=t.unstable_now(),typeof X=="function"?_.callback=X:_===n(d)&&r(d),F(ge)}else r(d);_=n(d)}if(_!==null)var pe=!0;else{var Ve=n(p);Ve!==null&&Te(Q,Ve.startTime-ge),pe=!1}return pe}finally{_=null,E=ue,S=!1}}var Z=!1,k=null,x=-1,P=5,L=-1;function j(){return!(t.unstable_now()-L<P)}function z(){if(k!==null){var re=t.unstable_now();L=re;var ge=!0;try{ge=k(!0,re)}finally{ge?D():(Z=!1,k=null)}}else Z=!1}var D;if(typeof U=="function")D=function(){U(z)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,tt=$e.port2;$e.port1.onmessage=z,D=function(){tt.postMessage(null)}}else D=function(){R(z,0)};function it(re){k=re,Z||(Z=!0,D())}function Te(re,ge){x=R(function(){re(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){A||S||(A=!0,it(Y))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var ue=E;E=ge;try{return re()}finally{E=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ue=E;E=re;try{return ge()}finally{E=ue}},t.unstable_scheduleCallback=function(re,ge,ue){var $=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?$+ue:$):ue=$,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ue+X,re={id:g++,callback:ge,priorityLevel:re,startTime:ue,expirationTime:X,sortIndex:-1},ue>$?(re.sortIndex=ue,e(p,re),n(d)===null&&re===n(p)&&(N?(V(x),x=-1):N=!0,Te(Q,ue-$))):(re.sortIndex=X,e(d,re),A||S||(A=!0,it(Y))),re},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(re){var ge=E;return function(){var ue=E;E=ge;try{return re.apply(this,arguments)}finally{E=ue}}}}(hp)),hp}var k0;function tA(){return k0||(k0=1,cp.exports=eA()),cp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function nA(){if(b0)return yn;b0=1;var t=Fm(),e=tA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return d.call(_,i)?!0:d.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function S(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,u,f){if(o===null||typeof o>"u"||S(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,u,f,m,v,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];R[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(V,U);R[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(V,U);R[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(V,U);R[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,u,f){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,m,f)&&(u=null),f||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),Z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),re=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,$;function X(i){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var pe=!1;function Ve(i,o){if(!i||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var f=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){f=K}i.call(o.prototype)}else{try{throw Error()}catch(K){f=K}i()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=f.stack.split(`
`),I=m.length-1,b=v.length-1;1<=I&&0<=b&&m[I]!==v[b];)b--;for(;1<=I&&0<=b;I--,b--)if(m[I]!==v[b]){if(I!==1||b!==1)do if(I--,b--,0>b||m[I]!==v[b]){var M=`
`+m[I].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=I&&0<=b);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?X(i):""}function be(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Ve(i.type,!1),i;case 11:return i=Ve(i.type.render,!1),i;case 1:return i=Ve(i.type,!0),i;default:return""}}function ee(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case Z:return"Portal";case P:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case $e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case j:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case tt:return o=i.displayName||null,o!==null?o:ee(i.type)||"Memo";case it:o=i._payload,i=i._init;try{return ee(i(o))}catch{}}return null}function _e(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(o);case 8:return o===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function de(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Le(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ke(i){var o=Le(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Tn(i){i._valueTracker||(i._valueTracker=Ke(i))}function yi(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Le(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function pr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Fr(i,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function vi(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=de(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ae(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function Ge(i,o){ae(i,o);var u=de(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Nn(i,o.type,u):o.hasOwnProperty("defaultValue")&&Nn(i,o.type,de(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function st(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Nn(i,o,u){(o!=="number"||pr(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var nn=Array.isArray;function Wt(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+de(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function _i(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ur(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(nn(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:de(u)}}function ho(i,o){var u=de(o.value),f=de(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Ma(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function St(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?St(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Br,ja=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Br.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function wi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gs=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(i){gs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ms[o]=ms[i]})});function Fa(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ms.hasOwnProperty(i)&&ms[i]?(""+o).trim():o+"px"}function Ua(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Fa(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Ba=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function za(i,o){if(o){if(Ba[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function $a(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=null;function fo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var po=null,Dn=null,mr=null;function mo(i){if(i=fl(i)){if(typeof po!="function")throw Error(n(280));var o=i.stateNode;o&&(o=hc(o),po(i.stateNode,i.type,o))}}function gr(i){Dn?mr?mr.push(i):mr=[i]:Dn=i}function Ha(){if(Dn){var i=Dn,o=mr;if(mr=Dn=null,mo(i),o)for(i=0;i<o.length;i++)mo(o[i])}}function vs(i,o){return i(o)}function Wa(){}var zr=!1;function qa(i,o,u){if(zr)return i(o,u);zr=!0;try{return vs(i,o,u)}finally{zr=!1,(Dn!==null||mr!==null)&&(Wa(),Ha())}}function gt(i,o){var u=i.stateNode;if(u===null)return null;var f=hc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var go=!1;if(h)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){go=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{go=!1}function _s(i,o,u,f,m,v,I,b,M){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(ne){this.onError(ne)}}var ws=!1,yo=null,Gn=!1,Ka=null,Vd={onError:function(i){ws=!0,yo=i}};function vo(i,o,u,f,m,v,I,b,M){ws=!1,yo=null,_s.apply(Vd,arguments)}function Ou(i,o,u,f,m,v,I,b,M){if(vo.apply(this,arguments),ws){if(ws){var K=yo;ws=!1,yo=null}else throw Error(n(198));Gn||(Gn=!0,Ka=K)}}function Qn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ts(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Yn(i){if(Qn(i)!==i)throw Error(n(188))}function Mu(i){var o=i.alternate;if(!o){if(o=Qn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Yn(m),i;if(v===f)return Yn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var I=!1,b=m.child;b;){if(b===u){I=!0,u=m,f=v;break}if(b===f){I=!0,f=m,u=v;break}b=b.sibling}if(!I){for(b=v.child;b;){if(b===u){I=!0,u=v,f=m;break}if(b===f){I=!0,f=v,u=m;break}b=b.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Ga(i){return i=Mu(i),i!==null?_o(i):null}function _o(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=_o(i);if(o!==null)return o;i=i.sibling}return null}var wo=e.unstable_scheduleCallback,Qa=e.unstable_cancelCallback,ju=e.unstable_shouldYield,Ld=e.unstable_requestPaint,Je=e.unstable_now,Fu=e.unstable_getCurrentPriorityLevel,Es=e.unstable_ImmediatePriority,Ti=e.unstable_UserBlockingPriority,Vn=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,Uu=e.unstable_IdlePriority,Is=null,En=null;function Bu(i){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Is,i,void 0,(i.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:$u,Xa=Math.log,zu=Math.LN2;function $u(i){return i>>>=0,i===0?32:31-(Xa(i)/zu|0)|0}var To=64,Eo=4194304;function Ei(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ss(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,I=u&268435455;if(I!==0){var b=I&~m;b!==0?f=Ei(b):(v&=I,v!==0&&(f=Ei(v)))}else I=u&~m,I!==0?f=Ei(I):v!==0&&(f=Ei(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-rn(o),m=1<<u,f|=i[u],o&=~m;return f}function Od(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var I=31-rn(v),b=1<<I,M=m[I];M===-1?((b&u)===0||(b&f)!==0)&&(m[I]=Od(b,o)):M<=o&&(i.expiredLanes|=b),v&=~b}}function In(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function xs(){var i=To;return To<<=1,(To&4194240)===0&&(To=64),i}function Ii(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Si(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-rn(o),i[o]=u}function Xe(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-rn(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function xi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-rn(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Ue=0;function Ci(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Hu,Io,Wu,qu,Ku,Ja=!1,yr=[],Mt=null,Xn=null,Jn=null,Ai=new Map,Ln=new Map,vr=[],Md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gu(i,o){switch(i){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ai.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(o.pointerId)}}function cn(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=fl(o),o!==null&&Io(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function jd(i,o,u,f,m){switch(o){case"focusin":return Mt=cn(Mt,i,o,u,f,m),!0;case"dragenter":return Xn=cn(Xn,i,o,u,f,m),!0;case"mouseover":return Jn=cn(Jn,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Ai.set(v,cn(Ai.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Ln.set(v,cn(Ln.get(v)||null,i,o,u,f,m)),!0}return!1}function Qu(i){var o=ks(i.target);if(o!==null){var u=Qn(o);if(u!==null){if(o=u.tag,o===13){if(o=Ts(u),o!==null){i.blockedOn=o,Ku(i.priority,function(){Wu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=So(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ys=f,u.target.dispatchEvent(f),ys=null}else return o=fl(u),o!==null&&Io(o),i.blockedOn=u,!1;o.shift()}return!0}function Cs(i,o,u){Hr(i)&&u.delete(o)}function Yu(){Ja=!1,Mt!==null&&Hr(Mt)&&(Mt=null),Xn!==null&&Hr(Xn)&&(Xn=null),Jn!==null&&Hr(Jn)&&(Jn=null),Ai.forEach(Cs),Ln.forEach(Cs)}function Zn(i,o){i.blockedOn===o&&(i.blockedOn=null,Ja||(Ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yu)))}function er(i){function o(m){return Zn(m,i)}if(0<yr.length){Zn(yr[0],i);for(var u=1;u<yr.length;u++){var f=yr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Mt!==null&&Zn(Mt,i),Xn!==null&&Zn(Xn,i),Jn!==null&&Zn(Jn,i),Ai.forEach(o),Ln.forEach(o),u=0;u<vr.length;u++)f=vr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<vr.length&&(u=vr[0],u.blockedOn===null);)Qu(u),u.blockedOn===null&&vr.shift()}var Wr=Q.ReactCurrentBatchConfig,Pi=!0;function ot(i,o,u,f){var m=Ue,v=Wr.transition;Wr.transition=null;try{Ue=1,Za(i,o,u,f)}finally{Ue=m,Wr.transition=v}}function Fd(i,o,u,f){var m=Ue,v=Wr.transition;Wr.transition=null;try{Ue=4,Za(i,o,u,f)}finally{Ue=m,Wr.transition=v}}function Za(i,o,u,f){if(Pi){var m=So(i,o,u,f);if(m===null)Yd(i,o,f,As,u),Gu(i,f);else if(jd(m,i,o,u,f))f.stopPropagation();else if(Gu(i,f),o&4&&-1<Md.indexOf(i)){for(;m!==null;){var v=fl(m);if(v!==null&&Hu(v),v=So(i,o,u,f),v===null&&Yd(i,o,f,As,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else Yd(i,o,f,null,u)}}var As=null;function So(i,o,u,f){if(As=null,i=fo(f),i=ks(i),i!==null)if(o=Qn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ts(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return As=i,null}function el(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fu()){case Es:return 1;case Ti:return 4;case Vn:case Ya:return 16;case Uu:return 536870912;default:return 16}default:return 16}}var Sn=null,xo=null,hn=null;function tl(){if(hn)return hn;var i,o=xo,u=o.length,f,m="value"in Sn?Sn.value:Sn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var I=u-i;for(f=1;f<=I&&o[u-f]===m[v-f];f++);return hn=m.slice(i,1<f?1-f:void 0)}function Co(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function _r(){return!0}function nl(){return!1}function jt(i){function o(u,f,m,v,I){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(u=i[b],this[b]=u?u(v):v[b]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?_r:nl,this.isPropagationStopped=nl,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),o}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=jt(tr),wr=ue({},tr,{view:0,detail:0}),Ud=jt(wr),Po,qr,Ri,Ps=ue({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ri&&(Ri&&i.type==="mousemove"?(Po=i.screenX-Ri.screenX,qr=i.screenY-Ri.screenY):qr=Po=0,Ri=i),Po)},movementY:function(i){return"movementY"in i?i.movementY:qr}}),Ro=jt(Ps),rl=ue({},Ps,{dataTransfer:0}),Xu=jt(rl),ko=ue({},wr,{relatedTarget:0}),bo=jt(ko),Ju=ue({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=jt(Ju),Zu=ue({},tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ec=jt(Zu),tc=ue({},tr,{data:0}),il=jt(tc),No={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=nc[i])?!!o[i]:!1}function Tr(){return rc}var c=ue({},wr,{key:function(i){if(i.key){var o=No[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Co(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(i){return i.type==="keypress"?Co(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Co(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=jt(c),w=ue({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=jt(w),H=ue({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),G=jt(H),le=ue({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=jt(le),Ct=ue({},Ps,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=jt(Ct),Nt=[9,13,27,32],Tt=h&&"CompositionEvent"in window,On=null;h&&"documentMode"in document&&(On=document.documentMode);var xn=h&&"TextEvent"in window&&!On,Rs=h&&(!Tt||On&&8<On&&11>=On),Do=" ",_y=!1;function wy(i,o){switch(i){case"keyup":return Nt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vo=!1;function Kx(i,o){switch(i){case"compositionend":return Ty(o);case"keypress":return o.which!==32?null:(_y=!0,Do);case"textInput":return i=o.data,i===Do&&_y?null:i;default:return null}}function Gx(i,o){if(Vo)return i==="compositionend"||!Tt&&wy(i,o)?(i=tl(),hn=xo=Sn=null,Vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Rs&&o.locale!=="ko"?null:o.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Qx[i.type]:o==="textarea"}function Iy(i,o,u,f){gr(f),o=lc(o,"onChange"),0<o.length&&(u=new Ao("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var sl=null,ol=null;function Yx(i){By(i,0)}function ic(i){var o=Fo(i);if(yi(o))return i}function Xx(i,o){if(i==="change")return o}var Sy=!1;if(h){var Bd;if(h){var zd="oninput"in document;if(!zd){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),zd=typeof xy.oninput=="function"}Bd=zd}else Bd=!1;Sy=Bd&&(!document.documentMode||9<document.documentMode)}function Cy(){sl&&(sl.detachEvent("onpropertychange",Ay),ol=sl=null)}function Ay(i){if(i.propertyName==="value"&&ic(ol)){var o=[];Iy(o,ol,i,fo(i)),qa(Yx,o)}}function Jx(i,o,u){i==="focusin"?(Cy(),sl=o,ol=u,sl.attachEvent("onpropertychange",Ay)):i==="focusout"&&Cy()}function Zx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ic(ol)}function eC(i,o){if(i==="click")return ic(o)}function tC(i,o){if(i==="input"||i==="change")return ic(o)}function nC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var nr=typeof Object.is=="function"?Object.is:nC;function al(i,o){if(nr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!nr(i[m],o[m]))return!1}return!0}function Py(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ry(i,o){var u=Py(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Py(u)}}function ky(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ky(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function by(){for(var i=window,o=pr();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=pr(i.document)}return o}function $d(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function rC(i){var o=by(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&ky(u.ownerDocument.documentElement,u)){if(f!==null&&$d(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=Ry(u,v);var I=Ry(u,f);m&&I&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var iC=h&&"documentMode"in document&&11>=document.documentMode,Lo=null,Hd=null,ll=null,Wd=!1;function Ny(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Wd||Lo==null||Lo!==pr(f)||(f=Lo,"selectionStart"in f&&$d(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ll&&al(ll,f)||(ll=f,f=lc(Hd,"onSelect"),0<f.length&&(o=new Ao("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Lo)))}function sc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Oo={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},qd={},Dy={};h&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function oc(i){if(qd[i])return qd[i];if(!Oo[i])return i;var o=Oo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Dy)return qd[i]=o[u];return i}var Vy=oc("animationend"),Ly=oc("animationiteration"),Oy=oc("animationstart"),My=oc("transitionend"),jy=new Map,Fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(i,o){jy.set(i,o),a(o,[i])}for(var Kd=0;Kd<Fy.length;Kd++){var Gd=Fy[Kd],sC=Gd.toLowerCase(),oC=Gd[0].toUpperCase()+Gd.slice(1);ki(sC,"on"+oC)}ki(Vy,"onAnimationEnd"),ki(Ly,"onAnimationIteration"),ki(Oy,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(My,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Uy(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Ou(f,o,void 0,i),i.currentTarget=null}function By(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var I=f.length-1;0<=I;I--){var b=f[I],M=b.instance,K=b.currentTarget;if(b=b.listener,M!==v&&m.isPropagationStopped())break e;Uy(m,b,K),v=M}else for(I=0;I<f.length;I++){if(b=f[I],M=b.instance,K=b.currentTarget,b=b.listener,M!==v&&m.isPropagationStopped())break e;Uy(m,b,K),v=M}}}if(Gn)throw i=Ka,Gn=!1,Ka=null,i}function nt(i,o){var u=o[nf];u===void 0&&(u=o[nf]=new Set);var f=i+"__bubble";u.has(f)||(zy(o,i,2,!1),u.add(f))}function Qd(i,o,u){var f=0;o&&(f|=4),zy(u,i,f,o)}var ac="_reactListening"+Math.random().toString(36).slice(2);function cl(i){if(!i[ac]){i[ac]=!0,r.forEach(function(u){u!=="selectionchange"&&(aC.has(u)||Qd(u,!1,i),Qd(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ac]||(o[ac]=!0,Qd("selectionchange",!1,o))}}function zy(i,o,u,f){switch(el(o)){case 1:var m=ot;break;case 4:m=Fd;break;default:m=Za}u=m.bind(null,o,u,i),m=void 0,!go||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Yd(i,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var b=f.stateNode.containerInfo;if(b===m||b.nodeType===8&&b.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var M=I.tag;if((M===3||M===4)&&(M=I.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;I=I.return}for(;b!==null;){if(I=ks(b),I===null)return;if(M=I.tag,M===5||M===6){f=v=I;continue e}b=b.parentNode}}f=f.return}qa(function(){var K=v,ne=fo(u),se=[];e:{var te=jy.get(i);if(te!==void 0){var ce=Ao,me=i;switch(i){case"keypress":if(Co(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":me="focus",ce=bo;break;case"focusout":me="blur",ce=bo;break;case"beforeblur":case"afterblur":ce=bo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G;break;case Vy:case Ly:case Oy:ce=Kr;break;case My:ce=Ye;break;case"scroll":ce=Ud;break;case"wheel":ce=Be;break;case"copy":case"cut":case"paste":ce=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=C}var ye=(o&4)!==0,yt=!ye&&i==="scroll",W=ye?te!==null?te+"Capture":null:te;ye=[];for(var B=K,q;B!==null;){q=B;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,W!==null&&(oe=gt(B,W),oe!=null&&ye.push(hl(B,oe,q)))),yt)break;B=B.return}0<ye.length&&(te=new ce(te,me,null,u,ne),se.push({event:te,listeners:ye}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",te&&u!==ys&&(me=u.relatedTarget||u.fromElement)&&(ks(me)||me[Gr]))break e;if((ce||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(me=u.relatedTarget||u.toElement,ce=K,me=me?ks(me):null,me!==null&&(yt=Qn(me),me!==yt||me.tag!==5&&me.tag!==6)&&(me=null)):(ce=null,me=K),ce!==me)){if(ye=Ro,oe="onMouseLeave",W="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ye=C,oe="onPointerLeave",W="onPointerEnter",B="pointer"),yt=ce==null?te:Fo(ce),q=me==null?te:Fo(me),te=new ye(oe,B+"leave",ce,u,ne),te.target=yt,te.relatedTarget=q,oe=null,ks(ne)===K&&(ye=new ye(W,B+"enter",me,u,ne),ye.target=q,ye.relatedTarget=yt,oe=ye),yt=oe,ce&&me)t:{for(ye=ce,W=me,B=0,q=ye;q;q=Mo(q))B++;for(q=0,oe=W;oe;oe=Mo(oe))q++;for(;0<B-q;)ye=Mo(ye),B--;for(;0<q-B;)W=Mo(W),q--;for(;B--;){if(ye===W||W!==null&&ye===W.alternate)break t;ye=Mo(ye),W=Mo(W)}ye=null}else ye=null;ce!==null&&$y(se,te,ce,ye,!1),me!==null&&yt!==null&&$y(se,yt,me,ye,!0)}}e:{if(te=K?Fo(K):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ve=Xx;else if(Ey(te))if(Sy)ve=tC;else{ve=Zx;var Ee=Jx}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ve=eC);if(ve&&(ve=ve(i,K))){Iy(se,ve,u,ne);break e}Ee&&Ee(i,te,K),i==="focusout"&&(Ee=te._wrapperState)&&Ee.controlled&&te.type==="number"&&Nn(te,"number",te.value)}switch(Ee=K?Fo(K):window,i){case"focusin":(Ey(Ee)||Ee.contentEditable==="true")&&(Lo=Ee,Hd=K,ll=null);break;case"focusout":ll=Hd=Lo=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,Ny(se,u,ne);break;case"selectionchange":if(iC)break;case"keydown":case"keyup":Ny(se,u,ne)}var Ie;if(Tt)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Vo?wy(i,u)&&(Pe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(Rs&&u.locale!=="ko"&&(Vo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Vo&&(Ie=tl()):(Sn=ne,xo="value"in Sn?Sn.value:Sn.textContent,Vo=!0)),Ee=lc(K,Pe),0<Ee.length&&(Pe=new il(Pe,i,null,u,ne),se.push({event:Pe,listeners:Ee}),Ie?Pe.data=Ie:(Ie=Ty(u),Ie!==null&&(Pe.data=Ie)))),(Ie=xn?Kx(i,u):Gx(i,u))&&(K=lc(K,"onBeforeInput"),0<K.length&&(ne=new il("onBeforeInput","beforeinput",null,u,ne),se.push({event:ne,listeners:K}),ne.data=Ie))}By(se,o)})}function hl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function lc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=gt(i,u),v!=null&&f.unshift(hl(i,v,m)),v=gt(i,o),v!=null&&f.push(hl(i,v,m))),i=i.return}return f}function Mo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function $y(i,o,u,f,m){for(var v=o._reactName,I=[];u!==null&&u!==f;){var b=u,M=b.alternate,K=b.stateNode;if(M!==null&&M===f)break;b.tag===5&&K!==null&&(b=K,m?(M=gt(u,v),M!=null&&I.unshift(hl(u,M,b))):m||(M=gt(u,v),M!=null&&I.push(hl(u,M,b)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var lC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function Hy(i){return(typeof i=="string"?i:""+i).replace(lC,`
`).replace(uC,"")}function uc(i,o,u){if(o=Hy(o),Hy(i)!==o&&u)throw Error(n(425))}function cc(){}var Xd=null,Jd=null;function Zd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ef=typeof setTimeout=="function"?setTimeout:void 0,cC=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,hC=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(i){return Wy.resolve(null).then(i).catch(dC)}:ef;function dC(i){setTimeout(function(){throw i})}function tf(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),er(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);er(o)}function bi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function qy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Er="__reactFiber$"+jo,dl="__reactProps$"+jo,Gr="__reactContainer$"+jo,nf="__reactEvents$"+jo,fC="__reactListeners$"+jo,pC="__reactHandles$"+jo;function ks(i){var o=i[Er];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Gr]||u[Er]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=qy(i);i!==null;){if(u=i[Er])return u;i=qy(i)}return o}i=u,u=i.parentNode}return null}function fl(i){return i=i[Er]||i[Gr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function hc(i){return i[dl]||null}var rf=[],Uo=-1;function Ni(i){return{current:i}}function rt(i){0>Uo||(i.current=rf[Uo],rf[Uo]=null,Uo--)}function Ze(i,o){Uo++,rf[Uo]=i.current,i.current=o}var Di={},qt=Ni(Di),dn=Ni(!1),bs=Di;function Bo(i,o){var u=i.type.contextTypes;if(!u)return Di;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function fn(i){return i=i.childContextTypes,i!=null}function dc(){rt(dn),rt(qt)}function Ky(i,o,u){if(qt.current!==Di)throw Error(n(168));Ze(qt,o),Ze(dn,u)}function Gy(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,_e(i)||"Unknown",m));return ue({},u,f)}function fc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Di,bs=qt.current,Ze(qt,i),Ze(dn,dn.current),!0}function Qy(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=Gy(i,o,bs),f.__reactInternalMemoizedMergedChildContext=i,rt(dn),rt(qt),Ze(qt,i)):rt(dn),Ze(dn,u)}var Qr=null,pc=!1,sf=!1;function Yy(i){Qr===null?Qr=[i]:Qr.push(i)}function mC(i){pc=!0,Yy(i)}function Vi(){if(!sf&&Qr!==null){sf=!0;var i=0,o=Ue;try{var u=Qr;for(Ue=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Qr=null,pc=!1}catch(m){throw Qr!==null&&(Qr=Qr.slice(i+1)),wo(Es,Vi),m}finally{Ue=o,sf=!1}}return null}var zo=[],$o=0,mc=null,gc=0,Mn=[],jn=0,Ns=null,Yr=1,Xr="";function Ds(i,o){zo[$o++]=gc,zo[$o++]=mc,mc=i,gc=o}function Xy(i,o,u){Mn[jn++]=Yr,Mn[jn++]=Xr,Mn[jn++]=Ns,Ns=i;var f=Yr;i=Xr;var m=32-rn(f)-1;f&=~(1<<m),u+=1;var v=32-rn(o)+m;if(30<v){var I=m-m%5;v=(f&(1<<I)-1).toString(32),f>>=I,m-=I,Yr=1<<32-rn(o)+m|u<<m|f,Xr=v+i}else Yr=1<<v|u<<m|f,Xr=i}function of(i){i.return!==null&&(Ds(i,1),Xy(i,1,0))}function af(i){for(;i===mc;)mc=zo[--$o],zo[$o]=null,gc=zo[--$o],zo[$o]=null;for(;i===Ns;)Ns=Mn[--jn],Mn[jn]=null,Xr=Mn[--jn],Mn[jn]=null,Yr=Mn[--jn],Mn[jn]=null}var Cn=null,An=null,at=!1,rr=null;function Jy(i,o){var u=zn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Zy(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Cn=i,An=bi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Cn=i,An=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ns!==null?{id:Yr,overflow:Xr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=zn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Cn=i,An=null,!0):!1;default:return!1}}function lf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function uf(i){if(at){var o=An;if(o){var u=o;if(!Zy(i,o)){if(lf(i))throw Error(n(418));o=bi(u.nextSibling);var f=Cn;o&&Zy(i,o)?Jy(f,u):(i.flags=i.flags&-4097|2,at=!1,Cn=i)}}else{if(lf(i))throw Error(n(418));i.flags=i.flags&-4097|2,at=!1,Cn=i}}}function ev(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Cn=i}function yc(i){if(i!==Cn)return!1;if(!at)return ev(i),at=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Zd(i.type,i.memoizedProps)),o&&(o=An)){if(lf(i))throw tv(),Error(n(418));for(;o;)Jy(i,o),o=bi(o.nextSibling)}if(ev(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){An=bi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}An=null}}else An=Cn?bi(i.stateNode.nextSibling):null;return!0}function tv(){for(var i=An;i;)i=bi(i.nextSibling)}function Ho(){An=Cn=null,at=!1}function cf(i){rr===null?rr=[i]:rr.push(i)}var gC=Q.ReactCurrentBatchConfig;function pl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(I){var b=m.refs;I===null?delete b[v]:b[v]=I},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function vc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function nv(i){var o=i._init;return o(i._payload)}function rv(i){function o(W,B){if(i){var q=W.deletions;q===null?(W.deletions=[B],W.flags|=16):q.push(B)}}function u(W,B){if(!i)return null;for(;B!==null;)o(W,B),B=B.sibling;return null}function f(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function m(W,B){return W=zi(W,B),W.index=0,W.sibling=null,W}function v(W,B,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<B?(W.flags|=2,B):q):(W.flags|=2,B)):(W.flags|=1048576,B)}function I(W){return i&&W.alternate===null&&(W.flags|=2),W}function b(W,B,q,oe){return B===null||B.tag!==6?(B=tp(q,W.mode,oe),B.return=W,B):(B=m(B,q),B.return=W,B)}function M(W,B,q,oe){var ve=q.type;return ve===k?ne(W,B,q.props.children,oe,q.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===it&&nv(ve)===B.type)?(oe=m(B,q.props),oe.ref=pl(W,B,q),oe.return=W,oe):(oe=zc(q.type,q.key,q.props,null,W.mode,oe),oe.ref=pl(W,B,q),oe.return=W,oe)}function K(W,B,q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=np(q,W.mode,oe),B.return=W,B):(B=m(B,q.children||[]),B.return=W,B)}function ne(W,B,q,oe,ve){return B===null||B.tag!==7?(B=Bs(q,W.mode,oe,ve),B.return=W,B):(B=m(B,q),B.return=W,B)}function se(W,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=tp(""+B,W.mode,q),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Y:return q=zc(B.type,B.key,B.props,null,W.mode,q),q.ref=pl(W,null,B),q.return=W,q;case Z:return B=np(B,W.mode,q),B.return=W,B;case it:var oe=B._init;return se(W,oe(B._payload),q)}if(nn(B)||ge(B))return B=Bs(B,W.mode,q,null),B.return=W,B;vc(W,B)}return null}function te(W,B,q,oe){var ve=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:b(W,B,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:return q.key===ve?M(W,B,q,oe):null;case Z:return q.key===ve?K(W,B,q,oe):null;case it:return ve=q._init,te(W,B,ve(q._payload),oe)}if(nn(q)||ge(q))return ve!==null?null:ne(W,B,q,oe,null);vc(W,q)}return null}function ce(W,B,q,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return W=W.get(q)||null,b(B,W,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Y:return W=W.get(oe.key===null?q:oe.key)||null,M(B,W,oe,ve);case Z:return W=W.get(oe.key===null?q:oe.key)||null,K(B,W,oe,ve);case it:var Ee=oe._init;return ce(W,B,q,Ee(oe._payload),ve)}if(nn(oe)||ge(oe))return W=W.get(q)||null,ne(B,W,oe,ve,null);vc(B,oe)}return null}function me(W,B,q,oe){for(var ve=null,Ee=null,Ie=B,Pe=B=0,Lt=null;Ie!==null&&Pe<q.length;Pe++){Ie.index>Pe?(Lt=Ie,Ie=null):Lt=Ie.sibling;var We=te(W,Ie,q[Pe],oe);if(We===null){Ie===null&&(Ie=Lt);break}i&&Ie&&We.alternate===null&&o(W,Ie),B=v(We,B,Pe),Ee===null?ve=We:Ee.sibling=We,Ee=We,Ie=Lt}if(Pe===q.length)return u(W,Ie),at&&Ds(W,Pe),ve;if(Ie===null){for(;Pe<q.length;Pe++)Ie=se(W,q[Pe],oe),Ie!==null&&(B=v(Ie,B,Pe),Ee===null?ve=Ie:Ee.sibling=Ie,Ee=Ie);return at&&Ds(W,Pe),ve}for(Ie=f(W,Ie);Pe<q.length;Pe++)Lt=ce(Ie,W,Pe,q[Pe],oe),Lt!==null&&(i&&Lt.alternate!==null&&Ie.delete(Lt.key===null?Pe:Lt.key),B=v(Lt,B,Pe),Ee===null?ve=Lt:Ee.sibling=Lt,Ee=Lt);return i&&Ie.forEach(function($i){return o(W,$i)}),at&&Ds(W,Pe),ve}function ye(W,B,q,oe){var ve=ge(q);if(typeof ve!="function")throw Error(n(150));if(q=ve.call(q),q==null)throw Error(n(151));for(var Ee=ve=null,Ie=B,Pe=B=0,Lt=null,We=q.next();Ie!==null&&!We.done;Pe++,We=q.next()){Ie.index>Pe?(Lt=Ie,Ie=null):Lt=Ie.sibling;var $i=te(W,Ie,We.value,oe);if($i===null){Ie===null&&(Ie=Lt);break}i&&Ie&&$i.alternate===null&&o(W,Ie),B=v($i,B,Pe),Ee===null?ve=$i:Ee.sibling=$i,Ee=$i,Ie=Lt}if(We.done)return u(W,Ie),at&&Ds(W,Pe),ve;if(Ie===null){for(;!We.done;Pe++,We=q.next())We=se(W,We.value,oe),We!==null&&(B=v(We,B,Pe),Ee===null?ve=We:Ee.sibling=We,Ee=We);return at&&Ds(W,Pe),ve}for(Ie=f(W,Ie);!We.done;Pe++,We=q.next())We=ce(Ie,W,Pe,We.value,oe),We!==null&&(i&&We.alternate!==null&&Ie.delete(We.key===null?Pe:We.key),B=v(We,B,Pe),Ee===null?ve=We:Ee.sibling=We,Ee=We);return i&&Ie.forEach(function(QC){return o(W,QC)}),at&&Ds(W,Pe),ve}function yt(W,B,q,oe){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:e:{for(var ve=q.key,Ee=B;Ee!==null;){if(Ee.key===ve){if(ve=q.type,ve===k){if(Ee.tag===7){u(W,Ee.sibling),B=m(Ee,q.props.children),B.return=W,W=B;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===it&&nv(ve)===Ee.type){u(W,Ee.sibling),B=m(Ee,q.props),B.ref=pl(W,Ee,q),B.return=W,W=B;break e}u(W,Ee);break}else o(W,Ee);Ee=Ee.sibling}q.type===k?(B=Bs(q.props.children,W.mode,oe,q.key),B.return=W,W=B):(oe=zc(q.type,q.key,q.props,null,W.mode,oe),oe.ref=pl(W,B,q),oe.return=W,W=oe)}return I(W);case Z:e:{for(Ee=q.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){u(W,B.sibling),B=m(B,q.children||[]),B.return=W,W=B;break e}else{u(W,B);break}else o(W,B);B=B.sibling}B=np(q,W.mode,oe),B.return=W,W=B}return I(W);case it:return Ee=q._init,yt(W,B,Ee(q._payload),oe)}if(nn(q))return me(W,B,q,oe);if(ge(q))return ye(W,B,q,oe);vc(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(u(W,B.sibling),B=m(B,q),B.return=W,W=B):(u(W,B),B=tp(q,W.mode,oe),B.return=W,W=B),I(W)):u(W,B)}return yt}var Wo=rv(!0),iv=rv(!1),_c=Ni(null),wc=null,qo=null,hf=null;function df(){hf=qo=wc=null}function ff(i){var o=_c.current;rt(_c),i._currentValue=o}function pf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Ko(i,o){wc=i,hf=qo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(pn=!0),i.firstContext=null)}function Fn(i){var o=i._currentValue;if(hf!==i)if(i={context:i,memoizedValue:o,next:null},qo===null){if(wc===null)throw Error(n(308));qo=i,wc.dependencies={lanes:0,firstContext:i}}else qo=qo.next=i;return o}var Vs=null;function mf(i){Vs===null?Vs=[i]:Vs.push(i)}function sv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,mf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Jr(i,f)}function Jr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Li=!1;function gf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Zr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Oi(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(He&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Jr(i,u)}return m=f.interleaved,m===null?(o.next=o,mf(f)):(o.next=m.next,m.next=o),f.interleaved=o,Jr(i,u)}function Tc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,xi(i,u)}}function av(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Ec(i,o,u,f){var m=i.updateQueue;Li=!1;var v=m.firstBaseUpdate,I=m.lastBaseUpdate,b=m.shared.pending;if(b!==null){m.shared.pending=null;var M=b,K=M.next;M.next=null,I===null?v=K:I.next=K,I=M;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==I&&(b===null?ne.firstBaseUpdate=K:b.next=K,ne.lastBaseUpdate=M))}if(v!==null){var se=m.baseState;I=0,ne=K=M=null,b=v;do{var te=b.lane,ce=b.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var me=i,ye=b;switch(te=o,ce=u,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){se=me.call(ce,se,te);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,te=typeof me=="function"?me.call(ce,se,te):me,te==null)break e;se=ue({},se,te);break e;case 2:Li=!0}}b.callback!==null&&b.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[b]:te.push(b))}else ce={eventTime:ce,lane:te,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(K=ne=ce,M=se):ne=ne.next=ce,I|=te;if(b=b.next,b===null){if(b=m.shared.pending,b===null)break;te=b,b=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(M=se),m.baseState=M,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ms|=I,i.lanes=I,i.memoizedState=se}}function lv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var ml={},Ir=Ni(ml),gl=Ni(ml),yl=Ni(ml);function Ls(i){if(i===ml)throw Error(n(174));return i}function yf(i,o){switch(Ze(yl,o),Ze(gl,i),Ze(Ir,ml),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:xt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=xt(o,i)}rt(Ir),Ze(Ir,o)}function Go(){rt(Ir),rt(gl),rt(yl)}function uv(i){Ls(yl.current);var o=Ls(Ir.current),u=xt(o,i.type);o!==u&&(Ze(gl,i),Ze(Ir,u))}function vf(i){gl.current===i&&(rt(Ir),rt(gl))}var ut=Ni(0);function Ic(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var _f=[];function wf(){for(var i=0;i<_f.length;i++)_f[i]._workInProgressVersionPrimary=null;_f.length=0}var Sc=Q.ReactCurrentDispatcher,Tf=Q.ReactCurrentBatchConfig,Os=0,ct=null,At=null,Dt=null,xc=!1,vl=!1,_l=0,yC=0;function Kt(){throw Error(n(321))}function Ef(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!nr(i[u],o[u]))return!1;return!0}function If(i,o,u,f,m,v){if(Os=v,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Sc.current=i===null||i.memoizedState===null?TC:EC,i=u(f,m),vl){v=0;do{if(vl=!1,_l=0,25<=v)throw Error(n(301));v+=1,Dt=At=null,o.updateQueue=null,Sc.current=IC,i=u(f,m)}while(vl)}if(Sc.current=Pc,o=At!==null&&At.next!==null,Os=0,Dt=At=ct=null,xc=!1,o)throw Error(n(300));return i}function Sf(){var i=_l!==0;return _l=0,i}function Sr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ct.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Un(){if(At===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var o=Dt===null?ct.memoizedState:Dt.next;if(o!==null)Dt=o,At=i;else{if(i===null)throw Error(n(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Dt===null?ct.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function wl(i,o){return typeof o=="function"?o(i):o}function xf(i){var o=Un(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=At,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var I=m.next;m.next=v.next,v.next=I}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var b=I=null,M=null,K=v;do{var ne=K.lane;if((Os&ne)===ne)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:i(f,K.action);else{var se={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(b=M=se,I=f):M=M.next=se,ct.lanes|=ne,Ms|=ne}K=K.next}while(K!==null&&K!==v);M===null?I=f:M.next=b,nr(f,o.memoizedState)||(pn=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=M,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,ct.lanes|=v,Ms|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Cf(i){var o=Un(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do v=i(v,I.action),I=I.next;while(I!==m);nr(v,o.memoizedState)||(pn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function cv(){}function hv(i,o){var u=ct,f=Un(),m=o(),v=!nr(f.memoizedState,m);if(v&&(f.memoizedState=m,pn=!0),f=f.queue,Af(pv.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,Tl(9,fv.bind(null,u,f,m,o),void 0,null),Vt===null)throw Error(n(349));(Os&30)!==0||dv(u,o,m)}return m}function dv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function fv(i,o,u,f){o.value=u,o.getSnapshot=f,mv(o)&&gv(i)}function pv(i,o,u){return u(function(){mv(o)&&gv(i)})}function mv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!nr(i,u)}catch{return!0}}function gv(i){var o=Jr(i,1);o!==null&&ar(o,i,1,-1)}function yv(i){var o=Sr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:i},o.queue=i,i=i.dispatch=wC.bind(null,ct,i),[o.memoizedState,i]}function Tl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function vv(){return Un().memoizedState}function Cc(i,o,u,f){var m=Sr();ct.flags|=i,m.memoizedState=Tl(1|o,u,void 0,f===void 0?null:f)}function Ac(i,o,u,f){var m=Un();f=f===void 0?null:f;var v=void 0;if(At!==null){var I=At.memoizedState;if(v=I.destroy,f!==null&&Ef(f,I.deps)){m.memoizedState=Tl(o,u,v,f);return}}ct.flags|=i,m.memoizedState=Tl(1|o,u,v,f)}function _v(i,o){return Cc(8390656,8,i,o)}function Af(i,o){return Ac(2048,8,i,o)}function wv(i,o){return Ac(4,2,i,o)}function Tv(i,o){return Ac(4,4,i,o)}function Ev(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Iv(i,o,u){return u=u!=null?u.concat([i]):null,Ac(4,4,Ev.bind(null,o,i),u)}function Pf(){}function Sv(i,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Ef(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function xv(i,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Ef(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function Cv(i,o,u){return(Os&21)===0?(i.baseState&&(i.baseState=!1,pn=!0),i.memoizedState=u):(nr(u,o)||(u=xs(),ct.lanes|=u,Ms|=u,i.baseState=!0),o)}function vC(i,o){var u=Ue;Ue=u!==0&&4>u?u:4,i(!0);var f=Tf.transition;Tf.transition={};try{i(!1),o()}finally{Ue=u,Tf.transition=f}}function Av(){return Un().memoizedState}function _C(i,o,u){var f=Ui(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Pv(i))Rv(o,u);else if(u=sv(i,o,u,f),u!==null){var m=an();ar(u,i,f,m),kv(u,o,f)}}function wC(i,o,u){var f=Ui(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Pv(i))Rv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,b=v(I,u);if(m.hasEagerState=!0,m.eagerState=b,nr(b,I)){var M=o.interleaved;M===null?(m.next=m,mf(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=sv(i,o,m,f),u!==null&&(m=an(),ar(u,i,f,m),kv(u,o,f))}}function Pv(i){var o=i.alternate;return i===ct||o!==null&&o===ct}function Rv(i,o){vl=xc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function kv(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,xi(i,u)}}var Pc={readContext:Fn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},TC={readContext:Fn,useCallback:function(i,o){return Sr().memoizedState=[i,o===void 0?null:o],i},useContext:Fn,useEffect:_v,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Cc(4194308,4,Ev.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Cc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Cc(4,2,i,o)},useMemo:function(i,o){var u=Sr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Sr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=_C.bind(null,ct,i),[f.memoizedState,i]},useRef:function(i){var o=Sr();return i={current:i},o.memoizedState=i},useState:yv,useDebugValue:Pf,useDeferredValue:function(i){return Sr().memoizedState=i},useTransition:function(){var i=yv(!1),o=i[0];return i=vC.bind(null,i[1]),Sr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ct,m=Sr();if(at){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Vt===null)throw Error(n(349));(Os&30)!==0||dv(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,_v(pv.bind(null,f,v,i),[i]),f.flags|=2048,Tl(9,fv.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Sr(),o=Vt.identifierPrefix;if(at){var u=Xr,f=Yr;u=(f&~(1<<32-rn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=_l++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=yC++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},EC={readContext:Fn,useCallback:Sv,useContext:Fn,useEffect:Af,useImperativeHandle:Iv,useInsertionEffect:wv,useLayoutEffect:Tv,useMemo:xv,useReducer:xf,useRef:vv,useState:function(){return xf(wl)},useDebugValue:Pf,useDeferredValue:function(i){var o=Un();return Cv(o,At.memoizedState,i)},useTransition:function(){var i=xf(wl)[0],o=Un().memoizedState;return[i,o]},useMutableSource:cv,useSyncExternalStore:hv,useId:Av,unstable_isNewReconciler:!1},IC={readContext:Fn,useCallback:Sv,useContext:Fn,useEffect:Af,useImperativeHandle:Iv,useInsertionEffect:wv,useLayoutEffect:Tv,useMemo:xv,useReducer:Cf,useRef:vv,useState:function(){return Cf(wl)},useDebugValue:Pf,useDeferredValue:function(i){var o=Un();return At===null?o.memoizedState=i:Cv(o,At.memoizedState,i)},useTransition:function(){var i=Cf(wl)[0],o=Un().memoizedState;return[i,o]},useMutableSource:cv,useSyncExternalStore:hv,useId:Av,unstable_isNewReconciler:!1};function ir(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Rf(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ue({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Rc={isMounted:function(i){return(i=i._reactInternals)?Qn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=an(),m=Ui(i),v=Zr(f,m);v.payload=o,u!=null&&(v.callback=u),o=Oi(i,v,m),o!==null&&(ar(o,i,m,f),Tc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=an(),m=Ui(i),v=Zr(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Oi(i,v,m),o!==null&&(ar(o,i,m,f),Tc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=an(),f=Ui(i),m=Zr(u,f);m.tag=2,o!=null&&(m.callback=o),o=Oi(i,m,f),o!==null&&(ar(o,i,f,u),Tc(o,i,f))}};function bv(i,o,u,f,m,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,I):o.prototype&&o.prototype.isPureReactComponent?!al(u,f)||!al(m,v):!0}function Nv(i,o,u){var f=!1,m=Di,v=o.contextType;return typeof v=="object"&&v!==null?v=Fn(v):(m=fn(o)?bs:qt.current,f=o.contextTypes,v=(f=f!=null)?Bo(i,m):Di),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Dv(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Rc.enqueueReplaceState(o,o.state,null)}function kf(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},gf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Fn(v):(v=fn(o)?bs:qt.current,m.context=Bo(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Rf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Rc.enqueueReplaceState(m,m.state,null),Ec(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Qo(i,o){try{var u="",f=o;do u+=be(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function bf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Nf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var SC=typeof WeakMap=="function"?WeakMap:Map;function Vv(i,o,u){u=Zr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Oc||(Oc=!0,Kf=f),Nf(i,o)},u}function Lv(i,o,u){u=Zr(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Nf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Nf(i,o),typeof f!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function Ov(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new SC;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=jC.bind(null,i,o,u),o.then(i,i))}function Mv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function jv(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Zr(-1,1),o.tag=2,Oi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var xC=Q.ReactCurrentOwner,pn=!1;function on(i,o,u,f){o.child=i===null?iv(o,null,u,f):Wo(o,i.child,u,f)}function Fv(i,o,u,f,m){u=u.render;var v=o.ref;return Ko(o,m),f=If(i,o,u,f,v,m),u=Sf(),i!==null&&!pn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ei(i,o,m)):(at&&u&&of(o),o.flags|=1,on(i,o,f,m),o.child)}function Uv(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!ep(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Bv(i,o,v,f,m)):(i=zc(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:al,u(I,f)&&i.ref===o.ref)return ei(i,o,m)}return o.flags|=1,i=zi(v,f),i.ref=o.ref,i.return=o,o.child=i}function Bv(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(al(v,f)&&i.ref===o.ref)if(pn=!1,o.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(pn=!0);else return o.lanes=i.lanes,ei(i,o,m)}return Df(i,o,u,f,m)}function zv(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Xo,Pn),Pn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ze(Xo,Pn),Pn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,Ze(Xo,Pn),Pn|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,Ze(Xo,Pn),Pn|=f;return on(i,o,m,u),o.child}function $v(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Df(i,o,u,f,m){var v=fn(u)?bs:qt.current;return v=Bo(o,v),Ko(o,m),u=If(i,o,u,f,v,m),f=Sf(),i!==null&&!pn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ei(i,o,m)):(at&&f&&of(o),o.flags|=1,on(i,o,u,m),o.child)}function Hv(i,o,u,f,m){if(fn(u)){var v=!0;fc(o)}else v=!1;if(Ko(o,m),o.stateNode===null)bc(i,o),Nv(o,u,f),kf(o,u,f,m),f=!0;else if(i===null){var I=o.stateNode,b=o.memoizedProps;I.props=b;var M=I.context,K=u.contextType;typeof K=="object"&&K!==null?K=Fn(K):(K=fn(u)?bs:qt.current,K=Bo(o,K));var ne=u.getDerivedStateFromProps,se=typeof ne=="function"||typeof I.getSnapshotBeforeUpdate=="function";se||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(b!==f||M!==K)&&Dv(o,I,f,K),Li=!1;var te=o.memoizedState;I.state=te,Ec(o,f,I,m),M=o.memoizedState,b!==f||te!==M||dn.current||Li?(typeof ne=="function"&&(Rf(o,u,ne,f),M=o.memoizedState),(b=Li||bv(o,u,b,f,te,M,K))?(se||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=M),I.props=f,I.state=M,I.context=K,f=b):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,ov(i,o),b=o.memoizedProps,K=o.type===o.elementType?b:ir(o.type,b),I.props=K,se=o.pendingProps,te=I.context,M=u.contextType,typeof M=="object"&&M!==null?M=Fn(M):(M=fn(u)?bs:qt.current,M=Bo(o,M));var ce=u.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(b!==se||te!==M)&&Dv(o,I,f,M),Li=!1,te=o.memoizedState,I.state=te,Ec(o,f,I,m);var me=o.memoizedState;b!==se||te!==me||dn.current||Li?(typeof ce=="function"&&(Rf(o,u,ce,f),me=o.memoizedState),(K=Li||bv(o,u,K,f,te,me,M)||!1)?(ne||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,me,M),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,me,M)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=me),I.props=f,I.state=me,I.context=M,f=K):(typeof I.componentDidUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),f=!1)}return Vf(i,o,u,f,v,m)}function Vf(i,o,u,f,m,v){$v(i,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&Qy(o,u,!1),ei(i,o,v);f=o.stateNode,xC.current=o;var b=I&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&I?(o.child=Wo(o,i.child,null,v),o.child=Wo(o,null,b,v)):on(i,o,b,v),o.memoizedState=f.state,m&&Qy(o,u,!0),o.child}function Wv(i){var o=i.stateNode;o.pendingContext?Ky(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Ky(i,o.context,!1),yf(i,o.containerInfo)}function qv(i,o,u,f,m){return Ho(),cf(m),o.flags|=256,on(i,o,u,f),o.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Of(i){return{baseLanes:i,cachePool:null,transitions:null}}function Kv(i,o,u){var f=o.pendingProps,m=ut.current,v=!1,I=(o.flags&128)!==0,b;if((b=I)||(b=i!==null&&i.memoizedState===null?!1:(m&2)!==0),b?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ze(ut,m&1),i===null)return uf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,i=f.fallback,v?(f=o.mode,v=o.child,I={mode:"hidden",children:I},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=$c(I,f,0,null),i=Bs(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Of(u),o.memoizedState=Lf,i):Mf(o,I));if(m=i.memoizedState,m!==null&&(b=m.dehydrated,b!==null))return CC(i,o,I,f,b,m,u);if(v){v=f.fallback,I=o.mode,m=i.child,b=m.sibling;var M={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=M,o.deletions=null):(f=zi(m,M),f.subtreeFlags=m.subtreeFlags&14680064),b!==null?v=zi(b,v):(v=Bs(v,I,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,I=i.child.memoizedState,I=I===null?Of(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=i.childLanes&~u,o.memoizedState=Lf,f}return v=i.child,i=v.sibling,f=zi(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Mf(i,o){return o=$c({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function kc(i,o,u,f){return f!==null&&cf(f),Wo(o,i.child,null,u),i=Mf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function CC(i,o,u,f,m,v,I){if(u)return o.flags&256?(o.flags&=-257,f=bf(Error(n(422))),kc(i,o,I,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=$c({mode:"visible",children:f.children},m,0,null),v=Bs(v,m,I,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&Wo(o,i.child,null,I),o.child.memoizedState=Of(I),o.memoizedState=Lf,v);if((o.mode&1)===0)return kc(i,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var b=f.dgst;return f=b,v=Error(n(419)),f=bf(v,f,void 0),kc(i,o,I,f)}if(b=(I&i.childLanes)!==0,pn||b){if(f=Vt,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|I))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Jr(i,m),ar(f,i,m,-1))}return Zf(),f=bf(Error(n(421))),kc(i,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=FC.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,An=bi(m.nextSibling),Cn=o,at=!0,rr=null,i!==null&&(Mn[jn++]=Yr,Mn[jn++]=Xr,Mn[jn++]=Ns,Yr=i.id,Xr=i.overflow,Ns=o),o=Mf(o,f.children),o.flags|=4096,o)}function Gv(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),pf(i.return,o,u)}function jf(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function Qv(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(on(i,o,f.children,u),f=ut.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gv(i,u,o);else if(i.tag===19)Gv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ze(ut,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Ic(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),jf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Ic(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}jf(o,!0,u,null,v);break;case"together":jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ei(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ms|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=zi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=zi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function AC(i,o,u){switch(o.tag){case 3:Wv(o),Ho();break;case 5:uv(o);break;case 1:fn(o.type)&&fc(o);break;case 4:yf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Ze(_c,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Ze(ut,ut.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Kv(i,o,u):(Ze(ut,ut.current&1),i=ei(i,o,u),i!==null?i.sibling:null);Ze(ut,ut.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Qv(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(ut,ut.current),f)break;return null;case 22:case 23:return o.lanes=0,zv(i,o,u)}return ei(i,o,u)}var Yv,Ff,Xv,Jv;Yv=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ff=function(){},Xv=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Ls(Ir.current);var v=null;switch(u){case"input":m=Fr(i,m),f=Fr(i,f),v=[];break;case"select":m=ue({},m,{value:void 0}),f=ue({},f,{value:void 0}),v=[];break;case"textarea":m=_i(i,m),f=_i(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=cc)}za(u,f);var I;u=null;for(K in m)if(!f.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var b=m[K];for(I in b)b.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in f){var M=f[K];if(b=m!=null?m[K]:void 0,f.hasOwnProperty(K)&&M!==b&&(M!=null||b!=null))if(K==="style")if(b){for(I in b)!b.hasOwnProperty(I)||M&&M.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in M)M.hasOwnProperty(I)&&b[I]!==M[I]&&(u||(u={}),u[I]=M[I])}else u||(v||(v=[]),v.push(K,u)),u=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,b=b?b.__html:void 0,M!=null&&b!==M&&(v=v||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&nt("scroll",i),v||b===M||(v=[])):(v=v||[]).push(K,M))}u&&(v=v||[]).push("style",u);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},Jv=function(i,o,u,f){u!==f&&(o.flags|=4)};function El(i,o){if(!at)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function PC(i,o,u){var f=o.pendingProps;switch(af(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return fn(o.type)&&dc(),Gt(o),null;case 3:return f=o.stateNode,Go(),rt(dn),rt(qt),wf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(yc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,rr!==null&&(Yf(rr),rr=null))),Ff(i,o),Gt(o),null;case 5:vf(o);var m=Ls(yl.current);if(u=o.type,i!==null&&o.stateNode!=null)Xv(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Gt(o),null}if(i=Ls(Ir.current),yc(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Er]=o,f[dl]=v,i=(o.mode&1)!==0,u){case"dialog":nt("cancel",f),nt("close",f);break;case"iframe":case"object":case"embed":nt("load",f);break;case"video":case"audio":for(m=0;m<ul.length;m++)nt(ul[m],f);break;case"source":nt("error",f);break;case"img":case"image":case"link":nt("error",f),nt("load",f);break;case"details":nt("toggle",f);break;case"input":vi(f,v),nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},nt("invalid",f);break;case"textarea":Ur(f,v),nt("invalid",f)}za(u,v),m=null;for(var I in v)if(v.hasOwnProperty(I)){var b=v[I];I==="children"?typeof b=="string"?f.textContent!==b&&(v.suppressHydrationWarning!==!0&&uc(f.textContent,b,i),m=["children",b]):typeof b=="number"&&f.textContent!==""+b&&(v.suppressHydrationWarning!==!0&&uc(f.textContent,b,i),m=["children",""+b]):s.hasOwnProperty(I)&&b!=null&&I==="onScroll"&&nt("scroll",f)}switch(u){case"input":Tn(f),st(f,v,!0);break;case"textarea":Tn(f),Ma(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=cc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=St(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=I.createElement(u,{is:f.is}):(i=I.createElement(u),u==="select"&&(I=i,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):i=I.createElementNS(i,u),i[Er]=o,i[dl]=f,Yv(i,o,!1,!1),o.stateNode=i;e:{switch(I=$a(u,f),u){case"dialog":nt("cancel",i),nt("close",i),m=f;break;case"iframe":case"object":case"embed":nt("load",i),m=f;break;case"video":case"audio":for(m=0;m<ul.length;m++)nt(ul[m],i);m=f;break;case"source":nt("error",i),m=f;break;case"img":case"image":case"link":nt("error",i),nt("load",i),m=f;break;case"details":nt("toggle",i),m=f;break;case"input":vi(i,f),m=Fr(i,f),nt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ue({},f,{value:void 0}),nt("invalid",i);break;case"textarea":Ur(i,f),m=_i(i,f),nt("invalid",i);break;default:m=f}za(u,m),b=m;for(v in b)if(b.hasOwnProperty(v)){var M=b[v];v==="style"?Ua(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ja(i,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&wi(i,M):typeof M=="number"&&wi(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&nt("scroll",i):M!=null&&F(i,v,M,I))}switch(u){case"input":Tn(i),st(i,f,!1);break;case"textarea":Tn(i),Ma(i);break;case"option":f.value!=null&&i.setAttribute("value",""+de(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Wt(i,!!f.multiple,v,!1):f.defaultValue!=null&&Wt(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=cc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(i&&o.stateNode!=null)Jv(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Ls(yl.current),Ls(Ir.current),yc(o)){if(f=o.stateNode,u=o.memoizedProps,f[Er]=o,(v=f.nodeValue!==u)&&(i=Cn,i!==null))switch(i.tag){case 3:uc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&uc(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Er]=o,o.stateNode=f}return Gt(o),null;case 13:if(rt(ut),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&An!==null&&(o.mode&1)!==0&&(o.flags&128)===0)tv(),Ho(),o.flags|=98560,v=!1;else if(v=yc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Er]=o}else Ho(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),v=!1}else rr!==null&&(Yf(rr),rr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?Pt===0&&(Pt=3):Zf())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return Go(),Ff(i,o),i===null&&cl(o.stateNode.containerInfo),Gt(o),null;case 10:return ff(o.type._context),Gt(o),null;case 17:return fn(o.type)&&dc(),Gt(o),null;case 19:if(rt(ut),v=o.memoizedState,v===null)return Gt(o),null;if(f=(o.flags&128)!==0,I=v.rendering,I===null)if(f)El(v,!1);else{if(Pt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Ic(i),I!==null){for(o.flags|=128,El(v,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,i=I.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ze(ut,ut.current&1|2),o.child}i=i.sibling}v.tail!==null&&Je()>Jo&&(o.flags|=128,f=!0,El(v,!1),o.lanes=4194304)}else{if(!f)if(i=Ic(I),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),El(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!at)return Gt(o),null}else 2*Je()-v.renderingStartTime>Jo&&u!==1073741824&&(o.flags|=128,f=!0,El(v,!1),o.lanes=4194304);v.isBackwards?(I.sibling=o.child,o.child=I):(u=v.last,u!==null?u.sibling=I:o.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Je(),o.sibling=null,u=ut.current,Ze(ut,f?u&1|2:u&1),o):(Gt(o),null);case 22:case 23:return Jf(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Pn&1073741824)!==0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function RC(i,o){switch(af(o),o.tag){case 1:return fn(o.type)&&dc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Go(),rt(dn),rt(qt),wf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return vf(o),null;case 13:if(rt(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ho()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(ut),null;case 4:return Go(),null;case 10:return ff(o.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Nc=!1,Qt=!1,kC=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Yo(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){pt(i,o,f)}else u.current=null}function Uf(i,o,u){try{u()}catch(f){pt(i,o,f)}}var Zv=!1;function bC(i,o){if(Xd=Pi,i=by(),$d(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,b=-1,M=-1,K=0,ne=0,se=i,te=null;t:for(;;){for(var ce;se!==u||m!==0&&se.nodeType!==3||(b=I+m),se!==v||f!==0&&se.nodeType!==3||(M=I+f),se.nodeType===3&&(I+=se.nodeValue.length),(ce=se.firstChild)!==null;)te=se,se=ce;for(;;){if(se===i)break t;if(te===u&&++K===m&&(b=I),te===v&&++ne===f&&(M=I),(ce=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=ce}u=b===-1||M===-1?null:{start:b,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jd={focusedElem:i,selectionRange:u},Pi=!1,fe=o;fe!==null;)if(o=fe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,fe=i;else for(;fe!==null;){o=fe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,yt=me.memoizedState,W=o.stateNode,B=W.getSnapshotBeforeUpdate(o.elementType===o.type?ye:ir(o.type,ye),yt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){pt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,fe=i;break}fe=o.return}return me=Zv,Zv=!1,me}function Il(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Uf(o,u,v)}m=m.next}while(m!==f)}}function Dc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Bf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function e0(i){var o=i.alternate;o!==null&&(i.alternate=null,e0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Er],delete o[dl],delete o[nf],delete o[fC],delete o[pC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function t0(i){return i.tag===5||i.tag===3||i.tag===4}function n0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||t0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=cc));else if(f!==4&&(i=i.child,i!==null))for(zf(i,o,u),i=i.sibling;i!==null;)zf(i,o,u),i=i.sibling}function $f(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for($f(i,o,u),i=i.sibling;i!==null;)$f(i,o,u),i=i.sibling}var Ft=null,sr=!1;function Mi(i,o,u){for(u=u.child;u!==null;)r0(i,o,u),u=u.sibling}function r0(i,o,u){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Is,u)}catch{}switch(u.tag){case 5:Qt||Yo(u,o);case 6:var f=Ft,m=sr;Ft=null,Mi(i,o,u),Ft=f,sr=m,Ft!==null&&(sr?(i=Ft,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ft.removeChild(u.stateNode));break;case 18:Ft!==null&&(sr?(i=Ft,u=u.stateNode,i.nodeType===8?tf(i.parentNode,u):i.nodeType===1&&tf(i,u),er(i)):tf(Ft,u.stateNode));break;case 4:f=Ft,m=sr,Ft=u.stateNode.containerInfo,sr=!0,Mi(i,o,u),Ft=f,sr=m;break;case 0:case 11:case 14:case 15:if(!Qt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&Uf(u,o,I),m=m.next}while(m!==f)}Mi(i,o,u);break;case 1:if(!Qt&&(Yo(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(b){pt(u,o,b)}Mi(i,o,u);break;case 21:Mi(i,o,u);break;case 22:u.mode&1?(Qt=(f=Qt)||u.memoizedState!==null,Mi(i,o,u),Qt=f):Mi(i,o,u);break;default:Mi(i,o,u)}}function i0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new kC),o.forEach(function(f){var m=UC.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function or(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,I=o,b=I;e:for(;b!==null;){switch(b.tag){case 5:Ft=b.stateNode,sr=!1;break e;case 3:Ft=b.stateNode.containerInfo,sr=!0;break e;case 4:Ft=b.stateNode.containerInfo,sr=!0;break e}b=b.return}if(Ft===null)throw Error(n(160));r0(v,I,m),Ft=null,sr=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(K){pt(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)s0(o,i),o=o.sibling}function s0(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(or(o,i),xr(i),f&4){try{Il(3,i,i.return),Dc(3,i)}catch(ye){pt(i,i.return,ye)}try{Il(5,i,i.return)}catch(ye){pt(i,i.return,ye)}}break;case 1:or(o,i),xr(i),f&512&&u!==null&&Yo(u,u.return);break;case 5:if(or(o,i),xr(i),f&512&&u!==null&&Yo(u,u.return),i.flags&32){var m=i.stateNode;try{wi(m,"")}catch(ye){pt(i,i.return,ye)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,I=u!==null?u.memoizedProps:v,b=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{b==="input"&&v.type==="radio"&&v.name!=null&&ae(m,v),$a(b,I);var K=$a(b,v);for(I=0;I<M.length;I+=2){var ne=M[I],se=M[I+1];ne==="style"?Ua(m,se):ne==="dangerouslySetInnerHTML"?ja(m,se):ne==="children"?wi(m,se):F(m,ne,se,K)}switch(b){case"input":Ge(m,v);break;case"textarea":ho(m,v);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?Wt(m,!!v.multiple,ce,!1):te!==!!v.multiple&&(v.defaultValue!=null?Wt(m,!!v.multiple,v.defaultValue,!0):Wt(m,!!v.multiple,v.multiple?[]:"",!1))}m[dl]=v}catch(ye){pt(i,i.return,ye)}}break;case 6:if(or(o,i),xr(i),f&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ye){pt(i,i.return,ye)}}break;case 3:if(or(o,i),xr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{er(o.containerInfo)}catch(ye){pt(i,i.return,ye)}break;case 4:or(o,i),xr(i);break;case 13:or(o,i),xr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(qf=Je())),f&4&&i0(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(Qt=(K=Qt)||ne,or(o,i),Qt=K):or(o,i),xr(i),f&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&(i.mode&1)!==0)for(fe=i,ne=i.child;ne!==null;){for(se=fe=ne;fe!==null;){switch(te=fe,ce=te.child,te.tag){case 0:case 11:case 14:case 15:Il(4,te,te.return);break;case 1:Yo(te,te.return);var me=te.stateNode;if(typeof me.componentWillUnmount=="function"){f=te,u=te.return;try{o=f,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ye){pt(f,u,ye)}}break;case 5:Yo(te,te.return);break;case 22:if(te.memoizedState!==null){l0(se);continue}}ce!==null?(ce.return=te,fe=ce):l0(se)}ne=ne.sibling}e:for(ne=null,se=i;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(b=se.stateNode,M=se.memoizedProps.style,I=M!=null&&M.hasOwnProperty("display")?M.display:null,b.style.display=Fa("display",I))}catch(ye){pt(i,i.return,ye)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(ye){pt(i,i.return,ye)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:or(o,i),xr(i),f&4&&i0(i);break;case 21:break;default:or(o,i),xr(i)}}function xr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(t0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(wi(m,""),f.flags&=-33);var v=n0(i);$f(i,v,m);break;case 3:case 4:var I=f.stateNode.containerInfo,b=n0(i);zf(i,b,I);break;default:throw Error(n(161))}}catch(M){pt(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function NC(i,o,u){fe=i,o0(i)}function o0(i,o,u){for(var f=(i.mode&1)!==0;fe!==null;){var m=fe,v=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||Nc;if(!I){var b=m.alternate,M=b!==null&&b.memoizedState!==null||Qt;b=Nc;var K=Qt;if(Nc=I,(Qt=M)&&!K)for(fe=m;fe!==null;)I=fe,M=I.child,I.tag===22&&I.memoizedState!==null?u0(m):M!==null?(M.return=I,fe=M):u0(m);for(;v!==null;)fe=v,o0(v),v=v.sibling;fe=m,Nc=b,Qt=K}a0(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,fe=v):a0(i)}}function a0(i){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Qt||Dc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Qt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ir(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&lv(o,v,f);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}lv(o,I,u)}break;case 5:var b=o.stateNode;if(u===null&&o.flags&4){u=b;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&er(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||o.flags&512&&Bf(o)}catch(te){pt(o,o.return,te)}}if(o===i){fe=null;break}if(u=o.sibling,u!==null){u.return=o.return,fe=u;break}fe=o.return}}function l0(i){for(;fe!==null;){var o=fe;if(o===i){fe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,fe=u;break}fe=o.return}}function u0(i){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Dc(4,o)}catch(M){pt(o,u,M)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(M){pt(o,m,M)}}var v=o.return;try{Bf(o)}catch(M){pt(o,v,M)}break;case 5:var I=o.return;try{Bf(o)}catch(M){pt(o,I,M)}}}catch(M){pt(o,o.return,M)}if(o===i){fe=null;break}var b=o.sibling;if(b!==null){b.return=o.return,fe=b;break}fe=o.return}}var DC=Math.ceil,Vc=Q.ReactCurrentDispatcher,Hf=Q.ReactCurrentOwner,Bn=Q.ReactCurrentBatchConfig,He=0,Vt=null,Et=null,Ut=0,Pn=0,Xo=Ni(0),Pt=0,Sl=null,Ms=0,Lc=0,Wf=0,xl=null,mn=null,qf=0,Jo=1/0,ti=null,Oc=!1,Kf=null,ji=null,Mc=!1,Fi=null,jc=0,Cl=0,Gf=null,Fc=-1,Uc=0;function an(){return(He&6)!==0?Je():Fc!==-1?Fc:Fc=Je()}function Ui(i){return(i.mode&1)===0?1:(He&2)!==0&&Ut!==0?Ut&-Ut:gC.transition!==null?(Uc===0&&(Uc=xs()),Uc):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:el(i.type)),i)}function ar(i,o,u,f){if(50<Cl)throw Cl=0,Gf=null,Error(n(185));Si(i,u,f),((He&2)===0||i!==Vt)&&(i===Vt&&((He&2)===0&&(Lc|=u),Pt===4&&Bi(i,Ut)),gn(i,f),u===1&&He===0&&(o.mode&1)===0&&(Jo=Je()+500,pc&&Vi()))}function gn(i,o){var u=i.callbackNode;$r(i,o);var f=Ss(i,i===Vt?Ut:0);if(f===0)u!==null&&Qa(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Qa(u),o===1)i.tag===0?mC(h0.bind(null,i)):Yy(h0.bind(null,i)),hC(function(){(He&6)===0&&Vi()}),u=null;else{switch(Ci(f)){case 1:u=Es;break;case 4:u=Ti;break;case 16:u=Vn;break;case 536870912:u=Uu;break;default:u=Vn}u=_0(u,c0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function c0(i,o){if(Fc=-1,Uc=0,(He&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Zo()&&i.callbackNode!==u)return null;var f=Ss(i,i===Vt?Ut:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Bc(i,f);else{o=f;var m=He;He|=2;var v=f0();(Vt!==i||Ut!==o)&&(ti=null,Jo=Je()+500,Fs(i,o));do try{OC();break}catch(b){d0(i,b)}while(!0);df(),Vc.current=v,He=m,Et!==null?o=0:(Vt=null,Ut=0,o=Pt)}if(o!==0){if(o===2&&(m=In(i),m!==0&&(f=m,o=Qf(i,m))),o===1)throw u=Sl,Fs(i,0),Bi(i,f),gn(i,Je()),u;if(o===6)Bi(i,f);else{if(m=i.current.alternate,(f&30)===0&&!VC(m)&&(o=Bc(i,f),o===2&&(v=In(i),v!==0&&(f=v,o=Qf(i,v))),o===1))throw u=Sl,Fs(i,0),Bi(i,f),gn(i,Je()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Us(i,mn,ti);break;case 3:if(Bi(i,f),(f&130023424)===f&&(o=qf+500-Je(),10<o)){if(Ss(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){an(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=ef(Us.bind(null,i,mn,ti),o);break}Us(i,mn,ti);break;case 4:if(Bi(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var I=31-rn(f);v=1<<I,I=o[I],I>m&&(m=I),f&=~v}if(f=m,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*DC(f/1960))-f,10<f){i.timeoutHandle=ef(Us.bind(null,i,mn,ti),f);break}Us(i,mn,ti);break;case 5:Us(i,mn,ti);break;default:throw Error(n(329))}}}return gn(i,Je()),i.callbackNode===u?c0.bind(null,i):null}function Qf(i,o){var u=xl;return i.current.memoizedState.isDehydrated&&(Fs(i,o).flags|=256),i=Bc(i,o),i!==2&&(o=mn,mn=u,o!==null&&Yf(o)),i}function Yf(i){mn===null?mn=i:mn.push.apply(mn,i)}function VC(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!nr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Bi(i,o){for(o&=~Wf,o&=~Lc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-rn(o),f=1<<u;i[u]=-1,o&=~f}}function h0(i){if((He&6)!==0)throw Error(n(327));Zo();var o=Ss(i,0);if((o&1)===0)return gn(i,Je()),null;var u=Bc(i,o);if(i.tag!==0&&u===2){var f=In(i);f!==0&&(o=f,u=Qf(i,f))}if(u===1)throw u=Sl,Fs(i,0),Bi(i,o),gn(i,Je()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Us(i,mn,ti),gn(i,Je()),null}function Xf(i,o){var u=He;He|=1;try{return i(o)}finally{He=u,He===0&&(Jo=Je()+500,pc&&Vi())}}function js(i){Fi!==null&&Fi.tag===0&&(He&6)===0&&Zo();var o=He;He|=1;var u=Bn.transition,f=Ue;try{if(Bn.transition=null,Ue=1,i)return i()}finally{Ue=f,Bn.transition=u,He=o,(He&6)===0&&Vi()}}function Jf(){Pn=Xo.current,rt(Xo)}function Fs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,cC(u)),Et!==null)for(u=Et.return;u!==null;){var f=u;switch(af(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&dc();break;case 3:Go(),rt(dn),rt(qt),wf();break;case 5:vf(f);break;case 4:Go();break;case 13:rt(ut);break;case 19:rt(ut);break;case 10:ff(f.type._context);break;case 22:case 23:Jf()}u=u.return}if(Vt=i,Et=i=zi(i.current,null),Ut=Pn=o,Pt=0,Sl=null,Wf=Lc=Ms=0,mn=xl=null,Vs!==null){for(o=0;o<Vs.length;o++)if(u=Vs[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var I=v.next;v.next=m,f.next=I}u.pending=f}Vs=null}return i}function d0(i,o){do{var u=Et;try{if(df(),Sc.current=Pc,xc){for(var f=ct.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}xc=!1}if(Os=0,Dt=At=ct=null,vl=!1,_l=0,Hf.current=null,u===null||u.return===null){Pt=1,Sl=o,Et=null;break}e:{var v=i,I=u.return,b=u,M=o;if(o=Ut,b.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,ne=b,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=Mv(I);if(ce!==null){ce.flags&=-257,jv(ce,I,b,v,o),ce.mode&1&&Ov(v,K,o),o=ce,M=K;var me=o.updateQueue;if(me===null){var ye=new Set;ye.add(M),o.updateQueue=ye}else me.add(M);break e}else{if((o&1)===0){Ov(v,K,o),Zf();break e}M=Error(n(426))}}else if(at&&b.mode&1){var yt=Mv(I);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),jv(yt,I,b,v,o),cf(Qo(M,b));break e}}v=M=Qo(M,b),Pt!==4&&(Pt=2),xl===null?xl=[v]:xl.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=Vv(v,M,o);av(v,W);break e;case 1:b=M;var B=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ji===null||!ji.has(q)))){v.flags|=65536,o&=-o,v.lanes|=o;var oe=Lv(v,b,o);av(v,oe);break e}}v=v.return}while(v!==null)}m0(u)}catch(ve){o=ve,Et===u&&u!==null&&(Et=u=u.return);continue}break}while(!0)}function f0(){var i=Vc.current;return Vc.current=Pc,i===null?Pc:i}function Zf(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Vt===null||(Ms&268435455)===0&&(Lc&268435455)===0||Bi(Vt,Ut)}function Bc(i,o){var u=He;He|=2;var f=f0();(Vt!==i||Ut!==o)&&(ti=null,Fs(i,o));do try{LC();break}catch(m){d0(i,m)}while(!0);if(df(),He=u,Vc.current=f,Et!==null)throw Error(n(261));return Vt=null,Ut=0,Pt}function LC(){for(;Et!==null;)p0(Et)}function OC(){for(;Et!==null&&!ju();)p0(Et)}function p0(i){var o=v0(i.alternate,i,Pn);i.memoizedProps=i.pendingProps,o===null?m0(i):Et=o,Hf.current=null}function m0(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=PC(u,o,Pn),u!==null){Et=u;return}}else{if(u=RC(u,o),u!==null){u.flags&=32767,Et=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Pt=6,Et=null;return}}if(o=o.sibling,o!==null){Et=o;return}Et=o=i}while(o!==null);Pt===0&&(Pt=5)}function Us(i,o,u){var f=Ue,m=Bn.transition;try{Bn.transition=null,Ue=1,MC(i,o,u,f)}finally{Bn.transition=m,Ue=f}return null}function MC(i,o,u,f){do Zo();while(Fi!==null);if((He&6)!==0)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Xe(i,v),i===Vt&&(Et=Vt=null,Ut=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Mc||(Mc=!0,_0(Vn,function(){return Zo(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Bn.transition,Bn.transition=null;var I=Ue;Ue=1;var b=He;He|=4,Hf.current=null,bC(i,u),s0(u,i),rC(Jd),Pi=!!Xd,Jd=Xd=null,i.current=u,NC(u),Ld(),He=b,Ue=I,Bn.transition=v}else i.current=u;if(Mc&&(Mc=!1,Fi=i,jc=m),v=i.pendingLanes,v===0&&(ji=null),Bu(u.stateNode),gn(i,Je()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Oc)throw Oc=!1,i=Kf,Kf=null,i;return(jc&1)!==0&&i.tag!==0&&Zo(),v=i.pendingLanes,(v&1)!==0?i===Gf?Cl++:(Cl=0,Gf=i):Cl=0,Vi(),null}function Zo(){if(Fi!==null){var i=Ci(jc),o=Bn.transition,u=Ue;try{if(Bn.transition=null,Ue=16>i?16:i,Fi===null)var f=!1;else{if(i=Fi,Fi=null,jc=0,(He&6)!==0)throw Error(n(331));var m=He;for(He|=4,fe=i.current;fe!==null;){var v=fe,I=v.child;if((fe.flags&16)!==0){var b=v.deletions;if(b!==null){for(var M=0;M<b.length;M++){var K=b[M];for(fe=K;fe!==null;){var ne=fe;switch(ne.tag){case 0:case 11:case 15:Il(8,ne,v)}var se=ne.child;if(se!==null)se.return=ne,fe=se;else for(;fe!==null;){ne=fe;var te=ne.sibling,ce=ne.return;if(e0(ne),ne===K){fe=null;break}if(te!==null){te.return=ce,fe=te;break}fe=ce}}}var me=v.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var yt=ye.sibling;ye.sibling=null,ye=yt}while(ye!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,fe=I;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Il(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,fe=W;break e}fe=v.return}}var B=i.current;for(fe=B;fe!==null;){I=fe;var q=I.child;if((I.subtreeFlags&2064)!==0&&q!==null)q.return=I,fe=q;else e:for(I=B;fe!==null;){if(b=fe,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Dc(9,b)}}catch(ve){pt(b,b.return,ve)}if(b===I){fe=null;break e}var oe=b.sibling;if(oe!==null){oe.return=b.return,fe=oe;break e}fe=b.return}}if(He=m,Vi(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Is,i)}catch{}f=!0}return f}finally{Ue=u,Bn.transition=o}}return!1}function g0(i,o,u){o=Qo(u,o),o=Vv(i,o,1),i=Oi(i,o,1),o=an(),i!==null&&(Si(i,1,o),gn(i,o))}function pt(i,o,u){if(i.tag===3)g0(i,i,u);else for(;o!==null;){if(o.tag===3){g0(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ji===null||!ji.has(f))){i=Qo(u,i),i=Lv(o,i,1),o=Oi(o,i,1),i=an(),o!==null&&(Si(o,1,i),gn(o,i));break}}o=o.return}}function jC(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=an(),i.pingedLanes|=i.suspendedLanes&u,Vt===i&&(Ut&u)===u&&(Pt===4||Pt===3&&(Ut&130023424)===Ut&&500>Je()-qf?Fs(i,0):Wf|=u),gn(i,o)}function y0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Eo,Eo<<=1,(Eo&130023424)===0&&(Eo=4194304)));var u=an();i=Jr(i,o),i!==null&&(Si(i,o,u),gn(i,u))}function FC(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),y0(i,u)}function UC(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),y0(i,u)}var v0;v0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||dn.current)pn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return pn=!1,AC(i,o,u);pn=(i.flags&131072)!==0}else pn=!1,at&&(o.flags&1048576)!==0&&Xy(o,gc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;bc(i,o),i=o.pendingProps;var m=Bo(o,qt.current);Ko(o,u),m=If(null,o,f,i,m,u);var v=Sf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,fn(f)?(v=!0,fc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,gf(o),m.updater=Rc,o.stateNode=m,m._reactInternals=o,kf(o,f,i,u),o=Vf(null,o,f,!0,v,u)):(o.tag=0,at&&v&&of(o),on(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(bc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=zC(f),i=ir(f,i),m){case 0:o=Df(null,o,f,i,u);break e;case 1:o=Hv(null,o,f,i,u);break e;case 11:o=Fv(null,o,f,i,u);break e;case 14:o=Uv(null,o,f,ir(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ir(f,m),Df(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ir(f,m),Hv(i,o,f,m,u);case 3:e:{if(Wv(o),i===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,ov(i,o),Ec(o,f,null,u);var I=o.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Qo(Error(n(423)),o),o=qv(i,o,f,u,m);break e}else if(f!==m){m=Qo(Error(n(424)),o),o=qv(i,o,f,u,m);break e}else for(An=bi(o.stateNode.containerInfo.firstChild),Cn=o,at=!0,rr=null,u=iv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ho(),f===m){o=ei(i,o,u);break e}on(i,o,f,u)}o=o.child}return o;case 5:return uv(o),i===null&&uf(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,I=m.children,Zd(f,m)?I=null:v!==null&&Zd(f,v)&&(o.flags|=32),$v(i,o),on(i,o,I,u),o.child;case 6:return i===null&&uf(o),null;case 13:return Kv(i,o,u);case 4:return yf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Wo(o,null,f,u):on(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ir(f,m),Fv(i,o,f,m,u);case 7:return on(i,o,o.pendingProps,u),o.child;case 8:return on(i,o,o.pendingProps.children,u),o.child;case 12:return on(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,I=m.value,Ze(_c,f._currentValue),f._currentValue=I,v!==null)if(nr(v.value,I)){if(v.children===m.children&&!dn.current){o=ei(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var b=v.dependencies;if(b!==null){I=v.child;for(var M=b.firstContext;M!==null;){if(M.context===f){if(v.tag===1){M=Zr(-1,u&-u),M.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),K.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),pf(v.return,u,o),b.lanes|=u;break}M=M.next}}else if(v.tag===10)I=v.type===o.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(n(341));I.lanes|=u,b=I.alternate,b!==null&&(b.lanes|=u),pf(I,u,o),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===o){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}on(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Ko(o,u),m=Fn(m),f=f(m),o.flags|=1,on(i,o,f,u),o.child;case 14:return f=o.type,m=ir(f,o.pendingProps),m=ir(f.type,m),Uv(i,o,f,m,u);case 15:return Bv(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ir(f,m),bc(i,o),o.tag=1,fn(f)?(i=!0,fc(o)):i=!1,Ko(o,u),Nv(o,f,m),kf(o,f,m,u),Vf(null,o,f,!0,i,u);case 19:return Qv(i,o,u);case 22:return zv(i,o,u)}throw Error(n(156,o.tag))};function _0(i,o){return wo(i,o)}function BC(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,o,u,f){return new BC(i,o,u,f)}function ep(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zC(i){if(typeof i=="function")return ep(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===tt)return 14}return 2}function zi(i,o){var u=i.alternate;return u===null?(u=zn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function zc(i,o,u,f,m,v){var I=2;if(f=i,typeof i=="function")ep(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case k:return Bs(u.children,m,v,o);case x:I=8,m|=8;break;case P:return i=zn(12,u,o,m|2),i.elementType=P,i.lanes=v,i;case D:return i=zn(13,u,o,m),i.elementType=D,i.lanes=v,i;case $e:return i=zn(19,u,o,m),i.elementType=$e,i.lanes=v,i;case Te:return $c(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:I=10;break e;case j:I=9;break e;case z:I=11;break e;case tt:I=14;break e;case it:I=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=zn(I,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Bs(i,o,u,f){return i=zn(7,i,f,o),i.lanes=u,i}function $c(i,o,u,f){return i=zn(22,i,f,o),i.elementType=Te,i.lanes=u,i.stateNode={isHidden:!1},i}function tp(i,o,u){return i=zn(6,i,null,o),i.lanes=u,i}function np(i,o,u){return o=zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function $C(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ii(0),this.expirationTimes=Ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function rp(i,o,u,f,m,v,I,b,M){return i=new $C(i,o,u,b,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=zn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},gf(v),i}function HC(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function w0(i){if(!i)return Di;i=i._reactInternals;e:{if(Qn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(fn(u))return Gy(i,u,o)}return o}function T0(i,o,u,f,m,v,I,b,M){return i=rp(u,f,!0,i,m,v,I,b,M),i.context=w0(null),u=i.current,f=an(),m=Ui(u),v=Zr(f,m),v.callback=o??null,Oi(u,v,m),i.current.lanes=m,Si(i,m,f),gn(i,f),i}function Hc(i,o,u,f){var m=o.current,v=an(),I=Ui(m);return u=w0(u),o.context===null?o.context=u:o.pendingContext=u,o=Zr(v,I),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Oi(m,o,I),i!==null&&(ar(i,m,I,v),Tc(i,m,I)),I}function Wc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function E0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function ip(i,o){E0(i,o),(i=i.alternate)&&E0(i,o)}function WC(){return null}var I0=typeof reportError=="function"?reportError:function(i){console.error(i)};function sp(i){this._internalRoot=i}qc.prototype.render=sp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Hc(i,o,null,null)},qc.prototype.unmount=sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;js(function(){Hc(null,i,null,null)}),o[Gr]=null}};function qc(i){this._internalRoot=i}qc.prototype.unstable_scheduleHydration=function(i){if(i){var o=qu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<vr.length&&o!==0&&o<vr[u].priority;u++);vr.splice(u,0,i),u===0&&Qu(i)}};function op(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Kc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function S0(){}function qC(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var K=Wc(I);v.call(K)}}var I=T0(o,f,i,0,null,!1,!1,"",S0);return i._reactRootContainer=I,i[Gr]=I.current,cl(i.nodeType===8?i.parentNode:i),js(),I}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var b=f;f=function(){var K=Wc(M);b.call(K)}}var M=rp(i,0,!1,null,null,!1,!1,"",S0);return i._reactRootContainer=M,i[Gr]=M.current,cl(i.nodeType===8?i.parentNode:i),js(function(){Hc(o,M,u,f)}),M}function Gc(i,o,u,f,m){var v=u._reactRootContainer;if(v){var I=v;if(typeof m=="function"){var b=m;m=function(){var M=Wc(I);b.call(M)}}Hc(o,I,i,m)}else I=qC(u,o,i,m,f);return Wc(I)}Hu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ei(o.pendingLanes);u!==0&&(xi(o,u|1),gn(o,Je()),(He&6)===0&&(Jo=Je()+500,Vi()))}break;case 13:js(function(){var f=Jr(i,1);if(f!==null){var m=an();ar(f,i,1,m)}}),ip(i,1)}},Io=function(i){if(i.tag===13){var o=Jr(i,134217728);if(o!==null){var u=an();ar(o,i,134217728,u)}ip(i,134217728)}},Wu=function(i){if(i.tag===13){var o=Ui(i),u=Jr(i,o);if(u!==null){var f=an();ar(u,i,o,f)}ip(i,o)}},qu=function(){return Ue},Ku=function(i,o){var u=Ue;try{return Ue=i,o()}finally{Ue=u}},po=function(i,o,u){switch(o){case"input":if(Ge(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=hc(f);if(!m)throw Error(n(90));yi(f),Ge(f,m)}}}break;case"textarea":ho(i,u);break;case"select":o=u.value,o!=null&&Wt(i,!!u.multiple,o,!1)}},vs=Xf,Wa=js;var KC={usingClientEntryPoint:!1,Events:[fl,Fo,hc,gr,Ha,Xf]},Al={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GC={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ga(i),i===null?null:i.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||WC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Is=Qc.inject(GC),En=Qc}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KC,yn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!op(o))throw Error(n(200));return HC(i,o,null,u)},yn.createRoot=function(i,o){if(!op(i))throw Error(n(299));var u=!1,f="",m=I0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=rp(i,1,!1,null,null,u,!1,f,m),i[Gr]=o.current,cl(i.nodeType===8?i.parentNode:i),new sp(o)},yn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ga(o),i=i===null?null:i.stateNode,i},yn.flushSync=function(i){return js(i)},yn.hydrate=function(i,o,u){if(!Kc(o))throw Error(n(200));return Gc(null,i,o,!0,u)},yn.hydrateRoot=function(i,o,u){if(!op(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",I=I0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=T0(o,null,i,1,u??null,m,!1,v,I),i[Gr]=o.current,cl(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new qc(o)},yn.render=function(i,o,u){if(!Kc(o))throw Error(n(200));return Gc(null,i,o,!1,u)},yn.unmountComponentAtNode=function(i){if(!Kc(i))throw Error(n(40));return i._reactRootContainer?(js(function(){Gc(null,null,i,!1,function(){i._reactRootContainer=null,i[Gr]=null})}),!0):!1},yn.unstable_batchedUpdates=Xf,yn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Kc(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Gc(i,o,u,!1,f)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var N0;function rA(){if(N0)return up.exports;N0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),up.exports=nA(),up.exports}var D0;function iA(){if(D0)return Yc;D0=1;var t=rA();return Yc.createRoot=t.createRoot,Yc.hydrateRoot=t.hydrateRoot,Yc}var sA=iA(),Rl={},V0;function oA(){if(V0)return Rl;V0=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=l,Rl.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,S){const A=new a,N=E.length;if(N<2)return A;const R=(S==null?void 0:S.decode)||g;let V=0;do{const U=E.indexOf("=",V);if(U===-1)break;const F=E.indexOf(";",V),Q=F===-1?N:F;if(U>Q){V=E.lastIndexOf(";",U-1)+1;continue}const Y=h(E,V,U),Z=d(E,U,Y),k=E.slice(Y,Z);if(A[k]===void 0){let x=h(E,U+1,Q),P=d(E,Q,x);const L=R(E.slice(x,P));A[k]=L}V=Q+1}while(V<N);return A}function h(E,S,A){do{const N=E.charCodeAt(S);if(N!==32&&N!==9)return S}while(++S<A);return A}function d(E,S,A){for(;S>A;){const N=E.charCodeAt(--S);if(N!==32&&N!==9)return S+1}return A}function p(E,S,A){const N=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=N(S);if(!e.test(R))throw new TypeError(`argument val is invalid: ${S}`);let V=E+"="+R;if(!A)return V;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);V+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);V+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);V+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);V+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(V+="; HttpOnly"),A.secure&&(V+="; Secure"),A.partitioned&&(V+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return V}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return s.call(E)==="[object Date]"}return Rl}oA();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L0="popstate";function aA(t={}){function e(r,s){let{pathname:a,search:l,hash:h}=r.location;return Up("",{pathname:a,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Jl(s)}return uA(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lA(){return Math.random().toString(36).substring(2,10)}function O0(t,e){return{usr:t.state,key:t.key,idx:e}}function Up(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Aa(e):e,state:n,key:e&&e.key||r||lA()}}function Jl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function uA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,h="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){h="POP";let R=g(),V=R==null?null:R-p;p=R,d&&d({action:h,location:N.location,delta:V})}function E(R,V){h="PUSH";let U=Up(N.location,R,V);p=g()+1;let F=O0(U,p),Q=N.createHref(U);try{l.pushState(F,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(Q)}a&&d&&d({action:h,location:N.location,delta:1})}function S(R,V){h="REPLACE";let U=Up(N.location,R,V);p=g();let F=O0(U,p),Q=N.createHref(U);l.replaceState(F,"",Q),a&&d&&d({action:h,location:N.location,delta:0})}function A(R){let V=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof R=="string"?R:Jl(R);return U=U.replace(/ $/,"%20"),dt(V,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,V)}let N={get action(){return h},get location(){return t(s,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(L0,_),d=R,()=>{s.removeEventListener(L0,_),d=null}},createHref(R){return e(s,R)},createURL:A,encodeLocation(R){let V=A(R);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:S,go(R){return l.go(R)}};return N}function GT(t,e,n="/"){return cA(t,e,n,!1)}function cA(t,e,n,r){let s=typeof e=="string"?Aa(e):e,a=li(s.pathname||"/",n);if(a==null)return null;let l=QT(t);hA(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let p=EA(a);h=wA(l[d],p,r)}return h}function QT(t,e=[],n=[],r=""){let s=(a,l,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(dt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=si([r,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),QT(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:vA(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,l);else for(let d of YT(a.path))s(a,l,d)}),e}function YT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=YT(r.join("/")),h=[];return h.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&h.push(...l),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function hA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_A(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dA=/^:[\w-]+$/,fA=3,pA=2,mA=1,gA=10,yA=-2,M0=t=>t==="*";function vA(t,e){let n=t.split("/"),r=n.length;return n.some(M0)&&(r+=yA),e&&(r+=pA),n.filter(s=>!M0(s)).reduce((s,a)=>s+(dA.test(a)?fA:a===""?mA:gA),r)}function _A(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function wA(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),E=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:si([a,_.pathname]),pathnameBase:CA(si([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=si([a,_.pathnameBase]))}return l}function Ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let A=h[E]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[E];return _&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function TA(t,e=!1,n=!0){Dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function EA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Aa(t):t;return{pathname:n?n.startsWith("/")?n:SA(n,e):e,search:AA(r),hash:PA(s)}}function SA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function dp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XT(t){let e=xA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function JT(t,e,n,r=!1){let s;typeof t=="string"?s=Aa(t):(s={...t},dt(!s.pathname||!s.pathname.includes("?"),dp("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),dp("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),dp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=IA(s,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var si=t=>t.join("/").replace(/\/\/+/g,"/"),CA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ZT=["POST","PUT","PATCH","DELETE"];new Set(ZT);var kA=["GET",...ZT];new Set(kA);var Pa=O.createContext(null);Pa.displayName="DataRouter";var Jh=O.createContext(null);Jh.displayName="DataRouterState";var eE=O.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var bA=O.createContext(new Map);bA.displayName="Fetchers";var NA=O.createContext(null);NA.displayName="Await";var Mr=O.createContext(null);Mr.displayName="Navigation";var gu=O.createContext(null);gu.displayName="Location";var mi=O.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Um=O.createContext(null);Um.displayName="RouteError";function DA(t,{relative:e}={}){dt(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Mr),{hash:s,pathname:a,search:l}=_u(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:si([n,a])),r.createHref({pathname:h,search:l,hash:s})}function yu(){return O.useContext(gu)!=null}function so(){return dt(yu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(gu).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(t){O.useContext(Mr).static||O.useLayoutEffect(t)}function vu(){let{isDataRoute:t}=O.useContext(mi);return t?qA():VA()}function VA(){dt(yu(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Pa),{basename:e,navigator:n}=O.useContext(Mr),{matches:r}=O.useContext(mi),{pathname:s}=so(),a=JSON.stringify(XT(r)),l=O.useRef(!1);return nE(()=>{l.current=!0}),O.useCallback((d,p={})=>{if(Dr(l.current,tE),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=JT(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:si([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}O.createContext(null);function _u(t,{relative:e}={}){let{matches:n}=O.useContext(mi),{pathname:r}=so(),s=JSON.stringify(XT(n));return O.useMemo(()=>JT(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function LA(t,e){return rE(t,e)}function rE(t,e,n,r){var U;dt(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=O.useContext(Mr),{matches:l}=O.useContext(mi),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let F=_&&_.path||"";iE(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=so(),S;if(e){let F=typeof e=="string"?Aa(e):e;dt(g==="/"||((U=F.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=E;let A=S.pathname||"/",N=A;if(g!=="/"){let F=g.replace(/^\//,"").split("/");N="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let R=!a&&n&&n.matches&&n.matches.length>0?n.matches:GT(t,{pathname:N});Dr(_||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Dr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=UA(R&&R.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:si([g,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:si([g,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,n,r);return e&&V?O.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function OA(){let t=WA(),e=RA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,l)}var MA=O.createElement(OA,null),jA=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(mi.Provider,{value:this.props.routeContext},O.createElement(Um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FA({routeContext:t,match:e,children:n}){let r=O.useContext(Pa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(mi.Provider,{value:t},n)}function UA(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,h=-1;if(n)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:_}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,p,g)=>{let _,E=!1,S=null,A=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||MA,l&&(h<0&&g===0?(iE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):h===g&&(E=!0,A=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,g+1)),R=()=>{let V;return _?V=S:E?V=A:p.route.Component?V=O.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=d,O.createElement(FA,{match:p,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:V})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(jA,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):R()},null)}function Bm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BA(t){let e=O.useContext(Pa);return dt(e,Bm(t)),e}function zA(t){let e=O.useContext(Jh);return dt(e,Bm(t)),e}function $A(t){let e=O.useContext(mi);return dt(e,Bm(t)),e}function zm(t){let e=$A(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HA(){return zm("useRouteId")}function WA(){var r;let t=O.useContext(Um),e=zA("useRouteError"),n=zm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function qA(){let{router:t}=BA("useNavigate"),e=zm("useNavigate"),n=O.useRef(!1);return nE(()=>{n.current=!0}),O.useCallback(async(s,a={})=>{Dr(n.current,tE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var j0={};function iE(t,e,n){!e&&!j0[t]&&(j0[t]=!0,Dr(!1,n))}O.memo(KA);function KA({routes:t,future:e,state:n}){return rE(t,void 0,n,e)}function Nl(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){dt(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Aa(n));let{pathname:d="/",search:p="",hash:g="",state:_=null,key:E="default"}=n,S=O.useMemo(()=>{let A=li(d,l);return A==null?null:{location:{pathname:A,search:p,hash:g,state:_,key:E},navigationType:r}},[l,d,p,g,_,E,r]);return Dr(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(Mr.Provider,{value:h},O.createElement(gu.Provider,{children:e,value:S}))}function QA({children:t,location:e}){return LA(Bp(t),e)}function Bp(t,e=[]){let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){n.push.apply(n,Bp(r.props.children,a));return}dt(r.type===Nl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Bp(r.props.children,a)),n.push(l)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Zh(t){return t!=null&&typeof t.tagName=="string"}function YA(t){return Zh(t)&&t.tagName.toLowerCase()==="button"}function XA(t){return Zh(t)&&t.tagName.toLowerCase()==="form"}function JA(t){return Zh(t)&&t.tagName.toLowerCase()==="input"}function ZA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eP(t,e){return t.button===0&&(!e||e==="_self")&&!ZA(t)}var Xc=null;function tP(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var nP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(t){return t!=null&&!nP.has(t)?(Dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):t}function rP(t,e){let n,r,s,a,l;if(XA(t)){let h=t.getAttribute("action");r=h?li(h,e):null,n=t.getAttribute("method")||lh,s=fp(t.getAttribute("enctype"))||uh,a=new FormData(t)}else if(YA(t)||JA(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?li(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||lh,s=fp(t.getAttribute("formenctype"))||fp(h.getAttribute("enctype"))||uh,a=new FormData(h,t),!tP()){let{name:p,type:g,value:_}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(Zh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,r=null,s=uh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function $m(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function iP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oP(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await iP(a,n);return l.links?l.links():[]}return[]}));return cP(r.flat(1).filter(sP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function F0(t,e,n,r,s,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>l(d,p)||h(d,p)):a==="data"?e.filter((d,p)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function aP(t,e,{includeHydrateFallback:n}={}){return lP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function lP(t){return[...new Set(t)]}function uP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function cP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(uP(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function hP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&li(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function sE(){let t=O.useContext(Pa);return $m(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dP(){let t=O.useContext(Jh);return $m(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hm=O.createContext(void 0);Hm.displayName="FrameworkContext";function oE(){let t=O.useContext(Hm);return $m(t,"You must render this element inside a <HydratedRouter> element"),t}function fP(t,e){let n=O.useContext(Hm),[r,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=O.useRef(null);O.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=V=>{V.forEach(U=>{l(U.isIntersecting)})},R=new IntersectionObserver(N,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[t]),O.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let S=()=>{s(!0)},A=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:kl(h,S),onBlur:kl(d,A),onMouseEnter:kl(p,S),onMouseLeave:kl(g,A),onTouchStart:kl(_,S)}]:[!1,E,{}]}function kl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pP({page:t,...e}){let{router:n}=sE(),r=O.useMemo(()=>GT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(gP,{page:t,matches:r,...e}):null}function mP(t){let{manifest:e,routeModules:n}=oE(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return oP(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function gP({page:t,matches:e,...n}){let r=so(),{manifest:s,routeModules:a}=oE(),{basename:l}=sE(),{loaderData:h,matches:d}=dP(),p=O.useMemo(()=>F0(t,e,d,s,r,"data"),[t,e,d,s,r]),g=O.useMemo(()=>F0(t,e,d,s,r,"assets"),[t,e,d,s,r]),_=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,N=!1;if(e.forEach(V=>{var F;let U=s.routes[V.route.id];!U||!U.hasLoader||(!p.some(Q=>Q.route.id===V.route.id)&&V.route.id in h&&((F=a[V.route.id])!=null&&F.shouldRevalidate)||U.hasClientLoader?N=!0:A.add(V.route.id))}),A.size===0)return[];let R=hP(t,l);return N&&A.size>0&&R.searchParams.set("_routes",e.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[R.pathname+R.search]},[l,h,r,s,p,e,t,a]),E=O.useMemo(()=>aP(g,s),[g,s]),S=mP(g);return O.createElement(O.Fragment,null,_.map(A=>O.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>O.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),S.map(({key:A,link:N})=>O.createElement("link",{key:A,...N})))}function yP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aE&&(window.__reactRouterVersion="7.4.0")}catch{}function vP({basename:t,children:e,window:n}){let r=O.useRef();r.current==null&&(r.current=aA({window:n,v5Compat:!0}));let s=r.current,[a,l]=O.useState({action:s.action,location:s.location}),h=O.useCallback(d=>{O.startTransition(()=>l(d))},[l]);return O.useLayoutEffect(()=>s.listen(h),[s,h]),O.createElement(GA,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ed=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:h,target:d,to:p,preventScrollReset:g,viewTransition:_,...E},S){let{basename:A}=O.useContext(Mr),N=typeof p=="string"&&lE.test(p),R,V=!1;if(typeof p=="string"&&N&&(R=p,aE))try{let P=new URL(window.location.href),L=p.startsWith("//")?new URL(P.protocol+p):new URL(p),j=li(L.pathname,A);L.origin===P.origin&&j!=null?p=j+L.search+L.hash:V=!0}catch{Dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=DA(p,{relative:s}),[F,Q,Y]=fP(r,E),Z=EP(p,{replace:l,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:_});function k(P){e&&e(P),P.defaultPrevented||Z(P)}let x=O.createElement("a",{...E,...Y,href:R||U,onClick:V||a?e:k,ref:yP(S,Q),target:d,"data-discover":!N&&n==="render"?"true":void 0});return F&&!N?O.createElement(O.Fragment,null,x,O.createElement(pP,{page:U})):x});ed.displayName="Link";var _P=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:h,children:d,...p},g){let _=_u(l,{relative:p.relative}),E=so(),S=O.useContext(Jh),{navigator:A,basename:N}=O.useContext(Mr),R=S!=null&&AP(_)&&h===!0,V=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,U=E.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(U=U.toLowerCase(),F=F?F.toLowerCase():null,V=V.toLowerCase()),F&&N&&(F=li(F,N)||F);const Q=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let Y=U===V||!s&&U.startsWith(V)&&U.charAt(Q)==="/",Z=F!=null&&(F===V||!s&&F.startsWith(V)&&F.charAt(V.length)==="/"),k={isActive:Y,isPending:Z,isTransitioning:R},x=Y?e:void 0,P;typeof r=="function"?P=r(k):P=[r,Y?"active":null,Z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(k):a;return O.createElement(ed,{...p,"aria-current":x,className:P,ref:g,style:L,to:l,viewTransition:h},typeof d=="function"?d(k):d)});_P.displayName="NavLink";var wP=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=lh,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:_,...E},S)=>{let A=xP(),N=CP(h,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&lE.test(h),U=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let Q=F.nativeEvent.submitter,Y=(Q==null?void 0:Q.getAttribute("formmethod"))||l;A(Q||F.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return O.createElement("form",{ref:S,method:R,action:N,onSubmit:r?d:U,...E,"data-discover":!V&&t==="render"?"true":void 0})});wP.displayName="Form";function TP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(t){let e=O.useContext(Pa);return dt(e,TP(t)),e}function EP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let h=vu(),d=so(),p=_u(t,{relative:a});return O.useCallback(g=>{if(eP(g,e)){g.preventDefault();let _=n!==void 0?n:Jl(d)===Jl(p);h(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,h,p,n,r,e,t,s,a,l])}var IP=0,SP=()=>`__${String(++IP)}__`;function xP(){let{router:t}=uE("useSubmit"),{basename:e}=O.useContext(Mr),n=HA();return O.useCallback(async(r,s={})=>{let{action:a,method:l,encType:h,formData:d,body:p}=rP(r,e);if(s.navigate===!1){let g=s.fetcherKey||SP();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function CP(t,{relative:e}={}){let{basename:n}=O.useContext(Mr),r=O.useContext(mi);dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={..._u(t||".",{relative:e})},l=so();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:si([n,a.pathname])),Jl(a)}function AP(t,e={}){let n=O.useContext(eE);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uE("useViewTransitionState"),s=_u(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=li(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=li(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ih(s.pathname,l)!=null||Ih(s.pathname,a)!=null}new TextEncoder;const PP=()=>{};var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},RP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],h=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,h=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;d||(S=64,l||(E=64)),r.push(n[g],n[_],n[E],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new kP;const E=a<<2|h>>4;if(r.push(E),p!==64){const S=h<<4&240|p>>2;if(r.push(S),_!==64){const A=p<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bP=function(t){const e=cE(t);return hE.encodeByteArray(e,!0)},Sh=function(t){return bP(t).replace(/\./g,"")},dE=function(t){try{return hE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=()=>NP().__FIREBASE_DEFAULTS__,VP=()=>{if(typeof process>"u"||typeof U0>"u")return;const t=U0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dE(t[1]);return e&&JSON.parse(e)},td=()=>{try{return PP()||DP()||VP()||LP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fE=t=>{var e,n;return(n=(e=td())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OP=t=>{const e=fE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pE=()=>{var t;return(t=td())===null||t===void 0?void 0:t.config},mE=t=>{var e;return(e=td())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sh(JSON.stringify(n)),Sh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function UP(){var t;const e=(t=td())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $P(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HP(){return!UP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yE(){try{return typeof indexedDB=="object"}catch{return!1}}function vE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function WP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="FirebaseError";class fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qP,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?KP(a,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new fr(s,h,r)}}function KP(t,e){return t.replace(GP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GP=/\{\$([^}]+)}/g;function QP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(B0(a)&&B0(l)){if(!Js(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function B0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YP(t,e){const n=new XP(t,e);return n.subscribe.bind(n)}class XP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=pp),s.error===void 0&&(s.error=pp),s.complete===void 0&&(s.complete=pp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=1e3,eR=2,tR=4*60*60*1e3,nR=.5;function z0(t,e=ZP,n=eR){const r=e*Math.pow(n,t),s=Math.round(nR*r*(Math.random()-.5)*2);return Math.min(tR,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iR(t){return t===$s?void 0:t}function sR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const aR={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},lR=je.INFO,uR={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},cR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=uR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nd{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const hR=(t,e)=>e.some(n=>t instanceof n);let $0,H0;function dR(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,zp=new WeakMap,wE=new WeakMap,mp=new WeakMap,Wm=new WeakMap;function pR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Xi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&_E.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function mR(t){if(zp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});zp.set(t,e)}let $p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gR(t){$p=t($p)}function yR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gp(this),e,...n);return wE.set(r,e.sort?e.sort():[e]),Xi(r)}:fR().includes(t)?function(...e){return t.apply(gp(this),e),Xi(_E.get(this))}:function(...e){return Xi(t.apply(gp(this),e))}}function vR(t){return typeof t=="function"?yR(t):(t instanceof IDBTransaction&&mR(t),hR(t,dR())?new Proxy(t,$p):t)}function Xi(t){if(t instanceof IDBRequest)return pR(t);if(mp.has(t))return mp.get(t);const e=vR(t);return e!==t&&(mp.set(t,e),Wm.set(e,t)),e}const gp=t=>Wm.get(t);function TE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),h=Xi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Xi(l.result),d.oldVersion,d.newVersion,Xi(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const _R=["get","getKey","getAll","getAllKeys","count"],wR=["put","add","delete","clear"],yp=new Map;function W0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yp.get(e))return yp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=wR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_R.includes(n)))return;const a=async function(l,...h){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&d.done]))[0]};return yp.set(e,a),a}gR(t=>({...t,get:(e,n,r)=>W0(e,n)||t.get(e,n,r),has:(e,n)=>!!W0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ER(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ER(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hp="@firebase/app",q0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new nd("@firebase/app"),IR="@firebase/app-compat",SR="@firebase/analytics-compat",xR="@firebase/analytics",CR="@firebase/app-check-compat",AR="@firebase/app-check",PR="@firebase/auth",RR="@firebase/auth-compat",kR="@firebase/database",bR="@firebase/data-connect",NR="@firebase/database-compat",DR="@firebase/functions",VR="@firebase/functions-compat",LR="@firebase/installations",OR="@firebase/installations-compat",MR="@firebase/messaging",jR="@firebase/messaging-compat",FR="@firebase/performance",UR="@firebase/performance-compat",BR="@firebase/remote-config",zR="@firebase/remote-config-compat",$R="@firebase/storage",HR="@firebase/storage-compat",WR="@firebase/firestore",qR="@firebase/vertexai",KR="@firebase/firestore-compat",GR="firebase",QR="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",YR={[Hp]:"fire-core",[IR]:"fire-core-compat",[xR]:"fire-analytics",[SR]:"fire-analytics-compat",[AR]:"fire-app-check",[CR]:"fire-app-check-compat",[PR]:"fire-auth",[RR]:"fire-auth-compat",[kR]:"fire-rtdb",[bR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[DR]:"fire-fn",[VR]:"fire-fn-compat",[LR]:"fire-iid",[OR]:"fire-iid-compat",[MR]:"fire-fcm",[jR]:"fire-fcm-compat",[FR]:"fire-perf",[UR]:"fire-perf-compat",[BR]:"fire-rc",[zR]:"fire-rc-compat",[$R]:"fire-gcs",[HR]:"fire-gcs-compat",[WR]:"fire-fst",[KR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,XR=new Map,qp=new Map;function K0(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){const e=t.name;if(qp.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,t);for(const n of xh.values())K0(n,t);for(const n of XR.values())K0(n,t);return!0}function Tu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new oo("app","Firebase",JR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=QR;function EE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ji.create("bad-app-name",{appName:String(s)});if(n||(n=pE()),!n)throw Ji.create("no-options");const a=xh.get(s);if(a){if(Js(n,a.options)&&Js(r,a.config))return a;throw Ji.create("duplicate-app",{appName:s})}const l=new oR(s);for(const d of qp.values())l.addComponent(d);const h=new ZR(n,r,l);return xh.set(s,h),h}function IE(t=Wp){const e=xh.get(t);if(!e&&t===Wp&&pE())return EE();if(!e)throw Ji.create("no-app",{appName:t});return e}function Wn(t,e,n){var r;let s=(r=YR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(h.join(" "));return}Vr(new hr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="firebase-heartbeat-database",tk=1,Zl="firebase-heartbeat-store";let vp=null;function SE(){return vp||(vp=TE(ek,tk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),vp}async function nk(t){try{const n=(await SE()).transaction(Zl),r=await n.objectStore(Zl).get(xE(t));return await n.done,r}catch(e){if(e instanceof fr)ui.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function G0(t,e){try{const r=(await SE()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,xE(t)),await r.done}catch(n){if(n instanceof fr)ui.warn(n.message);else{const r=Ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(r.message)}}}function xE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=1024,ik=30;class sk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ak(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>ik){const l=lk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q0(),{heartbeatsToSend:r,unsentEntries:s}=ok(this._heartbeatsCache.heartbeats),a=Sh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ui.warn(n),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function ok(t,e=rk){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Y0(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ak{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yE()?vE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return Sh(JSON.stringify({version:2,heartbeats:t})).length}function lk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){Vr(new hr("platform-logger",e=>new TR(e),"PRIVATE")),Vr(new hr("heartbeat",e=>new sk(e),"PRIVATE")),Wn(Hp,q0,t),Wn(Hp,q0,"esm2017"),Wn("fire-js","")}uk("");function qm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function CE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ck=CE,AE=new oo("auth","Firebase",CE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new nd("@firebase/auth");function hk(t,...e){Ch.logLevel<=je.WARN&&Ch.warn(`Auth (${Ra}): ${t}`,...e)}function ch(t,...e){Ch.logLevel<=je.ERROR&&Ch.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw Km(t,...e)}function Ar(t,...e){return Km(t,...e)}function PE(t,e,n){const r=Object.assign(Object.assign({},ck()),{[e]:n});return new oo("auth","Firebase",r).create(e,{appName:t.name})}function Zi(t){return PE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AE.create(t,...e)}function Ce(t,e,...n){if(!t)throw Km(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function ci(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dk(){return X0()==="http:"||X0()==="https:"}function X0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dk()||gE()||"connection"in navigator)?navigator.onLine:!0}function pk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=FP()||zP()}get(){return fk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Eu(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gi(t,e,n,r,s={}){return kE(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=wu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},a);return BP()||(p.referrerPolicy="no-referrer"),RE.fetch()(bE(t,t.config.apiHost,n,h),p)})}async function kE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mk),e);try{const s=new vk(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Jc(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Jc(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw PE(t,g,p);dr(t,g)}}catch(s){if(s instanceof fr)throw s;dr(t,"network-request-failed",{message:String(s)})}}async function rd(t,e,n,r,s={}){const a=await gi(t,e,n,r,s);return"mfaPendingCredential"in a&&dr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function bE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Gm(t.config,s):`${t.config.apiScheme}://${s}`}function yk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),gk.get())})}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ar(t,e,r);return s.customData._tokenResponse=n,s}function J0(t){return t!==void 0&&t.enterprise!==void 0}class _k{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wk(t,e){return gi(t,"GET","/v2/recaptchaConfig",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(t,e){return gi(t,"POST","/v1/accounts:delete",e)}async function NE(t,e){return gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ek(t,e=!1){const n=wt(t),r=await n.getIdToken(e),s=Qm(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:zl(_p(s.auth_time)),issuedAtTime:zl(_p(s.iat)),expirationTime:zl(_p(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function _p(t){return Number(t)*1e3}function Qm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const s=dE(n);return s?JSON.parse(s):(ch("Failed to decode base64 JWT payload"),null)}catch(s){return ch("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Z0(t){const e=Qm(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fr&&Ik(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ik({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t){var e;const n=t.auth,r=await t.getIdToken(),s=await pa(t,NE(n,{idToken:r}));Ce(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?DE(a.providerUserInfo):[],h=Ck(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Gp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function xk(t){const e=wt(t);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ck(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function DE(t){return t.map(e=>{var{providerId:n}=e,r=qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e){const n=await kE(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=bE(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",RE.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pk(t,e){return gi(t,"POST","/v2/accounts:revokeToken",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await Ak(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new ca;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ce(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await pa(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ek(this,e)}reload(){return xk(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await pa(this,Tk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,h,d,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=n.photoURL)!==null&&l!==void 0?l:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,V=(p=n.createdAt)!==null&&p!==void 0?p:void 0,U=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:F,emailVerified:Q,isAnonymous:Y,providerData:Z,stsTokenManager:k}=n;Ce(F&&k,e,"internal-error");const x=ca.fromJSON(this.name,k);Ce(typeof F=="string",e,"internal-error"),Hi(_,e.name),Hi(E,e.name),Ce(typeof Q=="boolean",e,"internal-error"),Ce(typeof Y=="boolean",e,"internal-error"),Hi(S,e.name),Hi(A,e.name),Hi(N,e.name),Hi(R,e.name),Hi(V,e.name),Hi(U,e.name);const P=new ri({uid:F,auth:e,email:E,emailVerified:Q,displayName:_,isAnonymous:Y,photoURL:A,phoneNumber:S,tenantId:N,stsTokenManager:x,createdAt:V,lastLoginAt:U});return Z&&Array.isArray(Z)&&(P.providerData=Z.map(L=>Object.assign({},L))),R&&(P._redirectEventId=R),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new ca;s.updateFromServerResponse(n);const a=new ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ah(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?DE(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new ca;h.updateFromIdToken(r);const d=new ri({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function ii(t){ci(t instanceof Function,"Expected a class definition");let e=e_.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VE.type="NONE";const t_=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t,e,n){return`firebase:${t}:${e}:${n}`}class ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=hh(this.userKey,s.apiKey,a),this.fullPersistenceKey=hh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ha(ii(t_),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ii(t_);const l=hh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){const _=ri._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new ha(a,e,r):(a=d[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ha(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(BE(e))return"Webos";if(OE(e))return"Safari";if((e.includes("chrome/")||ME(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LE(t=tn()){return/firefox\//i.test(t)}function OE(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ME(t=tn()){return/crios\//i.test(t)}function jE(t=tn()){return/iemobile/i.test(t)}function FE(t=tn()){return/android/i.test(t)}function UE(t=tn()){return/blackberry/i.test(t)}function BE(t=tn()){return/webos/i.test(t)}function Ym(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rk(t=tn()){var e;return Ym(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kk(){return $P()&&document.documentMode===10}function zE(t=tn()){return Ym(t)||FE(t)||BE(t)||UE(t)||/windows phone/i.test(t)||jE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e=[]){let n;switch(t){case"Browser":n=n_(tn());break;case"Worker":n=`${n_(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const d=e(a);l(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e={}){return gi(t,"GET","/v2/passwordPolicy",ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=6;class Vk{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Dk,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new bk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await NE(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Zi(this));const n=e?wt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nk(this),n=new Vk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ka(t){return wt(t)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=YP(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ok(t){id=t}function HE(t){return id.loadJS(t)}function Mk(){return id.recaptchaEnterpriseScript}function jk(){return id.gapiScript}function Fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Uk{constructor(){this.enterprise=new Bk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Bk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zk="recaptcha-enterprise",WE="NO_RECAPTCHA";class $k{constructor(e){this.type=zk,this.auth=ka(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{wk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new _k(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{h(d)})})}function s(a,l,h){const d=window.grecaptcha;J0(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(WE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uk().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&J0(window.grecaptcha))s(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Mk();d.length!==0&&(d+=h),HE(d).then(()=>{s(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function i_(t,e,n,r=!1,s=!1){const a=new $k(t);let l;if(s)l=WE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function s_(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await i_(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await i_(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){const n=Tu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Js(a,e??{}))return s;dr(s,"already-initialized")}return n.initialize({options:e})}function Wk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qk(t,e,n){const r=ka(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=qE(e),{host:l,port:h}=Kk(e),d=h===null?"":`:${h}`,p={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Js(p,r.config.emulator)&&Js(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Gk()}function qE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kk(t){const e=qE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:o_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:o_(l)}}}function o_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function Qk(t,e){return gi(t,"POST","/v1/accounts:update",e)}async function Yk(t,e){return gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e){return rd(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function Zk(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Xm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(e,n,"signInWithPassword",Xk);case"emailLink":return Jk(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(e,r,"signUpPassword",Yk);case"emailLink":return Zk(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t,e){return rd(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="http://localhost";class Zs extends Xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=qm(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Zs(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return da(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,da(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,da(e,n)}buildRequest(){const e={requestUri:e2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n2(t){const e=Dl(Vl(t)).link,n=e?Dl(Vl(e)).deep_link_id:null,r=Dl(Vl(t)).deep_link_id;return(r?Dl(Vl(r)).link:null)||r||n||e||t}class Jm{constructor(e){var n,r,s,a,l,h;const d=Dl(Vl(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=t2((s=d.mode)!==null&&s!==void 0?s:null);Ce(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=n2(e);try{return new Jm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.providerId=rs.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jm.parseLink(n);return Ce(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}rs.PROVIDER_ID="password";rs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends KE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Iu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Iu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Iu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ri._fromIdTokenResponse(e,r,s),l=a_(r);return new ma({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=a_(r);return new ma({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function a_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends fr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ph(e,n,r,s)}}function GE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(t,a,e,r):a})}async function r2(t,e,n=!1){const r=await pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(Zi(r));const s="reauthenticate";try{const a=await pa(t,GE(r,s,e,t),n);Ce(a.idToken,r,"internal-error");const l=Qm(a.idToken);Ce(l,r,"internal-error");const{sub:h}=l;return Ce(t.uid===h,r,"user-mismatch"),ma._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(t,e,n=!1){if(ur(t.app))return Promise.reject(Zi(t));const r="signIn",s=await GE(t,r,e),a=await ma._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function i2(t,e){return YE(ka(t),e)}async function l_(t,e){return QE(wt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t){const e=ka(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function o2(t,e,n){return ur(t.app)?Promise.reject(Zi(t)):i2(wt(t),rs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&s2(t),r})}function a2(t,e){return l2(wt(t),null,e)}async function l2(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await pa(t,Qk(r,a));await t._updateTokensIfNecessary(l,!0)}function u2(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function c2(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function XE(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function h2(t){return wt(t).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=1e3,f2=10;class ZE extends JE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);kk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,f2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const p2=ZE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends JE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}e1.type="SESSION";const t1=e1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async p=>p(n.origin,a)),d=await m2(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((h,d)=>{const p=Zm("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function y2(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function v2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function w2(){return n1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebaseLocalStorageDb",T2=1,kh="firebaseLocalStorage",i1="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(t,e){return t.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function E2(){const t=indexedDB.deleteDatabase(r1);return new Su(t).toPromise()}function Qp(){const t=indexedDB.open(r1,T2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kh,{keyPath:i1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await E2(),e(await Qp()))})})}async function u_(t,e,n){const r=od(t,!0).put({[i1]:e,value:n});return new Su(r).toPromise()}async function I2(t,e){const n=od(t,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function c_(t,e){const n=od(t,!0).delete(e);return new Su(n).toPromise()}const S2=800,x2=3;class s1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(w2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v2(),!this.activeServiceWorker)return;this.sender=new g2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qp();return await u_(e,Rh,"1"),await c_(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>u_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>I2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=od(s,!1).getAll();return new Su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s1.type="LOCAL";const C2=s1;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e){return e?ii(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Xm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P2(t){return YE(t.auth,new eg(t),t.bypassAuthState)}function R2(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),QE(n,new eg(t),t.bypassAuthState)}async function k2(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),r2(n,new eg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return R2;default:dr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new Eu(2e3,1e4);class ia extends o1{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b2.get())};e()}}ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="pendingRedirect",dh=new Map;class D2 extends o1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await V2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V2(t,e){const n=M2(e),r=O2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function L2(t,e){dh.set(t._key(),e)}function O2(t){return ii(t._redirectPersistence)}function M2(t){return hh(N2,t.config.apiKey,t.name)}async function j2(t,e,n=!1){if(ur(t.app))return Promise.reject(Zi(t));const r=ka(t),s=A2(r,e),l=await new D2(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=10*60*1e3;class U2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!a1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(h_(e))}saveEventToCache(e){this.cachedEventUids.add(h_(e)),this.lastProcessedEventTime=Date.now()}}function h_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e={}){return gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function W2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z2(t);for(const n of e)try{if(q2(n))return}catch{}dr(t,"unauthorized-domain")}function q2(t){const e=Kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!H2.test(n))return!1;if($2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Eu(3e4,6e4);function d_(){const t=Pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function G2(t){return new Promise((e,n)=>{var r,s,a;function l(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(Ar(t,"network-request-failed"))},timeout:K2.get()})}if(!((s=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Pr().gapi)===null||a===void 0)&&a.load)l();else{const h=Fk("iframefcb");return Pr()[h]=()=>{gapi.load?l():n(Ar(t,"network-request-failed"))},HE(`${jk()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw fh=null,e})}let fh=null;function Q2(t){return fh=fh||G2(t),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Eu(5e3,15e3),X2="__/auth/iframe",J2="emulator/auth/iframe",Z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tb(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gm(e,J2):`https://${t.config.authDomain}/${X2}`,r={apiKey:e.apiKey,appName:t.name,v:Ra},s=eb.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${wu(r).slice(1)}`}async function nb(t){const e=await Q2(t),n=Pr().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:tb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z2,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Ar(t,"network-request-failed"),h=Pr().setTimeout(()=>{a(l)},Y2.get());function d(){Pr().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ib=500,sb=600,ob="_blank",ab="http://localhost";class f_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lb(t,e,n,r=ib,s=sb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},rb),{width:r.toString(),height:s.toString(),top:a,left:l}),p=tn().toLowerCase();n&&(h=ME(p)?ob:n),LE(p)&&(e=e||ab,d.scrollbars="yes");const g=Object.entries(d).reduce((E,[S,A])=>`${E}${S}=${A},`,"");if(Rk(p)&&h!=="_self")return ub(e||"",h),new f_(null);const _=window.open(e||"",h,g);Ce(_,t,"popup-blocked");try{_.focus()}catch{}return new f_(_)}function ub(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__/auth/handler",hb="emulator/auth/handler",db=encodeURIComponent("fac");async function p_(t,e,n,r,s,a){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ra,eventId:s};if(e instanceof KE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",QP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Iu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${db}=${encodeURIComponent(d)}`:"";return`${fb(t)}?${wu(h).slice(1)}${p}`}function fb({config:t}){return t.emulator?Gm(t,hb):`https://${t.authDomain}/${cb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class pb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t1,this._completeRedirectFn=j2,this._overrideRedirectResult=L2}async _openPopup(e,n,r,s){var a;ci((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await p_(e,n,r,Kp(),s);return lb(e,l,Zm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await p_(e,n,r,Kp(),s);return y2(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ci(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nb(e),r=new U2(e);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wp,{type:wp},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[wp];l!==void 0&&n(!!l),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zE()||OE()||Ym()}}const mb=pb;var m_="@firebase/auth",g_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vb(t){Vr(new hr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(t)},p=new Lk(r,s,a,d);return Wk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new hr("auth-internal",e=>{const n=ka(e.getProvider("auth").getImmediate());return(r=>new gb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(m_,g_,yb(t)),Wn(m_,g_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=5*60,wb=mE("authIdTokenMaxAge")||_b;let y_=null;const Tb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wb)return;const s=n==null?void 0:n.token;y_!==s&&(y_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Eb(t=IE()){const e=Tu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hk(t,{popupRedirectResolver:mb,persistence:[C2,p2,t1]}),r=mE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=Tb(a.toString());c2(n,l,()=>l(n.currentUser)),u2(n,h=>l(h))}}const s=fE("auth");return s&&qk(n,`http://${s}`),n}function Ib(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ok({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Ar("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",Ib().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vb("Browser");var v_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,l1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,x){function P(){}P.prototype=x.prototype,k.D=x.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(L,j,z){for(var D=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)D[$e-2]=arguments[$e];return x.prototype[j].apply(L,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,x,P){P||(P=0);var L=Array(16);if(typeof x=="string")for(var j=0;16>j;++j)L[j]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(j=0;16>j;++j)L[j]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=k.g[0],P=k.g[1],j=k.g[2];var z=k.g[3],D=x+(z^P&(j^z))+L[0]+3614090360&4294967295;x=P+(D<<7&4294967295|D>>>25),D=z+(j^x&(P^j))+L[1]+3905402710&4294967295,z=x+(D<<12&4294967295|D>>>20),D=j+(P^z&(x^P))+L[2]+606105819&4294967295,j=z+(D<<17&4294967295|D>>>15),D=P+(x^j&(z^x))+L[3]+3250441966&4294967295,P=j+(D<<22&4294967295|D>>>10),D=x+(z^P&(j^z))+L[4]+4118548399&4294967295,x=P+(D<<7&4294967295|D>>>25),D=z+(j^x&(P^j))+L[5]+1200080426&4294967295,z=x+(D<<12&4294967295|D>>>20),D=j+(P^z&(x^P))+L[6]+2821735955&4294967295,j=z+(D<<17&4294967295|D>>>15),D=P+(x^j&(z^x))+L[7]+4249261313&4294967295,P=j+(D<<22&4294967295|D>>>10),D=x+(z^P&(j^z))+L[8]+1770035416&4294967295,x=P+(D<<7&4294967295|D>>>25),D=z+(j^x&(P^j))+L[9]+2336552879&4294967295,z=x+(D<<12&4294967295|D>>>20),D=j+(P^z&(x^P))+L[10]+4294925233&4294967295,j=z+(D<<17&4294967295|D>>>15),D=P+(x^j&(z^x))+L[11]+2304563134&4294967295,P=j+(D<<22&4294967295|D>>>10),D=x+(z^P&(j^z))+L[12]+1804603682&4294967295,x=P+(D<<7&4294967295|D>>>25),D=z+(j^x&(P^j))+L[13]+4254626195&4294967295,z=x+(D<<12&4294967295|D>>>20),D=j+(P^z&(x^P))+L[14]+2792965006&4294967295,j=z+(D<<17&4294967295|D>>>15),D=P+(x^j&(z^x))+L[15]+1236535329&4294967295,P=j+(D<<22&4294967295|D>>>10),D=x+(j^z&(P^j))+L[1]+4129170786&4294967295,x=P+(D<<5&4294967295|D>>>27),D=z+(P^j&(x^P))+L[6]+3225465664&4294967295,z=x+(D<<9&4294967295|D>>>23),D=j+(x^P&(z^x))+L[11]+643717713&4294967295,j=z+(D<<14&4294967295|D>>>18),D=P+(z^x&(j^z))+L[0]+3921069994&4294967295,P=j+(D<<20&4294967295|D>>>12),D=x+(j^z&(P^j))+L[5]+3593408605&4294967295,x=P+(D<<5&4294967295|D>>>27),D=z+(P^j&(x^P))+L[10]+38016083&4294967295,z=x+(D<<9&4294967295|D>>>23),D=j+(x^P&(z^x))+L[15]+3634488961&4294967295,j=z+(D<<14&4294967295|D>>>18),D=P+(z^x&(j^z))+L[4]+3889429448&4294967295,P=j+(D<<20&4294967295|D>>>12),D=x+(j^z&(P^j))+L[9]+568446438&4294967295,x=P+(D<<5&4294967295|D>>>27),D=z+(P^j&(x^P))+L[14]+3275163606&4294967295,z=x+(D<<9&4294967295|D>>>23),D=j+(x^P&(z^x))+L[3]+4107603335&4294967295,j=z+(D<<14&4294967295|D>>>18),D=P+(z^x&(j^z))+L[8]+1163531501&4294967295,P=j+(D<<20&4294967295|D>>>12),D=x+(j^z&(P^j))+L[13]+2850285829&4294967295,x=P+(D<<5&4294967295|D>>>27),D=z+(P^j&(x^P))+L[2]+4243563512&4294967295,z=x+(D<<9&4294967295|D>>>23),D=j+(x^P&(z^x))+L[7]+1735328473&4294967295,j=z+(D<<14&4294967295|D>>>18),D=P+(z^x&(j^z))+L[12]+2368359562&4294967295,P=j+(D<<20&4294967295|D>>>12),D=x+(P^j^z)+L[5]+4294588738&4294967295,x=P+(D<<4&4294967295|D>>>28),D=z+(x^P^j)+L[8]+2272392833&4294967295,z=x+(D<<11&4294967295|D>>>21),D=j+(z^x^P)+L[11]+1839030562&4294967295,j=z+(D<<16&4294967295|D>>>16),D=P+(j^z^x)+L[14]+4259657740&4294967295,P=j+(D<<23&4294967295|D>>>9),D=x+(P^j^z)+L[1]+2763975236&4294967295,x=P+(D<<4&4294967295|D>>>28),D=z+(x^P^j)+L[4]+1272893353&4294967295,z=x+(D<<11&4294967295|D>>>21),D=j+(z^x^P)+L[7]+4139469664&4294967295,j=z+(D<<16&4294967295|D>>>16),D=P+(j^z^x)+L[10]+3200236656&4294967295,P=j+(D<<23&4294967295|D>>>9),D=x+(P^j^z)+L[13]+681279174&4294967295,x=P+(D<<4&4294967295|D>>>28),D=z+(x^P^j)+L[0]+3936430074&4294967295,z=x+(D<<11&4294967295|D>>>21),D=j+(z^x^P)+L[3]+3572445317&4294967295,j=z+(D<<16&4294967295|D>>>16),D=P+(j^z^x)+L[6]+76029189&4294967295,P=j+(D<<23&4294967295|D>>>9),D=x+(P^j^z)+L[9]+3654602809&4294967295,x=P+(D<<4&4294967295|D>>>28),D=z+(x^P^j)+L[12]+3873151461&4294967295,z=x+(D<<11&4294967295|D>>>21),D=j+(z^x^P)+L[15]+530742520&4294967295,j=z+(D<<16&4294967295|D>>>16),D=P+(j^z^x)+L[2]+3299628645&4294967295,P=j+(D<<23&4294967295|D>>>9),D=x+(j^(P|~z))+L[0]+4096336452&4294967295,x=P+(D<<6&4294967295|D>>>26),D=z+(P^(x|~j))+L[7]+1126891415&4294967295,z=x+(D<<10&4294967295|D>>>22),D=j+(x^(z|~P))+L[14]+2878612391&4294967295,j=z+(D<<15&4294967295|D>>>17),D=P+(z^(j|~x))+L[5]+4237533241&4294967295,P=j+(D<<21&4294967295|D>>>11),D=x+(j^(P|~z))+L[12]+1700485571&4294967295,x=P+(D<<6&4294967295|D>>>26),D=z+(P^(x|~j))+L[3]+2399980690&4294967295,z=x+(D<<10&4294967295|D>>>22),D=j+(x^(z|~P))+L[10]+4293915773&4294967295,j=z+(D<<15&4294967295|D>>>17),D=P+(z^(j|~x))+L[1]+2240044497&4294967295,P=j+(D<<21&4294967295|D>>>11),D=x+(j^(P|~z))+L[8]+1873313359&4294967295,x=P+(D<<6&4294967295|D>>>26),D=z+(P^(x|~j))+L[15]+4264355552&4294967295,z=x+(D<<10&4294967295|D>>>22),D=j+(x^(z|~P))+L[6]+2734768916&4294967295,j=z+(D<<15&4294967295|D>>>17),D=P+(z^(j|~x))+L[13]+1309151649&4294967295,P=j+(D<<21&4294967295|D>>>11),D=x+(j^(P|~z))+L[4]+4149444226&4294967295,x=P+(D<<6&4294967295|D>>>26),D=z+(P^(x|~j))+L[11]+3174756917&4294967295,z=x+(D<<10&4294967295|D>>>22),D=j+(x^(z|~P))+L[2]+718787259&4294967295,j=z+(D<<15&4294967295|D>>>17),D=P+(z^(j|~x))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+x&4294967295,k.g[1]=k.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.u=function(k,x){x===void 0&&(x=k.length);for(var P=x-this.blockSize,L=this.B,j=this.h,z=0;z<x;){if(j==0)for(;z<=P;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<x;)if(L[j++]=k.charCodeAt(z++),j==this.blockSize){s(this,L),j=0;break}}else for(;z<x;)if(L[j++]=k[z++],j==this.blockSize){s(this,L),j=0;break}}this.h=j,this.o+=x},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var x=1;x<k.length-8;++x)k[x]=0;var P=8*this.o;for(x=k.length-8;x<k.length;++x)k[x]=P&255,P/=256;for(this.u(k),k=Array(16),x=P=0;4>x;++x)for(var L=0;32>L;L+=8)k[P++]=this.g[x]>>>L&255;return k};function a(k,x){var P=h;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=x(k)}function l(k,x){this.h=x;for(var P=[],L=!0,j=k.length-1;0<=j;j--){var z=k[j]|0;L&&z==x||(P[j]=z,L=!1)}this.g=P}var h={};function d(k){return-128<=k&&128>k?a(k,function(x){return new l([x|0],0>x?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return R(p(-k));for(var x=[],P=1,L=0;k>=P;L++)x[L]=k/P|0,P*=4294967296;return new l(x,0)}function g(k,x){if(k.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k.charAt(0)=="-")return R(g(k.substring(1),x));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(x,8)),L=_,j=0;j<k.length;j+=8){var z=Math.min(8,k.length-j),D=parseInt(k.substring(j,j+z),x);8>z?(z=p(Math.pow(x,z)),L=L.j(z).add(p(D))):(L=L.j(P),L=L.add(p(D)))}return L}var _=d(0),E=d(1),S=d(16777216);t=l.prototype,t.m=function(){if(N(this))return-R(this).m();for(var k=0,x=1,P=0;P<this.g.length;P++){var L=this.i(P);k+=(0<=L?L:4294967296+L)*x,x*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(N(this))return"-"+R(this).toString(k);for(var x=p(Math.pow(k,6)),P=this,L="";;){var j=Q(P,x).g;P=V(P,j.j(x));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=j,A(P))return z+L;for(;6>z.length;)z="0"+z;L=z+L}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(var x=0;x<k.g.length;x++)if(k.g[x]!=0)return!1;return!0}function N(k){return k.h==-1}t.l=function(k){return k=V(this,k),N(k)?-1:A(k)?0:1};function R(k){for(var x=k.g.length,P=[],L=0;L<x;L++)P[L]=~k.g[L];return new l(P,~k.h).add(E)}t.abs=function(){return N(this)?R(this):this},t.add=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],L=0,j=0;j<=x;j++){var z=L+(this.i(j)&65535)+(k.i(j)&65535),D=(z>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);L=D>>>16,z&=65535,D&=65535,P[j]=D<<16|z}return new l(P,P[P.length-1]&-2147483648?-1:0)};function V(k,x){return k.add(R(x))}t.j=function(k){if(A(this)||A(k))return _;if(N(this))return N(k)?R(this).j(R(k)):R(R(this).j(k));if(N(k))return R(this.j(R(k)));if(0>this.l(S)&&0>k.l(S))return p(this.m()*k.m());for(var x=this.g.length+k.g.length,P=[],L=0;L<2*x;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var j=0;j<k.g.length;j++){var z=this.i(L)>>>16,D=this.i(L)&65535,$e=k.i(j)>>>16,tt=k.i(j)&65535;P[2*L+2*j]+=D*tt,U(P,2*L+2*j),P[2*L+2*j+1]+=z*tt,U(P,2*L+2*j+1),P[2*L+2*j+1]+=D*$e,U(P,2*L+2*j+1),P[2*L+2*j+2]+=z*$e,U(P,2*L+2*j+2)}for(L=0;L<x;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=x;L<2*x;L++)P[L]=0;return new l(P,0)};function U(k,x){for(;(k[x]&65535)!=k[x];)k[x+1]+=k[x]>>>16,k[x]&=65535,x++}function F(k,x){this.g=k,this.h=x}function Q(k,x){if(A(x))throw Error("division by zero");if(A(k))return new F(_,_);if(N(k))return x=Q(R(k),x),new F(R(x.g),R(x.h));if(N(x))return x=Q(k,R(x)),new F(R(x.g),x.h);if(30<k.g.length){if(N(k)||N(x))throw Error("slowDivide_ only works with positive integers.");for(var P=E,L=x;0>=L.l(k);)P=Y(P),L=Y(L);var j=Z(P,1),z=Z(L,1);for(L=Z(L,2),P=Z(P,2);!A(L);){var D=z.add(L);0>=D.l(k)&&(j=j.add(P),z=D),L=Z(L,1),P=Z(P,1)}return x=V(k,j.j(x)),new F(j,x)}for(j=_;0<=k.l(x);){for(P=Math.max(1,Math.floor(k.m()/x.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),z=p(P),D=z.j(x);N(D)||0<D.l(k);)P-=L,z=p(P),D=z.j(x);A(z)&&(z=E),j=j.add(z),k=V(k,D)}return new F(j,k)}t.A=function(k){return Q(this,k).h},t.and=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],L=0;L<x;L++)P[L]=this.i(L)&k.i(L);return new l(P,this.h&k.h)},t.or=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],L=0;L<x;L++)P[L]=this.i(L)|k.i(L);return new l(P,this.h|k.h)},t.xor=function(k){for(var x=Math.max(this.g.length,k.g.length),P=[],L=0;L<x;L++)P[L]=this.i(L)^k.i(L);return new l(P,this.h^k.h)};function Y(k){for(var x=k.g.length+1,P=[],L=0;L<x;L++)P[L]=k.i(L)<<1|k.i(L-1)>>>31;return new l(P,k.h)}function Z(k,x){var P=x>>5;x%=32;for(var L=k.g.length-P,j=[],z=0;z<L;z++)j[z]=0<x?k.i(z+P)>>>x|k.i(z+P+1)<<32-x:k.i(z+P);return new l(j,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,es=l}).apply(typeof v_<"u"?v_:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u1,Ll,c1,ph,Yp,h1,d1,f1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var H=c[C];if(!(H in w))break e;w=w[H]}c=c[c.length-1],C=w[c],y=y(C),y!=C&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,C=!1,H={next:function(){if(!C&&w<c.length){var G=w++;return{value:y(G,c[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function d(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,C),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function S(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function A(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(C,H,G){for(var le=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)le[Ye-2]=arguments[Ye];return y.prototype[H].apply(C,le)}}function N(c){const y=c.length;if(0<y){const w=Array(y);for(let C=0;C<y;C++)w[C]=c[C];return w}return[]}function R(c,y){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(d(C)){const H=c.length||0,G=C.length||0;c.length=H+G;for(let le=0;le<G;le++)c[H+le]=C[le]}else c.push(C)}}class V{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var Y=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function Z(c,y,w){for(const C in c)y.call(w,c[C],C,c)}function k(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function x(c){const y={};for(const w in c)y[w]=c[w];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,y){let w,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(w in C)c[w]=C[w];for(let G=0;G<P.length;G++)w=P[G],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function j(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function z(c){h.setTimeout(()=>{throw c},0)}function D(){var c=ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class $e{constructor(){this.h=this.g=null}add(y,w){const C=tt.get();C.set(y,w),this.h?this.h.next=C:this.g=C,this.h=C}}var tt=new V(()=>new it,c=>c.reset());class it{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,re=!1,ge=new $e,ue=()=>{const c=h.Promise.resolve(void 0);Te=()=>{c.then($)}};var $=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(w){z(w)}var y=tt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}re=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function be(c,y){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Y){e:{try{Q(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}A(be,pe);var ee={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),de=0;function Le(c,y,w,C,H){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!C,this.ha=H,this.key=++de,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tn(c){this.src=c,this.g={},this.h=0}Tn.prototype.add=function(c,y,w,C,H){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var le=pr(c,y,C,H);return-1<le?(y=c[le],w||(y.fa=!1)):(y=new Le(y,this.src,G,!!C,H),y.fa=w,c.push(y)),y};function yi(c,y){var w=y.type;if(w in c.g){var C=c.g[w],H=Array.prototype.indexOf.call(C,y,void 0),G;(G=0<=H)&&Array.prototype.splice.call(C,H,1),G&&(Ke(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function pr(c,y,w,C){for(var H=0;H<c.length;++H){var G=c[H];if(!G.da&&G.listener==y&&G.capture==!!w&&G.ha==C)return H}return-1}var Fr="closure_lm_"+(1e6*Math.random()|0),vi={};function ae(c,y,w,C,H){if(Array.isArray(y)){for(var G=0;G<y.length;G++)ae(c,y[G],w,C,H);return null}return w=Ma(w),c&&c[_e]?c.K(y,w,p(C)?!!C.capture:!1,H):Ge(c,y,w,!1,C,H)}function Ge(c,y,w,C,H,G){if(!y)throw Error("Invalid event type");var le=p(H)?!!H.capture:!!H,Ye=Ur(c);if(Ye||(c[Fr]=Ye=new Tn(c)),w=Ye.add(y,w,C,le,G),w.proxy)return w;if(C=st(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)Ve||(H=le),H===void 0&&(H=!1),c.addEventListener(y.toString(),C,H);else if(c.attachEvent)c.attachEvent(Wt(y.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function st(){function c(w){return y.call(c.src,c.listener,w)}const y=_i;return c}function Nn(c,y,w,C,H){if(Array.isArray(y))for(var G=0;G<y.length;G++)Nn(c,y[G],w,C,H);else C=p(C)?!!C.capture:!!C,w=Ma(w),c&&c[_e]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],w=pr(G,w,C,H),-1<w&&(Ke(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ur(c))&&(y=c.g[y.toString()],c=-1,y&&(c=pr(y,w,C,H)),(w=-1<c?y[c]:null)&&nn(w))}function nn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_e])yi(y.i,c);else{var w=c.type,C=c.proxy;y.removeEventListener?y.removeEventListener(w,C,c.capture):y.detachEvent?y.detachEvent(Wt(w),C):y.addListener&&y.removeListener&&y.removeListener(C),(w=Ur(y))?(yi(w,c),w.h==0&&(w.src=null,y[Fr]=null)):Ke(c)}}}function Wt(c){return c in vi?vi[c]:vi[c]="on"+c}function _i(c,y){if(c.da)c=!0;else{y=new be(y,this);var w=c.listener,C=c.ha||c.src;c.fa&&nn(c),c=w.call(C,y)}return c}function Ur(c){return c=c[Fr],c instanceof Tn?c:null}var ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ma(c){return typeof c=="function"?c:(c[ho]||(c[ho]=function(y){return c.handleEvent(y)}),c[ho])}function St(){X.call(this),this.i=new Tn(this),this.M=this,this.F=null}A(St,X),St.prototype[_e]=!0,St.prototype.removeEventListener=function(c,y,w,C){Nn(this,c,y,w,C)};function xt(c,y){var w,C=c.F;if(C)for(w=[];C;C=C.F)w.push(C);if(c=c.M,C=y.type||y,typeof y=="string")y=new pe(y,c);else if(y instanceof pe)y.target=y.target||c;else{var H=y;y=new pe(C,c),L(y,H)}if(H=!0,w)for(var G=w.length-1;0<=G;G--){var le=y.g=w[G];H=Br(le,C,!0,y)&&H}if(le=y.g=c,H=Br(le,C,!0,y)&&H,H=Br(le,C,!1,y)&&H,w)for(G=0;G<w.length;G++)le=y.g=w[G],H=Br(le,C,!1,y)&&H}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],C=0;C<w.length;C++)Ke(w[C]);delete c.g[y],c.h--}}this.F=null},St.prototype.K=function(c,y,w,C){return this.i.add(String(c),y,!1,w,C)},St.prototype.L=function(c,y,w,C){return this.i.add(String(c),y,!0,w,C)};function Br(c,y,w,C){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,G=0;G<y.length;++G){var le=y[G];if(le&&!le.da&&le.capture==w){var Ye=le.listener,Ct=le.ha||le.src;le.fa&&yi(c.i,le),H=Ye.call(Ct,C)!==!1&&H}}return H&&!C.defaultPrevented}function ja(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function wi(c){c.g=ja(()=>{c.g=null,c.i&&(c.i=!1,wi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ms extends X{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){X.call(this),this.h=c,this.g={}}A(gs,X);var Fa=[];function Ua(c){Z(c.g,function(y,w){this.g.hasOwnProperty(w)&&nn(y)},c),c.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Ua(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ba=h.JSON.stringify,za=h.JSON.parse,$a=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ys(){}ys.prototype.h=null;function fo(c){return c.h||(c.h=c.i())}function po(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){pe.call(this,"d")}A(mr,pe);function mo(){pe.call(this,"c")}A(mo,pe);var gr={},Ha=null;function vs(){return Ha=Ha||new St}gr.La="serverreachability";function Wa(c){pe.call(this,gr.La,c)}A(Wa,pe);function zr(c){const y=vs();xt(y,new Wa(y))}gr.STAT_EVENT="statevent";function qa(c,y){pe.call(this,gr.STAT_EVENT,c),this.stat=y}A(qa,pe);function gt(c){const y=vs();xt(y,new qa(y,c))}gr.Ma="timingevent";function go(c,y){pe.call(this,gr.Ma,c),this.size=y}A(go,pe);function Kn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function ws(c,y,w,C,H,G){c.info(function(){if(c.g)if(G)for(var le="",Ye=G.split("&"),Ct=0;Ct<Ye.length;Ct++){var Be=Ye[Ct].split("=");if(1<Be.length){var Nt=Be[0];Be=Be[1];var Tt=Nt.split("_");le=2<=Tt.length&&Tt[1]=="type"?le+(Nt+"="+Be+"&"):le+(Nt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+y+`
`+w+`
`+le})}function yo(c,y,w,C,H,G,le){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+y+`
`+w+`
`+G+" "+le})}function Gn(c,y,w,C){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vd(c,w)+(C?" "+C:"")})}function Ka(c,y){c.info(function(){return"TIMEOUT: "+y})}_s.prototype.info=function(){};function Vd(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var C=w[c];if(!(2>C.length)){var H=C[1];if(Array.isArray(H)&&!(1>H.length)){var G=H[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<H.length;le++)H[le]=""}}}}return Ba(w)}catch{return y}}var vo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Ts(){}A(Ts,ys),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},Qn=new Ts;function Yn(c,y,w,C){this.j=c,this.i=y,this.l=w,this.R=C||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mu}function Mu(){this.i=null,this.g="",this.h=!1}var Ga={},_o={};function wo(c,y,w){c.L=1,c.v=xi(In(y)),c.m=w,c.P=!0,Qa(c,null)}function Qa(c,y){c.F=Date.now(),Je(c),c.A=In(c.v);var w=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Ai(w.i,"t",C),c.C=0,w=c.j.J,c.h=new Mu,c.g=tc(c.j,w?y:null,!c.m),0<c.O&&(c.M=new ms(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,C=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Fa[0]=H.toString()),H=Fa);for(var G=0;G<H.length;G++){var le=ae(w,H[G],C||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),zr(),ws(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;const y=this.M;y&&hn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=hn(this.g);var y=this.g.Ba();const On=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=On?zr(3):zr(2)),Es(this);var w=this.g.Z();this.X=w;t:if(ju(this)){var C=tl(this.g);c="";var H=C.length,G=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),Ti(this);var le="";break t}this.h.i=new h.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(C[y],{stream:!(G&&y==H-1)});C.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,yo(this.i,this.u,this.A,this.l,this.R,Tt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Ct=this.g;if((Ye=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ye)){var Be=Ye;break t}}Be=null}if(w=Be)Gn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,w);else{this.o=!1,this.s=3,gt(12),Vn(this),Ti(this);break e}}if(this.P){w=!0;let xn;for(;!this.J&&this.C<le.length;)if(xn=Ld(this,le),xn==_o){Tt==4&&(this.s=4,gt(14),w=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Ga){this.s=4,gt(15),Gn(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else Gn(this.i,this.l,xn,null),Ya(this,xn);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||le.length!=0||this.h.h||(this.s=1,gt(16),w=!1),this.o=this.o&&w,!w)Gn(this.i,this.l,le,"[Invalid Chunked Response]"),Vn(this),Ti(this);else if(0<le.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),rl(Nt),Nt.M=!0,gt(11))}}else Gn(this.i,this.l,le,null),Ya(this,le);Tt==4&&Vn(this),this.o&&!this.J&&(Tt==4?bo(this.j,this):(this.o=!1,Je(this)))}else Co(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Vn(this),Ti(this)}}}catch{}finally{}};function ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ld(c,y){var w=c.C,C=y.indexOf(`
`,w);return C==-1?_o:(w=Number(y.substring(w,C)),isNaN(w)?Ga:(C+=1,C+w>y.length?_o:(y=y.slice(C,C+w),c.C=C+w,y)))}Yn.prototype.cancel=function(){this.J=!0,Vn(this)};function Je(c){c.S=Date.now()+c.I,Fu(c,c.I)}function Fu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Kn(E(c.ba,c),y)}function Es(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ka(this.i,this.A),this.L!=2&&(zr(),gt(17)),Vn(this),this.s=2,Ti(this)):Fu(this,this.S-c)};function Ti(c){c.j.G==0||c.J||bo(c.j,c)}function Vn(c){Es(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ua(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ya(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||rn(w.h,c))){if(!c.K&&rn(w.h,c)&&w.G==3){try{var C=w.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)ko(w),tr(w);else break e;Ro(w),gt(18)}}else w.za=H[1],0<w.za-w.T&&37500>H[2]&&w.F&&w.v==0&&!w.C&&(w.C=Kn(E(w.Za,w),6e3));if(1>=Bu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Kr(w,11)}else if((c.K||w.g==c)&&ko(w),!U(y))for(H=w.Da.g.parse(y),y=0;y<H.length;y++){let Be=H[y];if(w.T=Be[0],Be=Be[1],w.G==2)if(Be[0]=="c"){w.K=Be[1],w.ia=Be[2];const Nt=Be[3];Nt!=null&&(w.la=Nt,w.j.info("VER="+w.la));const Tt=Be[4];Tt!=null&&(w.Aa=Tt,w.j.info("SVER="+w.Aa));const On=Be[5];On!=null&&typeof On=="number"&&0<On&&(C=1.5*On,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const xn=c.g;if(xn){const Rs=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var G=C.h;G.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Xa(G,G.h),G.h=null))}if(C.D){const Do=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(C.ya=Do,Xe(C.I,C.D,Do))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var le=c;if(C.qa=ec(C,C.J?C.ia:null,C.W),le.K){zu(C.h,le);var Ye=le,Ct=C.L;Ct&&(Ye.I=Ct),Ye.B&&(Es(Ye),Je(Ye)),C.g=le}else Ps(C);0<w.i.length&&wr(w)}else Be[0]!="stop"&&Be[0]!="close"||Kr(w,7);else w.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Kr(w,7):jt(w):Be[0]!="noop"&&w.l&&w.l.ta(Be),w.v=0)}}zr(4)}catch{}}var Uu=class{constructor(c,y){this.g=c,this.map=y}};function Is(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bu(c){return c.h?1:c.g?c.g.size:0}function rn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xa(c,y){c.g?c.g.add(y):c.h=y}function zu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Is.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $u(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return N(c.i)}function To(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var y=[],w=c.length,C=0;C<w;C++)y.push(c[C]);return y}y=[],w=0;for(C in c)y[w++]=c[C];return y}function Eo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const C in c)y[w++]=C;return y}}}function Ei(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=Eo(c),C=To(c),H=C.length,G=0;G<H;G++)y.call(void 0,C[G],w&&w[G],c)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Od(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var C=c[w].indexOf("="),H=null;if(0<=C){var G=c[w].substring(0,C);H=c[w].substring(C+1)}else G=c[w];y(G,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function $r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $r){this.h=c.h,xs(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.s),this.l=c.l;var y=c.i,w=new yr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Si(this,w),this.m=c.m}else c&&(y=String(c).match(Ss))?(this.h=!1,xs(this,y[1]||"",!0),this.o=Ue(y[2]||""),this.g=Ue(y[3]||"",!0),Ii(this,y[4]),this.l=Ue(y[5]||"",!0),Si(this,y[6]||"",!0),this.m=Ue(y[7]||"")):(this.h=!1,this.i=new yr(null,this.h))}$r.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ci(y,Io,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ci(y,Io,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Ci(w,w.charAt(0)=="/"?qu:Wu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Ci(w,Ja)),c.join("")};function In(c){return new $r(c)}function xs(c,y,w){c.j=w?Ue(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Si(c,y,w){y instanceof yr?(c.i=y,vr(c.i,c.h)):(w||(y=Ci(y,Ku)),c.i=new yr(y,c.h))}function Xe(c,y,w){c.i.set(y,w)}function xi(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ue(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ci(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Io=/[#\/\?@]/g,Wu=/[#\?:]/g,qu=/[#\?]/g,Ku=/[#\?@]/g,Ja=/#/g;function yr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Mt(c){c.g||(c.g=new Map,c.h=0,c.i&&Od(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=yr.prototype,t.add=function(c,y){Mt(this),this.i=null,c=Ln(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Xn(c,y){Mt(c),y=Ln(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Jn(c,y){return Mt(c),y=Ln(c,y),c.g.has(y)}t.forEach=function(c,y){Mt(this),this.g.forEach(function(w,C){w.forEach(function(H){c.call(y,H,C,this)},this)},this)},t.na=function(){Mt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let C=0;C<y.length;C++){const H=c[C];for(let G=0;G<H.length;G++)w.push(y[C])}return w},t.V=function(c){Mt(this);let y=[];if(typeof c=="string")Jn(this,c)&&(y=y.concat(this.g.get(Ln(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return Mt(this),this.i=null,c=Ln(this,c),Jn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ai(c,y,w){Xn(c,y),0<w.length&&(c.i=null,c.g.set(Ln(c,y),N(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var C=y[w];const G=encodeURIComponent(String(C)),le=this.V(C);for(C=0;C<le.length;C++){var H=G;le[C]!==""&&(H+="="+encodeURIComponent(String(le[C]))),c.push(H)}}return this.i=c.join("&")};function Ln(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function vr(c,y){y&&!c.j&&(Mt(c),c.i=null,c.g.forEach(function(w,C){var H=C.toLowerCase();C!=H&&(Xn(this,C),Ai(this,H,w))},c)),c.j=y}function Md(c,y){const w=new _s;if(h.Image){const C=new Image;C.onload=S(cn,w,"TestLoadImage: loaded",!0,y,C),C.onerror=S(cn,w,"TestLoadImage: error",!1,y,C),C.onabort=S(cn,w,"TestLoadImage: abort",!1,y,C),C.ontimeout=S(cn,w,"TestLoadImage: timeout",!1,y,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else y(!1)}function Gu(c,y){const w=new _s,C=new AbortController,H=setTimeout(()=>{C.abort(),cn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:C.signal}).then(G=>{clearTimeout(H),G.ok?cn(w,"TestPingServer: ok",!0,y):cn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),cn(w,"TestPingServer: error",!1,y)})}function cn(c,y,w,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(w)}catch{}}function jd(){this.g=new $a}function Qu(c,y,w){const C=w||"";try{Ei(c,function(H,G){let le=H;p(H)&&(le=Ba(H)),y.push(C+G+"="+encodeURIComponent(le))})}catch(H){throw y.push(C+"type="+encodeURIComponent("_badmap")),H}}function Hr(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Hr,ys),Hr.prototype.g=function(){return new Cs(this.l,this.j)},Hr.prototype.i=function(c){return function(){return c}}({});function Cs(c,y){St.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Cs,St),t=Cs.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,er(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Zn(this):er(this),this.readyState==3&&Yu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},t.Qa=function(c){this.g&&(this.response=c,Zn(this))},t.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,er(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wr(c){let y="";return Z(c,function(w,C){y+=C,y+=":",y+=w,y+=`\r
`}),y}function Pi(c,y,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Wr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Xe(c,y,w))}function ot(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ot,St);var Fd=/^https?$/i,Za=["POST","PUT"];t=ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?fo(this.o):fo(Qn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){As(this,G);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)w.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const G of C.keys())w.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Za,y,void 0))||C||H||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of w)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){As(this,G)}};function As(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,So(c),Sn(c)}function So(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),Sn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sn(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},t.bb=function(){el(this)};function el(c){if(c.h&&typeof l<"u"&&(!c.v[1]||hn(c)!=4||c.Z()!=2)){if(c.u&&hn(c)==4)ja(c.Ea,0,c);else if(xt(c,"readystatechange"),hn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var C;if(C=le===0){var H=String(c.D).match(Ss)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),C=!Fd.test(H?H.toLowerCase():"")}w=C}if(w)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var G=2<hn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",So(c)}}finally{Sn(c)}}}}function Sn(c,y){if(c.g){xo(c);const w=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{w.onreadystatechange=C}catch{}}}function xo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function hn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),za(y)}};function tl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Co(c){const y={};c=(c.g&&2<=hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(U(c[C]))continue;var w=j(c[C]);const H=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=y[H]||[];y[H]=G,G.push(w)}k(y,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _r(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function nl(c){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_r("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_r("baseRetryDelayMs",5e3,c),this.cb=_r("retryDelaySeedMs",1e4,c),this.Wa=_r("forwardChannelMaxRetries",2,c),this.wa=_r("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(c&&c.concurrentRequestLimit),this.Da=new jd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nl.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,C){gt(0),this.W=c,this.H=y||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=ec(this,null,this.W),wr(this)};function jt(c){if(Ao(c),c.G==3){var y=c.U++,w=In(c.I);if(Xe(w,"SID",c.K),Xe(w,"RID",y),Xe(w,"TYPE","terminate"),qr(c,w),y=new Yn(c,c.j,y),y.L=2,y.v=xi(In(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=tc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}Zu(c)}function tr(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function Ao(c){tr(c),c.u&&(h.clearTimeout(c.u),c.u=null),ko(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function wr(c){if(!En(c.h)&&!c.s){c.s=!0;var y=c.Ga;Te||ue(),re||(Te(),re=!0),ge.add(y,c),c.B=0}}function Ud(c,y){return Bu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Kn(E(c.Ga,c,y),Ju(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Yn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=x(G),L(G,this.S)):G=this.S),this.m!==null||this.O||(H.H=G,G=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Ri(this,H,y),w=In(this.I),Xe(w,"RID",c),Xe(w,"CVER",22),this.D&&Xe(w,"X-HTTP-Session-Id",this.D),qr(this,w),G&&(this.O?y="headers="+encodeURIComponent(String(Wr(G)))+"&"+y:this.m&&Pi(w,this.m,G)),Xa(this.h,H),this.Ua&&Xe(w,"TYPE","init"),this.P?(Xe(w,"$req",y),Xe(w,"SID","null"),H.T=!0,wo(H,w,null)):wo(H,w,y),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||En(this.h)||Po(this))};function Po(c,y){var w;y?w=y.l:w=c.U++;const C=In(c.I);Xe(C,"SID",c.K),Xe(C,"RID",w),Xe(C,"AID",c.T),qr(c,C),c.m&&c.o&&Pi(C,c.m,c.o),w=new Yn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ri(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xa(c.h,w),wo(w,C,y)}function qr(c,y){c.H&&Z(c.H,function(w,C){Xe(y,C,w)}),c.l&&Ei({},function(w,C){Xe(y,C,w)})}function Ri(c,y,w){w=Math.min(c.i.length,w);var C=c.l?E(c.l.Na,c.l,c):null;e:{var H=c.i;let G=-1;for(;;){const le=["count="+w];G==-1?0<w?(G=H[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let Ye=!0;for(let Ct=0;Ct<w;Ct++){let Be=H[Ct].g;const Nt=H[Ct].map;if(Be-=G,0>Be)G=Math.max(0,H[Ct].g-100),Ye=!1;else try{Qu(Nt,le,"req"+Be+"_")}catch{C&&C(Nt)}}if(Ye){C=le.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,C}function Ps(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Te||ue(),re||(Te(),re=!0),ge.add(y,c),c.v=0}}function Ro(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Kn(E(c.Fa,c),Ju(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Kn(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),tr(this),Xu(this))};function rl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=In(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),qr(c,y),c.m&&c.o&&Pi(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=xi(In(y)),w.m=null,w.P=!0,Qa(w,c)}t.Za=function(){this.C!=null&&(this.C=null,tr(this),Ro(this),gt(19))};function ko(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function bo(c,y){var w=null;if(c.g==y){ko(c),rl(c),c.g=null;var C=2}else if(rn(c.h,y))w=y.D,zu(c.h,y),C=1;else return;if(c.G!=0){if(y.o)if(C==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;C=vs(),xt(C,new go(C,w)),wr(c)}else Ps(c);else if(H=y.s,H==3||H==0&&0<y.X||!(C==1&&Ud(c,y)||C==2&&Ro(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),H){case 1:Kr(c,5);break;case 4:Kr(c,10);break;case 3:Kr(c,6);break;default:Kr(c,2)}}}function Ju(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Kr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),C=c.Xa;const H=!C;C=new $r(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||xs(C,"https"),xi(C),H?Md(C.toString(),w):Gu(C.toString(),w)}else gt(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Ao(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=$u(c.h);(y.length!=0||c.i.length!=0)&&(R(c.ka,y),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function ec(c,y,w){var C=w instanceof $r?In(w):new $r(w);if(C.g!="")y&&(C.g=y+"."+C.g),Ii(C,C.s);else{var H=h.location;C=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var G=new $r(null);C&&xs(G,C),y&&(G.g=y),H&&Ii(G,H),w&&(G.l=w),C=G}return w=c.D,y=c.ya,w&&y&&Xe(C,w,y),Xe(C,"VER",c.la),qr(c,C),C}function tc(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ot(new Hr({eb:w})):new ot(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}t=il.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function No(){}No.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){St.call(this),this.g=new nl(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!U(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Tr(this)}A(sn,St),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){jt(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ba(c),c=w);y.i.push(new Uu(y.Ya++,c)),y.G==3&&wr(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,sn.aa.N.call(this)};function nc(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}A(nc,mr);function rc(){mo.call(this),this.status=1}A(rc,mo);function Tr(c){this.g=c}A(Tr,il),Tr.prototype.ua=function(){xt(this.g,"a")},Tr.prototype.ta=function(c){xt(this.g,new nc(c))},Tr.prototype.sa=function(c){xt(this.g,new rc)},Tr.prototype.ra=function(){xt(this.g,"b")},No.prototype.createWebChannel=No.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,f1=function(){return new No},d1=function(){return vs()},h1=gr,Yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vo.NO_ERROR=0,vo.TIMEOUT=8,vo.HTTP_ERROR=6,ph=vo,Ou.COMPLETE="complete",c1=Ou,po.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",St.prototype.listen=St.prototype.K,Ll=po,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,u1=ot}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore",w_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new nd("@firebase/firestore");function ea(){return eo.logLevel}function he(t,...e){if(eo.logLevel<=je.DEBUG){const n=e.map(tg);eo.debug(`Firestore (${ba}): ${t}`,...n)}}function hi(t,...e){if(eo.logLevel<=je.ERROR){const n=e.map(tg);eo.error(`Firestore (${ba}): ${t}`,...n)}}function ga(t,...e){if(eo.logLevel<=je.WARN){const n=e.map(tg);eo.warn(`Firestore (${ba}): ${t}`,...n)}}function tg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function Qe(t,e){t||Ae()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class xb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cb{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qs,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qs)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new p1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Jt(e)}}class Ab{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Pb{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ab(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rb{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ur(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new T_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new T_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=kb(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Xp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Oe(r,s);{const a=m1(),l=bb(a.encode(E_(t,n)),a.encode(E_(e,n)));return l!==0?l:Oe(r,s)}}n+=r>65535?2:1}return Oe(t.length,e.length)}function E_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function bb(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Oe(t[n],e[n]);return Oe(t.length,e.length)}function ya(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=-62135596800,S_=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*S_);return new kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<I_)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-I_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new kt(0,0))}static max(){return new Ne(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class Cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Cr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Oe(e.length,n.length)}static compareSegments(e,n){const r=Cr.isNumericId(e),s=Cr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):Xp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class lt extends Cr{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const Nb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Cr{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return Nb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new $t([x_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new we(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(a(),s++)}if(a(),l)throw new we(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(lt.fromString(e))}static fromName(e){return new Se(lt.fromString(e).popFirst(5))}static empty(){return new Se(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function Db(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new is(s,Se.empty(),e)}function Vb(t){return new is(t.readTime,t.key,tu)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(Ne.min(),Se.empty(),tu)}static max(){return new is(Ne.max(),Se.empty(),tu)}}function Lb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==Ob)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,a=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const a=e.length,l=new Array(a);let h=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(g=>{l[p]=g,++h,h===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new J((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function jb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ad.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function ld(t){return t==null}function bh(t){return t===0&&1/t==-1/0}function Fb(t){return typeof t=="number"&&Number.isInteger(t)&&!bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="";function Ub(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=C_(e)),e=Bb(t.get(n),e);return C_(e)}function Bb(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case y1:n+="";break;default:n+=a}}return n}function C_(t){return t+y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function v1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??zt.RED,this.left=s??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new zt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,s,a){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new bt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _1("Invalid base64 string: "+a):a}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const zb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=zb.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function os(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="server_timestamp",T1="__type__",E1="__previous_value__",I1="__local_write_time__";function rg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[T1])===null||n===void 0?void 0:n.stringValue)===w1}function ud(t){const e=t.mapValue.fields[E1];return rg(e)?ud(e):e}function nu(t){const e=ss(t.mapValue.fields[I1].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r,s,a,l,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const Nh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="__type__",Hb="__max__",th={mapValue:{}},x1="__vector__",Dh="value";function as(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rg(t)?4:qb(t)?9007199254740991:Wb(t)?10:11:Ae()}function Lr(t,e){if(t===e)return!0;const n=as(t);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nu(t).isEqual(nu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ss(s.timestampValue),h=ss(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return os(s.bytesValue).isEqual(os(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return _t(s.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(s.geoPointValue.longitude)===_t(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return _t(s.integerValue)===_t(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=_t(s.doubleValue),h=_t(a.doubleValue);return l===h?bh(l)===bh(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(A_(l)!==A_(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!Lr(l[d],h[d])))return!1;return!0}(t,e);default:return Ae()}}function iu(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=as(t),r=as(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(a,l){const h=_t(a.integerValue||a.doubleValue),d=_t(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return R_(t.timestampValue,e.timestampValue);case 4:return R_(nu(t),nu(e));case 5:return Xp(t.stringValue,e.stringValue);case 6:return function(a,l){const h=os(a),d=os(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),d=l.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=Oe(h[p],d[p]);if(g!==0)return g}return Oe(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const h=Oe(_t(a.latitude),_t(l.latitude));return h!==0?h:Oe(_t(a.longitude),_t(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(a,l){var h,d,p,g;const _=a.fields||{},E=l.fields||{},S=(h=_[Dh])===null||h===void 0?void 0:h.arrayValue,A=(d=E[Dh])===null||d===void 0?void 0:d.arrayValue,N=Oe(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:k_(S,A)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===th.mapValue&&l===th.mapValue)return 0;if(a===th.mapValue)return 1;if(l===th.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const E=Xp(d[_],g[_]);if(E!==0)return E;const S=va(h[d[_]],p[g[_]]);if(S!==0)return S}return Oe(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function R_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=ss(t),r=ss(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function k_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=va(n[s],r[s]);if(a)return a}return Oe(n.length,r.length)}function _a(t){return Jp(t)}function Jp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return os(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Jp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Jp(n.fields[l])}`;return s+"}"}(t.mapValue):Ae()}function mh(t){switch(as(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(t);return e?16+mh(e):16;case 5:return 2*t.stringValue.length;case 6:return os(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+mh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ds(r.fields,(a,l)=>{s+=a.length+mh(l)}),s}(t.mapValue);default:throw Ae()}}function Zp(t){return!!t&&"integerValue"in t}function ig(t){return!!t&&"arrayValue"in t}function b_(t){return!!t&&"nullValue"in t}function N_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gh(t){return!!t&&"mapValue"in t}function Wb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[S1])===null||n===void 0?void 0:n.stringValue)===x1}function $l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=$t.emptyPath(),r={},s=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=h.popLast()}l?r[h.lastSegment()]=$l(l):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ds(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new _n($l(this.value))}}function C1(t){const e=[];return ds(t.fields,(n,r)=>{const s=new $t([n]);if(gh(r)){const a=C1(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,s,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Zt(e,0,Ne.min(),Ne.min(),Ne.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new Zt(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ne.min(),Ne.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ne.min(),Ne.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function D_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),n.key):r=va(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function V_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Kb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{}class Rt extends A1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qb(e,n,r):n==="array-contains"?new Jb(e,r):n==="in"?new Zb(e,r):n==="not-in"?new eN(e,r):n==="array-contains-any"?new tN(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yb(e,r):new Xb(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(va(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends A1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Or(e,n)}matches(e){return P1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function P1(t){return t.op==="and"}function R1(t){return Gb(t)&&P1(t)}function Gb(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function em(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+_a(t.value);if(R1(t))return t.filters.map(e=>em(e)).join(",");{const e=t.filters.map(n=>em(n)).join(",");return`${t.op}(${e})`}}function k1(t,e){return t instanceof Rt?function(r,s){return s instanceof Rt&&r.op===s.op&&r.field.isEqual(s.field)&&Lr(r.value,s.value)}(t,e):t instanceof Or?function(r,s){return s instanceof Or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,h)=>a&&k1(l,s.filters[h]),!0):!1}(t,e):void Ae()}function b1(t){return t instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${_a(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(b1).join(" ,")+"}"}(t):"Filter"}class Qb extends Rt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yb extends Rt{constructor(e,n){super(e,"in",n),this.keys=N1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Xb extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=N1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function N1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class Jb extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ig(n)&&iu(n.arrayValue,this.value)}}class Zb extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class eN extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class tN extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n=null,r=[],s=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.le=null}}function L_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new nN(t,e,n,r,s,a,l)}function sg(t){const e=De(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>em(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_a(r)).join(",")),e.le=n}return e.le}function og(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Kb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!k1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V_(t.startAt,e.startAt)&&V_(t.endAt,e.endAt)}function tm(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n=null,r=[],s=[],a=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function rN(t,e,n,r,s,a,l,h){return new cd(t,e,n,r,s,a,l,h)}function ag(t){return new cd(t)}function O_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iN(t){return t.collectionGroup!==null}function Hl(t){const e=De(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new bt($t.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new Lh(a,r))}),n.has($t.keyField().canonicalString())||e.he.push(new Lh($t.keyField(),r))}return e.he}function Rr(t){const e=De(t);return e.Pe||(e.Pe=sN(e,Hl(t))),e.Pe}function sN(t,e){if(t.limitType==="F")return L_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Lh(s.field,a)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return L_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nm(t,e,n){return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hd(t,e){return og(Rr(t),Rr(e))&&t.limitType===e.limitType}function D1(t){return`${sg(Rr(t))}|lt:${t.limitType}`}function ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>b1(s)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>_a(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>_a(s)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Hl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,h,d){const p=D_(l,h,d);return l.inclusive?p<=0:p<0}(r.startAt,Hl(r),s)||r.endAt&&!function(l,h,d){const p=D_(l,h,d);return l.inclusive?p>=0:p>0}(r.endAt,Hl(r),s))}(t,e)}function oN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V1(t){return(e,n)=>{let r=!1;for(const s of Hl(t)){const a=aN(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function aN(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(a,l,h){const d=l.data.field(a),p=h.data.field(a);return d!==null&&p!==null?va(d,p):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new ft(Se.comparator);function di(){return lN}const L1=new ft(Se.comparator);function Ol(...t){let e=L1;for(const n of t)e=e.insert(n.key,n);return e}function O1(t){let e=L1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ws(){return Wl()}function M1(){return Wl()}function Wl(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const uN=new ft(Se.comparator),cN=new bt(Se.comparator);function Fe(...t){let e=cN;for(const n of t)e=e.add(n);return e}const hN=new bt(Oe);function dN(){return hN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function j1(t){return{integerValue:""+t}}function fN(t,e){return Fb(e)?j1(e):lg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function pN(t,e,n){return t instanceof Oh?function(s,a){const l={fields:{[T1]:{stringValue:w1},[I1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&rg(a)&&(a=ud(a)),a&&(l.fields[E1]=a),{mapValue:l}}(n,e):t instanceof su?U1(t,e):t instanceof ou?B1(t,e):function(s,a){const l=F1(s,a),h=M_(l)+M_(s.Ie);return Zp(l)&&Zp(s.Ie)?j1(h):lg(s.serializer,h)}(t,e)}function mN(t,e,n){return t instanceof su?U1(t,e):t instanceof ou?B1(t,e):n}function F1(t,e){return t instanceof Mh?function(r){return Zp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Oh extends fd{}class su extends fd{constructor(e){super(),this.elements=e}}function U1(t,e){const n=z1(e);for(const r of t.elements)n.some(s=>Lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ou extends fd{constructor(e){super(),this.elements=e}}function B1(t,e){let n=z1(e);for(const r of t.elements)n=n.filter(s=>!Lr(s,r));return{arrayValue:{values:n}}}class Mh extends fd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function M_(t){return _t(t.integerValue||t.doubleValue)}function z1(t){return ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof su&&s instanceof su||r instanceof ou&&s instanceof ou?ya(r.elements,s.elements,Lr):r instanceof Mh&&s instanceof Mh?Lr(r.Ie,s.Ie):r instanceof Oh&&s instanceof Oh}(t.transform,e.transform)}class yN{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pd{}function $1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ug(t.key,cr.none()):new xu(t.key,t.data,cr.none());{const n=t.data,r=_n.empty();let s=new bt($t.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new fs(t.key,r,new Rn(s.toArray()),cr.none())}}function vN(t,e,n){t instanceof xu?function(s,a,l){const h=s.value.clone(),d=F_(s.fieldTransforms,a,l.transformResults);h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(s,a,l){if(!yh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=F_(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(H1(s)),d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function ql(t,e,n,r){return t instanceof xu?function(a,l,h,d){if(!yh(a.precondition,l))return h;const p=a.value.clone(),g=U_(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(a,l,h,d){if(!yh(a.precondition,l))return h;const p=U_(a.fieldTransforms,d,l),g=l.data;return g.setAll(H1(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,h){return yh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function _N(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=F1(r.transform,s||null);a!=null&&(n===null&&(n=_n.empty()),n.set(r.field,a))}return n||null}function j_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ya(r,s,(a,l)=>gN(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends pd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fs extends pd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function H1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function F_(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,h=e.data.field(a.field);r.set(a.field,mN(l,h,n[s]))}return r}function U_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,pN(a,l,e))}return r}class ug extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wN extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&vN(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M1();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(s.key)?null:h;const d=$1(l,h);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,r)=>j_(n,r))&&ya(this.baseMutations,e.baseMutations,(n,r)=>j_(n,r))}}class cg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return uN}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new cg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,ze;function SN(t){switch(t){case ie.OK:return Ae();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae()}}function W1(t){if(t===void 0)return hi("GRPC error has no .code"),ie.UNKNOWN;switch(t){case It.OK:return ie.OK;case It.CANCELLED:return ie.CANCELLED;case It.UNKNOWN:return ie.UNKNOWN;case It.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case It.INTERNAL:return ie.INTERNAL;case It.UNAVAILABLE:return ie.UNAVAILABLE;case It.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case It.NOT_FOUND:return ie.NOT_FOUND;case It.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case It.ABORTED:return ie.ABORTED;case It.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case It.DATA_LOSS:return ie.DATA_LOSS;default:return Ae()}}(ze=It||(It={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new es([4294967295,4294967295],0);function B_(t){const e=m1().encode(t),n=new l1;return n.update(e),new Uint8Array(n.digest())}function z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new es([n,r],0),new es([s,a],0)]}class hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=es.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(es.fromNumber(r)));return s.compare(xN)===1&&(s=new es([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=B_(e),[r,s]=z_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new hg(a,s,n);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.Ee===0)return;const n=B_(e),[r,s]=z_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(Ne.min(),s,new ft(Oe),di(),Fe())}}class Cu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class q1{constructor(e,n){this.targetId=e,this.ge=n}}class K1{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class $_{constructor(){this.pe=0,this.ye=H_(),this.we=Ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Fe(),n=Fe(),r=Fe();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae()}}),new Cu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=H_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class CN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=di(),this.$e=nh(),this.Ue=nh(),this.Ke=new ft(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(tm(a))if(r===0){const l=new Se(a.path);this.ze(n,l,Zt.newNoDocument(l,Ne.min()))}else Qe(r===1);else{const l=this.et(n);if(l!==r){const h=this.tt(e),d=h?this.nt(h,e,l):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,h;try{l=os(r).toUint8Array()}catch(d){if(d instanceof _1)return ga("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new hg(l,s,a)}catch(d){return ga(d instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ke.it(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const h=this.Xe(l);if(h){if(a.current&&tm(h.target)){const d=new Se(h.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,Zt.newNoDocument(d,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=Fe();this.Ue.forEach((a,l)=>{let h=!0;l.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new md(e,n,this.Ke,this.Qe,r);return this.Qe=di(),this.$e=nh(),this.Ue=nh(),this.Ke=new ft(Oe),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new $_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new bt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new bt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ft(Se.comparator)}function H_(){return new ft(Se.comparator)}const AN={asc:"ASCENDING",desc:"DESCENDING"},PN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RN={and:"AND",or:"OR"};class kN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rm(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bN(t,e){return jh(t,e.toTimestamp())}function kr(t){return Qe(!!t),Ne.fromTimestamp(function(n){const r=ss(n);return new kt(r.seconds,r.nanos)}(t))}function dg(t,e){return im(t,e).canonicalString()}function im(t,e){const n=function(s){return new lt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Q1(t){const e=lt.fromString(t);return Qe(eI(e)),e}function sm(t,e){return dg(t.databaseId,e.path)}function Tp(t,e){const n=Q1(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(X1(n))}function Y1(t,e){return dg(t.databaseId,e)}function NN(t){const e=Q1(t);return e.length===4?lt.emptyPath():X1(e)}function om(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function X1(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function W_(t,e,n){return{name:sm(t,e),fields:n.value.mapValue.fields}}function DN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Qe(g===void 0||typeof g=="string"),Ht.fromBase64String(g||"")):(Qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ht.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=p.code===void 0?ie.UNKNOWN:W1(p.code);return new we(g,p.message||"")}(l);n=new K1(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Tp(t,r.document.name),a=kr(r.document.updateTime),l=r.document.createTime?kr(r.document.createTime):Ne.min(),h=new _n({mapValue:{fields:r.document.fields}}),d=Zt.newFoundDocument(s,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new vh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Tp(t,r.document),a=r.readTime?kr(r.readTime):Ne.min(),l=Zt.newNoDocument(s,a),h=r.removedTargetIds||[];n=new vh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Tp(t,r.document),a=r.removedTargetIds||[];n=new vh([],a,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new IN(s,a),h=r.targetId;n=new q1(h,l)}}return n}function VN(t,e){let n;if(e instanceof xu)n={update:W_(t,e.key,e.value)};else if(e instanceof ug)n={delete:sm(t,e.key)};else if(e instanceof fs)n={update:W_(t,e.key,e.data),updateMask:$N(e.fieldMask)};else{if(!(e instanceof wN))return Ae();n={verify:sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof Oh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof su)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ou)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Mh)return{fieldPath:l.field.canonicalString(),increment:h.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:bN(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(t,e.precondition)),n}function LN(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?kr(s.updateTime):kr(a);return l.isEqual(Ne.min())&&(l=kr(a)),new yN(l,s.transformResults||[])}(n,e))):[]}function ON(t,e){return{documents:[Y1(t,e.path)]}}function MN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Y1(t,s);const a=function(p){if(p.length!==0)return Z1(Or.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:na(E.field),direction:UN(E.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=rm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:s}}function jN(t){let e=NN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const E=J1(_);return E instanceof Or&&R1(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(E=>function(A){return new Lh(ra(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,ld(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(_){const E=!!_.before,S=_.values||[];return new Vh(S,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,S=_.values||[];return new Vh(S,E)}(n.endAt)),rN(e,s,l,a,h,"F",d,p)}function FN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ra(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ra(n.unaryFilter.field);return Rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ra(n.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ra(n.unaryFilter.field);return Rt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Rt.create(ra(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>J1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function UN(t){return AN[t]}function BN(t){return PN[t]}function zN(t){return RN[t]}function na(t){return{fieldPath:t.canonicalString()}}function ra(t){return $t.fromServerFormat(t.fieldPath)}function Z1(t){return t instanceof Rt?function(n){if(n.op==="=="){if(N_(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(b_(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N_(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(b_(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:BN(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(s=>Z1(s));return r.length===1?r[0]:{compositeFilter:{op:zN(n.op),filters:r}}}(t):Ae()}function $N(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,s,a=Ne.min(),l=Ne.min(),h=Ht.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.Tt=e}}function WN(t){const e=jN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.Tn=new KN}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(is.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class KN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bt(lt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tI=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(tI,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new wa(0)}static Kn(){return new wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="LruGarbageCollector",GN=1048576;function G_([t,e],[n,r]){const s=Oe(t,n);return s===0?Oe(e,r):s}class QN{constructor(e){this.Hn=e,this.buffer=new bt(G_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();G_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(K_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Da(n)?he(K_,"Ignoring IndexedDB error during garbage collection: ",n):await Na(n)}await this.er(3e5)})}}class XN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(ad.ae);const r=new QN(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(q_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,l,h,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),ea()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${a} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function JN(t,e){return new XN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ql(r.mutation,s,Rn.empty(),kt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const s=Ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Ol();return a.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,s){let a=di();const l=Wl(),h=function(){return Wl()}();return n.forEach((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof fs)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),ql(g.mutation,p,g.mutation.getFieldMask(),kt.now())):l.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return h.set(p,new eD(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Wl();let s=new ft((l,h)=>l-h),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||Rn.empty();g=h.applyToLocalView(p,g),r.set(d,g);const _=(s.get(h.batchId)||Fe()).add(d);s=s.insert(h.batchId,_)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,_=M1();g.forEach(E=>{if(!a.has(E)){const S=$1(n.get(E),r.get(E));S!==null&&_.set(E,S),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):J.resolve(Ws());let h=tu,d=a;return l.next(p=>J.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{d=d.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Fe())).next(g=>({batchId:h,changes:O1(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let s=Ol();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Ol();return this.indexManager.getCollectionParents(e,a).next(h=>J.forEach(h,d=>{const p=function(_,E){return new cd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Zt.newInvalidDocument(g)))});let h=Ol();return l.forEach((d,p)=>{const g=a.get(d);g!==void 0&&ql(g.mutation,p,Rn.empty(),kt.now()),dd(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:WN(s.bundledQuery),readTime:kr(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.overlays=new ft(Se.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ws();return J.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Ws(),a=n.length+1,l=new Se(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ft((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Ws(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Ws(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return J.resolve(h)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new EN(n,r));let a=this.Rr.get(n);a===void 0&&(a=Fe(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Vr=new bt(Ot.mr),this.gr=new bt(Ot.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Ot(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Se(new lt([])),r=new Ot(n,e),s=new Ot(n,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Se(new lt([])),r=new Ot(n,e),s=new Ot(n,e+1);let a=Fe();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Ot(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Se.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new bt(Ot.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new TN(a,n,r,s);this.mutationQueue.push(l);for(const h of s)this.Mr=this.Mr.add(new Ot(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ng:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),s=new Ot(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const h=this.Or(l.Cr);a.push(h)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Oe);return n.forEach(s=>{const a=new Ot(s,0),l=new Ot(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],h=>{r=r.add(h.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const l=new Ot(new Se(a),0);let h=new bt(Oe);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.Cr)),!0)},l),J.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(n.mutations,s=>{const a=new Ot(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Ot(n,0),s=this.Mr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.kr=e,this.docs=function(){return new ft(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=di();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Zt.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=di();const l=n.path,h=new Se(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Lb(Vb(g),r)<=0||(s.has(g.key)||dd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ae()}qr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aD(this)}getSize(e){return J.resolve(this.size)}}class aD extends ZN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.persistence=e,this.Qr=new lo(n=>sg(n),og),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Ur=new fg,this.targetCount=0,this.Kr=wa.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new wa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ad(0),this.zr=!1,this.zr=!0,this.jr=new iD,this.referenceDelegate=e(this),this.Hr=new lD(this),this.indexManager=new qN,this.remoteDocumentCache=function(s){return new oD(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new HN(n),this.Yr=new nD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new sD(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new uD(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class uD extends Mb{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.ti=new fg,this.ni=null}static ri(e){return new pg(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const s=Se.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,Ne.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.oi=new lo(r=>Ub(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=JN(this,n)}static ri(e,n){return new Fh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,n).next(h=>{h||(r++,a.removeEntry(l,Ne.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}ar(e,n,r){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Fe(),s=Fe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new mg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return HP()?8:jb(tn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new cD;return this._s(e,n,l).next(h=>{if(a.result=h,this.Xi)return this.us(e,n,l,h.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(ea()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(ea()<=je.DEBUG&&he("QueryEngine","Query:",ta(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(ea()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):J.resolve())}rs(e,n){if(O_(n))return J.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=nm(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Fe(...a);return this.ns.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(n,h);return this.ls(n,p,l,d.readTime)?this.rs(e,nm(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,r,s){return O_(n)||s.isEqual(Ne.min())?J.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,s)?J.resolve(null):(ea()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ta(n)),this.hs(e,l,n,Db(s,tu)).next(h=>h))})}cs(e,n){let r=new bt(V1(e));return n.forEach((s,a)=>{dd(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return ea()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ta(n)),this.ns.getDocumentsMatchingQuery(e,n,is.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",dD=3e8;class fD{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ft(Oe),this.Is=new lo(a=>sg(a),og),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function pD(t,e,n,r){return new fD(t,e,n,r)}async function rI(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let d=Fe();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:h}))})})}function mD(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,p,g){const _=p.batch,E=_.keys();let S=J.resolve();return E.forEach(A=>{S=S.next(()=>g.getEntry(d,A)).next(N=>{const R=p.docVersions.get(A);Qe(R!==null),N.version.compareTo(R)<0&&(_.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),g.addEntry(N)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Fe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function iI(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function gD(t,e){const n=De(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const E=s.get(_);if(!E)return;h.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,_)));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Ht.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(_,S),function(N,R,V){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=dD?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(E,S,g)&&h.push(n.Hr.updateTargetData(a,S))});let d=di(),p=Fe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(yD(a,l,e.documentUpdates).next(g=>{d=g.Vs,p=g.fs})),!r.isEqual(Ne.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(_=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return J.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.Ts=s,a))}function yD(t,e,n){let r=Fe(),s=Fe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=di();return n.forEach((h,d)=>{const p=a.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Ne.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):he(gg,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Vs:l,fs:s}})}function vD(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _D(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,J.resolve(s)):n.Hr.allocateTargetId(r).next(l=>(s=new Yi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function am(t,e,n){const r=De(t),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Da(l))throw l;he(gg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function Q_(t,e,n){const r=De(t);let s=Ne.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,g){const _=De(d),E=_.Is.get(g);return E!==void 0?J.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,g)}(r,l,Rr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,h.targetId).next(d=>{a=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?s:Ne.min(),n?a:Fe())).next(h=>(wD(r,oN(e),h),{documents:h,gs:a})))}function wD(t,e,n){let r=t.Es.get(e)||Ne.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class Y_{constructor(){this.activeTargetIds=dN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TD{constructor(){this.ho=new Y_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Y_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="ConnectivityMonitor";class J_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(X_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(X_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function lm(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="RestConnection",ID={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Nh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,a){const l=lm(),h=this.bo(e,n.toUriEncodedString());he(Ep,`Sending RPC '${e}' ${l}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,h,d,r).then(p=>(he(Ep,`Received RPC '${e}' ${l}: `,p),p),p=>{throw ga(Ep,`RPC '${e}' ${l} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,n,r,s,a,l){return this.So(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,n){const r=ID[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class CD extends SD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=lm();return new Promise((l,h)=>{const d=new u1;d.setWithCredentials(!0),d.listenOnce(c1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ph.NO_ERROR:const g=d.getResponseJson();he(Yt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case ph.TIMEOUT:he(Yt,`RPC '${e}' ${a} timed out`),h(new we(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const _=d.getStatus();if(he(Yt,`RPC '${e}' ${a} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const A=function(R){const V=R.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(V)>=0?V:ie.UNKNOWN}(S.status);h(new we(A,S.message))}else h(new we(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new we(ie.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{he(Yt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);he(Yt,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",p,r,15)})}Wo(e,n,r){const s=lm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=f1(),h=d1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");he(Yt,`Creating RPC '${e}' stream ${s}: ${g}`,d);const _=l.createWebChannel(g,d);let E=!1,S=!1;const A=new xD({Fo:R=>{S?he(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(E||(he(Yt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),he(Yt,`RPC '${e}' stream ${s} sending:`,R),_.send(R))},Mo:()=>_.close()}),N=(R,V,U)=>{R.listen(V,F=>{try{U(F)}catch(Q){setTimeout(()=>{throw Q},0)}})};return N(_,Ll.EventType.OPEN,()=>{S||(he(Yt,`RPC '${e}' stream ${s} transport opened.`),A.Qo())}),N(_,Ll.EventType.CLOSE,()=>{S||(S=!0,he(Yt,`RPC '${e}' stream ${s} transport closed`),A.Uo())}),N(_,Ll.EventType.ERROR,R=>{S||(S=!0,ga(Yt,`RPC '${e}' stream ${s} transport errored:`,R),A.Uo(new we(ie.UNAVAILABLE,"The operation could not be completed")))}),N(_,Ll.EventType.MESSAGE,R=>{var V;if(!S){const U=R.data[0];Qe(!!U);const F=U,Q=(F==null?void 0:F.error)||((V=F[0])===null||V===void 0?void 0:V.error);if(Q){he(Yt,`RPC '${e}' stream ${s} received error:`,Q);const Y=Q.status;let Z=function(P){const L=It[P];if(L!==void 0)return W1(L)}(Y),k=Q.message;Z===void 0&&(Z=ie.INTERNAL,k="Unknown error status: "+Y+" with message "+Q.message),S=!0,A.Uo(new we(Z,k)),_.close()}else he(Yt,`RPC '${e}' stream ${s} received:`,U),A.Ko(U)}}),N(h,h1.STAT_EVENT,R=>{R.stat===Yp.PROXY?he(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===Yp.NOPROXY&&he(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return new kN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="PersistentStream";class oI{constructor(e,n,r,s,a,l,h,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sI(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new we(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(Z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AD extends oI{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=DN(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ne.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?kr(l.readTime):Ne.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=om(this.serializer),n.addTarget=function(a,l){let h;const d=l.target;if(h=tm(d)?{documents:ON(a,d)}:{query:MN(a,d).ht},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=G1(a,l.resumeToken);const p=rm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ne.min())>0){h.readTime=jh(a,l.snapshotVersion.toTimestamp());const p=rm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=FN(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=om(this.serializer),n.removeTarget=e,this.I_(n)}}class PD extends oI{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=LN(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=om(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VN(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{}class kD extends RD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,im(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ie.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Co(e,im(n,r),s,l,h,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ie.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hi(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="RemoteStore";class ND{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{uo(this)&&(he(to,"Restarting streams for network reachability change."),await async function(d){const p=De(d);p.W_.add(4),await Au(p),p.j_.set("Unknown"),p.W_.delete(4),await yd(p)}(this))})}),this.j_=new bD(r,s)}}async function yd(t){if(uo(t))for(const e of t.G_)await e(!0)}async function Au(t){for(const e of t.G_)await e(!1)}function aI(t,e){const n=De(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),wg(n)?_g(n):Va(n).c_()&&vg(n,e))}function yg(t,e){const n=De(t),r=Va(n);n.K_.delete(e),r.c_()&&lI(n,e),n.K_.size===0&&(r.c_()?r.P_():uo(n)&&n.j_.set("Unknown"))}function vg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Va(t).y_(e)}function lI(t,e){t.H_.Ne(e),Va(t).w_(e)}function _g(t){t.H_=new CN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Va(t).start(),t.j_.B_()}function wg(t){return uo(t)&&!Va(t).u_()&&t.K_.size>0}function uo(t){return De(t).W_.size===0}function uI(t){t.H_=void 0}async function DD(t){t.j_.set("Online")}async function VD(t){t.K_.forEach((e,n)=>{vg(t,e)})}async function LD(t,e){uI(t),wg(t)?(t.j_.q_(e),_g(t)):t.j_.set("Unknown")}async function OD(t,e,n){if(t.j_.set("Online"),e instanceof K1&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const h of a.targetIds)s.K_.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.K_.delete(h),s.H_.removeTarget(h))}(t,e)}catch(r){he(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uh(t,r)}else if(e instanceof vh?t.H_.We(e):e instanceof q1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ne.min()))try{const r=await iI(t.localStore);n.compareTo(r)>=0&&await function(a,l){const h=a.H_.ot(l);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.K_.get(p);g&&a.K_.set(p,g.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,p)=>{const g=a.K_.get(d);if(!g)return;a.K_.set(d,g.withResumeToken(Ht.EMPTY_BYTE_STRING,g.snapshotVersion)),lI(a,d);const _=new Yi(g.target,d,p,g.sequenceNumber);vg(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){he(to,"Failed to raise snapshot:",r),await Uh(t,r)}}async function Uh(t,e,n){if(!Da(e))throw e;t.W_.add(1),await Au(t),t.j_.set("Offline"),n||(n=()=>iI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(to,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await yd(t)})}function cI(t,e){return e().catch(n=>Uh(t,n,e))}async function vd(t){const e=De(t),n=ls(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:ng;for(;MD(e);)try{const s=await vD(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,jD(e,s)}catch(s){await Uh(e,s)}hI(e)&&dI(e)}function MD(t){return uo(t)&&t.U_.length<10}function jD(t,e){t.U_.push(e);const n=ls(t);n.c_()&&n.S_&&n.b_(e.mutations)}function hI(t){return uo(t)&&!ls(t).u_()&&t.U_.length>0}function dI(t){ls(t).start()}async function FD(t){ls(t).C_()}async function UD(t){const e=ls(t);for(const n of t.U_)e.b_(n.mutations)}async function BD(t,e,n){const r=t.U_.shift(),s=cg.from(r,e,n);await cI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vd(t)}async function zD(t,e){e&&ls(t).S_&&await async function(r,s){if(function(l){return SN(l)&&l!==ie.ABORTED}(s.code)){const a=r.U_.shift();ls(r).h_(),await cI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await vd(r)}}(t,e),hI(t)&&dI(t)}async function ew(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),he(to,"RemoteStore received new credentials");const r=uo(n);n.W_.add(3),await Au(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await yd(n)}async function $D(t,e){const n=De(t);e?(n.W_.delete(2),await yd(n)):e||(n.W_.add(2),await Au(n),n.j_.set("Unknown"))}function Va(t){return t.J_||(t.J_=function(n,r,s){const a=De(n);return a.M_(),new AD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:DD.bind(null,t),No:VD.bind(null,t),Lo:LD.bind(null,t),p_:OD.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),wg(t)?_g(t):t.j_.set("Unknown")):(await t.J_.stop(),uI(t))})),t.J_}function ls(t){return t.Y_||(t.Y_=function(n,r,s){const a=De(n);return a.M_(),new PD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:FD.bind(null,t),Lo:zD.bind(null,t),D_:UD.bind(null,t),v_:BD.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await vd(t)):(await t.Y_.stop(),t.U_.length>0&&(he(to,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,h=new Tg(e,n,l,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Da(t))return new we(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{static emptySet(e){return new fa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Ol(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Z_=new ft(Se.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ta{constructor(e,n,r,s,a,l,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Ta(e,n,fa.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class WD{constructor(){this.queries=nw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=De(n),a=s.queries;s.queries=nw(),a.forEach((l,h)=>{for(const d of h.ta)d.onError(r)})})(this,new we(ie.ABORTED,"Firestore shutting down"))}}function nw(){return new lo(t=>D1(t),hd)}async function qD(t,e){const n=De(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new HD,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const h=Eg(l,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&Ig(n)}async function KD(t,e){const n=De(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GD(t,e){const n=De(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const h of l.ta)h.oa(s)&&(r=!0);l.ea=s}}r&&Ig(n)}function QD(t,e,n){const r=De(t),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function Ig(t){t.ia.forEach(e=>{e.next()})}var um,rw;(rw=um||(um={}))._a="default",rw.Cache="cache";class YD{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.key=e}}class pI{constructor(e){this.key=e}}class XD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=V1(e),this.wa=new fa(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new tw,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const E=s.get(g),S=dd(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),N=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;E&&S?E.data.isEqual(S.data)?A!==N&&(r.track({type:3,doc:S}),R=!0):this.va(E,S)||(r.track({type:2,doc:S}),R=!0,(d&&this.ya(S,d)>0||p&&this.ya(S,p)<0)&&(h=!0)):!E&&S?(r.track({type:0,doc:S}),R=!0):E&&!S&&(r.track({type:1,doc:E}),R=!0,(d||p)&&(h=!0)),R&&(S?(l=l.add(S),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:h,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(S,A){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return N(S)-N(A)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),s=s!=null&&s;const h=n&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,p=d!==this.ga;return this.ga=d,l.length!==0||p?{snapshot:new Ta(this.query,e.wa,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new pI(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new fI(r))}),n}Oa(e){this.fa=e.gs,this.pa=Fe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ta.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Sg="SyncEngine";class JD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZD{constructor(e){this.key=e,this.Ba=!1}}class eV{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new lo(h=>D1(h),hd),this.qa=new Map,this.Qa=new Set,this.$a=new ft(Se.comparator),this.Ua=new Map,this.Ka=new fg,this.Wa={},this.Ga=new Map,this.za=wa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tV(t,e,n=!0){const r=wI(t);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await mI(r,e,n,!0),s}async function nV(t,e){const n=wI(t);await mI(n,e,!0,!1)}async function mI(t,e,n,r){const s=await _D(t.localStore,Rr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await rV(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&aI(t.remoteStore,s),h}async function rV(t,e,n,r,s){t.Ha=(_,E,S)=>async function(N,R,V,U){let F=R.view.ba(V);F.ls&&(F=await Q_(N.localStore,R.query,!1).then(({documents:k})=>R.view.ba(k,F)));const Q=U&&U.targetChanges.get(R.targetId),Y=U&&U.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(F,N.isPrimaryClient,Q,Y);return sw(N,R.targetId,Z.Ma),Z.snapshot}(t,_,E,S);const a=await Q_(t.localStore,e,!0),l=new XD(e,a.gs),h=l.ba(a.documents),d=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(h,t.isPrimaryClient,d);sw(t,n,p.Ma);const g=new JD(e,n,l);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function iV(t,e,n){const r=De(t),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!hd(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await am(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&yg(r.remoteStore,s.targetId),cm(r,s.targetId)}).catch(Na)):(cm(r,s.targetId),await am(r.localStore,s.targetId,!0))}async function sV(t,e){const n=De(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yg(n.remoteStore,r.targetId))}async function oV(t,e,n){const r=fV(t);try{const s=await function(l,h){const d=De(l),p=kt.now(),g=h.reduce((S,A)=>S.add(A.key),Fe());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=di(),N=Fe();return d.ds.getEntries(S,g).next(R=>{A=R,A.forEach((V,U)=>{U.isValidDocument()||(N=N.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,A)).next(R=>{_=R;const V=[];for(const U of h){const F=_N(U,_.get(U.key).overlayedDocument);F!=null&&V.push(new fs(U.key,F,C1(F.value.mapValue),cr.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,V,h)}).next(R=>{E=R;const V=R.applyToLocalDocumentSet(_,N);return d.documentOverlayCache.saveOverlays(S,R.batchId,V)})}).then(()=>({batchId:E.batchId,changes:O1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,h,d){let p=l.Wa[l.currentUser.toKey()];p||(p=new ft(Oe)),p=p.insert(h,d),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,n),await Pu(r,s.changes),await vd(r.remoteStore)}catch(s){const a=Eg(s,"Failed to persist write");n.reject(a)}}async function gI(t,e){const n=De(t);try{const r=await gD(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Ua.get(a);l&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Qe(l.Ba):s.removedDocuments.size>0&&(Qe(l.Ba),l.Ba=!1))}),await Pu(n,r,e)}catch(r){await Na(r)}}function iw(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,l)=>{const h=l.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const d=De(l);d.onlineState=h;let p=!1;d.queries.forEach((g,_)=>{for(const E of _.ta)E.sa(h)&&(p=!0)}),p&&Ig(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aV(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),a=s&&s.key;if(a){let l=new ft(Se.comparator);l=l.insert(a,Zt.newNoDocument(a,Ne.min()));const h=Fe().add(a),d=new md(Ne.min(),new Map,new ft(Oe),l,h);await gI(r,d),r.$a=r.$a.remove(a),r.Ua.delete(e),xg(r)}else await am(r.localStore,e,!1).then(()=>cm(r,e,n)).catch(Na)}async function lV(t,e){const n=De(t),r=e.batch.batchId;try{const s=await mD(n.localStore,e);vI(n,r,null),yI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,s)}catch(s){await Na(s)}}async function uV(t,e,n){const r=De(t);try{const s=await function(l,h){const d=De(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,h).next(_=>(Qe(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(r.localStore,e);vI(r,e,n),yI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,s)}catch(s){await Na(s)}}function yI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function vI(t,e,n){const r=De(t);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||_I(t,r)})}function _I(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(yg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),xg(t))}function sw(t,e,n){for(const r of n)r instanceof fI?(t.Ka.addReference(r.key,e),cV(t,r)):r instanceof pI?(he(Sg,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||_I(t,r.key)):Ae()}function cV(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(he(Sg,"New document in limbo: "+n),t.Qa.add(r),xg(t))}function xg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Se(lt.fromString(e)),r=t.za.next();t.Ua.set(r,new ZD(n)),t.$a=t.$a.insert(n,r),aI(t.remoteStore,new Yi(Rr(ag(n.path)),r,"TargetPurposeLimboResolution",ad.ae))}}async function Pu(t,e,n){const r=De(t),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{l.push(r.Ha(d,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){s.push(p);const _=mg.Yi(d.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(s),await async function(d,p){const g=De(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>J.forEach(p,E=>J.forEach(E.Hi,S=>g.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>J.forEach(E.Ji,S=>g.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!Da(_))throw _;he(gg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const S=g.Ts.get(E),A=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(A);g.Ts=g.Ts.insert(E,N)}}}(r.localStore,a))}async function hV(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){he(Sg,"User change. New user:",e.toKey());const r=await rI(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(h=>{h.forEach(d=>{d.reject(new we(ie.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Rs)}}function dV(t,e){const n=De(t),r=n.Ua.get(e);if(r&&r.Ba)return Fe().add(r.key);{let s=Fe();const a=n.qa.get(e);if(!a)return s;for(const l of a){const h=n.ka.get(l);s=s.unionWith(h.view.Sa)}return s}}function wI(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aV.bind(null,e),e.La.p_=GD.bind(null,e.eventManager),e.La.Ja=QD.bind(null,e.eventManager),e}function fV(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uV.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return pD(this.persistence,new hD,e.initialUser,this.serializer)}Xa(e){return new nI(pg.ri,this.serializer)}Za(e){return new TD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class pV extends Bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Qe(this.persistence.referenceDelegate instanceof Fh);const r=this.persistence.referenceDelegate.garbageCollector;return new YN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new nI(r=>Fh.ri(r,n),this.serializer)}}class hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hV.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WD}()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),r=function(a){return new CD(a)}(e.databaseInfo);return function(a,l,h,d){return new kD(a,l,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,h){return new ND(r,s,a,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>iw(this.syncEngine,n,0),function(){return J_.D()?new J_:new ED}())}createSyncEngine(e,n){return function(s,a,l,h,d,p,g){const _=new eV(s,a,l,h,d,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=De(s);he(to,"RemoteStore shutting down."),a.W_.add(5),await Au(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hm.provider={build:()=>new hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class gV{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=g1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(us,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(us,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Eg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sp(t,e){t.asyncQueue.verifyOperationInProgress(),he(us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await rI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ow(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yV(t);he(us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ew(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ew(e.remoteStore,s)),t._onlineComponents=e}async function yV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(us,"Using user provided OfflineComponentProvider");try{await Sp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await Sp(t,new Bh)}}else he(us,"Using default OfflineComponentProvider"),await Sp(t,new pV(void 0));return t._offlineComponents}async function TI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(us,"Using user provided OnlineComponentProvider"),await ow(t,t._uninitializedComponentsProvider._online)):(he(us,"Using default OnlineComponentProvider"),await ow(t,new hm))),t._onlineComponents}function vV(t){return TI(t).then(e=>e.syncEngine)}async function aw(t){const e=await TI(t),n=e.eventManager;return n.onListen=tV.bind(null,e.syncEngine),n.onUnlisten=iV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sV.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e,n){if(!n)throw new we(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _V(t,e,n,r){if(e===!0&&r===!0)throw new we(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uw(t){if(!Se.isDocumentKey(t))throw new we(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cw(t){if(Se.isDocumentKey(t))throw new we(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cg(t);throw new we(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="firestore.googleapis.com",hw=!0;class dw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SI,this.ssl=hw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GN)throw new we(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_V("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Sb;switch(r.type){case"firstParty":return new Pb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lw.get(n);r&&(he("ComponentProvider","Removing Datastore"),lw.delete(n),r.terminate())}(this),Promise.resolve()}}function wV(t,e,n,r={}){var s;const a=(t=ts(t,_d))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a.host!==SI&&a.host!==h&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:r});if(!Js(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Jt.MOCK_USER;else{p=jP(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new we(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jt(_)}t._authCredentials=new xb(new p1(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wd(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class ns extends wd{constructor(e,n,r){super(e,n,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new Se(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function dm(t,e,...n){if(t=wt(t),II("collection","path",e),t instanceof _d){const r=lt.fromString(e,...n);return cw(r),new ns(t,null,r)}{if(!(t instanceof kn||t instanceof ns))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return cw(r),new ns(t.firestore,null,r)}}function fm(t,e,...n){if(t=wt(t),arguments.length===1&&(e=g1.newId()),II("doc","path",e),t instanceof _d){const r=lt.fromString(e,...n);return uw(r),new kn(t,null,new Se(r))}{if(!(t instanceof kn||t instanceof ns))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return uw(r),new kn(t.firestore,t instanceof ns?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="AsyncQueue";class pw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sI(this,"async_queue_retry"),this.Su=()=>{const r=Ip();r&&he(fw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Qs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Da(e))throw e;he(fw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(r);throw hi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Tg.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function mw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ea extends _d{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new pw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pw(e),this._firestoreClient=void 0,await e}}}function TV(t,e){const n=typeof t=="object"?t:IE(),r=typeof t=="string"?t:Nh,s=Tu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=OP("firestore");a&&wV(s,...a)}return s}function xI(t){if(t._terminated)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EV(t),t._firestoreClient}function EV(t){var e,n,r;const s=t._freezeSettings(),a=function(h,d,p,g){return new $b(h,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,EI(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new gV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia(Ht.fromBase64String(e))}catch(n){throw new we(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ia(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=/^__.*__$/;class SV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class CI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class kg{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return zh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AI(this.Lu)&&IV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gd(e)}ju(e,n,r,s=!1){return new kg({Lu:e,methodName:n,zu:r,path:$t.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PI(t){const e=t._freezeSettings(),n=gd(t._databaseId);return new xV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CV(t,e,n,r,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,s);bg("Data must be an object, but it was:",l,r);const h=RI(r,l);let d,p;if(a.merge)d=new Rn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=pm(e,_,n);if(!l.contains(E))throw new we(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);bI(g,E)||g.push(E)}d=new Rn(g),p=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=l.fieldTransforms;return new SV(new _n(h),d,p)}class Ed extends Ag{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function AV(t,e,n,r){const s=t.ju(1,e,n);bg("Data must be an object, but it was:",s,r);const a=[],l=_n.empty();ds(r,(d,p)=>{const g=Ng(e,d,n);p=wt(p);const _=s.Uu(g);if(p instanceof Ed)a.push(g);else{const E=Id(p,_);E!=null&&(a.push(g),l.set(g,E))}});const h=new Rn(a);return new CI(l,h,s.fieldTransforms)}function PV(t,e,n,r,s,a){const l=t.ju(1,e,n),h=[pm(e,r,n)],d=[s];if(a.length%2!=0)throw new we(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(pm(e,a[E])),d.push(a[E+1]);const p=[],g=_n.empty();for(let E=h.length-1;E>=0;--E)if(!bI(p,h[E])){const S=h[E];let A=d[E];A=wt(A);const N=l.Uu(S);if(A instanceof Ed)p.push(S);else{const R=Id(A,N);R!=null&&(p.push(S),g.set(S,R))}}const _=new Rn(p);return new CI(g,_,l.fieldTransforms)}function Id(t,e){if(kI(t=wt(t)))return bg("Unsupported field value:",e,t),RI(t,e);if(t instanceof Ag)return function(r,s){if(!AI(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const h of r){let d=Id(h,s.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=kt.fromDate(r);return{timestampValue:jh(s.serializer,a)}}if(r instanceof kt){const a=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jh(s.serializer,a)}}if(r instanceof Pg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ia)return{bytesValue:G1(s.serializer,r._byteString)};if(r instanceof kn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rg)return function(l,h){return{mapValue:{fields:{[S1]:{stringValue:x1},[Dh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return lg(h.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Cg(r)}`)}(t,e)}function RI(t,e){const n={};return v1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(r,s)=>{const a=Id(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function kI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof Pg||t instanceof Ia||t instanceof kn||t instanceof Ag||t instanceof Rg)}function bg(t,e,n){if(!kI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Cg(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function pm(t,e,n){if((e=wt(e))instanceof Td)return e._internalPath;if(typeof e=="string")return Ng(t,e);throw zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const RV=new RegExp("[~\\*/\\[\\]]");function Ng(t,e,n){if(e.search(RV)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Td(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new we(ie.INVALID_ARGUMENT,h+t+d)}function bI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kV extends NI{data(){return super.data()}}function DI(t,e){return typeof e=="string"?Ng(t,e):e instanceof Td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NV{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ds(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Dh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>_t(l.doubleValue));return new Rg(a)}convertGeoPoint(e){return new Pg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ud(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=ss(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Qe(eI(r));const s=new ru(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return s.isEqual(n)||hi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VI extends NI{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(DI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _h extends VI{data(e={}){return super.data(e)}}class VV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _h(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const d=new _h(s._firestore,s._userDataWriter,h.doc.key,h.doc,new jl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const d=new _h(s._firestore,s._userDataWriter,h.doc.key,h.doc,new jl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:LV(h.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class LI extends NV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function OV(t,e,n,...r){t=ts(t,kn);const s=ts(t.firestore,Ea),a=PI(s);let l;return l=typeof(e=wt(e))=="string"||e instanceof Td?PV(a,"updateDoc",t._key,e,n,r):AV(a,"updateDoc",t._key,e),Dg(s,[l.toMutation(t._key,cr.exists(!0))])}function MV(t){return Dg(ts(t.firestore,Ea),[new ug(t._key,cr.none())])}function jV(t,e){const n=ts(t.firestore,Ea),r=fm(t),s=DV(t.converter,e);return Dg(n,[CV(PI(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function OI(t,...e){var n,r,s;t=wt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||mw(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(mw(e[l])){const _=e[l];e[l]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let d,p,g;if(t instanceof kn)p=ts(t.firestore,Ea),g=ag(t._key.path),d={next:_=>{e[l]&&e[l](FV(p,t,_))},error:e[l+1],complete:e[l+2]};else{const _=ts(t,wd);p=ts(_.firestore,Ea),g=_._query;const E=new LI(p);d={next:S=>{e[l]&&e[l](new VV(p,E,_,S))},error:e[l+1],complete:e[l+2]},bV(t._query)}return function(E,S,A,N){const R=new mV(N),V=new YD(S,R,A);return E.asyncQueue.enqueueAndForget(async()=>qD(await aw(E),V)),()=>{R.su(),E.asyncQueue.enqueueAndForget(async()=>KD(await aw(E),V))}}(xI(p),g,h,d)}function Dg(t,e){return function(r,s){const a=new Qs;return r.asyncQueue.enqueueAndForget(async()=>oV(await vV(r),s,a)),a.promise}(xI(t),e)}function FV(t,e,n){const r=n.docs.get(e._key),s=new LI(t);return new VI(t,s,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ba=s})(Ra),Vr(new hr("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new Ea(new Cb(r.getProvider("auth-internal")),new Rb(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Wn(__,w_,e),Wn(__,w_,"esm2017")})();var UV="firebase",BV="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(UV,BV,"app");const MI="@firebase/installations",Vg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=1e4,FI=`w:${Vg}`,UI="FIS_v2",zV="https://firebaseinstallations.googleapis.com/v1",$V=60*60*1e3,HV="installations",WV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},no=new oo(HV,WV,qV);function BI(t){return t instanceof fr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI({projectId:t}){return`${zV}/projects/${t}/installations`}function $I(t){return{token:t.token,requestStatus:2,expiresIn:GV(t.expiresIn),creationTime:Date.now()}}async function HI(t,e){const r=(await e.json()).error;return no.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function WI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function KV(t,{refreshToken:e}){const n=WI(t);return n.append("Authorization",QV(e)),n}async function qI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function GV(t){return Number(t.replace("s","000"))}function QV(t){return`${UI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=zI(t),s=WI(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:UI,appId:t.appId,sdkVersion:FI},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await qI(()=>fetch(r,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:$I(p.authToken)}}else throw await HI("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=/^[cdef][\w-]{21}$/,mm="";function ZV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=eL(t);return JV.test(n)?n:mm}catch{return mm}}function eL(t){return XV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Map;function QI(t,e){const n=Sd(t);YI(n,e),tL(n,e)}function YI(t,e){const n=GI.get(t);if(n)for(const r of n)r(e)}function tL(t,e){const n=nL();n&&n.postMessage({key:t,fid:e}),rL()}let qs=null;function nL(){return!qs&&"BroadcastChannel"in self&&(qs=new BroadcastChannel("[Firebase] FID Change"),qs.onmessage=t=>{YI(t.data.key,t.data.fid)}),qs}function rL(){GI.size===0&&qs&&(qs.close(),qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="firebase-installations-database",sL=1,ro="firebase-installations-store";let xp=null;function Lg(){return xp||(xp=TE(iL,sL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ro)}}})),xp}async function $h(t,e){const n=Sd(t),s=(await Lg()).transaction(ro,"readwrite"),a=s.objectStore(ro),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&QI(t,e.fid),e}async function XI(t){const e=Sd(t),r=(await Lg()).transaction(ro,"readwrite");await r.objectStore(ro).delete(e),await r.done}async function xd(t,e){const n=Sd(t),s=(await Lg()).transaction(ro,"readwrite"),a=s.objectStore(ro),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await s.done,h&&(!l||l.fid!==h.fid)&&QI(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Og(t){let e;const n=await xd(t.appConfig,r=>{const s=oL(r),a=aL(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===mm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function oL(t){const e=t||{fid:ZV(),registrationStatus:0};return JI(e)}function aL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(no.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=lL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uL(t)}:{installationEntry:e}}async function lL(t,e){try{const n=await YV(t,e);return $h(t.appConfig,n)}catch(n){throw BI(n)&&n.customData.serverCode===409?await XI(t.appConfig):await $h(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function uL(t){let e=await gw(t.appConfig);for(;e.registrationStatus===1;)await KI(100),e=await gw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Og(t);return r||n}return e}function gw(t){return xd(t,e=>{if(!e)throw no.create("installation-not-found");return JI(e)})}function JI(t){return cL(t)?{fid:t.fid,registrationStatus:0}:t}function cL(t){return t.registrationStatus===1&&t.registrationTime+jI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL({appConfig:t,heartbeatServiceProvider:e},n){const r=dL(t,n),s=KV(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:FI,appId:t.appId}},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await qI(()=>fetch(r,h));if(d.ok){const p=await d.json();return $I(p)}else throw await HI("Generate Auth Token",d)}function dL(t,{fid:e}){return`${zI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(t,e=!1){let n;const r=await xd(t.appConfig,a=>{if(!ZI(a))throw no.create("not-registered");const l=a.authToken;if(!e&&mL(l))return a;if(l.requestStatus===1)return n=fL(t,e),a;{if(!navigator.onLine)throw no.create("app-offline");const h=yL(a);return n=pL(t,h),h}});return n?await n:r.authToken}async function fL(t,e){let n=await yw(t.appConfig);for(;n.authToken.requestStatus===1;)await KI(100),n=await yw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Mg(t,e):r}function yw(t){return xd(t,e=>{if(!ZI(e))throw no.create("not-registered");const n=e.authToken;return vL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pL(t,e){try{const n=await hL(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await $h(t.appConfig,r),n}catch(n){if(BI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await XI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $h(t.appConfig,r)}throw n}}function ZI(t){return t!==void 0&&t.registrationStatus===2}function mL(t){return t.requestStatus===2&&!gL(t)}function gL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$V}function yL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function vL(t){return t.requestStatus===1&&t.requestTime+jI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t){const e=t,{installationEntry:n,registrationPromise:r}=await Og(e);return r?r.catch(console.error):Mg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e=!1){const n=t;return await TL(n),(await Mg(n,e)).token}async function TL(t){const{registrationPromise:e}=await Og(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){if(!t||!t.options)throw Cp("App Configuration");if(!t.name)throw Cp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cp(t){return no.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="installations",IL="installations-internal",SL=t=>{const e=t.getProvider("app").getImmediate(),n=EL(e),r=Tu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xL=t=>{const e=t.getProvider("app").getImmediate(),n=Tu(e,eS).getImmediate();return{getId:()=>_L(n),getToken:s=>wL(n,s)}};function CL(){Vr(new hr(eS,SL,"PUBLIC")),Vr(new hr(IL,xL,"PRIVATE"))}CL();Wn(MI,Vg);Wn(MI,Vg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="analytics",AL="firebase_id",PL="origin",RL=60*1e3,kL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new nd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qn=new oo("analytics","Analytics",bL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){if(!t.startsWith(jg)){const e=qn.create("invalid-gtag-resource",{gtagURL:t});return wn.warn(e.message),""}return t}function tS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function DL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function VL(t,e){const n=DL("firebase-js-sdk-policy",{createScriptURL:NL}),r=document.createElement("script"),s=`${jg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function LL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function OL(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await tS(n)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(h){wn.error(h)}t("config",s,a)}async function ML(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const h=await tS(n);for(const d of l){const p=h.find(_=>_.measurementId===d),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){wn.error(a)}}function jL(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[h,d]=l;await ML(t,e,n,h,d)}else if(a==="config"){const[h,d]=l;await OL(t,e,n,r,h,d)}else if(a==="consent"){const[h,d]=l;t("consent",h,d)}else if(a==="get"){const[h,d,p]=l;t("get",h,d,p)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){wn.error(h)}}return s}function FL(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=jL(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function UL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=30,zL=1e3;class $L{constructor(e={},n=zL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nS=new $L;function HL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function WL(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:HL(r)},a=kL.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let h="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function qL(t,e=nS,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw qn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw qn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new QL;return setTimeout(async()=>{h.abort()},RL),rS({appId:r,apiKey:s,measurementId:a},l,h,e)}async function rS(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=nS){var a;const{appId:l,measurementId:h}=t;try{await KL(r,e)}catch(d){if(h)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:h};throw d}try{const d=await WL(t);return s.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!GL(p)){if(s.deleteThrottleMetadata(l),h)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:h};throw d}const g=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?z0(n,s.intervalMillis,BL):z0(n,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return s.setThrottleMetadata(l,_),wn.debug(`Calling attemptFetch again in ${g} millis`),rS(t,_,r,s)}}function KL(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GL(t){if(!(t instanceof fr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class QL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function YL(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(){if(yE())try{await vE()}catch(t){return wn.warn(qn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return wn.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function JL(t,e,n,r,s,a,l){var h;const d=qL(t);d.then(S=>{n[S.measurementId]=S.appId,t.options.measurementId&&S.measurementId!==t.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>wn.error(S)),e.push(d);const p=XL().then(S=>{if(S)return r.getId()}),[g,_]=await Promise.all([d,p]);UL(a)||VL(a,g.measurementId),s("js",new Date);const E=(h=l==null?void 0:l.config)!==null&&h!==void 0?h:{};return E[PL]="firebase",E.update=!0,_!=null&&(E[AL]=_),s("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.app=e}_delete(){return delete Kl[this.app.options.appId],Promise.resolve()}}let Kl={},_w=[];const ww={};let Ap="dataLayer",eO="gtag",Tw,iS,Ew=!1;function tO(){const t=[];if(gE()&&t.push("This is a browser extension environment."),WP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=qn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function nO(t,e,n){tO();const r=t.options.appId;if(!r)throw qn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qn.create("no-api-key");if(Kl[r]!=null)throw qn.create("already-exists",{id:r});if(!Ew){LL(Ap);const{wrappedGtag:a,gtagCore:l}=FL(Kl,_w,ww,Ap,eO);iS=a,Tw=l,Ew=!0}return Kl[r]=JL(t,_w,ww,e,Tw,Ap,n),new ZL(t)}function rO(t,e,n,r){t=wt(t),YL(iS,Kl[t.app.options.appId],e,n,r).catch(s=>wn.error(s))}const Iw="@firebase/analytics",Sw="0.10.12";function iO(){Vr(new hr(vw,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return nO(r,s,n)},"PUBLIC")),Vr(new hr("analytics-internal",t,"PRIVATE")),Wn(Iw,Sw),Wn(Iw,Sw,"esm2017");function t(e){try{const n=e.getProvider(vw).getImmediate();return{logEvent:(r,s,a)=>rO(n,r,s,a)}}catch(n){throw qn.create("interop-component-reg-failed",{reason:n})}}}iO();function sS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=sS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ys(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=sS(t))&&(r&&(r+=" "),r+=e);return r}function sO(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}sO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ru=t=>typeof t=="number"&&!isNaN(t),io=t=>typeof t=="string",fi=t=>typeof t=="function",oO=t=>io(t)||Ru(t),gm=t=>io(t)||fi(t)?t:null,aO=(t,e)=>t===!1||Ru(t)&&t>0?t:e,ym=t=>O.isValidElement(t)||io(t)||fi(t)||Ru(t);function lO(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function uO({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:h,done:d,nodeRef:p,isIn:g,playToast:_}){let E=n?`${t}--${l}`:t,S=n?`${e}--${l}`:e,A=O.useRef(0);return O.useLayoutEffect(()=>{let N=p.current,R=E.split(" "),V=U=>{U.target===p.current&&(_(),N.removeEventListener("animationend",V),N.removeEventListener("animationcancel",V),A.current===0&&U.type!=="animationcancel"&&N.classList.remove(...R))};N.classList.add(...R),N.addEventListener("animationend",V),N.addEventListener("animationcancel",V)},[]),O.useEffect(()=>{let N=p.current,R=()=>{N.removeEventListener("animationend",R),r?lO(N,d,s):d()};g||(h?R():(A.current=1,N.className+=` ${S}`,N.addEventListener("animationend",R)))},[g]),qe.createElement(qe.Fragment,null,a)}}function xw(t,e){return{content:oS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function oS(t,e,n=!1){return O.isValidElement(t)&&!io(t.type)?O.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):fi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function cO({closeToast:t,theme:e,ariaLabel:n="close"}){return qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function hO({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:a,controlledProgress:l,progress:h,rtl:d,isIn:p,theme:g}){let _=s||l&&h===0,E={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(E.transform=`scaleX(${h})`);let S=Ys("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),A=fi(a)?a({rtl:d,type:r,defaultClassName:S}):Ys(S,a),N={[l&&h>=1?"onTransitionEnd":"onAnimationEnd"]:l&&h<1?null:()=>{p&&n()}};return qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),qe.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:A,style:E,...N}))}var dO=1,aS=()=>`${dO++}`;function fO(t,e,n){let r=1,s=0,a=[],l=[],h=e,d=new Map,p=new Set,g=U=>(p.add(U),()=>p.delete(U)),_=()=>{l=Array.from(d.values()),p.forEach(U=>U())},E=({containerId:U,toastId:F,updateId:Q})=>{let Y=U?U!==t:t!==1,Z=d.has(F)&&Q==null;return Y||Z},S=(U,F)=>{d.forEach(Q=>{var Y;(F==null||F===Q.props.toastId)&&((Y=Q.toggle)==null||Y.call(Q,U))})},A=U=>{var F,Q;(Q=(F=U.props)==null?void 0:F.onClose)==null||Q.call(F,U.removalReason),U.isActive=!1},N=U=>{if(U==null)d.forEach(A);else{let F=d.get(U);F&&A(F)}_()},R=()=>{s-=a.length,a=[]},V=U=>{var F,Q;let{toastId:Y,updateId:Z}=U.props,k=Z==null;U.staleId&&d.delete(U.staleId),U.isActive=!0,d.set(Y,U),_(),n(xw(U,k?"added":"updated")),k&&((Q=(F=U.props).onOpen)==null||Q.call(F))};return{id:t,props:h,observe:g,toggle:S,removeToast:N,toasts:d,clearQueue:R,buildToast:(U,F)=>{if(E(F))return;let{toastId:Q,updateId:Y,data:Z,staleId:k,delay:x}=F,P=Y==null;P&&s++;let L={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(F).filter(([z,D])=>D!=null)),toastId:Q,updateId:Y,data:Z,isIn:!1,className:gm(F.className||h.toastClassName),progressClassName:gm(F.progressClassName||h.progressClassName),autoClose:F.isLoading?!1:aO(F.autoClose,h.autoClose),closeToast(z){d.get(Q).removalReason=z,N(Q)},deleteToast(){let z=d.get(Q);if(z!=null){if(n(xw(z,"removed")),d.delete(Q),s--,s<0&&(s=0),a.length>0){V(a.shift());return}_()}}};L.closeButton=h.closeButton,F.closeButton===!1||ym(F.closeButton)?L.closeButton=F.closeButton:F.closeButton===!0&&(L.closeButton=ym(h.closeButton)?h.closeButton:!0);let j={content:U,props:L,staleId:k};h.limit&&h.limit>0&&s>h.limit&&P?a.push(j):Ru(x)?setTimeout(()=>{V(j)},x):V(j)},setProps(U){h=U},setToggle:(U,F)=>{let Q=d.get(U);Q&&(Q.toggle=F)},isToastActive:U=>{var F;return(F=d.get(U))==null?void 0:F.isActive},getSnapshot:()=>l}}var ln=new Map,au=[],vm=new Set,pO=t=>vm.forEach(e=>e(t)),lS=()=>ln.size>0;function mO(){au.forEach(t=>cS(t.content,t.options)),au=[]}var gO=(t,{containerId:e})=>{var n;return(n=ln.get(e||1))==null?void 0:n.toasts.get(t)};function uS(t,e){var n;if(e)return!!((n=ln.get(e))!=null&&n.isToastActive(t));let r=!1;return ln.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function yO(t){if(!lS()){au=au.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||oO(t))ln.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=ln.get(t.containerId);e?e.removeToast(t.id):ln.forEach(n=>{n.removeToast(t.id)})}}var vO=(t={})=>{ln.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function cS(t,e){ym(t)&&(lS()||au.push({content:t,options:e}),ln.forEach(n=>{n.buildToast(t,e)}))}function _O(t){var e;(e=ln.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function hS(t,e){ln.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function wO(t){let e=t.containerId||1;return{subscribe(n){let r=fO(e,t,pO);ln.set(e,r);let s=r.observe(n);return mO(),()=>{s(),ln.delete(e)}},setProps(n){var r;(r=ln.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=ln.get(e))==null?void 0:n.getSnapshot()}}}function TO(t){return vm.add(t),()=>{vm.delete(t)}}function EO(t){return t&&(io(t.toastId)||Ru(t.toastId))?t.toastId:aS()}function ku(t,e){return cS(t,e),e.toastId}function Cd(t,e){return{...e,type:e&&e.type||t,toastId:EO(e)}}function Ad(t){return(e,n)=>ku(e,Cd(t,n))}function ke(t,e){return ku(t,Cd("default",e))}ke.loading=(t,e)=>ku(t,Cd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function IO(t,{pending:e,error:n,success:r},s){let a;e&&(a=io(e)?ke.loading(e,s):ke.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,g,_)=>{if(g==null){ke.dismiss(a);return}let E={type:p,...l,...s,data:_},S=io(g)?{render:g}:g;return a?ke.update(a,{...E,...S}):ke(S.render,{...E,...S}),_},d=fi(t)?t():t;return d.then(p=>h("success",r,p)).catch(p=>h("error",n,p)),d}ke.promise=IO;ke.success=Ad("success");ke.info=Ad("info");ke.error=Ad("error");ke.warning=Ad("warning");ke.warn=ke.warning;ke.dark=(t,e)=>ku(t,Cd("default",{theme:"dark",...e}));function SO(t){yO(t)}ke.dismiss=SO;ke.clearWaitingQueue=vO;ke.isActive=uS;ke.update=(t,e={})=>{let n=gO(t,e);if(n){let{props:r,content:s}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:aS()};a.toastId!==t&&(a.staleId=t);let l=a.render||s;delete a.render,ku(l,a)}};ke.done=t=>{ke.update(t,{progress:1})};ke.onChange=TO;ke.play=t=>hS(!0,t);ke.pause=t=>hS(!1,t);function xO(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=O.useRef(wO(t)).current;s(t);let a=(e=O.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(h){if(!a)return[];let d=new Map;return t.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:g}=p.props;d.has(g)||d.set(g,[]),d.get(g).push(p)}),Array.from(d,p=>h(p[0],p[1]))}return{getToastToRender:l,isToastActive:uS,count:a==null?void 0:a.length}}function CO(t){let[e,n]=O.useState(!1),[r,s]=O.useState(!1),a=O.useRef(null),l=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:p,onClick:g,closeOnClick:_}=t;_O({id:t.toastId,containerId:t.containerId,fn:n}),O.useEffect(()=>{if(t.pauseOnFocusLoss)return E(),()=>{S()}},[t.pauseOnFocusLoss]);function E(){document.hasFocus()||V(),window.addEventListener("focus",R),window.addEventListener("blur",V)}function S(){window.removeEventListener("focus",R),window.removeEventListener("blur",V)}function A(k){if(t.draggable===!0||t.draggable===k.pointerType){U();let x=a.current;l.canCloseOnClick=!0,l.canDrag=!0,x.style.transition="none",t.draggableDirection==="x"?(l.start=k.clientX,l.removalDistance=x.offsetWidth*(t.draggablePercent/100)):(l.start=k.clientY,l.removalDistance=x.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function N(k){let{top:x,bottom:P,left:L,right:j}=a.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&k.clientX>=L&&k.clientX<=j&&k.clientY>=x&&k.clientY<=P?V():R()}function R(){n(!0)}function V(){n(!1)}function U(){l.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",Y)}function F(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",Y)}function Q(k){let x=a.current;if(l.canDrag&&x){l.didMove=!0,e&&V(),t.draggableDirection==="x"?l.delta=k.clientX-l.start:l.delta=k.clientY-l.start,l.start!==k.clientX&&(l.canCloseOnClick=!1);let P=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;x.style.transform=`translate3d(${P},0)`,x.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function Y(){F();let k=a.current;if(l.canDrag&&l.didMove&&k){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let Z={onPointerDown:A,onPointerUp:N};return h&&d&&(Z.onMouseEnter=V,t.stacked||(Z.onMouseLeave=R)),_&&(Z.onClick=k=>{g&&g(k),l.canCloseOnClick&&p(!0)}),{playToast:R,pauseToast:V,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:Z}}var AO=typeof window<"u"?O.useLayoutEffect:O.useEffect,Pd=({theme:t,type:e,isLoading:n,...r})=>qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function PO(t){return qe.createElement(Pd,{...t},qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function RO(t){return qe.createElement(Pd,{...t},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kO(t){return qe.createElement(Pd,{...t},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function bO(t){return qe.createElement(Pd,{...t},qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function NO(){return qe.createElement("div",{className:"Toastify__spinner"})}var _m={info:RO,warning:PO,success:kO,error:bO,spinner:NO},DO=t=>t in _m;function VO({theme:t,type:e,isLoading:n,icon:r}){let s=null,a={theme:t,type:e};return r===!1||(fi(r)?s=r({...a,isLoading:n}):O.isValidElement(r)?s=O.cloneElement(r,a):n?s=_m.spinner():DO(e)&&(s=_m[e](a))),s}var LO=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:a}=CO(t),{closeButton:l,children:h,autoClose:d,onClick:p,type:g,hideProgressBar:_,closeToast:E,transition:S,position:A,className:N,style:R,progressClassName:V,updateId:U,role:F,progress:Q,rtl:Y,toastId:Z,deleteToast:k,isIn:x,isLoading:P,closeOnClick:L,theme:j,ariaLabel:z}=t,D=Ys("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":L}),$e=fi(N)?N({rtl:Y,position:A,type:g,defaultClassName:D}):Ys(D,N),tt=VO(t),it=!!Q||!d,Te={closeToast:E,type:g,theme:j},re=null;return l===!1||(fi(l)?re=l(Te):O.isValidElement(l)?re=O.cloneElement(l,Te):re=cO(Te)),qe.createElement(S,{isIn:x,done:k,position:A,preventExitTransition:n,nodeRef:r,playToast:a},qe.createElement("div",{id:Z,tabIndex:0,onClick:p,"data-in":x,className:$e,...s,style:R,ref:r,...x&&{role:F,"aria-label":z}},tt!=null&&qe.createElement("div",{className:Ys("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},tt),oS(h,t,!e),re,!t.customProgressBar&&qe.createElement(hO,{...U&&!it?{key:`p-${U}`}:{},rtl:Y,theme:j,delay:d,isRunning:e,isIn:x,closeToast:E,hide:_,type:g,className:V,controlledProgress:it,progress:Q||0})))},OO=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),MO=uO(OO("bounce",!0)),jO={position:"top-right",transition:MO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function dS(t){let e={...jO,...t},n=t.stacked,[r,s]=O.useState(!0),a=O.useRef(null),{getToastToRender:l,isToastActive:h,count:d}=xO(e),{className:p,style:g,rtl:_,containerId:E,hotKeys:S}=e;function A(R){let V=Ys("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":_});return fi(p)?p({position:R,rtl:_,defaultClassName:V}):Ys(V,gm(p))}function N(){n&&(s(!0),ke.play())}return AO(()=>{var R;if(n){let V=a.current.querySelectorAll('[data-in="true"]'),U=12,F=(R=e.position)==null?void 0:R.includes("top"),Q=0,Y=0;Array.from(V).reverse().forEach((Z,k)=>{let x=Z;x.classList.add("Toastify__toast--stacked"),k>0&&(x.dataset.collapsed=`${r}`),x.dataset.pos||(x.dataset.pos=F?"top":"bot");let P=Q*(r?.2:1)+(r?0:U*k);x.style.setProperty("--y",`${F?P:P*-1}px`),x.style.setProperty("--g",`${U}`),x.style.setProperty("--s",`${1-(r?Y:0)}`),Q+=x.offsetHeight,Y+=.025})}},[r,d,n]),O.useEffect(()=>{function R(V){var U;let F=a.current;S(V)&&((U=F.querySelector('[tabIndex="0"]'))==null||U.focus(),s(!1),ke.pause()),V.key==="Escape"&&(document.activeElement===F||F!=null&&F.contains(document.activeElement))&&(s(!0),ke.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[S]),qe.createElement("section",{ref:a,className:"Toastify",id:E,onMouseEnter:()=>{n&&(s(!1),ke.pause())},onMouseLeave:N,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,V)=>{let U=V.length?{...g}:{...g,pointerEvents:"none"};return qe.createElement("div",{tabIndex:-1,className:A(R),"data-stacked":n,style:U,key:`c-${R}`},V.map(({content:F,props:Q})=>qe.createElement(LO,{...Q,stacked:n,collapseAll:N,isIn:h(Q.toastId,Q.containerId),key:`t-${Q.key}`},F)))}))}const FO={apiKey:"AIzaSyBc8RjtuaZOMWn4AA9ovmw1OOLDbwlSwWM",authDomain:"wildcats-express-pos.firebaseapp.com",databaseURL:"https://wildcats-express-pos-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wildcats-express-pos",storageBucket:"wildcats-express-pos.firebasestorage.app",messagingSenderId:"908404798026",appId:"1:908404798026:web:c14da08358320310f5ecb3",measurementId:"G-30FN1V543L"},fS=EE(FO),bu=Eb(fS),Fl=TV(fS),UO=async(t,e)=>{try{const n=await o2(bu,t,e);return console.log("User logged in:",n.user),ke.success("Login successful!"),n.user}catch(n){throw console.error("Error during login:",n.message),new Error("Error during login: Invalid Credentials")}},pS=t=>{const[e,n]=O.useState(!0);return O.useEffect(()=>{const r=XE(bu,s=>{s?n(!1):(ke.warn("Unauthorized access! Please log in."),setTimeout(()=>{t("/")},100))});return()=>r()},[t]),e},Cw=async t=>{try{await h2(bu),localStorage.removeItem("token"),t("/")}catch(e){console.error("Error during logout:",e)}},BO=t=>{const[e,n]=O.useState(!0);return O.useEffect(()=>{const r=XE(bu,s=>{s?(console.log("Trying to access login/signup page while logged in."),t("/admin-page")):n(!1)});return()=>r()},[t]),e},zO="/assets/new-mainlogo-DdxHqH-1.svg",$O=()=>{const t=vu(),[e,n]=O.useState(!1),[r,s]=O.useState(!1),a=()=>{t("/login-page")};return r?T.jsx("p",{children:"Loading..."}):T.jsx(T.Fragment,{children:T.jsxs("main",{className:"main-content",children:[T.jsxs("div",{className:"text-container",children:[T.jsx("div",{className:"hide-mobile",children:T.jsxs("h1",{className:"wildcats-desktop",children:["Wildcats ",T.jsx("span",{className:"express-mobile",children:"Express"})]})}),T.jsx("div",{className:"hide-title"}),T.jsx("h3",{className:"typing-text",children:"Fast. Fresh. Fierce."}),T.jsx("h3",{className:"typing-text-mobile",children:"Fast. Fresh. Fierce."}),T.jsx("div",{className:"order-button",children:T.jsx("button",{onClick:a,className:"primary-cta",children:"Order Here"})})]}),T.jsx("div",{className:"cat",children:T.jsx("img",{src:zO,alt:"Photo of Wildcat chef"})})]})})},Fg=O.createContext({});function Ug(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bg=typeof window<"u",mS=Bg?O.useLayoutEffect:O.useEffect,Rd=O.createContext(null),zg=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class HO extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WO({children:t,isPresent:e,anchorX:n}){const r=O.useId(),s=O.useRef(null),a=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=O.useContext(zg);return O.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:_}=a.current;if(e||!s.current||!h||!d)return;const E=n==="left"?`left: ${g}`:`right: ${_}`;s.current.dataset.motionPopId=r;const S=document.createElement("style");return l&&(S.nonce=l),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),T.jsx(HO,{isPresent:e,childRef:s,sizeRef:a,children:O.cloneElement(t,{ref:s})})}const qO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:h})=>{const d=Ug(KO),p=O.useId(),g=O.useCallback(E=>{d.set(E,!0);for(const S of d.values())if(!S)return;r&&r()},[d,r]),_=O.useMemo(()=>({id:p,initial:e,isPresent:n,custom:s,onExitComplete:g,register:E=>(d.set(E,!1),()=>d.delete(E))}),a?[Math.random(),g]:[n,g]);return O.useMemo(()=>{d.forEach((E,S)=>d.set(S,!1))},[n]),O.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(t=T.jsx(WO,{isPresent:n,anchorX:h,children:t})),T.jsx(Rd.Provider,{value:_,children:t})};function KO(){return new Map}function gS(t=!0){const e=O.useContext(Rd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=O.useId();O.useEffect(()=>{if(t)return s(a)},[t]);const l=O.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const ih=t=>t.key||"";function Aw(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const lu=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:h="left"})=>{const[d,p]=gS(l),g=O.useMemo(()=>Aw(t),[t]),_=l&&!d?[]:g.map(ih),E=O.useRef(!0),S=O.useRef(g),A=Ug(()=>new Map),[N,R]=O.useState(g),[V,U]=O.useState(g);mS(()=>{E.current=!1,S.current=g;for(let Y=0;Y<V.length;Y++){const Z=ih(V[Y]);_.includes(Z)?A.delete(Z):A.get(Z)!==!0&&A.set(Z,!1)}},[V,_.length,_.join("-")]);const F=[];if(g!==N){let Y=[...g];for(let Z=0;Z<V.length;Z++){const k=V[Z],x=ih(k);_.includes(x)||(Y.splice(Z,0,k),F.push(k))}return a==="wait"&&F.length&&(Y=F),U(Aw(Y)),R(g),null}const{forceRender:Q}=O.useContext(Fg);return T.jsx(T.Fragment,{children:V.map(Y=>{const Z=ih(Y),k=l&&!d?!1:g===V||_.includes(Z),x=()=>{if(A.has(Z))A.set(Z,!0);else return;let P=!0;A.forEach(L=>{L||(P=!1)}),P&&(Q==null||Q(),U(S.current),l&&(p==null||p()),r&&r())};return T.jsx(qO,{isPresent:k,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:k?void 0:x,anchorX:h,children:Y},Z)})})};function $g(t,e){t.indexOf(e)===-1&&t.push(e)}function Hg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bn=t=>t;let yS=bn;const GO={useManualTiming:!1};function Wg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class qg{constructor(){this.subscriptions=[]}add(e){return $g(this.subscriptions,e),()=>Hg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oi=t=>t*1e3,ai=t=>t/1e3;function vS(t,e){return e?t*(1e3/e):0}const QO=Wg(()=>window.ScrollTimeline!==void 0);class YO{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(QO()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class XO extends YO{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Kg(t,e){return t?t[e]||t.default||t:void 0}const wm=2e4;function _S(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wm;)e+=n,r=t.next(e);return e>=wm?1/0:e}function Gg(t){return typeof t=="function"}function Pw(t,e){t.timeline=e,t.onfinish=null}const Qg=t=>Array.isArray(t)&&typeof t[0]=="number",JO={linearEasing:void 0};function ZO(t,e){const n=Wg(t);return()=>{var r;return(r=JO[e])!==null&&r!==void 0?r:n()}}const Hh=ZO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(Sa(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function TS(t){return!!(typeof t=="function"&&Hh()||!t||typeof t=="string"&&(t in Tm||Hh())||Qg(t)||Array.isArray(t)&&t.every(TS))}const Ul=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Tm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function ES(t,e){if(t)return typeof t=="function"&&Hh()?wS(t,e):Qg(t)?Ul(t):Array.isArray(t)?t.map(n=>ES(n,e)||Tm.easeOut):Tm[t]}const sh=["read","resolveKeyframes","update","preRender","render","postRender"],Rw={value:null};function eM(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(_){l.has(_)&&(g.schedule(_),t()),d++,_(h)}const g={schedule:(_,E=!1,S=!1)=>{const N=S&&s?n:r;return E&&l.add(_),N.has(_)||N.add(_),_},cancel:_=>{r.delete(_),l.delete(_)},process:_=>{if(h=_,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(p),e&&Rw.value&&Rw.value.frameloop[e].push(d),d=0,n.clear(),s=!1,a&&(a=!1,g.process(_))}};return g}const tM=40;function IS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=sh.reduce((V,U)=>(V[U]=eM(a,e?U:void 0),V),{}),{read:h,resolveKeyframes:d,update:p,preRender:g,render:_,postRender:E}=l,S=()=>{const V=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(V-s.timestamp,tM),1),s.timestamp=V,s.isProcessing=!0,h.process(s),d.process(s),p.process(s),g.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},A=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:sh.reduce((V,U)=>{const F=l[U];return V[U]=(Q,Y=!1,Z=!1)=>(n||A(),F.schedule(Q,Y,Z)),V},{}),cancel:V=>{for(let U=0;U<sh.length;U++)l[sh[U]].cancel(V)},state:s,steps:l}}const{schedule:et,cancel:cs,state:Bt,steps:Pp}=IS(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0),{schedule:Yg}=IS(queueMicrotask,!1);let wh;function nM(){wh=void 0}const br={now:()=>(wh===void 0&&br.set(Bt.isProcessing||GO.useManualTiming?Bt.timestamp:performance.now()),wh),set:t=>{wh=t,queueMicrotask(nM)}},lr={x:!1,y:!1};function SS(){return lr.x||lr.y}function rM(t){return t==="x"||t==="y"?lr[t]?null:(lr[t]=!0,()=>{lr[t]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}function iM(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function xS(t,e){const n=iM(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function kw(t){return!(t.pointerType==="touch"||SS())}function sM(t,e,n={}){const[r,s,a]=xS(t,n),l=h=>{if(!kw(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=_=>{kw(_)&&(p(_),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(h=>{h.addEventListener("pointerenter",l,s)}),a}function bw(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const CS=(t,e)=>e?t===e?!0:CS(t,e.parentElement):!1,Xg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aM(t){return oM.has(t.tagName)||t.tabIndex!==-1}const Bl=new WeakSet;function Nw(t){return e=>{e.key==="Enter"&&t(e)}}function Rp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Nw(()=>{if(Bl.has(n))return;Rp(n,"down");const s=Nw(()=>{Rp(n,"up")}),a=()=>Rp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Dw(t){return Xg(t)&&!SS()}function uM(t,e,n={}){const[r,s,a]=xS(t,n),l=h=>{const d=h.currentTarget;if(!d||!Dw(h)||Bl.has(d))return;Bl.add(d),bw(h,"set");const p=e(d,h),g=(S,A)=>{d.removeEventListener("pointerup",_),d.removeEventListener("pointercancel",E),bw(S,"release"),!(!Dw(S)||!Bl.has(d))&&(Bl.delete(d),typeof p=="function"&&p(S,{success:A}))},_=S=>{(S.isTrusted?cM(S,d instanceof Element?d.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(S,!1):g(S,!(d instanceof Element)||CS(d,S.target))},E=S=>{g(S,!1)};d.addEventListener("pointerup",_,s),d.addEventListener("pointercancel",E,s),d.addEventListener("lostpointercapture",E,s)};return r.forEach(h=>{h=n.useGlobalTarget?window:h;let d=!1;h instanceof HTMLElement&&(d=!0,!aM(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",l,s),d&&h.addEventListener("focus",p=>lM(p,s),s)}),a}function cM(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const Vw=30,hM=t=>!isNaN(parseFloat(t));class dM{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=br.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=br.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qg);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Vw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vw);return vS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uu(t,e){return new dM(t,e)}const AS=O.createContext({strict:!1}),Lw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xa={};for(const t in Lw)xa[t]={isEnabled:e=>Lw[t].some(n=>!!e[n])};function fM(t){for(const e in t)xa[e]={...xa[e],...t[e]}}const pM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pM.has(t)}let PS=t=>!Wh(t);function mM(t){t&&(PS=e=>e.startsWith("on")?!Wh(e):t(e))}try{mM(require("@emotion/is-prop-valid").default)}catch{}function gM(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(PS(s)||n===!0&&Wh(s)||!e&&!Wh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function yM(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const kd=O.createContext({});function bd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cu(t){return typeof t=="string"||Array.isArray(t)}const Jg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zg=["initial",...Jg];function Nd(t){return bd(t.animate)||Zg.some(e=>cu(t[e]))}function RS(t){return!!(Nd(t)||t.variants)}function vM(t,e){if(Nd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cu(n)?n:void 0,animate:cu(r)?r:void 0}}return t.inherit!==!1?e:{}}function _M(t){const{initial:e,animate:n}=vM(t,O.useContext(kd));return O.useMemo(()=>({initial:e,animate:n}),[Ow(e),Ow(n)])}function Ow(t){return Array.isArray(t)?t.join(" "):t}const wM=Symbol.for("motionComponentSymbol");function sa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TM(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sa(n)&&(n.current=r))},[e])}const ey=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EM="framerAppearId",kS="data-"+ey(EM),bS=O.createContext({});function IM(t,e,n,r,s){var a,l;const{visualElement:h}=O.useContext(kd),d=O.useContext(AS),p=O.useContext(Rd),g=O.useContext(zg).reducedMotion,_=O.useRef(null);r=r||d.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=_.current,S=O.useContext(bS);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&SM(_.current,n,s,S);const A=O.useRef(!1);O.useInsertionEffect(()=>{E&&A.current&&E.update(n,p)});const N=n[kS],R=O.useRef(!!N&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,N))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,N)));return mS(()=>{E&&(A.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Yg.render(E.render),R.current&&E.animationState&&E.animationState.animateChanges())}),O.useEffect(()=>{E&&(!R.current&&E.animationState&&E.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)===null||V===void 0||V.call(window,N)}),R.current=!1))}),E}function SM(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:h,layoutScroll:d,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:NS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||h&&sa(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:p})}function NS(t){if(t)return t.options.allowProjection!==!1?t.projection:NS(t.parent)}function xM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&fM(t);function h(p,g){let _;const E={...O.useContext(zg),...p,layoutId:CM(p)},{isStatic:S}=E,A=_M(p),N=r(p,S);if(!S&&Bg){AM();const R=PM(E);_=R.MeasureLayout,A.visualElement=IM(s,N,E,e,R.ProjectionNode)}return T.jsxs(kd.Provider,{value:A,children:[_&&A.visualElement?T.jsx(_,{visualElement:A.visualElement,...E}):null,n(s,p,TM(N,A.visualElement,g),N,S,A.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const d=O.forwardRef(h);return d[wM]=s,d}function CM({layoutId:t}){const e=O.useContext(Fg).id;return e&&t!==void 0?e+"-"+t:t}function AM(t,e){O.useContext(AS).strict}function PM(t){const{drag:e,layout:n}=xa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const DS=t=>e=>typeof e=="string"&&e.startsWith(t),ty=DS("--"),RM=DS("var(--"),ny=t=>RM(t)?kM.test(t.split("/*")[0].trim()):!1,kM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hu={};function bM(t){for(const e in t)hu[e]=t[e],ty(e)&&(hu[e].isCSSVariable=!0)}const La=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(La);function VS(t,{layout:e,layoutId:n}){return co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hu[t]||t==="opacity")}const en=t=>!!(t&&t.getVelocity),LS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pi=(t,e,n)=>n>e?e:n<t?t:n,Oa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},du={...Oa,transform:t=>pi(0,1,t)},oh={...Oa,default:1},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wi=Nu("deg"),Nr=Nu("%"),xe=Nu("px"),NM=Nu("vh"),DM=Nu("vw"),Mw={...Nr,parse:t=>Nr.parse(t)/100,transform:t=>Nr.transform(t*100)},VM={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe},LM={rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:oh,scaleX:oh,scaleY:oh,scaleZ:oh,skew:Wi,skewX:Wi,skewY:Wi,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:du,originX:Mw,originY:Mw,originZ:xe},jw={...Oa,transform:Math.round},ry={...VM,...LM,zIndex:jw,size:xe,fillOpacity:du,strokeOpacity:du,numOctaves:jw},OM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MM=La.length;function jM(t,e,n){let r="",s=!0;for(let a=0;a<MM;a++){const l=La[a],h=t[l];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(l.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=LS(h,ry[l]);if(!d){s=!1;const g=OM[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function iy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,h=!1;for(const d in e){const p=e[d];if(co.has(d)){l=!0;continue}else if(ty(d)){s[d]=p;continue}else{const g=LS(p,ry[d]);d.startsWith("origin")?(h=!0,a[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=jM(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}const sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OS(t,e,n){for(const r in e)!en(e[r])&&!VS(r,n)&&(t[r]=e[r])}function FM({transformTemplate:t},e){return O.useMemo(()=>{const n=sy();return iy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function UM(t,e){const n=t.style||{},r={};return OS(r,n,t),Object.assign(r,FM(t,e)),r}function BM(t,e){const n={},r=UM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const zM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oy(t){return typeof t!="string"||t.includes("-")?!1:!!(zM.indexOf(t)>-1||/[A-Z]/u.test(t))}const $M={offset:"stroke-dashoffset",array:"stroke-dasharray"},HM={offset:"strokeDashoffset",array:"strokeDasharray"};function WM(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?$M:HM;t[a.offset]=xe.transform(-r);const l=xe.transform(e),h=xe.transform(n);t[a.array]=`${l} ${h}`}function Fw(t,e,n){return typeof t=="string"?t:xe.transform(e+n*t)}function qM(t,e,n){const r=Fw(e,t.x,t.width),s=Fw(n,t.y,t.height);return`${r} ${s}`}function ay(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:h=1,pathOffset:d=0,...p},g,_){if(iy(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:S,dimensions:A}=t;E.transform&&(A&&(S.transform=E.transform),delete E.transform),A&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=qM(A,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),l!==void 0&&WM(E,l,h,d,!1)}const MS=()=>({...sy(),attrs:{}}),ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function KM(t,e,n,r){const s=O.useMemo(()=>{const a=MS();return ay(a,e,ly(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};OS(a,t.style,t),s.style={...a,...s.style}}return s}function GM(t=!1){return(n,r,s,{latestValues:a},l)=>{const d=(oy(n)?KM:BM)(r,a,l,n),p=gM(r,typeof n=="string",t),g=n!==O.Fragment?{...p,...d,ref:s}:{},{children:_}=r,E=O.useMemo(()=>en(_)?_.get():_,[_]);return O.createElement(n,{...g,children:E})}}function Uw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uy(t,e,n,r){if(typeof e=="function"){const[s,a]=Uw(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=Uw(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const Em=t=>Array.isArray(t),QM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),YM=t=>Em(t)?t[t.length-1]||0:t;function Th(t){const e=en(t)?t.get():t;return QM(e)?e.toValue():e}function XM({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:JM(r,s,a,t),renderState:e()};return n&&(l.onMount=h=>n({props:r,current:h,...l}),l.onUpdate=h=>n(h)),l}const jS=t=>(e,n)=>{const r=O.useContext(kd),s=O.useContext(Rd),a=()=>XM(t,e,r,s);return n?a():Ug(a)};function JM(t,e,n,r){const s={},a=r(t,{});for(const E in a)s[E]=Th(a[E]);let{initial:l,animate:h}=t;const d=Nd(t),p=RS(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?h:l;if(_&&typeof _!="boolean"&&!bd(_)){const E=Array.isArray(_)?_:[_];for(let S=0;S<E.length;S++){const A=uy(t,E[S]);if(A){const{transitionEnd:N,transition:R,...V}=A;for(const U in V){let F=V[U];if(Array.isArray(F)){const Q=g?F.length-1:0;F=F[Q]}F!==null&&(s[U]=F)}for(const U in N)s[U]=N[U]}}}return s}function cy(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(en(s[l])||e.style&&en(e.style[l])||VS(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}const ZM={useVisualState:jS({scrapeMotionValuesFromProps:cy,createRenderState:sy})};function FS(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function US(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const BS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zS(t,e,n,r){US(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(BS.has(s)?s:ey(s),e.attrs[s])}function $S(t,e,n){const r=cy(t,e,n);for(const s in t)if(en(t[s])||en(e[s])){const a=La.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const Bw=["x","y","width","height","cx","cy","r"],e4={useVisualState:jS({scrapeMotionValuesFromProps:$S,createRenderState:MS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in s)if(co.has(h)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let h=0;h<Bw.length;h++){const d=Bw[h];t[d]!==e[d]&&(l=!0)}l&&et.read(()=>{FS(n,r),et.render(()=>{ay(r,s,ly(n.tagName),t.transformTemplate),zS(n,r)})})}})};function t4(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...oy(r)?e4:ZM,preloadedFeatures:t,useRender:GM(s),createVisualElement:e,Component:r};return xM(l)}}function fu(t,e,n){const r=t.getProps();return uy(r,e,n!==void 0?n:r.custom,t)}const HS=new Set(["width","height","top","left","right","bottom",...La]);function n4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uu(n))}function r4(t,e){const n=fu(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const h=YM(a[l]);n4(t,l,h)}}function i4(t){return!!(en(t)&&t.add)}function Im(t,e){const n=t.getValue("willChange");if(i4(n))return n.add(e)}function WS(t){return t.props[kS]}const qS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,s4=1e-7,o4=12;function a4(t,e,n,r,s){let a,l,h=0;do l=e+(n-e)/2,a=qS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>s4&&++h<o4);return l}function Du(t,e,n,r){if(t===e&&n===r)return bn;const s=a=>a4(a,0,1,t,n);return a=>a===0||a===1?a:qS(s(a),e,r)}const KS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,GS=t=>e=>1-t(1-e),QS=Du(.33,1.53,.69,.99),hy=GS(QS),YS=KS(hy),XS=t=>(t*=2)<1?.5*hy(t):.5*(2-Math.pow(2,-10*(t-1))),dy=t=>1-Math.sin(Math.acos(t)),JS=GS(dy),ZS=KS(dy),ex=t=>/^0[^.\s]+$/u.test(t);function l4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ex(t):!0}const Gl=t=>Math.round(t*1e5)/1e5,fy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function u4(t){return t==null}const c4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,py=(t,e)=>n=>!!(typeof n=="string"&&c4.test(n)&&n.startsWith(t)||e&&!u4(n)&&Object.prototype.hasOwnProperty.call(n,e)),tx=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,h]=r.match(fy);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},h4=t=>pi(0,255,t),kp={...Oa,transform:t=>Math.round(h4(t))},Ks={test:py("rgb","red"),parse:tx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kp.transform(t)+", "+kp.transform(e)+", "+kp.transform(n)+", "+Gl(du.transform(r))+")"};function d4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Sm={test:py("#"),parse:d4,transform:Ks.transform},oa={test:py("hsl","hue"),parse:tx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Nr.transform(Gl(e))+", "+Nr.transform(Gl(n))+", "+Gl(du.transform(r))+")"},Xt={test:t=>Ks.test(t)||Sm.test(t)||oa.test(t),parse:t=>Ks.test(t)?Ks.parse(t):oa.test(t)?oa.parse(t):Sm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ks.transform(t):oa.transform(t)},f4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(f4))===null||n===void 0?void 0:n.length)||0)>0}const nx="number",rx="color",m4="var",g4="var(",zw="${}",y4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(y4,d=>(Xt.test(d)?(r.color.push(a),s.push(rx),n.push(Xt.parse(d))):d.startsWith(g4)?(r.var.push(a),s.push(m4),n.push(d)):(r.number.push(a),s.push(nx),n.push(parseFloat(d))),++a,zw)).split(zw);return{values:n,split:h,indexes:r,types:s}}function ix(t){return pu(t).values}function sx(t){const{split:e,types:n}=pu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const h=n[l];h===nx?a+=Gl(s[l]):h===rx?a+=Xt.transform(s[l]):a+=s[l]}return a}}const v4=t=>typeof t=="number"?0:t;function _4(t){const e=ix(t);return sx(t)(e.map(v4))}const hs={test:p4,parse:ix,createTransformer:sx,getAnimatableNone:_4},w4=new Set(["brightness","contrast","saturate","opacity"]);function T4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fy)||[];if(!r)return t;const s=n.replace(r,"");let a=w4.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const E4=/\b([a-z-]*)\(.*?\)/gu,xm={...hs,getAnimatableNone:t=>{const e=t.match(E4);return e?e.map(T4).join(" "):t}},I4={...ry,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:xm,WebkitFilter:xm},ox=t=>I4[t];function ax(t,e){let n=ox(t);return n!==xm&&(n=hs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const S4=new Set(["auto","none","0"]);function x4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!S4.has(a)&&pu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=ax(n,s)}const Gs=t=>t*180/Math.PI,Cm=t=>{const e=Gs(Math.atan2(t[1],t[0]));return Am(e)},C4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cm,rotateZ:Cm,skewX:t=>Gs(Math.atan(t[1])),skewY:t=>Gs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Am=t=>(t=t%360,t<0&&(t+=360),t),$w=Cm,Hw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ww=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),A4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hw,scaleY:Ww,scale:t=>(Hw(t)+Ww(t))/2,rotateX:t=>Am(Gs(Math.atan2(t[6],t[5]))),rotateY:t=>Am(Gs(Math.atan2(-t[2],t[0]))),rotateZ:$w,rotate:$w,skewX:t=>Gs(Math.atan(t[4])),skewY:t=>Gs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qw(t){return t.includes("scale")?1:0}function Pm(t,e){if(!t||t==="none")return qw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=A4,s=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=C4,s=h}if(!s)return qw(e);const a=r[e],l=s[1].split(",").map(R4);return typeof a=="function"?a(l):l[a]}const P4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Pm(n,e)};function R4(t){return parseFloat(t.trim())}const Kw=t=>t===Oa||t===xe,k4=new Set(["x","y","z"]),b4=La.filter(t=>!k4.has(t));function N4(t){const e=[];return b4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ca={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Pm(e,"x"),y:(t,{transform:e})=>Pm(e,"y")};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const Xs=new Set;let Rm=!1,km=!1;function lx(){if(km){const t=Array.from(Xs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=N4(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var h;(h=r.getValue(a))===null||h===void 0||h.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}km=!1,Rm=!1,Xs.forEach(t=>t.complete()),Xs.clear()}function ux(){Xs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(km=!0)})}function D4(){ux(),lx()}class my{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xs.add(this),Rm||(Rm=!0,et.read(ux),et.resolveKeyframes(lx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),h=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const d=r.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),V4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L4(t){const e=V4.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function hx(t,e,n=1){const[r,s]=L4(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return cx(l)?parseFloat(l):l}return ny(s)?hx(s,e,n+1):s}const dx=t=>e=>e.test(t),O4={test:t=>t==="auto",parse:t=>t},fx=[Oa,xe,Nr,Wi,DM,NM,O4],Gw=t=>fx.find(dx(t));class px extends my{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),ny(p))){const g=hx(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!HS.has(r)||e.length!==2)return;const[s,a]=e,l=Gw(s),h=Gw(a);if(l!==h)if(Kw(l)&&Kw(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)l4(e[s])&&r.push(s);r.length&&x4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,h=s[l];s[l]=Ca[r](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const Qw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hs.test(t)||t==="0")&&!t.startsWith("url("));function M4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function j4(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Qw(s,e),h=Qw(a,e);return!l||!h?!1:M4(t)||(n==="spring"||Gg(n))&&r}const F4=t=>t!==null;function Dd(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(F4),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const U4=40;class mx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=br.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>U4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&D4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=br.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:h,onUpdate:d,isGenerator:p}=this.options;if(!p&&!j4(e,r,s,a))if(l)this.options.duration=0;else{d&&d(Dd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ht=(t,e,n)=>t+(e-t)*n;function bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;s=bp(d,h,t+1/3),a=bp(d,h,t),l=bp(d,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function qh(t,e){return n=>n>0?e:t}const Np=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},z4=[Sm,Ks,oa],$4=t=>z4.find(e=>e.test(t));function Yw(t){const e=$4(t);if(!e)return!1;let n=e.parse(t);return e===oa&&(n=B4(n)),n}const Xw=(t,e)=>{const n=Yw(t),r=Yw(e);if(!n||!r)return qh(t,e);const s={...n};return a=>(s.red=Np(n.red,r.red,a),s.green=Np(n.green,r.green,a),s.blue=Np(n.blue,r.blue,a),s.alpha=ht(n.alpha,r.alpha,a),Ks.transform(s))},H4=(t,e)=>n=>e(t(n)),Vu=(...t)=>t.reduce(H4),bm=new Set(["none","hidden"]);function W4(t,e){return bm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function q4(t,e){return n=>ht(t,e,n)}function gy(t){return typeof t=="number"?q4:typeof t=="string"?ny(t)?qh:Xt.test(t)?Xw:Q4:Array.isArray(t)?gx:typeof t=="object"?Xt.test(t)?Xw:K4:qh}function gx(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>gy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function K4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=gy(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function G4(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],h=t.indexes[l][s[l]],d=(n=t.values[h])!==null&&n!==void 0?n:0;r[a]=d,s[l]++}return r}const Q4=(t,e)=>{const n=hs.createTransformer(e),r=pu(t),s=pu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?bm.has(t)&&!s.values.length||bm.has(e)&&!r.values.length?W4(t,e):Vu(gx(G4(r,s),s.values),n):qh(t,e)};function yx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):gy(t)(t,e)}const Y4=5;function vx(t,e,n){const r=Math.max(e-Y4,0);return vS(n-t(r),e-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jw=.001;function X4({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let s,a,l=1-e;l=pi(mt.minDamping,mt.maxDamping,l),t=pi(mt.minDuration,mt.maxDuration,ai(t)),l<1?(s=p=>{const g=p*l,_=g*t,E=g-n,S=Nm(p,l),A=Math.exp(-_);return Jw-E/S*A},a=p=>{const _=p*l*t,E=_*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,A=Math.exp(-_),N=Nm(Math.pow(p,2),l);return(-s(p)+Jw>0?-1:1)*((E-S)*A)/N}):(s=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const h=5/t,d=Z4(s,a,h);if(t=oi(t),isNaN(d))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const J4=12;function Z4(t,e,n){let r=n;for(let s=1;s<J4;s++)r=r-t(r)/e(r);return r}function Nm(t,e){return t*Math.sqrt(1-e*e)}const ej=["duration","bounce"],tj=["stiffness","damping","mass"];function Zw(t,e){return e.some(n=>t[n]!==void 0)}function nj(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!Zw(t,tj)&&Zw(t,ej))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*pi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:mt.mass,stiffness:s,damping:a}}else{const n=X4(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function _x(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:S}=nj({...n,velocity:-ai(n.velocity||0)}),A=E||0,N=p/(2*Math.sqrt(d*g)),R=l-a,V=ai(Math.sqrt(d/g)),U=Math.abs(R)<5;r||(r=U?mt.restSpeed.granular:mt.restSpeed.default),s||(s=U?mt.restDelta.granular:mt.restDelta.default);let F;if(N<1){const Y=Nm(V,N);F=Z=>{const k=Math.exp(-N*V*Z);return l-k*((A+N*V*R)/Y*Math.sin(Y*Z)+R*Math.cos(Y*Z))}}else if(N===1)F=Y=>l-Math.exp(-V*Y)*(R+(A+V*R)*Y);else{const Y=V*Math.sqrt(N*N-1);F=Z=>{const k=Math.exp(-N*V*Z),x=Math.min(Y*Z,300);return l-k*((A+N*V*R)*Math.sinh(x)+Y*R*Math.cosh(x))/Y}}const Q={calculatedDuration:S&&_||null,next:Y=>{const Z=F(Y);if(S)h.done=Y>=_;else{let k=0;N<1&&(k=Y===0?oi(A):vx(F,Y,Z));const x=Math.abs(k)<=r,P=Math.abs(l-Z)<=s;h.done=x&&P}return h.value=h.done?l:Z,h},toString:()=>{const Y=Math.min(_S(Q),wm),Z=wS(k=>Q.next(Y*k).value,Y,30);return Y+"ms "+Z}};return Q}function eT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:d,restDelta:p=.5,restSpeed:g}){const _=t[0],E={done:!1,value:_},S=x=>h!==void 0&&x<h||d!==void 0&&x>d,A=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let N=n*e;const R=_+N,V=l===void 0?R:l(R);V!==R&&(N=V-_);const U=x=>-N*Math.exp(-x/r),F=x=>V+U(x),Q=x=>{const P=U(x),L=F(x);E.done=Math.abs(P)<=p,E.value=E.done?V:L};let Y,Z;const k=x=>{S(E.value)&&(Y=x,Z=_x({keyframes:[E.value,A(E.value)],velocity:vx(F,x,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return k(0),{calculatedDuration:null,next:x=>{let P=!1;return!Z&&Y===void 0&&(P=!0,Q(x),k(x)),Y!==void 0&&x>=Y?Z.next(x-Y):(!P&&Q(x),E)}}}const rj=Du(.42,0,1,1),ij=Du(0,0,.58,1),wx=Du(.42,0,.58,1),sj=t=>Array.isArray(t)&&typeof t[0]!="number",oj={linear:bn,easeIn:rj,easeInOut:wx,easeOut:ij,circIn:dy,circInOut:ZS,circOut:JS,backIn:hy,backInOut:YS,backOut:QS,anticipate:XS},tT=t=>{if(Qg(t)){yS(t.length===4);const[e,n,r,s]=t;return Du(e,n,r,s)}else if(typeof t=="string")return oj[t];return t};function aj(t,e,n){const r=[],s=n||yx,a=t.length-1;for(let l=0;l<a;l++){let h=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||bn:e;h=Vu(d,h)}r.push(h)}return r}function lj(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(yS(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=aj(e,r,s),d=h.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const E=Sa(t[_],t[_+1],g);return h[_](E)};return n?g=>p(pi(t[0],t[a-1],g)):p}function uj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sa(0,e,r);t.push(ht(n,1,s))}}function cj(t){const e=[0];return uj(e,t.length-1),e}function hj(t,e){return t.map(n=>n*e)}function dj(t,e){return t.map(()=>e||wx).splice(0,t.length-1)}function Kh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=sj(r)?r.map(tT):tT(r),a={done:!1,value:e[0]},l=hj(n&&n.length===e.length?n:cj(e),t),h=lj(l,e,{ease:Array.isArray(s)?s:dj(e,s)});return{calculatedDuration:t,next:d=>(a.value=h(d),a.done=d>=t,a)}}const fj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>cs(e),now:()=>Bt.isProcessing?Bt.timestamp:br.now()}},pj={decay:eT,inertia:eT,tween:Kh,keyframes:Kh,spring:_x},mj=t=>t/100;class yy extends mx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||my,h=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,h,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,h=Gg(n)?n:pj[n]||Kh;let d,p;h!==Kh&&typeof e[0]!="number"&&(d=Vu(mj,yx(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=_S(g));const{calculatedDuration:_}=g,E=_+s,S=E*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:_,resolvedDuration:E,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:S,repeatType:A,repeatDelay:N,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const V=this.currentTime-E*(this.speed>=0?1:-1),U=this.speed>=0?V<0:V>g;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let F=this.currentTime,Q=a;if(S){const x=Math.min(this.currentTime,g)/_;let P=Math.floor(x),L=x%1;!L&&x>=1&&(L=1),L===1&&P--,P=Math.min(P,S+1),!!(P%2)&&(A==="reverse"?(L=1-L,N&&(L-=N/_)):A==="mirror"&&(Q=l)),F=pi(0,1,L)*_}const Y=U?{done:!1,value:d[0]}:Q.next(F);h&&(Y.value=h(Y.value));let{done:Z}=Y;!U&&p!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return k&&s!==void 0&&(Y.value=Dd(d,this.options,s)),R&&R(Y.value),k&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?ai(e.calculatedDuration):0}get time(){return ai(this.currentTime)}set time(e){e=oi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ai(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=fj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const gj=new Set(["opacity","clipPath","filter","transform"]);function yj(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:h="easeInOut",times:d}={}){const p={[e]:n};d&&(p.offset=d);const g=ES(h,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const vj=Wg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gh=10,_j=2e4;function wj(t){return Gg(t.type)||t.type==="spring"||!TS(t.ease)}function Tj(t,e){const n=new yy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<_j;)r=n.sample(a),s.push(r.value),a+=Gh;return{times:void 0,keyframes:s,duration:a-Gh,ease:"linear"}}const Tx={anticipate:XS,backInOut:YS,circInOut:ZS};function Ej(t){return t in Tx}class nT extends mx{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new px(a,(l,h)=>this.onKeyframesResolved(l,h),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:h,name:d,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&Hh()&&Ej(a)&&(a=Tx[a]),wj(this.options)){const{onComplete:_,onUpdate:E,motionValue:S,element:A,...N}=this.options,R=Tj(e,N);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,s=R.times,a=R.ease,l="keyframes"}const g=yj(h.owner.current,d,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(Pw(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(Dd(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ai(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ai(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=oi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return bn;const{animation:r}=n;Pw(r,e)}return bn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...S}=this.options,A=new yy({...S,keyframes:r,duration:s,type:a,ease:l,times:h,isGenerator:!0}),N=oi(this.time);p.setWithVelocity(A.sample(N-Gh).value,A.sample(N).value,Gh)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return vj()&&r&&gj.has(r)&&!d&&!p&&!s&&a!=="mirror"&&l!==0&&h!=="inertia"}}const Ij={type:"spring",stiffness:500,damping:25,restSpeed:10},Sj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xj={type:"keyframes",duration:.8},Cj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Aj=(t,{keyframes:e})=>e.length>2?xj:co.has(t)?t.startsWith("scale")?Sj(e[1]):Ij:Cj;function Pj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const vy=(t,e,n,r={},s,a)=>l=>{const h=Kg(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-oi(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:s};Pj(h)||(g={...g,...Aj(t,g)}),g.duration&&(g.duration=oi(g.duration)),g.repeatDelay&&(g.repeatDelay=oi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),g.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const E=Dd(g.keyframes,h);if(E!==void 0)return et.update(()=>{g.onUpdate(E),g.onComplete()}),new XO([])}return!a&&nT.supports(g)?new nT(g):new yy(g)};function Rj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ex(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:h,...d}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const _ in d){const E=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),S=d[_];if(S===void 0||g&&Rj(g,_))continue;const A={delay:n,...Kg(l||{},_)};let N=!1;if(window.MotionHandoffAnimation){const V=WS(t);if(V){const U=window.MotionHandoffAnimation(V,_,et);U!==null&&(A.startTime=U,N=!0)}}Im(t,_),E.start(vy(_,E,S,t.shouldReduceMotion&&HS.has(_)?{type:!1}:A,t,N));const R=E.animation;R&&p.push(R)}return h&&Promise.all(p).then(()=>{et.update(()=>{h&&r4(t,h)})}),p}function Dm(t,e,n={}){var r;const s=fu(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(Ex(t,s,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return kj(t,e,g+p,_,E,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,h]:[h,l];return p().then(()=>g())}else return Promise.all([l(),h(n.delay)])}function kj(t,e,n=0,r=0,s=1,a){const l=[],h=(t.variantChildren.size-1)*r,d=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(bj).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Dm(p,e,{...a,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function bj(t,e){return t.sortNodePosition(e)}function Nj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Dm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Dm(t,e,n);else{const s=typeof e=="function"?fu(t,e,n.custom):e;r=Promise.all(Ex(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Ix(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Dj=Zg.length;function Sx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Sx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Dj;n++){const r=Zg[n],s=t.props[r];(cu(s)||s===!1)&&(e[r]=s)}return e}const Vj=[...Jg].reverse(),Lj=Jg.length;function Oj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Nj(t,n,r)))}function Mj(t){let e=Oj(t),n=rT(),r=!0;const s=d=>(p,g)=>{var _;const E=fu(t,g,d==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:S,transitionEnd:A,...N}=E;p={...p,...N,...A}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,g=Sx(t.parent)||{},_=[],E=new Set;let S={},A=1/0;for(let R=0;R<Lj;R++){const V=Vj[R],U=n[V],F=p[V]!==void 0?p[V]:g[V],Q=cu(F),Y=V===d?U.isActive:null;Y===!1&&(A=R);let Z=F===g[V]&&F!==p[V]&&Q;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),U.protectedKeys={...S},!U.isActive&&Y===null||!F&&!U.prevProp||bd(F)||typeof F=="boolean")continue;const k=jj(U.prevProp,F);let x=k||V===d&&U.isActive&&!Z&&Q||R>A&&Q,P=!1;const L=Array.isArray(F)?F:[F];let j=L.reduce(s(V),{});Y===!1&&(j={});const{prevResolvedValues:z={}}=U,D={...z,...j},$e=Te=>{x=!0,E.has(Te)&&(P=!0,E.delete(Te)),U.needsAnimating[Te]=!0;const re=t.getValue(Te);re&&(re.liveStyle=!1)};for(const Te in D){const re=j[Te],ge=z[Te];if(S.hasOwnProperty(Te))continue;let ue=!1;Em(re)&&Em(ge)?ue=!Ix(re,ge):ue=re!==ge,ue?re!=null?$e(Te):E.add(Te):re!==void 0&&E.has(Te)?$e(Te):U.protectedKeys[Te]=!0}U.prevProp=F,U.prevResolvedValues=j,U.isActive&&(S={...S,...j}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(Z&&k)||P)&&_.push(...L.map(Te=>({animation:Te,options:{type:V}})))}if(E.size){const R={};if(typeof p.initial!="boolean"){const V=fu(t,Array.isArray(p.initial)?p.initial[0]:p.initial);V&&V.transition&&(R.transition=V.transition)}E.forEach(V=>{const U=t.getBaseTarget(V),F=t.getValue(V);F&&(F.liveStyle=!0),R[V]=U??null}),_.push({animation:R})}let N=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(_):Promise.resolve()}function h(d,p){var g;if(n[d].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var S;return(S=E.animationState)===null||S===void 0?void 0:S.setActive(d,p)}),n[d].isActive=p;const _=l(d);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=rT(),r=!0}}}function jj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ix(e,t):!1}function zs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rT(){return{animate:zs(!0),whileInView:zs(),whileHover:zs(),whileTap:zs(),whileDrag:zs(),whileFocus:zs(),exit:zs()}}class ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fj extends ps{constructor(e){super(e),e.animationState||(e.animationState=Mj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Uj=0;class Bj extends ps{constructor(){super(...arguments),this.id=Uj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zj={animation:{Feature:Fj},exit:{Feature:Bj}};function mu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lu(t){return{point:{x:t.pageX,y:t.pageY}}}const $j=t=>e=>Xg(e)&&t(e,Lu(e));function Ql(t,e,n,r){return mu(t,e,$j(n),r)}function xx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Hj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Wj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Cx=1e-4,qj=1-Cx,Kj=1+Cx,Ax=.01,Gj=0-Ax,Qj=0+Ax;function un(t){return t.max-t.min}function Yj(t,e,n){return Math.abs(t-e)<=n}function iT(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=un(n)/un(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=qj&&t.scale<=Kj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gj&&t.translate<=Qj||isNaN(t.translate))&&(t.translate=0)}function Yl(t,e,n,r){iT(t.x,e.x,n.x,r?r.originX:void 0),iT(t.y,e.y,n.y,r?r.originY:void 0)}function sT(t,e,n){t.min=n.min+e.min,t.max=t.min+un(e)}function Xj(t,e,n){sT(t.x,e.x,n.x),sT(t.y,e.y,n.y)}function oT(t,e,n){t.min=e.min-n.min,t.max=t.min+un(e)}function Xl(t,e,n){oT(t.x,e.x,n.x),oT(t.y,e.y,n.y)}const aT=()=>({translate:0,scale:1,origin:0,originPoint:0}),aa=()=>({x:aT(),y:aT()}),lT=()=>({min:0,max:0}),vt=()=>({x:lT(),y:lT()});function Hn(t){return[t("x"),t("y")]}function Dp(t){return t===void 0||t===1}function Vm({scale:t,scaleX:e,scaleY:n}){return!Dp(t)||!Dp(e)||!Dp(n)}function Hs(t){return Vm(t)||Px(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Px(t){return uT(t.x)||uT(t.y)}function uT(t){return t&&t!=="0%"}function Qh(t,e,n){const r=t-n,s=e*r;return n+s}function cT(t,e,n,r,s){return s!==void 0&&(t=Qh(t,s,r)),Qh(t,n,r)+e}function Lm(t,e=0,n=1,r,s){t.min=cT(t.min,e,n,r,s),t.max=cT(t.max,e,n,r,s)}function Rx(t,{x:e,y:n}){Lm(t.x,e.translate,e.scale,e.originPoint),Lm(t.y,n.translate,n.scale,n.originPoint)}const hT=.999999999999,dT=1.0000000000001;function Jj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let h=0;h<s;h++){a=n[h],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ua(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Rx(t,l)),r&&Hs(a.latestValues)&&ua(t,a.latestValues))}e.x<dT&&e.x>hT&&(e.x=1),e.y<dT&&e.y>hT&&(e.y=1)}function la(t,e){t.min=t.min+e,t.max=t.max+e}function fT(t,e,n,r,s=.5){const a=ht(t.min,t.max,s);Lm(t,e,n,a,r)}function ua(t,e){fT(t.x,e.x,e.scaleX,e.scale,e.originX),fT(t.y,e.y,e.scaleY,e.scale,e.originY)}function kx(t,e){return xx(Wj(t.getBoundingClientRect(),e))}function Zj(t,e,n){const r=kx(t,n),{scroll:s}=e;return s&&(la(r.x,s.offset.x),la(r.y,s.offset.y)),r}const bx=({current:t})=>t?t.ownerDocument.defaultView:null,pT=(t,e)=>Math.abs(t-e);function e3(t,e){const n=pT(t.x,e.x),r=pT(t.y,e.y);return Math.sqrt(n**2+r**2)}class Nx{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Lp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=e3(_.offset,{x:0,y:0})>=3;if(!E&&!S)return;const{point:A}=_,{timestamp:N}=Bt;this.history.push({...A,timestamp:N});const{onStart:R,onMove:V}=this.handlers;E||(R&&R(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Vp(E,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:S,onSessionEnd:A,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Lp(_.type==="pointercancel"?this.lastMoveEventInfo:Vp(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,R),A&&A(_,R)},!Xg(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=Lu(e),h=Vp(l,this.transformPagePoint),{point:d}=h,{timestamp:p}=Bt;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Lp(h,this.history)),this.removeListeners=Vu(Ql(this.contextWindow,"pointermove",this.handlePointerMove),Ql(this.contextWindow,"pointerup",this.handlePointerUp),Ql(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cs(this.updatePoint)}}function Vp(t,e){return e?{point:e(t.point)}:t}function mT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lp({point:t},e){return{point:t,delta:mT(t,Dx(e)),offset:mT(t,t3(e)),velocity:n3(e,.1)}}function t3(t){return t[0]}function Dx(t){return t[t.length-1]}function n3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Dx(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>oi(e)));)n--;if(!r)return{x:0,y:0};const a=ai(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function r3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function gT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function i3(t,{top:e,left:n,bottom:r,right:s}){return{x:gT(t.x,n,s),y:gT(t.y,e,r)}}function yT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function s3(t,e){return{x:yT(t.x,e.x),y:yT(t.y,e.y)}}function o3(t,e){let n=.5;const r=un(t),s=un(e);return s>r?n=Sa(e.min,e.max-r,t.min):r>s&&(n=Sa(t.min,t.max-s,e.min)),pi(0,1,n)}function a3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Om=.35;function l3(t=Om){return t===!1?t=0:t===!0&&(t=Om),{x:vT(t,"left","right"),y:vT(t,"top","bottom")}}function vT(t,e,n){return{min:_T(t,e),max:_T(t,n)}}function _T(t,e){return typeof t=="number"?t:t[e]||0}const u3=new WeakMap;class c3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lu(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:S,onDragStart:A}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rM(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(R=>{let V=this.getAxisMotionValue(R).get()||0;if(Nr.test(V)){const{projection:U}=this.visualElement;if(U&&U.layout){const F=U.layout.layoutBox[R];F&&(V=un(F)*(parseFloat(V)/100))}}this.originPoint[R]=V}),A&&et.postRender(()=>A(g,_)),Im(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:A,onDrag:N}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=_;if(S&&this.currentDirection===null){this.currentDirection=h3(R),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),N&&N(g,_)},h=(g,_)=>this.stop(g,_),d=()=>Hn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Nx(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:bx(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&et.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ah(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=r3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&sa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=i3(s.layoutBox,n):this.constraints=!1,this.elastic=l3(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=a3(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Zj(r,s.root,this.visualElement.getTransformPagePoint());let l=s3(s.layout.layoutBox,a);if(n){const h=n(Hj(l));this.hasMutatedConstraints=!!h,h&&(l=xx(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=Hn(g=>{if(!ah(g,n,this.currentDirection))return;let _=d&&d[g]||{};l&&(_={min:0,max:0});const E=s?200:1e6,S=s?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,A)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Im(this.visualElement,e),r.start(vy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!ah(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:h}=s.layout.layoutBox[n];a.set(e[n]-ht(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const d=h.get();s[l]=o3({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(l=>{if(!ah(l,e,null))return;const h=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];h.set(ht(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;u3.set(this.visualElement,this);const e=this.visualElement.current,n=Ql(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();sa(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const l=mu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=d[g].translate,_.set(_.get()+d[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Om,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function ah(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function h3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class d3 extends ps{constructor(e){super(e),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new c3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const wT=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class f3 extends ps{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(e){this.session=new Nx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:wT(e),onStart:wT(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&et.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Ql(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=TT(t,e.target.x),r=TT(t,e.target.y);return`${n}% ${r}%`}},p3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=hs.parse(t);if(s.length>5)return r;const a=hs.createTransformer(t),l=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=h,s[1+l]/=d;const p=ht(h,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class m3 extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;bM(g3),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||et.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Vx(t){const[e,n]=gS(),r=O.useContext(Fg);return T.jsx(m3,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(bS),isPresent:e,safeToRemove:n})}const g3={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:p3};function y3(t,e,n){const r=en(t)?t:uu(t);return r.start(vy("",r,e,n)),r.animation}function v3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const _3=(t,e)=>t.depth-e.depth;class w3{constructor(){this.children=[],this.isDirty=!1}add(e){$g(this.children,e),this.isDirty=!0}remove(e){Hg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_3),this.isDirty=!1,this.children.forEach(e)}}function T3(t,e){const n=br.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(cs(r),t(a-e))};return et.read(r,!0),()=>cs(r)}const Lx=["TopLeft","TopRight","BottomLeft","BottomRight"],E3=Lx.length,ET=t=>typeof t=="string"?parseFloat(t):t,IT=t=>typeof t=="number"||xe.test(t);function I3(t,e,n,r,s,a){s?(t.opacity=ht(0,n.opacity!==void 0?n.opacity:1,S3(r)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,x3(r))):a&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<E3;l++){const h=`border${Lx[l]}Radius`;let d=ST(e,h),p=ST(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||IT(d)===IT(p)?(t[h]=Math.max(ht(ET(d),ET(p),r),0),(Nr.test(p)||Nr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function ST(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const S3=Ox(0,.5,JS),x3=Ox(.5,.95,bn);function Ox(t,e,n){return r=>r<t?0:r>e?1:n(Sa(t,e,r))}function xT(t,e){t.min=e.min,t.max=e.max}function $n(t,e){xT(t.x,e.x),xT(t.y,e.y)}function CT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function AT(t,e,n,r,s){return t-=e,t=Qh(t,1/n,r),s!==void 0&&(t=Qh(t,1/s,r)),t}function C3(t,e=0,n=1,r=.5,s,a=t,l=t){if(Nr.test(e)&&(e=parseFloat(e),e=ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=ht(a.min,a.max,r);t===a&&(h-=e),t.min=AT(t.min,e,n,h,s),t.max=AT(t.max,e,n,h,s)}function PT(t,e,[n,r,s],a,l){C3(t,e[n],e[r],e[s],e.scale,a,l)}const A3=["x","scaleX","originX"],P3=["y","scaleY","originY"];function RT(t,e,n,r){PT(t.x,e,A3,n?n.x:void 0,r?r.x:void 0),PT(t.y,e,P3,n?n.y:void 0,r?r.y:void 0)}function kT(t){return t.translate===0&&t.scale===1}function Mx(t){return kT(t.x)&&kT(t.y)}function bT(t,e){return t.min===e.min&&t.max===e.max}function R3(t,e){return bT(t.x,e.x)&&bT(t.y,e.y)}function NT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jx(t,e){return NT(t.x,e.x)&&NT(t.y,e.y)}function DT(t){return un(t.x)/un(t.y)}function VT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class k3{constructor(){this.members=[]}add(e){$g(this.members,e),e.scheduleRender()}remove(e){if(Hg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b3(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:S,skewY:A}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),S&&(r+=`skewX(${S}deg) `),A&&(r+=`skewY(${A}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Op=["","X","Y","Z"],N3={visibility:"hidden"},LT=1e3;let D3=0;function Mp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Fx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Fx(r)}function Ux({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},h=e==null?void 0:e()){this.id=D3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(O3),this.nodes.forEach(B3),this.nodes.forEach(z3),this.nodes.forEach(M3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new w3)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new qg),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const d=this.eventHandlers.get(l);d&&d.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v3(l),this.instance=l;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=T3(E,250),Eh.hasAnimatedSinceResize&&(Eh.hasAnimatedSinceResize=!1,this.nodes.forEach(MT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||K3,{onLayoutAnimationStart:R,onLayoutAnimationComplete:V}=g.getProps(),U=!this.targetLayout||!jx(this.targetLayout,A),F=!E&&S;if(this.options.layoutRoot||this.resumeFrom||F||E&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,F);const Q={...Kg(N,"layout"),onPlay:R,onComplete:V};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else E||MT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OT);return}this.isUpdating||this.nodes.forEach(F3),this.isUpdating=!1,this.nodes.forEach(U3),this.nodes.forEach(V3),this.nodes.forEach(L3),this.clearAllSnapshots();const h=br.now();Bt.delta=pi(0,1e3/60,h-Bt.timestamp),Bt.timestamp=h,Bt.isProcessing=!0,Pp.update.process(Bt),Pp.preRender.process(Bt),Pp.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j3),this.sharedNodes.forEach(H3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Mx(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(h||Hs(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return l&&(d=this.removeTransform(d)),G3(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:h}=this.options;if(!h)return vt();const d=h.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(Q3))){const{scroll:g}=this.root;g&&(la(d.x,g.offset.x),la(d.y,g.offset.y))}return d}removeElementScroll(l){var h;const d=vt();if($n(d,l),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&$n(d,l),la(d.x,_.offset.x),la(d.y,_.offset.y))}return d}applyTransform(l,h=!1){const d=vt();$n(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ua(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Hs(g.latestValues)&&ua(d,g.latestValues)}return Hs(this.latestValues)&&ua(d,this.latestValues),d}removeTransform(l){const h=vt();$n(h,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Hs(p.latestValues))continue;Vm(p.latestValues)&&p.updateSnapshot();const g=vt(),_=p.measurePageBox();$n(g,_),RT(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Hs(this.latestValues)&&RT(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Xl(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),Rx(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Xl(this.relativeTargetOrigin,this.target,S.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vm(this.parent.latestValues)||Px(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;$n(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;Jj(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=vt());const{target:A}=h;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CT(this.prevProjectionDelta.x,this.projectionDelta.x),CT(this.prevProjectionDelta.y,this.projectionDelta.y)),Yl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!VT(this.projectionDelta.x,this.prevProjectionDelta.x)||!VT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=aa(),this.projectionDelta=aa(),this.projectionDeltaWithTransform=aa()}setAnimationOrigin(l,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},_=aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=vt(),S=d?d.source:void 0,A=this.layout?this.layout.source:void 0,N=S!==A,R=this.getStack(),V=!R||R.members.length<=1,U=!!(N&&!V&&this.options.crossfade===!0&&!this.path.some(q3));this.animationProgress=0;let F;this.mixTargetDelta=Q=>{const Y=Q/1e3;jT(_.x,l.x,Y),jT(_.y,l.y,Y),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W3(this.relativeTarget,this.relativeTargetOrigin,E,Y),F&&R3(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=vt()),$n(F,this.relativeTarget)),N&&(this.animationValues=g,I3(g,p,this.latestValues,Y,U,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Eh.hasAnimatedSinceResize=!0,this.currentAnimation=y3(0,LT,{...l,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=l;if(!(!h||!d||!p)){if(this!==l&&this.layout&&p&&Bx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||vt();const _=un(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+_;const E=un(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+E}$n(h,d),ua(h,g),Yl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new k3),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:h}=this.options;return h?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:h}=this.options;return h?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Mp("z",l,p,this.animationValues);for(let g=0;g<Op.length;g++)Mp(`rotate${Op[g]}`,l,p,this.animationValues),Mp(`skew${Op[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N3;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Th(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Th(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Hs(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=b3(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x:S,y:A}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${A.origin*100}% 0`,_.animationValues?p.opacity=_===this?(d=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const N in hu){if(E[N]===void 0)continue;const{correct:R,applyTo:V,isCSSVariable:U}=hu[N],F=p.transform==="none"?E[N]:R(E[N],_);if(V){const Q=V.length;for(let Y=0;Y<Q;Y++)p[V[Y]]=F}else U?this.options.visualElement.renderState.vars[N]=F:p[N]=F}return this.options.layoutId&&(p.pointerEvents=_===this?Th(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var h;return(h=l.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(OT),this.root.sharedNodes.clear()}}}function V3(t){t.updateLayout()}function L3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Hn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],S=un(E);E.min=r[_].min,E.max=E.min+S}):Bx(a,n.layoutBox,r)&&Hn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],S=un(r[_]);E.max=E.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const h=aa();Yl(h,r,n.layoutBox);const d=aa();l?Yl(d,t.applyTransform(s,!0),n.measuredBox):Yl(d,r,n.layoutBox);const p=!Mx(h);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:S}=_;if(E&&S){const A=vt();Xl(A,n.layoutBox,E.layoutBox);const N=vt();Xl(N,r,S.layoutBox),jx(A,N)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=A,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function O3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function M3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function j3(t){t.clearSnapshot()}function OT(t){t.clearMeasurements()}function F3(t){t.isLayoutDirty=!1}function U3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function B3(t){t.resolveTargetDelta()}function z3(t){t.calcProjection()}function $3(t){t.resetSkewAndRotation()}function H3(t){t.removeLeadSnapshot()}function jT(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FT(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function W3(t,e,n,r){FT(t.x,e.x,n.x,r),FT(t.y,e.y,n.y,r)}function q3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K3={duration:.45,ease:[.4,0,.1,1]},UT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BT=UT("applewebkit/")&&!UT("chrome/")?Math.round:bn;function zT(t){t.min=BT(t.min),t.max=BT(t.max)}function G3(t){zT(t.x),zT(t.y)}function Bx(t,e,n){return t==="position"||t==="preserve-aspect"&&!Yj(DT(e),DT(n),.2)}function Q3(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Y3=Ux({attachResizeListener:(t,e)=>mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jp={current:void 0},zx=Ux({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jp.current){const t=new Y3({});t.mount(window),t.setOptions({layoutScroll:!0}),jp.current=t}return jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),X3={pan:{Feature:f3},drag:{Feature:d3,ProjectionNode:zx,MeasureLayout:Vx}};function $T(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&et.postRender(()=>a(e,Lu(e)))}class J3 extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=sM(e,(n,r)=>($T(this.node,r,"Start"),s=>$T(this.node,s,"End"))))}unmount(){}}class Z3 extends ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vu(mu(this.node.current,"focus",()=>this.onFocus()),mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&et.postRender(()=>a(e,Lu(e)))}class eF extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=uM(e,(n,r)=>(HT(this.node,r,"Start"),(s,{success:a})=>HT(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mm=new WeakMap,Fp=new WeakMap,tF=t=>{const e=Mm.get(t.target);e&&e(t)},nF=t=>{t.forEach(tF)};function rF({root:t,...e}){const n=t||document;Fp.has(n)||Fp.set(n,{});const r=Fp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(nF,{root:t,...e})),r[s]}function iF(t,e,n){const r=rF(e);return Mm.set(t,n),r.observe(t),()=>{Mm.delete(t),r.unobserve(t)}}const sF={some:0,all:1};class oF extends ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:sF[s]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(d)};return iF(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(aF(e,n))&&this.startObserver()}unmount(){}}function aF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lF={inView:{Feature:oF},tap:{Feature:eF},focus:{Feature:Z3},hover:{Feature:J3}},uF={layout:{ProjectionNode:zx,MeasureLayout:Vx}},jm={current:null},$x={current:!1};function cF(){if($x.current=!0,!!Bg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jm.current=t.matches;t.addListener(e),e()}else jm.current=!1}const hF=[...fx,Xt,hs],dF=t=>hF.find(dx(t)),fF=new WeakMap;function pF(t,e,n){for(const r in e){const s=e[r],a=n[r];if(en(s))t.addValue(r,s);else if(en(a))t.addValue(r,uu(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,uu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const WT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=my,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=br.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,et.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Nd(n),this.isVariantNode=RS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const A=E[S];d[S]!==void 0&&en(A)&&A.set(d[S],!1)}}mount(e){this.current=e,fF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$x.current||cF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cs(this.notifyUpdate),cs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=co.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xa){const n=xa[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WT.length;r++){const s=WT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=pF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(cx(s)||ex(s))?s=parseFloat(s):!dF(s)&&hs.test(n)&&(s=ax(e,n)),this.setBaseTarget(e,en(s)?s.get():s)),en(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=uy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!en(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Hx extends mF{constructor(){super(...arguments),this.KeyframeResolver=px}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gF(t){return window.getComputedStyle(t)}class yF extends Hx{constructor(){super(...arguments),this.type="html",this.renderInstance=US}readValueFromInstance(e,n){if(co.has(n))return P4(e,n);{const r=gF(e),s=(ty(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kx(e,n)}build(e,n,r){iy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cy(e,n,r)}}class vF extends Hx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&FS(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(co.has(n)){const r=ox(n);return r&&r.default||0}return n=BS.has(n)?n:ey(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return $S(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&et.postRender(this.updateDimensions)}build(e,n,r){ay(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){zS(e,n,r,s)}mount(e){this.isSVGTag=ly(e.tagName),super.mount(e)}}const _F=(t,e)=>oy(t)?new vF(e):new yF(e,{allowProjection:t!==O.Fragment}),wF=t4({...zj,...lF,...X3,...uF},_F),Re=yM(wF);var Wx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qT=qe.createContext&&qe.createContext(Wx),TF=["attr","size","title"];function EF(t,e){if(t==null)return{};var n=IF(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){SF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SF(t,e,n){return e=xF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xF(t){var e=CF(t,"string");return typeof e=="symbol"?e:e+""}function CF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qx(t){return t&&t.map((e,n)=>qe.createElement(e.tag,Xh({key:n},e.attr),qx(e.child)))}function jr(t){return e=>qe.createElement(AF,Yh({attr:Xh({},t.attr)},e),qx(t.child))}function AF(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=EF(t,TF),h=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),qe.createElement("svg",Yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:Xh(Xh({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&qe.createElement("title",null,a),t.children)};return qT!==void 0?qe.createElement(qT.Consumer,null,n=>e(n)):e(Wx)}function PF(t){return jr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function RF(t){return jr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function kF(t){return jr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function bF(t){return jr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function NF(t){return jr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"},child:[]}]})(t)}function DF(t){return jr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3V2"},child:[]},{tag:"path",attr:{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5"},child:[]},{tag:"path",attr:{d:"M2 14h12a2 2 0 0 1 0 4h-2"},child:[]},{tag:"path",attr:{d:"M4 10h16"},child:[]},{tag:"path",attr:{d:"M5 10a7 7 0 0 1 14 0"},child:[]},{tag:"path",attr:{d:"M5 14v6a1 1 0 0 1-1 1H2"},child:[]}]})(t)}function VF(t){return jr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}function LF(t){return jr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{width:"3",height:"9",x:"7",y:"7"},child:[]},{tag:"rect",attr:{width:"3",height:"5",x:"14",y:"7"},child:[]}]})(t)}function OF(t){return jr({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Image_Off"},child:[{tag:"path",attr:{d:"M19.937,14.218l0,-8.654c0,-0.829 -0.672,-1.5 -1.5,-1.5l-10.628,-0c-0.276,-0 -0.5,-0.225 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l10.628,-0c1.38,-0 2.5,1.118 2.5,2.5l0,10.624c0,0.276 -0.224,0.5 -0.5,0.501c-0.276,-0 -0.5,-0.225 -0.5,-0.5l0,-0.556l-4.583,-4.584c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.162,0.162 2.37,2.37 3.876,3.876Zm-0.121,6.304c-0.395,0.262 -0.869,0.415 -1.379,0.415l-12.874,-0c-1.381,-0 -2.5,-1.119 -2.5,-2.5l0,-12.873c0,-0.51 0.153,-0.984 0.414,-1.38l-0.263,-0.263c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.088,0.088 0.176,0.176 0.263,0.263c0.245,0.245 16.095,16.094 16.339,16.338l0.263,0.263c0.455,0.456 -0.252,1.163 -0.707,0.707c-0.088,-0.087 -0.175,-0.175 -0.263,-0.263Zm-11.104,-11.103l-2.001,-2.001c-0.094,0.196 -0.146,0.415 -0.146,0.647c-0,0.829 0.672,1.5 1.5,1.5c0.232,-0 0.451,-0.052 0.647,-0.146Zm-2.733,-2.733l-1.77,-1.77c-0.093,0.196 -0.146,0.416 -0.146,0.648l0,10.717l1.926,-1.926c0.587,-0.586 1.536,-0.586 2.122,-0l0.555,0.554c0.195,0.196 0.511,0.196 0.706,0l2.415,-2.415l-2.343,-2.343c-0.395,0.262 -0.869,0.414 -1.379,0.414c-1.38,-0 -2.5,-1.119 -2.5,-2.5c-0,-0.509 0.152,-0.983 0.414,-1.379Zm-1.916,11.009l0,0.741c0,0.829 0.671,1.5 1.5,1.5l12.874,0c0.232,0 0.451,-0.052 0.647,-0.145c-0.165,-0.165 -3.264,-3.263 -6.59,-6.59l-2.414,2.415c-0.585,0.586 -1.537,0.586 -2.122,0l-0.554,-0.554c-0.195,-0.196 -0.512,-0.196 -0.708,0l-2.633,2.633Z"},child:[]}]}]})(t)}const MF="/new-mainlogo.svg",jF="/cat_profile.svg",FF=()=>{const t=vu(),e=pS(t),[n,r]=O.useState("dashboard"),[s,a]=O.useState(!1),[l,h]=O.useState([]),[d,p]=O.useState({name:"",price:0,quantity:0,image:null,_id:null,imageURL:"",category:""}),[g,_]=O.useState(!1),[E,S]=O.useState(!1),[A,N]=O.useState(null),[R,V]=O.useState(""),[U,F]=O.useState(""),[Q,Y]=O.useState(""),[Z,k]=O.useState(""),x=[{orderNumber:"22-5714-674",dateOrdered:"7/16/2024, 1:22:16 AM",status:"Completed",product:"Fried Chicken",quantity:"1x",totalPrice:"50.00"}],[P,L]=O.useState([{orderNumber:"19-4566-878",name:"James Bond",totalAmount:"100.00",products:"Fried Chicken, Burger, Rice",status:"Pending",paymentMode:"Cash"},{orderNumber:"20-3454-654",name:"Steve Harvey",totalAmount:"200.00",products:"Pasta, Salad",status:"Pending",paymentMode:"G-Cash"},{orderNumber:"21-7784-123",name:"Clark Kent",totalAmount:"150.00",products:"Fried Chicken, Fries, Soda",status:"Pending",paymentMode:"Cash"}]),[j,z]=O.useState(""),[D,$e]=O.useState(""),[tt,it]=O.useState(""),Te=async()=>{if(D!==tt){ke.error("New password and confirm password do not match.");return}try{const ae=bu.currentUser;if(!ae){ke.error("No user is currently logged in.");return}const Ge=rs.credential(ae.email,j);await l_(ae,Ge);const st=rs.credential(ae.email,D);try{await l_(ae,st),ke.error("New password cannot be the same as the current password.");return}catch{console.log("Password is new.")}await a2(ae,D),ke.success(`Password updated successfully!
Please log in again.`),setTimeout(()=>{Cw(t)},3e3)}catch(ae){console.error("Error updating password:",ae.message),ke.error(T.jsxs(T.Fragment,{children:[" Failed to update password: ",T.jsx("br",{})," ",ae.message," "]}))}},re=(ae,Ge)=>{const st=[...P];st[ae].status=Ge,L(st)},ge=()=>{console.log("Downloading report...")};if(O.useEffect(()=>{sessionStorage.getItem("hasLoggedIn")==="true"&&(setTimeout(()=>{ke.success("Login successful!")},500),sessionStorage.removeItem("hasLoggedIn"))},[]),O.useEffect(()=>{const ae=dm(Fl,"menu"),Ge=OI(ae,st=>{const Nn=st.docs.map(nn=>({...nn.data(),_id:nn.id}));h(Nn)},st=>{console.error("Error fetching menu items:",st),ke.error("Failed to fetch menu items.")});return()=>Ge()},[]),e)return T.jsx("div",{children:"Loading..."});const ue=()=>{p({name:"",price:"",quantity:"",image:null,_id:null,imageURL:"",category:""}),_(!0)},$=ae=>{p({name:ae.name,price:ae.price,quantity:ae.quantity,image:null,_id:ae._id,imageURL:ae.imageURL,category:ae.category}),_(!0)},X=()=>{_(!1),p({name:"",image:"",price:0,quantity:0,category:""})},pe=ae=>{r(ae)},Ve=()=>{a(!s)},be=ae=>{const{name:Ge,value:st}=ae.target;p(Nn=>({...Nn,[Ge]:st}))},ee=async ae=>{ae.preventDefault();try{let Ge=null,st=null;if(d.image){const Wt=new FormData;Wt.append("file",d.image),Wt.append("upload_preset","wildcats_express_menu"),Wt.append("cloud_name","dxbkzby8x");const _i=await fetch("https://api.cloudinary.com/v1_1/dxbkzby8x/image/upload",{method:"POST",body:Wt});if(!_i.ok)throw new Error("Cloudinary upload failed");const Ur=await _i.json();Ge=Ur.secure_url,st=Ur.public_id}const Nn=dm(Fl,"menu"),nn={name:d.name,price:parseFloat(d.price),quantity:Number(d.quantity),imageURL:Ge||d.imageURL,publicID:st||"",category:d.category};if(d._id){const Wt=fm(Fl,"menu",d._id);await OV(Wt,nn),ke.success("Menu item updated successfully.")}else await jV(Nn,nn),ke.success("New menu item added successfully.");X()}catch(Ge){console.error("Error uploading menu item: ",Ge),ke.error("Failed to add menu item.")}},_e=ae=>{N(ae),S(!0)},de=ae=>{const Ge=ae.target.files[0];if(Ge){if(Ge.size>5*1024*1024){ke.error("Image file is too large. Max size is 5MB.");return}p(st=>({...st,image:Ge}))}},Le=async()=>{if(!A){console.error("No item selected for deletion.");return}try{const ae=fm(Fl,"menu",A);await MV(ae),h(Ge=>Ge.filter(st=>st._id!==A)),N(null),ke.success("Menu item deleted successfully.",{autoClose:5e3})}catch(ae){console.error("Error deleting menu item:",ae),ke.error("Failed to delete menu item. Please try again.",{autoClose:5e3})}finally{S(!1)}},Ke=()=>T.jsxs("div",{className:"add-menu-container",children:[T.jsx("button",{onClick:ue,className:"add-menu-button",children:"Add New Menu"}),g&&T.jsx("div",{className:"modal-overlay-menu",children:T.jsxs("div",{className:"modal-menu",children:[T.jsx("h2",{children:d._id?"Edit Item":"Add New Item"}),T.jsxs("form",{onSubmit:ee,children:[T.jsx("input",{type:"text",name:"name",value:d.name,onChange:be,placeholder:"Item Name",required:!0}),T.jsx("input",{type:"number",name:"price",value:d.price,onChange:be,placeholder:"Price",min:"0",step:"0.01",required:!0}),T.jsx("input",{type:"number",name:"quantity",value:d.quantity,onChange:be,placeholder:"Quantity",min:"0",step:"1",required:!0}),T.jsx("input",{type:"text",name:"category",value:d.category,onChange:be,placeholder:"Category",required:!0}),!d._id&&T.jsxs("div",{className:"file-input-container",children:[T.jsx("label",{htmlFor:"image",children:"Choose Image:"}),T.jsx("input",{className:"input-image",type:"file",id:"image",name:"image",onChange:de,accept:"image/*"})]}),d.image&&T.jsxs("div",{className:"image-preview",children:[T.jsx("img",{src:URL.createObjectURL(d.image),alt:"Preview",className:"image-preview-img"}),T.jsx("p",{children:d.image.name})]}),T.jsxs("div",{className:"modal-actions-menu",children:[T.jsx("button",{type:"submit",children:"Save"}),T.jsx("button",{type:"button",onClick:X,children:"Cancel"})]})]})]})})]}),Tn=()=>T.jsx(T.Fragment,{children:T.jsx("div",{className:"menu-items",children:l.map(ae=>T.jsxs("div",{className:"menu-item",children:[T.jsx("div",{className:"menu-image-container",children:ae.imageURL?T.jsx("img",{src:ae.imageURL,alt:ae.name,className:"menu-image"}):T.jsx("div",{className:"menu-image-placeholder",children:T.jsx(OF,{className:"no-image-icon"})})}),T.jsxs("div",{className:"menu-details",children:[T.jsx("div",{className:"menu-name",children:ae.name}),T.jsxs("div",{className:"menu-price",children:["Php ",Number(ae.price).toFixed(2)]}),T.jsxs("div",{className:"menu-quantity",children:["Quantity: ",ae.quantity]})]}),T.jsxs("div",{className:"menu-actions",children:[T.jsx("button",{className:"action-link-edit",onClick:()=>$(ae),children:"Edit"}),T.jsx("button",{className:"action-link-delete",onClick:()=>_e(ae._id),children:"Delete"}),E&&T.jsx("div",{className:"modal-overlay-delete",children:T.jsxs("div",{className:"modal-delete",children:[T.jsx("p",{children:"Are you sure you want to delete this menu item?"}),T.jsxs("div",{className:"modal-actions-delete",children:[T.jsx("button",{onClick:()=>Le(),children:"Yes"}),T.jsx("button",{onClick:()=>{S(!1),N(null)},children:"No"})]})]})})]})]},ae._id))})}),yi=()=>T.jsxs("div",{className:"dashboard-container-admin",children:[T.jsxs("div",{className:"orders-wrapper",children:[T.jsxs("div",{className:"order-line-container",children:[T.jsx("h3",{children:"Order Line"}),T.jsx("br",{}),T.jsxs("div",{className:"order-cards",children:[T.jsxs("div",{className:"order-card",children:[T.jsxs("div",{className:"order-card-header",children:[T.jsx("div",{className:"school-id",children:"19-4566-878"}),T.jsx("div",{className:"order-id",children:"Order #1"})]}),T.jsxs("div",{className:"order-details",children:[T.jsx("p",{children:"James Bond"}),T.jsxs("div",{className:"order-status",children:[T.jsx("span",{children:T.jsx("p",{children:"In Progress"})}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress",style:{width:"90%"}})}),T.jsx("span",{className:"progress-percentage",children:"90%"})]})]})]}),T.jsxs("div",{className:"order-card",children:[T.jsxs("div",{className:"order-card-header",children:[T.jsx("div",{className:"school-id",children:"20-3454-654"}),T.jsx("div",{className:"order-id",children:"Order #2"})]}),T.jsxs("div",{className:"order-details",children:[T.jsx("p",{children:"Steve Harvey"}),T.jsxs("div",{className:"order-status",children:[T.jsx("span",{children:T.jsx("p",{children:"In Progress"})}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress",style:{width:"50%"}})}),T.jsx("span",{className:"progress-percentage",children:"50%"})]})]})]}),T.jsxs("div",{className:"order-card",children:[T.jsxs("div",{className:"order-card-header",children:[T.jsx("div",{className:"school-id",children:"19-4566-878"}),T.jsx("div",{className:"order-id",children:"Order #3"})]}),T.jsxs("div",{className:"order-details",children:[T.jsx("p",{children:"Clark Johnson"}),T.jsxs("div",{className:"order-status",children:[T.jsx("span",{children:T.jsx("p",{children:"In Progress"})}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress",style:{width:"68%"}})}),T.jsx("span",{className:"progress-percentage",children:"68%"})]})]})]}),T.jsxs("div",{className:"order-card",children:[T.jsxs("div",{className:"order-card-header",children:[T.jsx("div",{className:"school-id",children:"22-4535-765"}),T.jsx("div",{className:"order-id",children:"Order #4"})]}),T.jsxs("div",{className:"order-details",children:[T.jsx("p",{children:"Steve Rogers"}),T.jsxs("div",{className:"order-status",children:[T.jsx("span",{children:T.jsx("p",{children:"In Progress"})}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress",style:{width:"30%"}})}),T.jsx("span",{className:"progress-percentage",children:"30%"})]})]})]})]})]}),T.jsxs("div",{className:"current-order-container",children:[T.jsx("h3",{children:"Current Order"}),T.jsx("br",{}),T.jsxs("div",{className:"current-order-card",children:[T.jsx("h4",{children:"Recipient: Dave Miller"}),T.jsx("p",{children:"School ID:"}),T.jsx("p",{children:"#123456789"}),T.jsx("br",{}),T.jsxs("div",{className:"current-order-card-bottom",children:[T.jsx("span",{children:"Order#: 4"}),T.jsx("span",{children:"Items: 8"})]})]})]})]}),T.jsxs("div",{className:"popular-picks-container",children:[T.jsx("h2",{children:"Popular Picks"}),T.jsx("br",{}),T.jsxs("div",{className:"popular-picks",children:[T.jsx("div",{className:"pick",children:T.jsxs("div",{className:"pick-name-price",children:[T.jsx("span",{className:"pick-name",children:"Fried Chicken"}),T.jsx("span",{className:"pick-price",children:"50.00"})]})}),T.jsx("div",{className:"pick",children:T.jsxs("div",{className:"pick-name-price",children:[T.jsx("span",{className:"pick-name",children:"Bulalo"}),T.jsx("span",{className:"pick-price",children:"100.00"})]})}),T.jsx("div",{className:"pick",children:T.jsxs("div",{className:"pick-name-price",children:[T.jsx("span",{className:"pick-name",children:"Longganisa"}),T.jsx("span",{className:"pick-price",children:"80.00"})]})}),T.jsx("div",{className:"pick",children:T.jsxs("div",{className:"pick-name-price",children:[T.jsx("span",{className:"pick-name",children:"Rice"}),T.jsx("span",{className:"pick-price",children:"10.00"})]})})]})]})]}),pr=()=>T.jsx("div",{className:"orders-modal",children:T.jsxs("table",{className:"orders-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Order Number"}),T.jsx("th",{children:"Name"}),T.jsx("th",{children:"Total Amount"}),T.jsx("th",{children:"Products"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Mode of Payment"})]})}),T.jsx("tbody",{children:P.map((ae,Ge)=>T.jsxs("tr",{children:[T.jsx("td",{children:ae.orderNumber}),T.jsx("td",{children:ae.name}),T.jsx("td",{children:ae.totalAmount}),T.jsx("td",{children:ae.products}),T.jsx("td",{children:T.jsxs("select",{value:ae.status,onChange:st=>re(Ge,st.target.value),children:[T.jsx("option",{value:"Pending",children:"Pending"}),T.jsx("option",{value:"Preparing",children:"Preparing"}),T.jsx("option",{value:"Ready to Pickup",children:"Ready to Pickup"}),T.jsx("option",{value:"Completed",children:"Completed"}),T.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),T.jsx("td",{children:ae.paymentMode})]},ae.orderNumber))})]})}),Fr=()=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"search-container",children:T.jsx("input",{type:"text",placeholder:"Search by Order Number, Date, Status, or Product",value:R,onChange:ae=>V(ae.target.value)})}),T.jsxs("div",{className:"filters-section",children:[T.jsx("span",{className:"filters-label",children:"Filters"}),T.jsxs("select",{value:U,onChange:ae=>F(ae.target.value),children:[T.jsx("option",{value:"",children:"Day"}),Array.from({length:31},(ae,Ge)=>T.jsx("option",{value:Ge+1,children:Ge+1},Ge+1))]}),T.jsxs("select",{value:Q,onChange:ae=>Y(ae.target.value),children:[T.jsx("option",{value:"",children:"Month"}),T.jsx("option",{value:"1",children:"January"}),T.jsx("option",{value:"2",children:"February"}),T.jsx("option",{value:"3",children:"March"}),T.jsx("option",{value:"4",children:"April"}),T.jsx("option",{value:"5",children:"May"}),T.jsx("option",{value:"6",children:"June"}),T.jsx("option",{value:"7",children:"July"}),T.jsx("option",{value:"8",children:"August"}),T.jsx("option",{value:"9",children:"September"}),T.jsx("option",{value:"10",children:"October"}),T.jsx("option",{value:"11",children:"November"}),T.jsx("option",{value:"12",children:"December"})]}),T.jsxs("select",{value:Z,onChange:ae=>k(ae.target.value),children:[T.jsx("option",{value:"",children:"Year"}),T.jsx("option",{value:"2025",children:"2025"}),T.jsx("option",{value:"2026",children:"2026"}),T.jsx("option",{value:"2026",children:"2027"}),T.jsx("option",{value:"2028",children:"2028"}),T.jsx("option",{value:"2029",children:"2029"}),T.jsx("option",{value:"2030",children:"2030"}),T.jsx("option",{value:"2031",children:"2031"}),T.jsx("option",{value:"2032",children:"2032"}),T.jsx("option",{value:"2033",children:"2033"}),T.jsx("option",{value:"2034",children:"2034"}),T.jsx("option",{value:"2035",children:"2035"})]}),T.jsx("button",{className:"download-button",onClick:ge,children:"Download Report"})]}),T.jsx("div",{className:"table-container",children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Order Number"}),T.jsx("th",{children:"Date Ordered"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Product"}),T.jsx("th",{children:"Quantity"}),T.jsx("th",{children:"Total Price"})]})}),T.jsx("tbody",{children:x.map(ae=>T.jsxs("tr",{children:[T.jsx("td",{children:ae.orderNumber}),T.jsx("td",{children:ae.dateOrdered}),T.jsx("td",{children:T.jsx("span",{className:`status-badge ${ae.status.toLowerCase()}`,children:ae.status})}),T.jsx("td",{children:ae.product}),T.jsx("td",{children:ae.quantity}),T.jsx("td",{children:ae.totalPrice})]},ae.orderNumber))})]})})]}),vi=()=>T.jsx(T.Fragment,{children:T.jsx("div",{className:"settings-modal",children:T.jsx("div",{className:"settings-content",children:T.jsxs("form",{onSubmit:ae=>{ae.preventDefault(),Te()},children:[T.jsx("label",{children:"Old Password:"}),T.jsx("input",{type:"password",placeholder:"Enter current password",value:j,required:!0,onChange:ae=>z(ae.target.value)}),T.jsx("label",{children:"New Password:"}),T.jsx("input",{type:"password",placeholder:"Enter new password",value:D,required:!0,onChange:ae=>$e(ae.target.value)}),T.jsx("label",{children:"Confirm Password:"}),T.jsx("input",{type:"password",placeholder:"Confirm new password",value:tt,required:!0,onChange:ae=>it(ae.target.value)}),T.jsx("button",{className:"save-btn",type:"submit",children:"Save Changes"})]})})})});return T.jsxs(T.Fragment,{children:[T.jsxs(Re.div,{className:"admin-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[T.jsxs("div",{className:"header",children:[T.jsxs("div",{className:"logo-container",children:[T.jsx("img",{src:MF,alt:"Wildcats Express Logo",className:"logo"}),T.jsx("h1",{children:T.jsx(ed,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})})]}),T.jsxs("div",{className:"profile-section",onClick:Ve,children:[T.jsx("img",{src:jF,alt:"Admin",className:"profile-photo"}),T.jsx("span",{className:"profile-name",children:"Admin"}),T.jsx(lu,{mode:"sync",children:s&&T.jsxs(Re.div,{className:"dropdown-menu",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[T.jsxs("div",{className:"dropdown-item",onClick:()=>pe("adminReports"),children:[T.jsx(RF,{})," Admin Reports"]}),T.jsxs("div",{className:"dropdown-item",onClick:()=>pe("analytics"),children:[T.jsx(PF,{})," Analytics"]}),T.jsxs("div",{className:"dropdown-item",onClick:()=>pe("settings"),children:[T.jsx(kF,{})," Settings"]}),T.jsxs("div",{className:"dropdown-item",onClick:()=>t("/pos-page"),children:[T.jsx(NF,{})," Customer"]}),T.jsxs("div",{className:"dropdown-item",onClick:()=>Cw(t),children:[T.jsx(bF,{})," Sign Out"]})]})})]})]}),T.jsx("div",{className:"sidebar",children:T.jsxs("nav",{children:[T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>pe("dashboard"),className:n==="dashboard"?"active":"",children:T.jsx(LF,{className:"dashboard-icon"})}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>pe("addMenu"),className:n==="addMenu"?"active":"",children:T.jsx(VF,{className:"addmenu-icon"})}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>pe("orders"),className:n==="orders"?"active":"",children:T.jsx(DF,{className:"orders-icon"})})]})}),T.jsx("div",{className:"main-content-admin",children:T.jsx(lu,{mode:"wait",children:T.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[n==="dashboard"&&T.jsxs(Re.div,{className:"dashboard",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h3",{children:"Welcome, Admin!"}),T.jsx("br",{}),T.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),T.jsx("div",{children:yi()})]}),n==="addMenu"&&T.jsxs(Re.div,{className:"add-menu",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h3",{children:"Welcome, Admin!"}),T.jsx("br",{}),T.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),T.jsx("br",{}),T.jsx("div",{children:Ke()}),T.jsx("br",{}),T.jsx("div",{children:Tn()})]}),n==="orders"&&T.jsxs(Re.div,{className:"orders",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h2",{children:"Orders"}),T.jsx("br",{}),T.jsx("div",{children:pr()})]}),n==="adminReports"&&T.jsxs(Re.div,{className:"admin-reports",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h2",{children:"Admin Reports"}),T.jsx("br",{}),T.jsx("div",{children:Fr()})]}),n==="analytics"&&T.jsx(Re.div,{className:"analytics",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:T.jsx("h2",{children:"Analytics"})}),n==="settings"&&T.jsxs(Re.div,{className:"settings",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h2",{children:"Settings"}),T.jsx("br",{}),T.jsx("div",{children:vi()})]}),n==="pos-page"&&T.jsx(Re.div,{className:"pos-page",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:T.jsx("h2",{children:"Backend please redirect this to /pos-page"})})]},n)})})]}),T.jsx(dS,{position:"top-center",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})},UF=()=>{const t=vu(),e=pS(t),[n,r]=O.useState({}),[s,a]=O.useState([]),[l,h]=O.useState("All"),[d,p]=O.useState(""),[g,_]=O.useState("menu"),[E,S]=O.useState(""),[A,N]=O.useState(!1),[R,V]=O.useState(""),[U,F]=O.useState(""),[Q,Y]=O.useState(""),[Z,k]=O.useState(null),[x,P]=O.useState(""),[L,j]=O.useState(null);if(O.useEffect(()=>{const ee=dm(Fl,"menu"),_e=OI(ee,de=>{const Le=de.docs.map(Ke=>({...Ke.data(),_id:Ke.id}));a(Le)},de=>{console.error("Error fetching menu items:",de),ke.error("Failed to fetch menu items.")});return()=>_e()},[]),O.useEffect(()=>{const ee=_e=>{_e.altKey&&_e.shiftKey&&_e.key==="A"&&t("/admin-page")};return document.addEventListener("keydown",ee),()=>{document.removeEventListener("keydown",ee)}},[t]),e)return T.jsx("div",{children:"Loading..."});const z=(ee,_e)=>{r(de=>({...de,[ee]:Math.max(1,(de[ee]||1)+_e)}))},D=ee=>{r(_e=>({..._e,[ee._id]:_e[ee._id]||1}))};s.filter(ee=>(l==="All"||ee.category===l)&&ee.name.toLowerCase().includes(d.toLowerCase()));const $e=ee=>{_(ee)},tt=()=>{if(!E){alert("Please enter your School ID before proceeding to checkout.");return}if(!R){alert("Please select a payment method before proceeding to checkout.");return}if(R==="gcash"){if(!U||parseFloat(U)<ue){alert("Please enter a valid amount paid.");return}if(!Q){alert("Please enter the GCash reference number.");return}}const ee=`WCE-${Date.now()}`;k(ee),alert(`Order Successful! Your order number is: ${ee}`),console.log("Order Number:",ee),console.log("Checkout successful with payment method:",R),R==="gcash"&&(console.log("Amount Paid:",U),console.log("GCash Reference Number:",Q)),r({}),F(""),Y(""),it()},it=()=>{N(!0)},Te=()=>{N(!1)},re=ee=>{r(_e=>{const de={..._e};return delete de[ee],de})},ge=ee=>{V(ee.target.value)},ue=Object.keys(n).reduce((ee,_e)=>{const de=s.find(Le=>Le._id===_e);return ee+(de?de.price*n[_e]:0)},0),$=ee=>{P(ee.target.value)},X=ee=>{S(ee.target.value)},pe=()=>T.jsx(T.Fragment,{children:T.jsxs(Re.div,{className:"menu-container-pos",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[T.jsx(Re.div,{className:"search-bar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:T.jsx("input",{type:"text",placeholder:"Search for food...",value:d,onChange:ee=>p(ee.target.value)})}),T.jsx(Re.div,{className:"category-filter",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:["All","Rice","Dishes","Coffee","Drinks","Snacks"].map(ee=>T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:l===ee?"active-category":"",onClick:()=>h(ee),children:ee},ee))}),T.jsx(Re.div,{className:"menu-grid",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:T.jsx(lu,{mode:"wait",children:s.filter(ee=>(l==="All"||ee.category===l)&&ee.name.toLowerCase().includes(d.toLowerCase())).map(ee=>T.jsxs(Re.div,{className:"menu-item-pos",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{scale:1.05},transition:{duration:.2},children:[T.jsx("img",{src:ee.imageURL,alt:ee.name,className:"item-img"}),T.jsx("h3",{className:"item-name",children:ee.name}),T.jsxs("p",{className:"item-price",children:["Php ",ee.price]}),T.jsxs("div",{className:"quantity-selector",children:[T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>z(ee._id,-1),children:"-"}),T.jsx("span",{children:n[ee._id]||0}),T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>z(ee._id,1),children:"+"})]}),T.jsx(Re.button,{className:"add-to-cart",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>D(ee),children:"Add to Cart"})]},ee._id))})})]})}),Ve=()=>T.jsxs("div",{className:"cart-container",children:[x&&T.jsxs("h3",{className:"client-name",children:[" ",x]}),T.jsx("h2",{className:"view-title",children:" Your Cart"}),T.jsxs("div",{className:"client-info-input",children:[T.jsx("label",{htmlFor:"client-name",children:"Full Name:"}),T.jsx("input",{type:"text",id:"client-name",placeholder:"Enter your Full Name",value:x,onChange:$})]}),T.jsxs("div",{className:"school-id-input",children:[T.jsx("label",{htmlFor:"school-id",children:"School ID Number:"}),T.jsx("input",{type:"text",id:"school-id",placeholder:"Enter your School ID",value:E,onChange:X})]}),A&&T.jsxs("div",{className:"confirmation-modal",children:[T.jsx("h3",{children:"Order Confirmed"}),T.jsx("p",{children:"Thank you for your purchase!"}),T.jsx("button",{onClick:Te,children:"Close"})]}),Object.keys(n).length===0?T.jsxs("div",{className:"empty-state-cart",children:[T.jsx("p",{children:"Your cart is empty"}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$e("menu"),className:"return-to-menu",children:" Return to Menu"})]}):T.jsxs("div",{className:"cart-items",children:[Object.keys(n).map(ee=>{const _e=s.find(de=>de._id===ee);return _e?T.jsxs(Re.div,{className:"cart-item",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[T.jsxs("div",{className:"cart-item-details",children:[T.jsx("h3",{children:_e.name}),T.jsxs("p",{children:["Php ",_e.price,"  ",n[ee]," = Php ",(_e.price*n[ee]).toFixed(2)]})]}),T.jsxs("div",{className:"cart-item-actions",children:[T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>z(ee,-1),children:"-"}),T.jsx("span",{children:n[ee]}),T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>z(ee,1),children:"+"}),T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>re(ee),className:"trash-button",children:""})]})]},ee):null}),T.jsxs("div",{className:"cart-summary",children:[T.jsxs("div",{className:"cart-total",children:[T.jsx("strong",{children:"Total:"}),T.jsxs("span",{children:["Php ",Object.keys(n).reduce((ee,_e)=>{const de=s.find(Le=>Le._id===_e);return ee+(de?de.price*n[_e]:0)},0).toFixed(2)]})]}),T.jsxs("div",{className:"payment-method",children:[T.jsx("h4",{children:"Select Payment Method:"}),T.jsxs("div",{className:"payment-options",children:[T.jsxs("label",{children:[T.jsx("input",{type:"radio",name:"payment",value:"cash",onChange:ge})," Cash "]}),T.jsxs("label",{children:[T.jsx("input",{type:"radio",name:"payment",value:"gcash",onChange:ge})," GCash "]})]}),R==="gcash"&&T.jsxs("div",{className:"gcash-fields",children:[T.jsx("label",{children:"Amount Paid:"}),T.jsx("input",{type:"number",placeholder:"Enter amount paid",value:U,onChange:ee=>F(ee.target.value)}),T.jsx("br",{}),T.jsx("label",{children:"GCash Reference Number:"}),T.jsx("input",{type:"text",placeholder:"Enter reference number",value:Q,onChange:ee=>Y(ee.target.value)})]})]}),T.jsx(Re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"checkout-button",onClick:tt,children:" Proceed to Checkout"}),T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>re(itemId),className:"trash-button"})]})]})]}),be=()=>{const ee=[{id:"19-3950-969",date:"February 14, 2025",items:[{name:"Fried Chicken",quantity:1,price:30},{name:"Chicken Adobo",quantity:1,price:80}],total:110,status:"Pending"},{id:"20-3950-969",date:"February 27, 2025",items:[{name:"Chicken Adobo",quantity:1,price:80},{name:"Bulalo",quantity:1,price:100}],total:180,status:"Pending"},{id:"18-3950-969",date:"February 28, 2025",items:[{name:"Chicken Adobo",quantity:2,price:80}],total:160,status:"Pending"}],_e=()=>{const de=["Pending","Preparing","Ready"],Le=ee.find(Ke=>Ke.id===Z&&de.includes(Ke.status));j(Le||null)};return T.jsxs("div",{className:"track-order",children:[T.jsx("h2",{className:"view-title",children:"Track Your Order"}),T.jsx("div",{className:"track-order-content",children:T.jsxs("form",{className:"order-tracking-form",onSubmit:de=>{de.preventDefault(),_e()},children:[T.jsx("label",{htmlFor:"orderNumber",className:"order-label",children:"Enter your order number:"}),T.jsx("input",{type:"text",id:"orderNumber",placeholder:"e.g., xx-xxxx-xx",className:"order-number-input",value:Z,onChange:de=>k(de.target.value)}),T.jsx(Re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"track-button",children:"Track Order"})]})}),L&&T.jsxs("div",{className:"tracked-order",children:[T.jsx("h2",{children:"Order Details"}),T.jsxs("p",{children:[T.jsx("strong",{children:"Order ID:"})," ",L.id]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Date Ordered:"})," ",L.date]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Total Amount:"})," ",L.total]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Status:"})," ",L.status]}),T.jsx("h3",{children:"Items Ordered:"}),T.jsx("ul",{children:L.items.map((de,Le)=>T.jsxs("li",{children:[de.name," (x",de.quantity,") - ",de.price]},Le))})]}),T.jsxs("div",{className:"recent-orders",children:[T.jsx("h2",{className:"orders-title-pos",children:"Recent Orders"}),T.jsx("div",{className:"orders-table-container-pos",children:T.jsxs("table",{className:"orders-table-pos",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Order ID"}),T.jsx("th",{children:"Date Ordered"}),T.jsx("th",{children:"Menus Ordered"}),T.jsx("th",{children:"Total Amount"}),T.jsx("th",{children:"Status"})]})}),T.jsx("tbody",{children:ee.map((de,Le)=>T.jsxs("tr",{children:[T.jsx("td",{children:de.id}),T.jsx("td",{children:de.date}),T.jsx("td",{children:de.items.map((Ke,Tn)=>T.jsxs("div",{children:[Ke.name," (x",Ke.quantity,") - ",Ke.price]},Tn))}),T.jsxs("td",{children:["",de.total]}),T.jsx("td",{className:"status",children:de.status})]},Le))})]})})]})]})};return T.jsxs(Re.div,{className:"pos-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[T.jsx(Re.header,{className:"navbar-pos",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:T.jsxs("div",{className:"logo-container-pos",children:[T.jsx("img",{src:"/new-mainlogo.svg",className:"new-logo",alt:"Wildcats Express"}),T.jsxs("span",{className:"title",children:[T.jsx("h1",{children:T.jsx(ed,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})}),T.jsx("small",{children:"CIT-UNIVERSITY"})]})]})}),T.jsxs("div",{className:"main-content-container",children:[T.jsxs(Re.aside,{className:"sidebar-pos",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.3},children:[T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:g==="menu"?"active-view-button":"",onClick:()=>$e("menu"),children:"Menu"}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:g==="cart"?"active-view-button":"",onClick:()=>$e("cart"),children:"Cart"}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:g==="trackOrder"?"active-view-button":"",onClick:()=>$e("trackOrder"),children:"Track Order"})]}),T.jsx("div",{className:"pos-page",children:T.jsxs(lu,{mode:"wait",children:["Menu Modal",g==="menu"&&T.jsx(Re.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:T.jsx("div",{children:pe()})},"menu-view"),"Cart Modal",g==="cart"&&T.jsx(Re.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:T.jsx("div",{children:Ve()})},"cart-view"),"TrackOrder Modal",g==="trackOrder"&&T.jsx(Re.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:T.jsx("div",{children:be()})},"track-order-view")]})})]})]})},BF=()=>{const{name:t,profilePhoto:e,userID:n,isAuth:r}=JSON.parse(localStorage.getItem("auth"))||{};return{name:t,profilePhoto:e,userID:n,isAuth:r}},zF="/assets/thinking-cat-Def_mMOd.svg";function $F(t){return jr({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M7.987 8.5l6.146 6.146-0.707 0.707-6.853-6.853 6.854-6.854 0.707 0.707-6.147 6.147zM9.29 2.353l-0.707-0.707-6.854 6.854 6.854 6.854 0.707-0.707-6.146-6.147 6.146-6.147z"},child:[]}]})(t)}const HF=()=>{const t=vu(),e=BO(t);BF();const[n,r]=O.useState(""),[s,a]=O.useState(""),[l,h]=O.useState(!1);if(e)return T.jsx("div",{children:"Loading..."});const d={exit:{scale:.95,opacity:0,rotate:[0,-5],y:-50,transition:{duration:.4,ease:"easeInOut"}}},p=async _=>{_.preventDefault(),ke.dismiss();try{await UO(n,s),h(!0),ke.success("Login successful!",{autoClose:3e3}),sessionStorage.setItem("hasLoggedIn","true"),setTimeout(()=>{t("/admin-page")},3e3)}catch(E){console.error("Login failed: ",E.message),ke.error(`${E.message}`)}},g=()=>{t("/")};return T.jsxs(T.Fragment,{children:[T.jsx(lu,{children:!l&&T.jsx(Re.div,{className:"login-page",initial:{opacity:1},animate:{opacity:1},exit:d.exit,variants:d,children:T.jsxs("div",{className:"login-container",children:[T.jsx(Re.div,{className:"back-button",whileHover:{scale:1.1},whileTap:{scale:.9},children:T.jsx("button",{type:"button",className:"button",onClick:g,children:T.jsx($F,{className:"button-icon"})})}),T.jsx(Re.div,{className:"mascot-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:T.jsx("img",{src:zF,alt:"Mascot",className:"mascot-image"})}),T.jsxs(Re.div,{className:"form-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[T.jsxs("div",{className:"wildcats-title",children:[T.jsx("h2",{className:"wildcats",children:"Wildcats "}),T.jsx("h2",{className:"express",children:"Express"})]}),T.jsx("h3",{children:"Admin"}),T.jsxs("form",{onSubmit:p,children:[T.jsx(Re.input,{type:"text",placeholder:"Username",value:n,required:!0,onChange:_=>r(_.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4}}),T.jsx(Re.input,{type:"password",placeholder:"Password",value:s,required:!0,onChange:_=>a(_.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5}}),T.jsx(Re.button,{type:"submit",className:"login-button",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:"Login"})]})]})]})},"login-page")}),T.jsx(dS,{position:"top-left",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})};function WF(){return T.jsx(T.Fragment,{children:T.jsx("div",{className:"App",children:T.jsx(vP,{children:T.jsxs(QA,{children:[T.jsx(Nl,{path:"/",element:T.jsx($O,{})}),T.jsx(Nl,{path:"/login-page",element:T.jsx(HF,{})}),T.jsx(Nl,{path:"/admin-page",element:T.jsx(FF,{})}),T.jsx(Nl,{path:"/pos-page",element:T.jsx(UF,{})})]})})})})}sA.createRoot(document.getElementById("root")).render(T.jsx(O.StrictMode,{children:T.jsx(WF,{})}));
