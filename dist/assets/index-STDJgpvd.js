var E_=n=>{throw TypeError(n)};var I_=(n,e,t)=>e.has(n)||E_("Cannot "+t);var qo=(n,e,t)=>(I_(n,e,"read from private field"),t?t.call(n):e.get(n)),Kc=(n,e,t)=>e.has(n)?E_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);var S_=(n,e,t)=>(I_(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function yP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var op={exports:{}},Pl={},ap={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function vP(){if(A_)return ke;A_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function T($){return $===null||typeof $!="object"?null:($=_&&$[_]||$["@@iterator"],typeof $=="function"?$:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,D={};function k($,J,me){this.props=$,this.context=J,this.refs=D,this.updater=me||I}k.prototype.isReactComponent={},k.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},k.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function L(){}L.prototype=k.prototype;function F($,J,me){this.props=$,this.context=J,this.refs=D,this.updater=me||I}var B=F.prototype=new L;B.constructor=F,P(B,k.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,Y=Object.prototype.hasOwnProperty,Z={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S($,J,me){var Re,xe={},Oe=null,$e=null;if(J!=null)for(Re in J.ref!==void 0&&($e=J.ref),J.key!==void 0&&(Oe=""+J.key),J)Y.call(J,Re)&&!x.hasOwnProperty(Re)&&(xe[Re]=J[Re]);var We=arguments.length-2;if(We===1)xe.children=me;else if(1<We){for(var Qe=Array(We),Rt=0;Rt<We;Rt++)Qe[Rt]=arguments[Rt+2];xe.children=Qe}if($&&$.defaultProps)for(Re in We=$.defaultProps,We)xe[Re]===void 0&&(xe[Re]=We[Re]);return{$$typeof:n,type:$,key:Oe,ref:$e,props:xe,_owner:Z.current}}function C($,J){return{$$typeof:n,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function j($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(me){return J[me]})}var z=/\/+/g;function R($,J){return typeof $=="object"&&$!==null&&$.key!=null?j(""+$.key):J.toString(36)}function Ce($,J,me,Re,xe){var Oe=typeof $;(Oe==="undefined"||Oe==="boolean")&&($=null);var $e=!1;if($===null)$e=!0;else switch(Oe){case"string":case"number":$e=!0;break;case"object":switch($.$$typeof){case n:case e:$e=!0}}if($e)return $e=$,xe=xe($e),$=Re===""?"."+R($e,0):Re,Q(xe)?(me="",$!=null&&(me=$.replace(z,"$&/")+"/"),Ce(xe,J,me,"",function(Rt){return Rt})):xe!=null&&(V(xe)&&(xe=C(xe,me+(!xe.key||$e&&$e.key===xe.key?"":(""+xe.key).replace(z,"$&/")+"/")+$)),J.push(xe)),1;if($e=0,Re=Re===""?".":Re+":",Q($))for(var We=0;We<$.length;We++){Oe=$[We];var Qe=Re+R(Oe,We);$e+=Ce(Oe,J,me,Qe,xe)}else if(Qe=T($),typeof Qe=="function")for($=Qe.call($),We=0;!(Oe=$.next()).done;)Oe=Oe.value,Qe=Re+R(Oe,We++),$e+=Ce(Oe,J,me,Qe,xe);else if(Oe==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return $e}function je($,J,me){if($==null)return $;var Re=[],xe=0;return Ce($,Re,"","",function(Oe){return J.call(me,Oe,xe++)}),Re}function Ge($){if($._status===-1){var J=$._result;J=J(),J.then(function(me){($._status===0||$._status===-1)&&($._status=1,$._result=me)},function(me){($._status===0||$._status===-1)&&($._status=2,$._result=me)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var ge={current:null},ne={transition:null},fe={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Z};function ae(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:je,forEach:function($,J,me){je($,function(){J.apply(this,arguments)},me)},count:function($){var J=0;return je($,function(){J++}),J},toArray:function($){return je($,function(J){return J})||[]},only:function($){if(!V($))throw Error("React.Children.only expected to receive a single React element child.");return $}},ke.Component=k,ke.Fragment=t,ke.Profiler=s,ke.PureComponent=F,ke.StrictMode=r,ke.Suspense=h,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,ke.act=ae,ke.cloneElement=function($,J,me){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Re=P({},$.props),xe=$.key,Oe=$.ref,$e=$._owner;if(J!=null){if(J.ref!==void 0&&(Oe=J.ref,$e=Z.current),J.key!==void 0&&(xe=""+J.key),$.type&&$.type.defaultProps)var We=$.type.defaultProps;for(Qe in J)Y.call(J,Qe)&&!x.hasOwnProperty(Qe)&&(Re[Qe]=J[Qe]===void 0&&We!==void 0?We[Qe]:J[Qe])}var Qe=arguments.length-2;if(Qe===1)Re.children=me;else if(1<Qe){We=Array(Qe);for(var Rt=0;Rt<Qe;Rt++)We[Rt]=arguments[Rt+2];Re.children=We}return{$$typeof:n,type:$.type,key:xe,ref:Oe,props:Re,_owner:$e}},ke.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},ke.createElement=S,ke.createFactory=function($){var J=S.bind(null,$);return J.type=$,J},ke.createRef=function(){return{current:null}},ke.forwardRef=function($){return{$$typeof:d,render:$}},ke.isValidElement=V,ke.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:Ge}},ke.memo=function($,J){return{$$typeof:p,type:$,compare:J===void 0?null:J}},ke.startTransition=function($){var J=ne.transition;ne.transition={};try{$()}finally{ne.transition=J}},ke.unstable_act=ae,ke.useCallback=function($,J){return ge.current.useCallback($,J)},ke.useContext=function($){return ge.current.useContext($)},ke.useDebugValue=function(){},ke.useDeferredValue=function($){return ge.current.useDeferredValue($)},ke.useEffect=function($,J){return ge.current.useEffect($,J)},ke.useId=function(){return ge.current.useId()},ke.useImperativeHandle=function($,J,me){return ge.current.useImperativeHandle($,J,me)},ke.useInsertionEffect=function($,J){return ge.current.useInsertionEffect($,J)},ke.useLayoutEffect=function($,J){return ge.current.useLayoutEffect($,J)},ke.useMemo=function($,J){return ge.current.useMemo($,J)},ke.useReducer=function($,J,me){return ge.current.useReducer($,J,me)},ke.useRef=function($){return ge.current.useRef($)},ke.useState=function($){return ge.current.useState($)},ke.useSyncExternalStore=function($,J,me){return ge.current.useSyncExternalStore($,J,me)},ke.useTransition=function(){return ge.current.useTransition()},ke.version="18.3.1",ke}var P_;function Vm(){return P_||(P_=1,ap.exports=vP()),ap.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function _P(){if(C_)return Pl;C_=1;var n=Vm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,p){var y,_={},T=null,I=null;p!==void 0&&(T=""+p),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(I=h.ref);for(y in h)r.call(h,y)&&!a.hasOwnProperty(y)&&(_[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)_[y]===void 0&&(_[y]=h[y]);return{$$typeof:e,type:d,key:T,ref:I,props:_,_owner:s.current}}return Pl.Fragment=t,Pl.jsx=l,Pl.jsxs=l,Pl}var R_;function wP(){return R_||(R_=1,op.exports=_P()),op.exports}var N=wP(),O=Vm();const ze=yP(O);var Gc={},lp={exports:{}},hn={},up={exports:{}},cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function TP(){return x_||(x_=1,function(n){function e(ne,fe){var ae=ne.length;ne.push(fe);e:for(;0<ae;){var $=ae-1>>>1,J=ne[$];if(0<s(J,fe))ne[$]=fe,ne[ae]=J,ae=$;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var fe=ne[0],ae=ne.pop();if(ae!==fe){ne[0]=ae;e:for(var $=0,J=ne.length,me=J>>>1;$<me;){var Re=2*($+1)-1,xe=ne[Re],Oe=Re+1,$e=ne[Oe];if(0>s(xe,ae))Oe<J&&0>s($e,xe)?(ne[$]=$e,ne[Oe]=ae,$=Oe):(ne[$]=xe,ne[Re]=ae,$=Re);else if(Oe<J&&0>s($e,ae))ne[$]=$e,ne[Oe]=ae,$=Oe;else break e}}return fe}function s(ne,fe){var ae=ne.sortIndex-fe.sortIndex;return ae!==0?ae:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();n.unstable_now=function(){return l.now()-d}}var h=[],p=[],y=1,_=null,T=3,I=!1,P=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ne){for(var fe=t(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=ne)r(p),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=t(p)}}function Q(ne){if(D=!1,B(ne),!P)if(t(h)!==null)P=!0,Ge(Y);else{var fe=t(p);fe!==null&&ge(Q,fe.startTime-ne)}}function Y(ne,fe){P=!1,D&&(D=!1,L(S),S=-1),I=!0;var ae=T;try{for(B(fe),_=t(h);_!==null&&(!(_.expirationTime>fe)||ne&&!j());){var $=_.callback;if(typeof $=="function"){_.callback=null,T=_.priorityLevel;var J=$(_.expirationTime<=fe);fe=n.unstable_now(),typeof J=="function"?_.callback=J:_===t(h)&&r(h),B(fe)}else r(h);_=t(h)}if(_!==null)var me=!0;else{var Re=t(p);Re!==null&&ge(Q,Re.startTime-fe),me=!1}return me}finally{_=null,T=ae,I=!1}}var Z=!1,x=null,S=-1,C=5,V=-1;function j(){return!(n.unstable_now()-V<C)}function z(){if(x!==null){var ne=n.unstable_now();V=ne;var fe=!0;try{fe=x(!0,ne)}finally{fe?R():(Z=!1,x=null)}}else Z=!1}var R;if(typeof F=="function")R=function(){F(z)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,je=Ce.port2;Ce.port1.onmessage=z,R=function(){je.postMessage(null)}}else R=function(){k(z,0)};function Ge(ne){x=ne,Z||(Z=!0,R())}function ge(ne,fe){S=k(function(){ne(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){P||I||(P=!0,Ge(Y))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var ae=T;T=fe;try{return ne()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=T;T=ne;try{return fe()}finally{T=ae}},n.unstable_scheduleCallback=function(ne,fe,ae){var $=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,ne){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,ne={id:y++,callback:fe,priorityLevel:ne,startTime:ae,expirationTime:J,sortIndex:-1},ae>$?(ne.sortIndex=ae,e(p,ne),t(h)===null&&ne===t(p)&&(D?(L(S),S=-1):D=!0,ge(Q,ae-$))):(ne.sortIndex=J,e(h,ne),P||I||(P=!0,Ge(Y))),ne},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ne){var fe=T;return function(){var ae=T;T=fe;try{return ne.apply(this,arguments)}finally{T=ae}}}}(cp)),cp}var k_;function EP(){return k_||(k_=1,up.exports=TP()),up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function IP(){if(b_)return hn;b_=1;var n=Vm(),e=EP();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function T(i){return h.call(_,i)?!0:h.call(y,i)?!1:p.test(i)?_[i]=!0:(y[i]=!0,!1)}function I(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,u,f){if(o===null||typeof o>"u"||I(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,u,f,m,v,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(L,F);k[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(L,F);k[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(L,F);k[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,o,u,f){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,m,f)&&(u=null),f||m===null?T(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),Z=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),ne=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,$;function J(i){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var me=!1;function Re(i,o){if(!i||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var f=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){f=K}i.call(o.prototype)}else{try{throw Error()}catch(K){f=K}i()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=f.stack.split(`
`),E=m.length-1,b=v.length-1;1<=E&&0<=b&&m[E]!==v[b];)b--;for(;1<=E&&0<=b;E--,b--)if(m[E]!==v[b]){if(E!==1||b!==1)do if(E--,b--,0>b||m[E]!==v[b]){var M=`
`+m[E].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=E&&0<=b);break}}}finally{me=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?J(i):""}function xe(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case Z:return"Portal";case C:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case Ce:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case j:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case je:return o=i.displayName||null,o!==null?o:Oe(i.type)||"Memo";case Ge:o=i._payload,i=i._init;try{return Oe(i(o))}catch{}}return null}function $e(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function We(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rt(i){var o=Qe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){f=""+E,v.call(this,E)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function kr(i){i._valueTracker||(i._valueTracker=Rt(i))}function Zs(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Qe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ss(i,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function eo(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=We(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Da(i,o){o=o.checked,o!=null&&B(i,"checked",o,!1)}function Na(i,o){Da(i,o);var u=We(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?to(i,o.type,u):o.hasOwnProperty("defaultValue")&&to(i,o.type,We(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Du(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function to(i,o,u){(o!=="number"||li(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var br=Array.isArray;function Dr(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+We(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Va(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function no(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(br(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:We(u)}}function ro(i,o){var u=We(o.value),f=We(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function La(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function vt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?vt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Nr,Oa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Nr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ui(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(i){as.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),os[o]=os[i]})});function Ma(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||os.hasOwnProperty(i)&&os[i]?(""+o).trim():o+"px"}function Fa(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Ma(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var ja=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(i,o){if(o){if(ja[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ba(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function io(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var so=null,Pn=null,lr=null;function oo(i){if(i=dl(i)){if(typeof so!="function")throw Error(t(280));var o=i.stateNode;o&&(o=lc(o),so(i.stateNode,i.type,o))}}function ur(i){Pn?lr?lr.push(i):lr=[i]:Pn=i}function za(){if(Pn){var i=Pn,o=lr;if(lr=Pn=null,oo(i),o)for(i=0;i<o.length;i++)oo(o[i])}}function us(i,o){return i(o)}function $a(){}var Vr=!1;function Wa(i,o,u){if(Vr)return i(o,u);Vr=!0;try{return us(i,o,u)}finally{Vr=!1,(Pn!==null||lr!==null)&&($a(),za())}}function dt(i,o){var u=i.stateNode;if(u===null)return null;var f=lc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var ao=!1;if(d)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{ao=!1}function cs(i,o,u,f,m,v,E,b,M){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(te){this.onError(te)}}var ds=!1,lo=null,Bn=!1,Ha=null,Nh={onError:function(i){ds=!0,lo=i}};function uo(i,o,u,f,m,v,E,b,M){ds=!1,lo=null,cs.apply(Nh,arguments)}function Nu(i,o,u,f,m,v,E,b,M){if(uo.apply(this,arguments),ds){if(ds){var K=lo;ds=!1,lo=null}else throw Error(t(198));Bn||(Bn=!0,Ha=K)}}function zn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function hs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function $n(i){if(zn(i)!==i)throw Error(t(188))}function Vu(i){var o=i.alternate;if(!o){if(o=zn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return $n(m),i;if(v===f)return $n(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=v;else{for(var E=!1,b=m.child;b;){if(b===u){E=!0,u=m,f=v;break}if(b===f){E=!0,f=m,u=v;break}b=b.sibling}if(!E){for(b=v.child;b;){if(b===u){E=!0,u=v,f=m;break}if(b===f){E=!0,f=v,u=m;break}b=b.sibling}if(!E)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function qa(i){return i=Vu(i),i!==null?co(i):null}function co(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=co(i);if(o!==null)return o;i=i.sibling}return null}var ho=e.unstable_scheduleCallback,Ka=e.unstable_cancelCallback,Lu=e.unstable_shouldYield,Vh=e.unstable_requestPaint,Ye=e.unstable_now,Ou=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,ci=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,Ga=e.unstable_LowPriority,Mu=e.unstable_IdlePriority,ps=null,gn=null;function Fu(i){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ps,i,void 0,(i.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Uu,Qa=Math.log,ju=Math.LN2;function Uu(i){return i>>>=0,i===0?32:31-(Qa(i)/ju|0)|0}var fo=64,po=4194304;function di(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ms(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,E=u&268435455;if(E!==0){var b=E&~m;b!==0?f=di(b):(v&=E,v!==0&&(f=di(v)))}else E=u&~m,E!==0?f=di(E):v!==0&&(f=di(v));if(f===0)return 0;if(o!==0&&o!==f&&!(o&m)&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(f&4&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-Jt(o),m=1<<u,f|=i[u],o&=~m;return f}function Lh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var E=31-Jt(v),b=1<<E,M=m[E];M===-1?(!(b&u)||b&f)&&(m[E]=Lh(b,o)):M<=o&&(i.expiredLanes|=b),v&=~b}}function yn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function gs(){var i=fo;return fo<<=1,!(fo&4194240)&&(fo=64),i}function hi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function fi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Jt(o),i[o]=u}function Ke(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-Jt(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function pi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-Jt(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Ve=0;function mi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Bu,mo,zu,$u,Wu,Ya=!1,cr=[],Vt=null,Wn=null,Hn=null,gi=new Map,Rn=new Map,dr=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(i,o){switch(i){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(o.pointerId)}}function sn(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=dl(o),o!==null&&mo(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Mh(i,o,u,f,m){switch(o){case"focusin":return Vt=sn(Vt,i,o,u,f,m),!0;case"dragenter":return Wn=sn(Wn,i,o,u,f,m),!0;case"mouseover":return Hn=sn(Hn,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return gi.set(v,sn(gi.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Rn.set(v,sn(Rn.get(v)||null,i,o,u,f,m)),!0}return!1}function qu(i){var o=Ts(i.target);if(o!==null){var u=zn(o);if(u!==null){if(o=u.tag,o===13){if(o=hs(u),o!==null){i.blockedOn=o,Wu(i.priority,function(){zu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Or(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=go(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ls=f,u.target.dispatchEvent(f),ls=null}else return o=dl(u),o!==null&&mo(o),i.blockedOn=u,!1;o.shift()}return!0}function ys(i,o,u){Or(i)&&u.delete(o)}function Ku(){Ya=!1,Vt!==null&&Or(Vt)&&(Vt=null),Wn!==null&&Or(Wn)&&(Wn=null),Hn!==null&&Or(Hn)&&(Hn=null),gi.forEach(ys),Rn.forEach(ys)}function qn(i,o){i.blockedOn===o&&(i.blockedOn=null,Ya||(Ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ku)))}function Kn(i){function o(m){return qn(m,i)}if(0<cr.length){qn(cr[0],i);for(var u=1;u<cr.length;u++){var f=cr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Vt!==null&&qn(Vt,i),Wn!==null&&qn(Wn,i),Hn!==null&&qn(Hn,i),gi.forEach(o),Rn.forEach(o),u=0;u<dr.length;u++)f=dr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<dr.length&&(u=dr[0],u.blockedOn===null);)qu(u),u.blockedOn===null&&dr.shift()}var Mr=Q.ReactCurrentBatchConfig,yi=!0;function tt(i,o,u,f){var m=Ve,v=Mr.transition;Mr.transition=null;try{Ve=1,Xa(i,o,u,f)}finally{Ve=m,Mr.transition=v}}function Fh(i,o,u,f){var m=Ve,v=Mr.transition;Mr.transition=null;try{Ve=4,Xa(i,o,u,f)}finally{Ve=m,Mr.transition=v}}function Xa(i,o,u,f){if(yi){var m=go(i,o,u,f);if(m===null)Qh(i,o,f,vs,u),Hu(i,f);else if(Mh(m,i,o,u,f))f.stopPropagation();else if(Hu(i,f),o&4&&-1<Oh.indexOf(i)){for(;m!==null;){var v=dl(m);if(v!==null&&Bu(v),v=go(i,o,u,f),v===null&&Qh(i,o,f,vs,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else Qh(i,o,f,null,u)}}var vs=null;function go(i,o,u,f){if(vs=null,i=io(f),i=Ts(i),i!==null)if(o=zn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=hs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return vs=i,null}function Ja(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ou()){case fs:return 1;case ci:return 4;case Cn:case Ga:return 16;case Mu:return 536870912;default:return 16}default:return 16}}var vn=null,yo=null,on=null;function Za(){if(on)return on;var i,o=yo,u=o.length,f,m="value"in vn?vn.value:vn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var E=u-i;for(f=1;f<=E&&o[u-f]===m[v-f];f++);return on=m.slice(i,1<f?1-f:void 0)}function vo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function hr(){return!0}function el(){return!1}function Lt(i){function o(u,f,m,v,E){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(u=i[b],this[b]=u?u(v):v[b]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?hr:el,this.isPropagationStopped=el,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),o}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Lt(Gn),fr=ae({},Gn,{view:0,detail:0}),jh=Lt(fr),wo,Fr,vi,_s=ae({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vi&&(vi&&i.type==="mousemove"?(wo=i.screenX-vi.screenX,Fr=i.screenY-vi.screenY):Fr=wo=0,vi=i),wo)},movementY:function(i){return"movementY"in i?i.movementY:Fr}}),To=Lt(_s),tl=ae({},_s,{dataTransfer:0}),Gu=Lt(tl),Eo=ae({},fr,{relatedTarget:0}),Io=Lt(Eo),Qu=ae({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=Lt(Qu),Yu=ae({},Gn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xu=Lt(Yu),Ju=ae({},Gn,{data:0}),nl=Lt(Ju),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Zu[i])?!!o[i]:!1}function pr(){return ec}var c=ae({},fr,{key:function(i){if(i.key){var o=So[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=vo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(i){return i.type==="keypress"?vo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Lt(c),w=ae({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Lt(w),W=ae({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),G=Lt(W),oe=ae({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Lt(oe),wt=ae({},_s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Lt(wt),xt=[9,13,27,32],mt=d&&"CompositionEvent"in window,xn=null;d&&"documentMode"in document&&(xn=document.documentMode);var _n=d&&"TextEvent"in window&&!xn,ws=d&&(!mt||xn&&8<xn&&11>=xn),Ao=" ",gy=!1;function yy(i,o){switch(i){case"keyup":return xt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Po=!1;function mA(i,o){switch(i){case"compositionend":return vy(o);case"keypress":return o.which!==32?null:(gy=!0,Ao);case"textInput":return i=o.data,i===Ao&&gy?null:i;default:return null}}function gA(i,o){if(Po)return i==="compositionend"||!mt&&yy(i,o)?(i=Za(),on=yo=vn=null,Po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ws&&o.locale!=="ko"?null:o.data;default:return null}}var yA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!yA[i.type]:o==="textarea"}function wy(i,o,u,f){ur(f),o=sc(o,"onChange"),0<o.length&&(u=new _o("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var rl=null,il=null;function vA(i){Fy(i,0)}function tc(i){var o=bo(i);if(Zs(o))return i}function _A(i,o){if(i==="change")return o}var Ty=!1;if(d){var Uh;if(d){var Bh="oninput"in document;if(!Bh){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Bh=typeof Ey.oninput=="function"}Uh=Bh}else Uh=!1;Ty=Uh&&(!document.documentMode||9<document.documentMode)}function Iy(){rl&&(rl.detachEvent("onpropertychange",Sy),il=rl=null)}function Sy(i){if(i.propertyName==="value"&&tc(il)){var o=[];wy(o,il,i,io(i)),Wa(vA,o)}}function wA(i,o,u){i==="focusin"?(Iy(),rl=o,il=u,rl.attachEvent("onpropertychange",Sy)):i==="focusout"&&Iy()}function TA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tc(il)}function EA(i,o){if(i==="click")return tc(o)}function IA(i,o){if(i==="input"||i==="change")return tc(o)}function SA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Qn=typeof Object.is=="function"?Object.is:SA;function sl(i,o){if(Qn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!Qn(i[m],o[m]))return!1}return!0}function Ay(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Py(i,o){var u=Ay(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ay(u)}}function Cy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Cy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Ry(){for(var i=window,o=li();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=li(i.document)}return o}function zh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function AA(i){var o=Ry(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Cy(u.ownerDocument.documentElement,u)){if(f!==null&&zh(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=Py(u,v);var E=Py(u,f);m&&E&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var PA=d&&"documentMode"in document&&11>=document.documentMode,Co=null,$h=null,ol=null,Wh=!1;function xy(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Wh||Co==null||Co!==li(f)||(f=Co,"selectionStart"in f&&zh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ol&&sl(ol,f)||(ol=f,f=sc($h,"onSelect"),0<f.length&&(o=new _o("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Co)))}function nc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ro={animationend:nc("Animation","AnimationEnd"),animationiteration:nc("Animation","AnimationIteration"),animationstart:nc("Animation","AnimationStart"),transitionend:nc("Transition","TransitionEnd")},Hh={},ky={};d&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function rc(i){if(Hh[i])return Hh[i];if(!Ro[i])return i;var o=Ro[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in ky)return Hh[i]=o[u];return i}var by=rc("animationend"),Dy=rc("animationiteration"),Ny=rc("animationstart"),Vy=rc("transitionend"),Ly=new Map,Oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(i,o){Ly.set(i,o),a(o,[i])}for(var qh=0;qh<Oy.length;qh++){var Kh=Oy[qh],CA=Kh.toLowerCase(),RA=Kh[0].toUpperCase()+Kh.slice(1);_i(CA,"on"+RA)}_i(by,"onAnimationEnd"),_i(Dy,"onAnimationIteration"),_i(Ny,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Vy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function My(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Nu(f,o,void 0,i),i.currentTarget=null}function Fy(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var E=f.length-1;0<=E;E--){var b=f[E],M=b.instance,K=b.currentTarget;if(b=b.listener,M!==v&&m.isPropagationStopped())break e;My(m,b,K),v=M}else for(E=0;E<f.length;E++){if(b=f[E],M=b.instance,K=b.currentTarget,b=b.listener,M!==v&&m.isPropagationStopped())break e;My(m,b,K),v=M}}}if(Bn)throw i=Ha,Bn=!1,Ha=null,i}function Je(i,o){var u=o[tf];u===void 0&&(u=o[tf]=new Set);var f=i+"__bubble";u.has(f)||(jy(o,i,2,!1),u.add(f))}function Gh(i,o,u){var f=0;o&&(f|=4),jy(u,i,f,o)}var ic="_reactListening"+Math.random().toString(36).slice(2);function ll(i){if(!i[ic]){i[ic]=!0,r.forEach(function(u){u!=="selectionchange"&&(xA.has(u)||Gh(u,!1,i),Gh(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ic]||(o[ic]=!0,Gh("selectionchange",!1,o))}}function jy(i,o,u,f){switch(Ja(o)){case 1:var m=tt;break;case 4:m=Fh;break;default:m=Xa}u=m.bind(null,o,u,i),m=void 0,!ao||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Qh(i,o,u,f,m){var v=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var b=f.stateNode.containerInfo;if(b===m||b.nodeType===8&&b.parentNode===m)break;if(E===4)for(E=f.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;E=E.return}for(;b!==null;){if(E=Ts(b),E===null)return;if(M=E.tag,M===5||M===6){f=v=E;continue e}b=b.parentNode}}f=f.return}Wa(function(){var K=v,te=io(u),ie=[];e:{var ee=Ly.get(i);if(ee!==void 0){var le=_o,de=i;switch(i){case"keypress":if(vo(u)===0)break e;case"keydown":case"keyup":le=g;break;case"focusin":de="focus",le=Io;break;case"focusout":de="blur",le=Io;break;case"beforeblur":case"afterblur":le=Io;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=G;break;case by:case Dy:case Ny:le=jr;break;case Vy:le=qe;break;case"scroll":le=jh;break;case"wheel":le=Me;break;case"copy":case"cut":case"paste":le=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=A}var he=(o&4)!==0,ht=!he&&i==="scroll",H=he?ee!==null?ee+"Capture":null:ee;he=[];for(var U=K,q;U!==null;){q=U;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,H!==null&&(se=dt(U,H),se!=null&&he.push(ul(U,se,q)))),ht)break;U=U.return}0<he.length&&(ee=new le(ee,de,null,u,te),ie.push({event:ee,listeners:he}))}}if(!(o&7)){e:{if(ee=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ee&&u!==ls&&(de=u.relatedTarget||u.fromElement)&&(Ts(de)||de[Ur]))break e;if((le||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,le?(de=u.relatedTarget||u.toElement,le=K,de=de?Ts(de):null,de!==null&&(ht=zn(de),de!==ht||de.tag!==5&&de.tag!==6)&&(de=null)):(le=null,de=K),le!==de)){if(he=To,se="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(he=A,se="onPointerLeave",H="onPointerEnter",U="pointer"),ht=le==null?ee:bo(le),q=de==null?ee:bo(de),ee=new he(se,U+"leave",le,u,te),ee.target=ht,ee.relatedTarget=q,se=null,Ts(te)===K&&(he=new he(H,U+"enter",de,u,te),he.target=q,he.relatedTarget=ht,se=he),ht=se,le&&de)t:{for(he=le,H=de,U=0,q=he;q;q=xo(q))U++;for(q=0,se=H;se;se=xo(se))q++;for(;0<U-q;)he=xo(he),U--;for(;0<q-U;)H=xo(H),q--;for(;U--;){if(he===H||H!==null&&he===H.alternate)break t;he=xo(he),H=xo(H)}he=null}else he=null;le!==null&&Uy(ie,ee,le,he,!1),de!==null&&ht!==null&&Uy(ie,ht,de,he,!0)}}e:{if(ee=K?bo(K):window,le=ee.nodeName&&ee.nodeName.toLowerCase(),le==="select"||le==="input"&&ee.type==="file")var pe=_A;else if(_y(ee))if(Ty)pe=IA;else{pe=TA;var ve=wA}else(le=ee.nodeName)&&le.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(pe=EA);if(pe&&(pe=pe(i,K))){wy(ie,pe,u,te);break e}ve&&ve(i,ee,K),i==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&to(ee,"number",ee.value)}switch(ve=K?bo(K):window,i){case"focusin":(_y(ve)||ve.contentEditable==="true")&&(Co=ve,$h=K,ol=null);break;case"focusout":ol=$h=Co=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,xy(ie,u,te);break;case"selectionchange":if(PA)break;case"keydown":case"keyup":xy(ie,u,te)}var _e;if(mt)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Po?yy(i,u)&&(Ie="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(ws&&u.locale!=="ko"&&(Po||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Po&&(_e=Za()):(vn=te,yo="value"in vn?vn.value:vn.textContent,Po=!0)),ve=sc(K,Ie),0<ve.length&&(Ie=new nl(Ie,i,null,u,te),ie.push({event:Ie,listeners:ve}),_e?Ie.data=_e:(_e=vy(u),_e!==null&&(Ie.data=_e)))),(_e=_n?mA(i,u):gA(i,u))&&(K=sc(K,"onBeforeInput"),0<K.length&&(te=new nl("onBeforeInput","beforeinput",null,u,te),ie.push({event:te,listeners:K}),te.data=_e))}Fy(ie,o)})}function ul(i,o,u){return{instance:i,listener:o,currentTarget:u}}function sc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=dt(i,u),v!=null&&f.unshift(ul(i,v,m)),v=dt(i,o),v!=null&&f.push(ul(i,v,m))),i=i.return}return f}function xo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Uy(i,o,u,f,m){for(var v=o._reactName,E=[];u!==null&&u!==f;){var b=u,M=b.alternate,K=b.stateNode;if(M!==null&&M===f)break;b.tag===5&&K!==null&&(b=K,m?(M=dt(u,v),M!=null&&E.unshift(ul(u,M,b))):m||(M=dt(u,v),M!=null&&E.push(ul(u,M,b)))),u=u.return}E.length!==0&&i.push({event:o,listeners:E})}var kA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function By(i){return(typeof i=="string"?i:""+i).replace(kA,`
`).replace(bA,"")}function oc(i,o,u){if(o=By(o),By(i)!==o&&u)throw Error(t(425))}function ac(){}var Yh=null,Xh=null;function Jh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(i){return zy.resolve(null).then(i).catch(VA)}:Zh;function VA(i){setTimeout(function(){throw i})}function ef(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Kn(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Kn(o)}function wi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function $y(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var ko=Math.random().toString(36).slice(2),mr="__reactFiber$"+ko,cl="__reactProps$"+ko,Ur="__reactContainer$"+ko,tf="__reactEvents$"+ko,LA="__reactListeners$"+ko,OA="__reactHandles$"+ko;function Ts(i){var o=i[mr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Ur]||u[mr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=$y(i);i!==null;){if(u=i[mr])return u;i=$y(i)}return o}i=u,u=i.parentNode}return null}function dl(i){return i=i[mr]||i[Ur],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function bo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function lc(i){return i[cl]||null}var nf=[],Do=-1;function Ti(i){return{current:i}}function Ze(i){0>Do||(i.current=nf[Do],nf[Do]=null,Do--)}function Xe(i,o){Do++,nf[Do]=i.current,i.current=o}var Ei={},zt=Ti(Ei),an=Ti(!1),Es=Ei;function No(i,o){var u=i.type.contextTypes;if(!u)return Ei;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function ln(i){return i=i.childContextTypes,i!=null}function uc(){Ze(an),Ze(zt)}function Wy(i,o,u){if(zt.current!==Ei)throw Error(t(168));Xe(zt,o),Xe(an,u)}function Hy(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,$e(i)||"Unknown",m));return ae({},u,f)}function cc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ei,Es=zt.current,Xe(zt,i),Xe(an,an.current),!0}function qy(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=Hy(i,o,Es),f.__reactInternalMemoizedMergedChildContext=i,Ze(an),Ze(zt),Xe(zt,i)):Ze(an),Xe(an,u)}var Br=null,dc=!1,rf=!1;function Ky(i){Br===null?Br=[i]:Br.push(i)}function MA(i){dc=!0,Ky(i)}function Ii(){if(!rf&&Br!==null){rf=!0;var i=0,o=Ve;try{var u=Br;for(Ve=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Br=null,dc=!1}catch(m){throw Br!==null&&(Br=Br.slice(i+1)),ho(fs,Ii),m}finally{Ve=o,rf=!1}}return null}var Vo=[],Lo=0,hc=null,fc=0,kn=[],bn=0,Is=null,zr=1,$r="";function Ss(i,o){Vo[Lo++]=fc,Vo[Lo++]=hc,hc=i,fc=o}function Gy(i,o,u){kn[bn++]=zr,kn[bn++]=$r,kn[bn++]=Is,Is=i;var f=zr;i=$r;var m=32-Jt(f)-1;f&=~(1<<m),u+=1;var v=32-Jt(o)+m;if(30<v){var E=m-m%5;v=(f&(1<<E)-1).toString(32),f>>=E,m-=E,zr=1<<32-Jt(o)+m|u<<m|f,$r=v+i}else zr=1<<v|u<<m|f,$r=i}function sf(i){i.return!==null&&(Ss(i,1),Gy(i,1,0))}function of(i){for(;i===hc;)hc=Vo[--Lo],Vo[Lo]=null,fc=Vo[--Lo],Vo[Lo]=null;for(;i===Is;)Is=kn[--bn],kn[bn]=null,$r=kn[--bn],kn[bn]=null,zr=kn[--bn],kn[bn]=null}var wn=null,Tn=null,nt=!1,Yn=null;function Qy(i,o){var u=Ln(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Yy(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,wn=i,Tn=wi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,wn=i,Tn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Is!==null?{id:zr,overflow:$r}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Ln(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,wn=i,Tn=null,!0):!1;default:return!1}}function af(i){return(i.mode&1)!==0&&(i.flags&128)===0}function lf(i){if(nt){var o=Tn;if(o){var u=o;if(!Yy(i,o)){if(af(i))throw Error(t(418));o=wi(u.nextSibling);var f=wn;o&&Yy(i,o)?Qy(f,u):(i.flags=i.flags&-4097|2,nt=!1,wn=i)}}else{if(af(i))throw Error(t(418));i.flags=i.flags&-4097|2,nt=!1,wn=i}}}function Xy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wn=i}function pc(i){if(i!==wn)return!1;if(!nt)return Xy(i),nt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Jh(i.type,i.memoizedProps)),o&&(o=Tn)){if(af(i))throw Jy(),Error(t(418));for(;o;)Qy(i,o),o=wi(o.nextSibling)}if(Xy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Tn=wi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Tn=null}}else Tn=wn?wi(i.stateNode.nextSibling):null;return!0}function Jy(){for(var i=Tn;i;)i=wi(i.nextSibling)}function Oo(){Tn=wn=null,nt=!1}function uf(i){Yn===null?Yn=[i]:Yn.push(i)}var FA=Q.ReactCurrentBatchConfig;function hl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(E){var b=m.refs;E===null?delete b[v]:b[v]=E},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function mc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Zy(i){var o=i._init;return o(i._payload)}function ev(i){function o(H,U){if(i){var q=H.deletions;q===null?(H.deletions=[U],H.flags|=16):q.push(U)}}function u(H,U){if(!i)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function f(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=bi(H,U),H.index=0,H.sibling=null,H}function v(H,U,q){return H.index=q,i?(q=H.alternate,q!==null?(q=q.index,q<U?(H.flags|=2,U):q):(H.flags|=2,U)):(H.flags|=1048576,U)}function E(H){return i&&H.alternate===null&&(H.flags|=2),H}function b(H,U,q,se){return U===null||U.tag!==6?(U=ep(q,H.mode,se),U.return=H,U):(U=m(U,q),U.return=H,U)}function M(H,U,q,se){var pe=q.type;return pe===x?te(H,U,q.props.children,se,q.key):U!==null&&(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ge&&Zy(pe)===U.type)?(se=m(U,q.props),se.ref=hl(H,U,q),se.return=H,se):(se=jc(q.type,q.key,q.props,null,H.mode,se),se.ref=hl(H,U,q),se.return=H,se)}function K(H,U,q,se){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=tp(q,H.mode,se),U.return=H,U):(U=m(U,q.children||[]),U.return=H,U)}function te(H,U,q,se,pe){return U===null||U.tag!==7?(U=Ds(q,H.mode,se,pe),U.return=H,U):(U=m(U,q),U.return=H,U)}function ie(H,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=ep(""+U,H.mode,q),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:return q=jc(U.type,U.key,U.props,null,H.mode,q),q.ref=hl(H,null,U),q.return=H,q;case Z:return U=tp(U,H.mode,q),U.return=H,U;case Ge:var se=U._init;return ie(H,se(U._payload),q)}if(br(U)||fe(U))return U=Ds(U,H.mode,q,null),U.return=H,U;mc(H,U)}return null}function ee(H,U,q,se){var pe=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return pe!==null?null:b(H,U,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:return q.key===pe?M(H,U,q,se):null;case Z:return q.key===pe?K(H,U,q,se):null;case Ge:return pe=q._init,ee(H,U,pe(q._payload),se)}if(br(q)||fe(q))return pe!==null?null:te(H,U,q,se,null);mc(H,q)}return null}function le(H,U,q,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(q)||null,b(U,H,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Y:return H=H.get(se.key===null?q:se.key)||null,M(U,H,se,pe);case Z:return H=H.get(se.key===null?q:se.key)||null,K(U,H,se,pe);case Ge:var ve=se._init;return le(H,U,q,ve(se._payload),pe)}if(br(se)||fe(se))return H=H.get(q)||null,te(U,H,se,pe,null);mc(U,se)}return null}function de(H,U,q,se){for(var pe=null,ve=null,_e=U,Ie=U=0,Dt=null;_e!==null&&Ie<q.length;Ie++){_e.index>Ie?(Dt=_e,_e=null):Dt=_e.sibling;var Be=ee(H,_e,q[Ie],se);if(Be===null){_e===null&&(_e=Dt);break}i&&_e&&Be.alternate===null&&o(H,_e),U=v(Be,U,Ie),ve===null?pe=Be:ve.sibling=Be,ve=Be,_e=Dt}if(Ie===q.length)return u(H,_e),nt&&Ss(H,Ie),pe;if(_e===null){for(;Ie<q.length;Ie++)_e=ie(H,q[Ie],se),_e!==null&&(U=v(_e,U,Ie),ve===null?pe=_e:ve.sibling=_e,ve=_e);return nt&&Ss(H,Ie),pe}for(_e=f(H,_e);Ie<q.length;Ie++)Dt=le(_e,H,Ie,q[Ie],se),Dt!==null&&(i&&Dt.alternate!==null&&_e.delete(Dt.key===null?Ie:Dt.key),U=v(Dt,U,Ie),ve===null?pe=Dt:ve.sibling=Dt,ve=Dt);return i&&_e.forEach(function(Di){return o(H,Di)}),nt&&Ss(H,Ie),pe}function he(H,U,q,se){var pe=fe(q);if(typeof pe!="function")throw Error(t(150));if(q=pe.call(q),q==null)throw Error(t(151));for(var ve=pe=null,_e=U,Ie=U=0,Dt=null,Be=q.next();_e!==null&&!Be.done;Ie++,Be=q.next()){_e.index>Ie?(Dt=_e,_e=null):Dt=_e.sibling;var Di=ee(H,_e,Be.value,se);if(Di===null){_e===null&&(_e=Dt);break}i&&_e&&Di.alternate===null&&o(H,_e),U=v(Di,U,Ie),ve===null?pe=Di:ve.sibling=Di,ve=Di,_e=Dt}if(Be.done)return u(H,_e),nt&&Ss(H,Ie),pe;if(_e===null){for(;!Be.done;Ie++,Be=q.next())Be=ie(H,Be.value,se),Be!==null&&(U=v(Be,U,Ie),ve===null?pe=Be:ve.sibling=Be,ve=Be);return nt&&Ss(H,Ie),pe}for(_e=f(H,_e);!Be.done;Ie++,Be=q.next())Be=le(_e,H,Ie,Be.value,se),Be!==null&&(i&&Be.alternate!==null&&_e.delete(Be.key===null?Ie:Be.key),U=v(Be,U,Ie),ve===null?pe=Be:ve.sibling=Be,ve=Be);return i&&_e.forEach(function(gP){return o(H,gP)}),nt&&Ss(H,Ie),pe}function ht(H,U,q,se){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:e:{for(var pe=q.key,ve=U;ve!==null;){if(ve.key===pe){if(pe=q.type,pe===x){if(ve.tag===7){u(H,ve.sibling),U=m(ve,q.props.children),U.return=H,H=U;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ge&&Zy(pe)===ve.type){u(H,ve.sibling),U=m(ve,q.props),U.ref=hl(H,ve,q),U.return=H,H=U;break e}u(H,ve);break}else o(H,ve);ve=ve.sibling}q.type===x?(U=Ds(q.props.children,H.mode,se,q.key),U.return=H,H=U):(se=jc(q.type,q.key,q.props,null,H.mode,se),se.ref=hl(H,U,q),se.return=H,H=se)}return E(H);case Z:e:{for(ve=q.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){u(H,U.sibling),U=m(U,q.children||[]),U.return=H,H=U;break e}else{u(H,U);break}else o(H,U);U=U.sibling}U=tp(q,H.mode,se),U.return=H,H=U}return E(H);case Ge:return ve=q._init,ht(H,U,ve(q._payload),se)}if(br(q))return de(H,U,q,se);if(fe(q))return he(H,U,q,se);mc(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,U!==null&&U.tag===6?(u(H,U.sibling),U=m(U,q),U.return=H,H=U):(u(H,U),U=ep(q,H.mode,se),U.return=H,H=U),E(H)):u(H,U)}return ht}var Mo=ev(!0),tv=ev(!1),gc=Ti(null),yc=null,Fo=null,cf=null;function df(){cf=Fo=yc=null}function hf(i){var o=gc.current;Ze(gc),i._currentValue=o}function ff(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function jo(i,o){yc=i,cf=Fo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(un=!0),i.firstContext=null)}function Dn(i){var o=i._currentValue;if(cf!==i)if(i={context:i,memoizedValue:o,next:null},Fo===null){if(yc===null)throw Error(t(308));Fo=i,yc.dependencies={lanes:0,firstContext:i}}else Fo=Fo.next=i;return o}var As=null;function pf(i){As===null?As=[i]:As.push(i)}function nv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,pf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Wr(i,f)}function Wr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Si=!1;function mf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Hr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ai(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,Ue&2){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Wr(i,u)}return m=f.interleaved,m===null?(o.next=o,pf(f)):(o.next=m.next,m.next=o),f.interleaved=o,Wr(i,u)}function vc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,pi(i,u)}}function iv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=E:v=v.next=E,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function _c(i,o,u,f){var m=i.updateQueue;Si=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,b=m.shared.pending;if(b!==null){m.shared.pending=null;var M=b,K=M.next;M.next=null,E===null?v=K:E.next=K,E=M;var te=i.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==E&&(b===null?te.firstBaseUpdate=K:b.next=K,te.lastBaseUpdate=M))}if(v!==null){var ie=m.baseState;E=0,te=K=M=null,b=v;do{var ee=b.lane,le=b.eventTime;if((f&ee)===ee){te!==null&&(te=te.next={eventTime:le,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var de=i,he=b;switch(ee=o,le=u,he.tag){case 1:if(de=he.payload,typeof de=="function"){ie=de.call(le,ie,ee);break e}ie=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=he.payload,ee=typeof de=="function"?de.call(le,ie,ee):de,ee==null)break e;ie=ae({},ie,ee);break e;case 2:Si=!0}}b.callback!==null&&b.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[b]:ee.push(b))}else le={eventTime:le,lane:ee,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(K=te=le,M=ie):te=te.next=le,E|=ee;if(b=b.next,b===null){if(b=m.shared.pending,b===null)break;ee=b,b=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(M=ie),m.baseState=M,m.firstBaseUpdate=K,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Rs|=E,i.lanes=E,i.memoizedState=ie}}function sv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var fl={},gr=Ti(fl),pl=Ti(fl),ml=Ti(fl);function Ps(i){if(i===fl)throw Error(t(174));return i}function gf(i,o){switch(Xe(ml,o),Xe(pl,i),Xe(gr,fl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:_t(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=_t(o,i)}Ze(gr),Xe(gr,o)}function Uo(){Ze(gr),Ze(pl),Ze(ml)}function ov(i){Ps(ml.current);var o=Ps(gr.current),u=_t(o,i.type);o!==u&&(Xe(pl,i),Xe(gr,u))}function yf(i){pl.current===i&&(Ze(gr),Ze(pl))}var st=Ti(0);function wc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var vf=[];function _f(){for(var i=0;i<vf.length;i++)vf[i]._workInProgressVersionPrimary=null;vf.length=0}var Tc=Q.ReactCurrentDispatcher,wf=Q.ReactCurrentBatchConfig,Cs=0,ot=null,Tt=null,kt=null,Ec=!1,gl=!1,yl=0,jA=0;function $t(){throw Error(t(321))}function Tf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Qn(i[u],o[u]))return!1;return!0}function Ef(i,o,u,f,m,v){if(Cs=v,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Tc.current=i===null||i.memoizedState===null?$A:WA,i=u(f,m),gl){v=0;do{if(gl=!1,yl=0,25<=v)throw Error(t(301));v+=1,kt=Tt=null,o.updateQueue=null,Tc.current=HA,i=u(f,m)}while(gl)}if(Tc.current=Ac,o=Tt!==null&&Tt.next!==null,Cs=0,kt=Tt=ot=null,Ec=!1,o)throw Error(t(300));return i}function If(){var i=yl!==0;return yl=0,i}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ot.memoizedState=kt=i:kt=kt.next=i,kt}function Nn(){if(Tt===null){var i=ot.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var o=kt===null?ot.memoizedState:kt.next;if(o!==null)kt=o,Tt=i;else{if(i===null)throw Error(t(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},kt===null?ot.memoizedState=kt=i:kt=kt.next=i}return kt}function vl(i,o){return typeof o=="function"?o(i):o}function Sf(i){var o=Nn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=Tt,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var b=E=null,M=null,K=v;do{var te=K.lane;if((Cs&te)===te)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:i(f,K.action);else{var ie={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(b=M=ie,E=f):M=M.next=ie,ot.lanes|=te,Rs|=te}K=K.next}while(K!==null&&K!==v);M===null?E=f:M.next=b,Qn(f,o.memoizedState)||(un=!0),o.memoizedState=f,o.baseState=E,o.baseQueue=M,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,ot.lanes|=v,Rs|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Af(i){var o=Nn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var E=m=m.next;do v=i(v,E.action),E=E.next;while(E!==m);Qn(v,o.memoizedState)||(un=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function av(){}function lv(i,o){var u=ot,f=Nn(),m=o(),v=!Qn(f.memoizedState,m);if(v&&(f.memoizedState=m,un=!0),f=f.queue,Pf(dv.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,_l(9,cv.bind(null,u,f,m,o),void 0,null),bt===null)throw Error(t(349));Cs&30||uv(u,o,m)}return m}function uv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function cv(i,o,u,f){o.value=u,o.getSnapshot=f,hv(o)&&fv(i)}function dv(i,o,u){return u(function(){hv(o)&&fv(i)})}function hv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Qn(i,u)}catch{return!0}}function fv(i){var o=Wr(i,1);o!==null&&er(o,i,1,-1)}function pv(i){var o=yr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:i},o.queue=i,i=i.dispatch=zA.bind(null,ot,i),[o.memoizedState,i]}function _l(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function mv(){return Nn().memoizedState}function Ic(i,o,u,f){var m=yr();ot.flags|=i,m.memoizedState=_l(1|o,u,void 0,f===void 0?null:f)}function Sc(i,o,u,f){var m=Nn();f=f===void 0?null:f;var v=void 0;if(Tt!==null){var E=Tt.memoizedState;if(v=E.destroy,f!==null&&Tf(f,E.deps)){m.memoizedState=_l(o,u,v,f);return}}ot.flags|=i,m.memoizedState=_l(1|o,u,v,f)}function gv(i,o){return Ic(8390656,8,i,o)}function Pf(i,o){return Sc(2048,8,i,o)}function yv(i,o){return Sc(4,2,i,o)}function vv(i,o){return Sc(4,4,i,o)}function _v(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function wv(i,o,u){return u=u!=null?u.concat([i]):null,Sc(4,4,_v.bind(null,o,i),u)}function Cf(){}function Tv(i,o){var u=Nn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Tf(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function Ev(i,o){var u=Nn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Tf(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function Iv(i,o,u){return Cs&21?(Qn(u,o)||(u=gs(),ot.lanes|=u,Rs|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,un=!0),i.memoizedState=u)}function UA(i,o){var u=Ve;Ve=u!==0&&4>u?u:4,i(!0);var f=wf.transition;wf.transition={};try{i(!1),o()}finally{Ve=u,wf.transition=f}}function Sv(){return Nn().memoizedState}function BA(i,o,u){var f=xi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Av(i))Pv(o,u);else if(u=nv(i,o,u,f),u!==null){var m=tn();er(u,i,f,m),Cv(u,o,f)}}function zA(i,o,u){var f=xi(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Av(i))Pv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,b=v(E,u);if(m.hasEagerState=!0,m.eagerState=b,Qn(b,E)){var M=o.interleaved;M===null?(m.next=m,pf(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=nv(i,o,m,f),u!==null&&(m=tn(),er(u,i,f,m),Cv(u,o,f))}}function Av(i){var o=i.alternate;return i===ot||o!==null&&o===ot}function Pv(i,o){gl=Ec=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Cv(i,o,u){if(u&4194240){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,pi(i,u)}}var Ac={readContext:Dn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},$A={readContext:Dn,useCallback:function(i,o){return yr().memoizedState=[i,o===void 0?null:o],i},useContext:Dn,useEffect:gv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Ic(4194308,4,_v.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Ic(4194308,4,i,o)},useInsertionEffect:function(i,o){return Ic(4,2,i,o)},useMemo:function(i,o){var u=yr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=yr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=BA.bind(null,ot,i),[f.memoizedState,i]},useRef:function(i){var o=yr();return i={current:i},o.memoizedState=i},useState:pv,useDebugValue:Cf,useDeferredValue:function(i){return yr().memoizedState=i},useTransition:function(){var i=pv(!1),o=i[0];return i=UA.bind(null,i[1]),yr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ot,m=yr();if(nt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),bt===null)throw Error(t(349));Cs&30||uv(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,gv(dv.bind(null,f,v,i),[i]),f.flags|=2048,_l(9,cv.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=yr(),o=bt.identifierPrefix;if(nt){var u=$r,f=zr;u=(f&~(1<<32-Jt(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=yl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=jA++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},WA={readContext:Dn,useCallback:Tv,useContext:Dn,useEffect:Pf,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:Sf,useRef:mv,useState:function(){return Sf(vl)},useDebugValue:Cf,useDeferredValue:function(i){var o=Nn();return Iv(o,Tt.memoizedState,i)},useTransition:function(){var i=Sf(vl)[0],o=Nn().memoizedState;return[i,o]},useMutableSource:av,useSyncExternalStore:lv,useId:Sv,unstable_isNewReconciler:!1},HA={readContext:Dn,useCallback:Tv,useContext:Dn,useEffect:Pf,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:Af,useRef:mv,useState:function(){return Af(vl)},useDebugValue:Cf,useDeferredValue:function(i){var o=Nn();return Tt===null?o.memoizedState=i:Iv(o,Tt.memoizedState,i)},useTransition:function(){var i=Af(vl)[0],o=Nn().memoizedState;return[i,o]},useMutableSource:av,useSyncExternalStore:lv,useId:Sv,unstable_isNewReconciler:!1};function Xn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Rf(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ae({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Pc={isMounted:function(i){return(i=i._reactInternals)?zn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=tn(),m=xi(i),v=Hr(f,m);v.payload=o,u!=null&&(v.callback=u),o=Ai(i,v,m),o!==null&&(er(o,i,m,f),vc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=tn(),m=xi(i),v=Hr(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ai(i,v,m),o!==null&&(er(o,i,m,f),vc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=tn(),f=xi(i),m=Hr(u,f);m.tag=2,o!=null&&(m.callback=o),o=Ai(i,m,f),o!==null&&(er(o,i,f,u),vc(o,i,f))}};function Rv(i,o,u,f,m,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,E):o.prototype&&o.prototype.isPureReactComponent?!sl(u,f)||!sl(m,v):!0}function xv(i,o,u){var f=!1,m=Ei,v=o.contextType;return typeof v=="object"&&v!==null?v=Dn(v):(m=ln(o)?Es:zt.current,f=o.contextTypes,v=(f=f!=null)?No(i,m):Ei),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Pc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function kv(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Pc.enqueueReplaceState(o,o.state,null)}function xf(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},mf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Dn(v):(v=ln(o)?Es:zt.current,m.context=No(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Rf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Pc.enqueueReplaceState(m,m.state,null),_c(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Bo(i,o){try{var u="",f=o;do u+=xe(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function kf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function bf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var qA=typeof WeakMap=="function"?WeakMap:Map;function bv(i,o,u){u=Hr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Nc||(Nc=!0,qf=f),bf(i,o)},u}function Dv(i,o,u){u=Hr(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){bf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){bf(i,o),typeof f!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),u}function Nv(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new qA;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=oP.bind(null,i,o,u),o.then(i,i))}function Vv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Lv(i,o,u,f,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Hr(-1,1),o.tag=2,Ai(u,o,1))),u.lanes|=1),i)}var KA=Q.ReactCurrentOwner,un=!1;function en(i,o,u,f){o.child=i===null?tv(o,null,u,f):Mo(o,i.child,u,f)}function Ov(i,o,u,f,m){u=u.render;var v=o.ref;return jo(o,m),f=Ef(i,o,u,f,v,m),u=If(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qr(i,o,m)):(nt&&u&&sf(o),o.flags|=1,en(i,o,f,m),o.child)}function Mv(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!Zf(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Fv(i,o,v,f,m)):(i=jc(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var E=v.memoizedProps;if(u=u.compare,u=u!==null?u:sl,u(E,f)&&i.ref===o.ref)return qr(i,o,m)}return o.flags|=1,i=bi(v,f),i.ref=o.ref,i.return=o,o.child=i}function Fv(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(sl(v,f)&&i.ref===o.ref)if(un=!1,o.pendingProps=f=v,(i.lanes&m)!==0)i.flags&131072&&(un=!0);else return o.lanes=i.lanes,qr(i,o,m)}return Df(i,o,u,f,m)}function jv(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe($o,En),En|=u;else{if(!(u&1073741824))return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Xe($o,En),En|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,Xe($o,En),En|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,Xe($o,En),En|=f;return en(i,o,m,u),o.child}function Uv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Df(i,o,u,f,m){var v=ln(u)?Es:zt.current;return v=No(o,v),jo(o,m),u=Ef(i,o,u,f,v,m),f=If(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qr(i,o,m)):(nt&&f&&sf(o),o.flags|=1,en(i,o,u,m),o.child)}function Bv(i,o,u,f,m){if(ln(u)){var v=!0;cc(o)}else v=!1;if(jo(o,m),o.stateNode===null)Rc(i,o),xv(o,u,f),xf(o,u,f,m),f=!0;else if(i===null){var E=o.stateNode,b=o.memoizedProps;E.props=b;var M=E.context,K=u.contextType;typeof K=="object"&&K!==null?K=Dn(K):(K=ln(u)?Es:zt.current,K=No(o,K));var te=u.getDerivedStateFromProps,ie=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==f||M!==K)&&kv(o,E,f,K),Si=!1;var ee=o.memoizedState;E.state=ee,_c(o,f,E,m),M=o.memoizedState,b!==f||ee!==M||an.current||Si?(typeof te=="function"&&(Rf(o,u,te,f),M=o.memoizedState),(b=Si||Rv(o,u,b,f,ee,M,K))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=M),E.props=f,E.state=M,E.context=K,f=b):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{E=o.stateNode,rv(i,o),b=o.memoizedProps,K=o.type===o.elementType?b:Xn(o.type,b),E.props=K,ie=o.pendingProps,ee=E.context,M=u.contextType,typeof M=="object"&&M!==null?M=Dn(M):(M=ln(u)?Es:zt.current,M=No(o,M));var le=u.getDerivedStateFromProps;(te=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==ie||ee!==M)&&kv(o,E,f,M),Si=!1,ee=o.memoizedState,E.state=ee,_c(o,f,E,m);var de=o.memoizedState;b!==ie||ee!==de||an.current||Si?(typeof le=="function"&&(Rf(o,u,le,f),de=o.memoizedState),(K=Si||Rv(o,u,K,f,ee,de,M)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,de,M),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,de,M)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||b===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=de),E.props=f,E.state=de,E.context=M,f=K):(typeof E.componentDidUpdate!="function"||b===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),f=!1)}return Nf(i,o,u,f,v,m)}function Nf(i,o,u,f,m,v){Uv(i,o);var E=(o.flags&128)!==0;if(!f&&!E)return m&&qy(o,u,!1),qr(i,o,v);f=o.stateNode,KA.current=o;var b=E&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&E?(o.child=Mo(o,i.child,null,v),o.child=Mo(o,null,b,v)):en(i,o,b,v),o.memoizedState=f.state,m&&qy(o,u,!0),o.child}function zv(i){var o=i.stateNode;o.pendingContext?Wy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Wy(i,o.context,!1),gf(i,o.containerInfo)}function $v(i,o,u,f,m){return Oo(),uf(m),o.flags|=256,en(i,o,u,f),o.child}var Vf={dehydrated:null,treeContext:null,retryLane:0};function Lf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Wv(i,o,u){var f=o.pendingProps,m=st.current,v=!1,E=(o.flags&128)!==0,b;if((b=E)||(b=i!==null&&i.memoizedState===null?!1:(m&2)!==0),b?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Xe(st,m&1),i===null)return lf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(E=f.children,i=f.fallback,v?(f=o.mode,v=o.child,E={mode:"hidden",children:E},!(f&1)&&v!==null?(v.childLanes=0,v.pendingProps=E):v=Uc(E,f,0,null),i=Ds(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Lf(u),o.memoizedState=Vf,i):Of(o,E));if(m=i.memoizedState,m!==null&&(b=m.dehydrated,b!==null))return GA(i,o,E,f,b,m,u);if(v){v=f.fallback,E=o.mode,m=i.child,b=m.sibling;var M={mode:"hidden",children:f.children};return!(E&1)&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=M,o.deletions=null):(f=bi(m,M),f.subtreeFlags=m.subtreeFlags&14680064),b!==null?v=bi(b,v):(v=Ds(v,E,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,E=i.child.memoizedState,E=E===null?Lf(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=i.childLanes&~u,o.memoizedState=Vf,f}return v=i.child,i=v.sibling,f=bi(v,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Of(i,o){return o=Uc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Cc(i,o,u,f){return f!==null&&uf(f),Mo(o,i.child,null,u),i=Of(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function GA(i,o,u,f,m,v,E){if(u)return o.flags&256?(o.flags&=-257,f=kf(Error(t(422))),Cc(i,o,E,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=Uc({mode:"visible",children:f.children},m,0,null),v=Ds(v,m,E,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,o.mode&1&&Mo(o,i.child,null,E),o.child.memoizedState=Lf(E),o.memoizedState=Vf,v);if(!(o.mode&1))return Cc(i,o,E,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var b=f.dgst;return f=b,v=Error(t(419)),f=kf(v,f,void 0),Cc(i,o,E,f)}if(b=(E&i.childLanes)!==0,un||b){if(f=bt,f!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|E)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Wr(i,m),er(f,i,m,-1))}return Jf(),f=kf(Error(t(421))),Cc(i,o,E,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=aP.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Tn=wi(m.nextSibling),wn=o,nt=!0,Yn=null,i!==null&&(kn[bn++]=zr,kn[bn++]=$r,kn[bn++]=Is,zr=i.id,$r=i.overflow,Is=o),o=Of(o,f.children),o.flags|=4096,o)}function Hv(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),ff(i.return,o,u)}function Mf(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function qv(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(en(i,o,f.children,u),f=st.current,f&2)f=f&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hv(i,u,o);else if(i.tag===19)Hv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Xe(st,f),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&wc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Mf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&wc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Mf(o,!0,u,null,v);break;case"together":Mf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Rc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function qr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Rs|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=bi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=bi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function QA(i,o,u){switch(o.tag){case 3:zv(o),Oo();break;case 5:ov(o);break;case 1:ln(o.type)&&cc(o);break;case 4:gf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Xe(gc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Xe(st,st.current&1),o.flags|=128,null):u&o.child.childLanes?Wv(i,o,u):(Xe(st,st.current&1),i=qr(i,o,u),i!==null?i.sibling:null);Xe(st,st.current&1);break;case 19:if(f=(u&o.childLanes)!==0,i.flags&128){if(f)return qv(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Xe(st,st.current),f)break;return null;case 22:case 23:return o.lanes=0,jv(i,o,u)}return qr(i,o,u)}var Kv,Ff,Gv,Qv;Kv=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ff=function(){},Gv=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Ps(gr.current);var v=null;switch(u){case"input":m=ss(i,m),f=ss(i,f),v=[];break;case"select":m=ae({},m,{value:void 0}),f=ae({},f,{value:void 0}),v=[];break;case"textarea":m=Va(i,m),f=Va(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=ac)}Ua(u,f);var E;u=null;for(K in m)if(!f.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var b=m[K];for(E in b)b.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in f){var M=f[K];if(b=m!=null?m[K]:void 0,f.hasOwnProperty(K)&&M!==b&&(M!=null||b!=null))if(K==="style")if(b){for(E in b)!b.hasOwnProperty(E)||M&&M.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in M)M.hasOwnProperty(E)&&b[E]!==M[E]&&(u||(u={}),u[E]=M[E])}else u||(v||(v=[]),v.push(K,u)),u=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,b=b?b.__html:void 0,M!=null&&b!==M&&(v=v||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&Je("scroll",i),v||b===M||(v=[])):(v=v||[]).push(K,M))}u&&(v=v||[]).push("style",u);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},Qv=function(i,o,u,f){u!==f&&(o.flags|=4)};function wl(i,o){if(!nt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function YA(i,o,u){var f=o.pendingProps;switch(of(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return ln(o.type)&&uc(),Wt(o),null;case 3:return f=o.stateNode,Uo(),Ze(an),Ze(zt),_f(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(pc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Yn!==null&&(Qf(Yn),Yn=null))),Ff(i,o),Wt(o),null;case 5:yf(o);var m=Ps(ml.current);if(u=o.type,i!==null&&o.stateNode!=null)Gv(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Wt(o),null}if(i=Ps(gr.current),pc(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[mr]=o,f[cl]=v,i=(o.mode&1)!==0,u){case"dialog":Je("cancel",f),Je("close",f);break;case"iframe":case"object":case"embed":Je("load",f);break;case"video":case"audio":for(m=0;m<al.length;m++)Je(al[m],f);break;case"source":Je("error",f);break;case"img":case"image":case"link":Je("error",f),Je("load",f);break;case"details":Je("toggle",f);break;case"input":eo(f,v),Je("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Je("invalid",f);break;case"textarea":no(f,v),Je("invalid",f)}Ua(u,v),m=null;for(var E in v)if(v.hasOwnProperty(E)){var b=v[E];E==="children"?typeof b=="string"?f.textContent!==b&&(v.suppressHydrationWarning!==!0&&oc(f.textContent,b,i),m=["children",b]):typeof b=="number"&&f.textContent!==""+b&&(v.suppressHydrationWarning!==!0&&oc(f.textContent,b,i),m=["children",""+b]):s.hasOwnProperty(E)&&b!=null&&E==="onScroll"&&Je("scroll",f)}switch(u){case"input":kr(f),Du(f,v,!0);break;case"textarea":kr(f),La(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=ac)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=vt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=E.createElement(u,{is:f.is}):(i=E.createElement(u),u==="select"&&(E=i,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):i=E.createElementNS(i,u),i[mr]=o,i[cl]=f,Kv(i,o,!1,!1),o.stateNode=i;e:{switch(E=Ba(u,f),u){case"dialog":Je("cancel",i),Je("close",i),m=f;break;case"iframe":case"object":case"embed":Je("load",i),m=f;break;case"video":case"audio":for(m=0;m<al.length;m++)Je(al[m],i);m=f;break;case"source":Je("error",i),m=f;break;case"img":case"image":case"link":Je("error",i),Je("load",i),m=f;break;case"details":Je("toggle",i),m=f;break;case"input":eo(i,f),m=ss(i,f),Je("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ae({},f,{value:void 0}),Je("invalid",i);break;case"textarea":no(i,f),m=Va(i,f),Je("invalid",i);break;default:m=f}Ua(u,m),b=m;for(v in b)if(b.hasOwnProperty(v)){var M=b[v];v==="style"?Fa(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Oa(i,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&ui(i,M):typeof M=="number"&&ui(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Je("scroll",i):M!=null&&B(i,v,M,E))}switch(u){case"input":kr(i),Du(i,f,!1);break;case"textarea":kr(i),La(i);break;case"option":f.value!=null&&i.setAttribute("value",""+We(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Dr(i,!!f.multiple,v,!1):f.defaultValue!=null&&Dr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ac)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Wt(o),null;case 6:if(i&&o.stateNode!=null)Qv(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Ps(ml.current),Ps(gr.current),pc(o)){if(f=o.stateNode,u=o.memoizedProps,f[mr]=o,(v=f.nodeValue!==u)&&(i=wn,i!==null))switch(i.tag){case 3:oc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&oc(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[mr]=o,o.stateNode=f}return Wt(o),null;case 13:if(Ze(st),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(nt&&Tn!==null&&o.mode&1&&!(o.flags&128))Jy(),Oo(),o.flags|=98560,v=!1;else if(v=pc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[mr]=o}else Oo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Wt(o),v=!1}else Yn!==null&&(Qf(Yn),Yn=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(i===null||st.current&1?Et===0&&(Et=3):Jf())),o.updateQueue!==null&&(o.flags|=4),Wt(o),null);case 4:return Uo(),Ff(i,o),i===null&&ll(o.stateNode.containerInfo),Wt(o),null;case 10:return hf(o.type._context),Wt(o),null;case 17:return ln(o.type)&&uc(),Wt(o),null;case 19:if(Ze(st),v=o.memoizedState,v===null)return Wt(o),null;if(f=(o.flags&128)!==0,E=v.rendering,E===null)if(f)wl(v,!1);else{if(Et!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(E=wc(i),E!==null){for(o.flags|=128,wl(v,!1),f=E.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,i=E.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Xe(st,st.current&1|2),o.child}i=i.sibling}v.tail!==null&&Ye()>Wo&&(o.flags|=128,f=!0,wl(v,!1),o.lanes=4194304)}else{if(!f)if(i=wc(E),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),wl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!nt)return Wt(o),null}else 2*Ye()-v.renderingStartTime>Wo&&u!==1073741824&&(o.flags|=128,f=!0,wl(v,!1),o.lanes=4194304);v.isBackwards?(E.sibling=o.child,o.child=E):(u=v.last,u!==null?u.sibling=E:o.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ye(),o.sibling=null,u=st.current,Xe(st,f?u&1|2:u&1),o):(Wt(o),null);case 22:case 23:return Xf(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?En&1073741824&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function XA(i,o){switch(of(o),o.tag){case 1:return ln(o.type)&&uc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Uo(),Ze(an),Ze(zt),_f(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return yf(o),null;case 13:if(Ze(st),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Oo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ze(st),null;case 4:return Uo(),null;case 10:return hf(o.type._context),null;case 22:case 23:return Xf(),null;case 24:return null;default:return null}}var xc=!1,Ht=!1,JA=typeof WeakSet=="function"?WeakSet:Set,ce=null;function zo(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ut(i,o,f)}else u.current=null}function jf(i,o,u){try{u()}catch(f){ut(i,o,f)}}var Yv=!1;function ZA(i,o){if(Yh=yi,i=Ry(),zh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var E=0,b=-1,M=-1,K=0,te=0,ie=i,ee=null;t:for(;;){for(var le;ie!==u||m!==0&&ie.nodeType!==3||(b=E+m),ie!==v||f!==0&&ie.nodeType!==3||(M=E+f),ie.nodeType===3&&(E+=ie.nodeValue.length),(le=ie.firstChild)!==null;)ee=ie,ie=le;for(;;){if(ie===i)break t;if(ee===u&&++K===m&&(b=E),ee===v&&++te===f&&(M=E),(le=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=le}u=b===-1||M===-1?null:{start:b,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Xh={focusedElem:i,selectionRange:u},yi=!1,ce=o;ce!==null;)if(o=ce,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ce=i;else for(;ce!==null;){o=ce;try{var de=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var he=de.memoizedProps,ht=de.memoizedState,H=o.stateNode,U=H.getSnapshotBeforeUpdate(o.elementType===o.type?he:Xn(o.type,he),ht);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ut(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,ce=i;break}ce=o.return}return de=Yv,Yv=!1,de}function Tl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&jf(o,u,v)}m=m.next}while(m!==f)}}function kc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Uf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Xv(i){var o=i.alternate;o!==null&&(i.alternate=null,Xv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[mr],delete o[cl],delete o[tf],delete o[LA],delete o[OA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Jv(i){return i.tag===5||i.tag===3||i.tag===4}function Zv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ac));else if(f!==4&&(i=i.child,i!==null))for(Bf(i,o,u),i=i.sibling;i!==null;)Bf(i,o,u),i=i.sibling}function zf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(zf(i,o,u),i=i.sibling;i!==null;)zf(i,o,u),i=i.sibling}var Ot=null,Jn=!1;function Pi(i,o,u){for(u=u.child;u!==null;)e_(i,o,u),u=u.sibling}function e_(i,o,u){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ps,u)}catch{}switch(u.tag){case 5:Ht||zo(u,o);case 6:var f=Ot,m=Jn;Ot=null,Pi(i,o,u),Ot=f,Jn=m,Ot!==null&&(Jn?(i=Ot,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ot.removeChild(u.stateNode));break;case 18:Ot!==null&&(Jn?(i=Ot,u=u.stateNode,i.nodeType===8?ef(i.parentNode,u):i.nodeType===1&&ef(i,u),Kn(i)):ef(Ot,u.stateNode));break;case 4:f=Ot,m=Jn,Ot=u.stateNode.containerInfo,Jn=!0,Pi(i,o,u),Ot=f,Jn=m;break;case 0:case 11:case 14:case 15:if(!Ht&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,E=v.destroy;v=v.tag,E!==void 0&&(v&2||v&4)&&jf(u,o,E),m=m.next}while(m!==f)}Pi(i,o,u);break;case 1:if(!Ht&&(zo(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(b){ut(u,o,b)}Pi(i,o,u);break;case 21:Pi(i,o,u);break;case 22:u.mode&1?(Ht=(f=Ht)||u.memoizedState!==null,Pi(i,o,u),Ht=f):Pi(i,o,u);break;default:Pi(i,o,u)}}function t_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new JA),o.forEach(function(f){var m=lP.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function Zn(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,E=o,b=E;e:for(;b!==null;){switch(b.tag){case 5:Ot=b.stateNode,Jn=!1;break e;case 3:Ot=b.stateNode.containerInfo,Jn=!0;break e;case 4:Ot=b.stateNode.containerInfo,Jn=!0;break e}b=b.return}if(Ot===null)throw Error(t(160));e_(v,E,m),Ot=null,Jn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(K){ut(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)n_(o,i),o=o.sibling}function n_(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Zn(o,i),vr(i),f&4){try{Tl(3,i,i.return),kc(3,i)}catch(he){ut(i,i.return,he)}try{Tl(5,i,i.return)}catch(he){ut(i,i.return,he)}}break;case 1:Zn(o,i),vr(i),f&512&&u!==null&&zo(u,u.return);break;case 5:if(Zn(o,i),vr(i),f&512&&u!==null&&zo(u,u.return),i.flags&32){var m=i.stateNode;try{ui(m,"")}catch(he){ut(i,i.return,he)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,E=u!==null?u.memoizedProps:v,b=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{b==="input"&&v.type==="radio"&&v.name!=null&&Da(m,v),Ba(b,E);var K=Ba(b,v);for(E=0;E<M.length;E+=2){var te=M[E],ie=M[E+1];te==="style"?Fa(m,ie):te==="dangerouslySetInnerHTML"?Oa(m,ie):te==="children"?ui(m,ie):B(m,te,ie,K)}switch(b){case"input":Na(m,v);break;case"textarea":ro(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var le=v.value;le!=null?Dr(m,!!v.multiple,le,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Dr(m,!!v.multiple,v.defaultValue,!0):Dr(m,!!v.multiple,v.multiple?[]:"",!1))}m[cl]=v}catch(he){ut(i,i.return,he)}}break;case 6:if(Zn(o,i),vr(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(he){ut(i,i.return,he)}}break;case 3:if(Zn(o,i),vr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Kn(o.containerInfo)}catch(he){ut(i,i.return,he)}break;case 4:Zn(o,i),vr(i);break;case 13:Zn(o,i),vr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Hf=Ye())),f&4&&t_(i);break;case 22:if(te=u!==null&&u.memoizedState!==null,i.mode&1?(Ht=(K=Ht)||te,Zn(o,i),Ht=K):Zn(o,i),vr(i),f&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!te&&i.mode&1)for(ce=i,te=i.child;te!==null;){for(ie=ce=te;ce!==null;){switch(ee=ce,le=ee.child,ee.tag){case 0:case 11:case 14:case 15:Tl(4,ee,ee.return);break;case 1:zo(ee,ee.return);var de=ee.stateNode;if(typeof de.componentWillUnmount=="function"){f=ee,u=ee.return;try{o=f,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(he){ut(f,u,he)}}break;case 5:zo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){s_(ie);continue}}le!==null?(le.return=ee,ce=le):s_(ie)}te=te.sibling}e:for(te=null,ie=i;;){if(ie.tag===5){if(te===null){te=ie;try{m=ie.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(b=ie.stateNode,M=ie.memoizedProps.style,E=M!=null&&M.hasOwnProperty("display")?M.display:null,b.style.display=Ma("display",E))}catch(he){ut(i,i.return,he)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=K?"":ie.memoizedProps}catch(he){ut(i,i.return,he)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Zn(o,i),vr(i),f&4&&t_(i);break;case 21:break;default:Zn(o,i),vr(i)}}function vr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Jv(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(ui(m,""),f.flags&=-33);var v=Zv(i);zf(i,v,m);break;case 3:case 4:var E=f.stateNode.containerInfo,b=Zv(i);Bf(i,b,E);break;default:throw Error(t(161))}}catch(M){ut(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function eP(i,o,u){ce=i,r_(i)}function r_(i,o,u){for(var f=(i.mode&1)!==0;ce!==null;){var m=ce,v=m.child;if(m.tag===22&&f){var E=m.memoizedState!==null||xc;if(!E){var b=m.alternate,M=b!==null&&b.memoizedState!==null||Ht;b=xc;var K=Ht;if(xc=E,(Ht=M)&&!K)for(ce=m;ce!==null;)E=ce,M=E.child,E.tag===22&&E.memoizedState!==null?o_(m):M!==null?(M.return=E,ce=M):o_(m);for(;v!==null;)ce=v,r_(v),v=v.sibling;ce=m,xc=b,Ht=K}i_(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,ce=v):i_(i)}}function i_(i){for(;ce!==null;){var o=ce;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Ht||kc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Ht)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Xn(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&sv(o,v,f);break;case 3:var E=o.updateQueue;if(E!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}sv(o,E,u)}break;case 5:var b=o.stateNode;if(u===null&&o.flags&4){u=b;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&Kn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||o.flags&512&&Uf(o)}catch(ee){ut(o,o.return,ee)}}if(o===i){ce=null;break}if(u=o.sibling,u!==null){u.return=o.return,ce=u;break}ce=o.return}}function s_(i){for(;ce!==null;){var o=ce;if(o===i){ce=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ce=u;break}ce=o.return}}function o_(i){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{kc(4,o)}catch(M){ut(o,u,M)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(M){ut(o,m,M)}}var v=o.return;try{Uf(o)}catch(M){ut(o,v,M)}break;case 5:var E=o.return;try{Uf(o)}catch(M){ut(o,E,M)}}}catch(M){ut(o,o.return,M)}if(o===i){ce=null;break}var b=o.sibling;if(b!==null){b.return=o.return,ce=b;break}ce=o.return}}var tP=Math.ceil,bc=Q.ReactCurrentDispatcher,$f=Q.ReactCurrentOwner,Vn=Q.ReactCurrentBatchConfig,Ue=0,bt=null,gt=null,Mt=0,En=0,$o=Ti(0),Et=0,El=null,Rs=0,Dc=0,Wf=0,Il=null,cn=null,Hf=0,Wo=1/0,Kr=null,Nc=!1,qf=null,Ci=null,Vc=!1,Ri=null,Lc=0,Sl=0,Kf=null,Oc=-1,Mc=0;function tn(){return Ue&6?Ye():Oc!==-1?Oc:Oc=Ye()}function xi(i){return i.mode&1?Ue&2&&Mt!==0?Mt&-Mt:FA.transition!==null?(Mc===0&&(Mc=gs()),Mc):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:Ja(i.type)),i):1}function er(i,o,u,f){if(50<Sl)throw Sl=0,Kf=null,Error(t(185));fi(i,u,f),(!(Ue&2)||i!==bt)&&(i===bt&&(!(Ue&2)&&(Dc|=u),Et===4&&ki(i,Mt)),dn(i,f),u===1&&Ue===0&&!(o.mode&1)&&(Wo=Ye()+500,dc&&Ii()))}function dn(i,o){var u=i.callbackNode;Lr(i,o);var f=ms(i,i===bt?Mt:0);if(f===0)u!==null&&Ka(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Ka(u),o===1)i.tag===0?MA(l_.bind(null,i)):Ky(l_.bind(null,i)),NA(function(){!(Ue&6)&&Ii()}),u=null;else{switch(mi(f)){case 1:u=fs;break;case 4:u=ci;break;case 16:u=Cn;break;case 536870912:u=Mu;break;default:u=Cn}u=g_(u,a_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function a_(i,o){if(Oc=-1,Mc=0,Ue&6)throw Error(t(327));var u=i.callbackNode;if(Ho()&&i.callbackNode!==u)return null;var f=ms(i,i===bt?Mt:0);if(f===0)return null;if(f&30||f&i.expiredLanes||o)o=Fc(i,f);else{o=f;var m=Ue;Ue|=2;var v=c_();(bt!==i||Mt!==o)&&(Kr=null,Wo=Ye()+500,ks(i,o));do try{iP();break}catch(b){u_(i,b)}while(!0);df(),bc.current=v,Ue=m,gt!==null?o=0:(bt=null,Mt=0,o=Et)}if(o!==0){if(o===2&&(m=yn(i),m!==0&&(f=m,o=Gf(i,m))),o===1)throw u=El,ks(i,0),ki(i,f),dn(i,Ye()),u;if(o===6)ki(i,f);else{if(m=i.current.alternate,!(f&30)&&!nP(m)&&(o=Fc(i,f),o===2&&(v=yn(i),v!==0&&(f=v,o=Gf(i,v))),o===1))throw u=El,ks(i,0),ki(i,f),dn(i,Ye()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:bs(i,cn,Kr);break;case 3:if(ki(i,f),(f&130023424)===f&&(o=Hf+500-Ye(),10<o)){if(ms(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){tn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Zh(bs.bind(null,i,cn,Kr),o);break}bs(i,cn,Kr);break;case 4:if(ki(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var E=31-Jt(f);v=1<<E,E=o[E],E>m&&(m=E),f&=~v}if(f=m,f=Ye()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*tP(f/1960))-f,10<f){i.timeoutHandle=Zh(bs.bind(null,i,cn,Kr),f);break}bs(i,cn,Kr);break;case 5:bs(i,cn,Kr);break;default:throw Error(t(329))}}}return dn(i,Ye()),i.callbackNode===u?a_.bind(null,i):null}function Gf(i,o){var u=Il;return i.current.memoizedState.isDehydrated&&(ks(i,o).flags|=256),i=Fc(i,o),i!==2&&(o=cn,cn=u,o!==null&&Qf(o)),i}function Qf(i){cn===null?cn=i:cn.push.apply(cn,i)}function nP(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Qn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ki(i,o){for(o&=~Wf,o&=~Dc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Jt(o),f=1<<u;i[u]=-1,o&=~f}}function l_(i){if(Ue&6)throw Error(t(327));Ho();var o=ms(i,0);if(!(o&1))return dn(i,Ye()),null;var u=Fc(i,o);if(i.tag!==0&&u===2){var f=yn(i);f!==0&&(o=f,u=Gf(i,f))}if(u===1)throw u=El,ks(i,0),ki(i,o),dn(i,Ye()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,bs(i,cn,Kr),dn(i,Ye()),null}function Yf(i,o){var u=Ue;Ue|=1;try{return i(o)}finally{Ue=u,Ue===0&&(Wo=Ye()+500,dc&&Ii())}}function xs(i){Ri!==null&&Ri.tag===0&&!(Ue&6)&&Ho();var o=Ue;Ue|=1;var u=Vn.transition,f=Ve;try{if(Vn.transition=null,Ve=1,i)return i()}finally{Ve=f,Vn.transition=u,Ue=o,!(Ue&6)&&Ii()}}function Xf(){En=$o.current,Ze($o)}function ks(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,DA(u)),gt!==null)for(u=gt.return;u!==null;){var f=u;switch(of(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&uc();break;case 3:Uo(),Ze(an),Ze(zt),_f();break;case 5:yf(f);break;case 4:Uo();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:hf(f.type._context);break;case 22:case 23:Xf()}u=u.return}if(bt=i,gt=i=bi(i.current,null),Mt=En=o,Et=0,El=null,Wf=Dc=Rs=0,cn=Il=null,As!==null){for(o=0;o<As.length;o++)if(u=As[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var E=v.next;v.next=m,f.next=E}u.pending=f}As=null}return i}function u_(i,o){do{var u=gt;try{if(df(),Tc.current=Ac,Ec){for(var f=ot.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Ec=!1}if(Cs=0,kt=Tt=ot=null,gl=!1,yl=0,$f.current=null,u===null||u.return===null){Et=1,El=o,gt=null;break}e:{var v=i,E=u.return,b=u,M=o;if(o=Mt,b.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,te=b,ie=te.tag;if(!(te.mode&1)&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var le=Vv(E);if(le!==null){le.flags&=-257,Lv(le,E,b,v,o),le.mode&1&&Nv(v,K,o),o=le,M=K;var de=o.updateQueue;if(de===null){var he=new Set;he.add(M),o.updateQueue=he}else de.add(M);break e}else{if(!(o&1)){Nv(v,K,o),Jf();break e}M=Error(t(426))}}else if(nt&&b.mode&1){var ht=Vv(E);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),Lv(ht,E,b,v,o),uf(Bo(M,b));break e}}v=M=Bo(M,b),Et!==4&&(Et=2),Il===null?Il=[v]:Il.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var H=bv(v,M,o);iv(v,H);break e;case 1:b=M;var U=v.type,q=v.stateNode;if(!(v.flags&128)&&(typeof U.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ci===null||!Ci.has(q)))){v.flags|=65536,o&=-o,v.lanes|=o;var se=Dv(v,b,o);iv(v,se);break e}}v=v.return}while(v!==null)}h_(u)}catch(pe){o=pe,gt===u&&u!==null&&(gt=u=u.return);continue}break}while(!0)}function c_(){var i=bc.current;return bc.current=Ac,i===null?Ac:i}function Jf(){(Et===0||Et===3||Et===2)&&(Et=4),bt===null||!(Rs&268435455)&&!(Dc&268435455)||ki(bt,Mt)}function Fc(i,o){var u=Ue;Ue|=2;var f=c_();(bt!==i||Mt!==o)&&(Kr=null,ks(i,o));do try{rP();break}catch(m){u_(i,m)}while(!0);if(df(),Ue=u,bc.current=f,gt!==null)throw Error(t(261));return bt=null,Mt=0,Et}function rP(){for(;gt!==null;)d_(gt)}function iP(){for(;gt!==null&&!Lu();)d_(gt)}function d_(i){var o=m_(i.alternate,i,En);i.memoizedProps=i.pendingProps,o===null?h_(i):gt=o,$f.current=null}function h_(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=XA(u,o),u!==null){u.flags&=32767,gt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Et=6,gt=null;return}}else if(u=YA(u,o,En),u!==null){gt=u;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=i}while(o!==null);Et===0&&(Et=5)}function bs(i,o,u){var f=Ve,m=Vn.transition;try{Vn.transition=null,Ve=1,sP(i,o,u,f)}finally{Vn.transition=m,Ve=f}return null}function sP(i,o,u,f){do Ho();while(Ri!==null);if(Ue&6)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Ke(i,v),i===bt&&(gt=bt=null,Mt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Vc||(Vc=!0,g_(Cn,function(){return Ho(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=Vn.transition,Vn.transition=null;var E=Ve;Ve=1;var b=Ue;Ue|=4,$f.current=null,ZA(i,u),n_(u,i),AA(Xh),yi=!!Yh,Xh=Yh=null,i.current=u,eP(u),Vh(),Ue=b,Ve=E,Vn.transition=v}else i.current=u;if(Vc&&(Vc=!1,Ri=i,Lc=m),v=i.pendingLanes,v===0&&(Ci=null),Fu(u.stateNode),dn(i,Ye()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Nc)throw Nc=!1,i=qf,qf=null,i;return Lc&1&&i.tag!==0&&Ho(),v=i.pendingLanes,v&1?i===Kf?Sl++:(Sl=0,Kf=i):Sl=0,Ii(),null}function Ho(){if(Ri!==null){var i=mi(Lc),o=Vn.transition,u=Ve;try{if(Vn.transition=null,Ve=16>i?16:i,Ri===null)var f=!1;else{if(i=Ri,Ri=null,Lc=0,Ue&6)throw Error(t(331));var m=Ue;for(Ue|=4,ce=i.current;ce!==null;){var v=ce,E=v.child;if(ce.flags&16){var b=v.deletions;if(b!==null){for(var M=0;M<b.length;M++){var K=b[M];for(ce=K;ce!==null;){var te=ce;switch(te.tag){case 0:case 11:case 15:Tl(8,te,v)}var ie=te.child;if(ie!==null)ie.return=te,ce=ie;else for(;ce!==null;){te=ce;var ee=te.sibling,le=te.return;if(Xv(te),te===K){ce=null;break}if(ee!==null){ee.return=le,ce=ee;break}ce=le}}}var de=v.alternate;if(de!==null){var he=de.child;if(he!==null){de.child=null;do{var ht=he.sibling;he.sibling=null,he=ht}while(he!==null)}}ce=v}}if(v.subtreeFlags&2064&&E!==null)E.return=v,ce=E;else e:for(;ce!==null;){if(v=ce,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Tl(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,ce=H;break e}ce=v.return}}var U=i.current;for(ce=U;ce!==null;){E=ce;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,ce=q;else e:for(E=U;ce!==null;){if(b=ce,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:kc(9,b)}}catch(pe){ut(b,b.return,pe)}if(b===E){ce=null;break e}var se=b.sibling;if(se!==null){se.return=b.return,ce=se;break e}ce=b.return}}if(Ue=m,Ii(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ps,i)}catch{}f=!0}return f}finally{Ve=u,Vn.transition=o}}return!1}function f_(i,o,u){o=Bo(u,o),o=bv(i,o,1),i=Ai(i,o,1),o=tn(),i!==null&&(fi(i,1,o),dn(i,o))}function ut(i,o,u){if(i.tag===3)f_(i,i,u);else for(;o!==null;){if(o.tag===3){f_(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))){i=Bo(u,i),i=Dv(o,i,1),o=Ai(o,i,1),i=tn(),o!==null&&(fi(o,1,i),dn(o,i));break}}o=o.return}}function oP(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=tn(),i.pingedLanes|=i.suspendedLanes&u,bt===i&&(Mt&u)===u&&(Et===4||Et===3&&(Mt&130023424)===Mt&&500>Ye()-Hf?ks(i,0):Wf|=u),dn(i,o)}function p_(i,o){o===0&&(i.mode&1?(o=po,po<<=1,!(po&130023424)&&(po=4194304)):o=1);var u=tn();i=Wr(i,o),i!==null&&(fi(i,o,u),dn(i,u))}function aP(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),p_(i,u)}function lP(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),p_(i,u)}var m_;m_=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||an.current)un=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return un=!1,QA(i,o,u);un=!!(i.flags&131072)}else un=!1,nt&&o.flags&1048576&&Gy(o,fc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Rc(i,o),i=o.pendingProps;var m=No(o,zt.current);jo(o,u),m=Ef(null,o,f,i,m,u);var v=If();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ln(f)?(v=!0,cc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,mf(o),m.updater=Pc,o.stateNode=m,m._reactInternals=o,xf(o,f,i,u),o=Nf(null,o,f,!0,v,u)):(o.tag=0,nt&&v&&sf(o),en(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Rc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=cP(f),i=Xn(f,i),m){case 0:o=Df(null,o,f,i,u);break e;case 1:o=Bv(null,o,f,i,u);break e;case 11:o=Ov(null,o,f,i,u);break e;case 14:o=Mv(null,o,f,Xn(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Xn(f,m),Df(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Xn(f,m),Bv(i,o,f,m,u);case 3:e:{if(zv(o),i===null)throw Error(t(387));f=o.pendingProps,v=o.memoizedState,m=v.element,rv(i,o),_c(o,f,null,u);var E=o.memoizedState;if(f=E.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Bo(Error(t(423)),o),o=$v(i,o,f,u,m);break e}else if(f!==m){m=Bo(Error(t(424)),o),o=$v(i,o,f,u,m);break e}else for(Tn=wi(o.stateNode.containerInfo.firstChild),wn=o,nt=!0,Yn=null,u=tv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Oo(),f===m){o=qr(i,o,u);break e}en(i,o,f,u)}o=o.child}return o;case 5:return ov(o),i===null&&lf(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,E=m.children,Jh(f,m)?E=null:v!==null&&Jh(f,v)&&(o.flags|=32),Uv(i,o),en(i,o,E,u),o.child;case 6:return i===null&&lf(o),null;case 13:return Wv(i,o,u);case 4:return gf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Mo(o,null,f,u):en(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Xn(f,m),Ov(i,o,f,m,u);case 7:return en(i,o,o.pendingProps,u),o.child;case 8:return en(i,o,o.pendingProps.children,u),o.child;case 12:return en(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,E=m.value,Xe(gc,f._currentValue),f._currentValue=E,v!==null)if(Qn(v.value,E)){if(v.children===m.children&&!an.current){o=qr(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var b=v.dependencies;if(b!==null){E=v.child;for(var M=b.firstContext;M!==null;){if(M.context===f){if(v.tag===1){M=Hr(-1,u&-u),M.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?M.next=M:(M.next=te.next,te.next=M),K.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),ff(v.return,u,o),b.lanes|=u;break}M=M.next}}else if(v.tag===10)E=v.type===o.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=u,b=E.alternate,b!==null&&(b.lanes|=u),ff(E,u,o),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===o){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}en(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,jo(o,u),m=Dn(m),f=f(m),o.flags|=1,en(i,o,f,u),o.child;case 14:return f=o.type,m=Xn(f,o.pendingProps),m=Xn(f.type,m),Mv(i,o,f,m,u);case 15:return Fv(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Xn(f,m),Rc(i,o),o.tag=1,ln(f)?(i=!0,cc(o)):i=!1,jo(o,u),xv(o,f,m),xf(o,f,m,u),Nf(null,o,f,!0,i,u);case 19:return qv(i,o,u);case 22:return jv(i,o,u)}throw Error(t(156,o.tag))};function g_(i,o){return ho(i,o)}function uP(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,o,u,f){return new uP(i,o,u,f)}function Zf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cP(i){if(typeof i=="function")return Zf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===je)return 14}return 2}function bi(i,o){var u=i.alternate;return u===null?(u=Ln(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function jc(i,o,u,f,m,v){var E=2;if(f=i,typeof i=="function")Zf(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case x:return Ds(u.children,m,v,o);case S:E=8,m|=8;break;case C:return i=Ln(12,u,o,m|2),i.elementType=C,i.lanes=v,i;case R:return i=Ln(13,u,o,m),i.elementType=R,i.lanes=v,i;case Ce:return i=Ln(19,u,o,m),i.elementType=Ce,i.lanes=v,i;case ge:return Uc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:E=10;break e;case j:E=9;break e;case z:E=11;break e;case je:E=14;break e;case Ge:E=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Ln(E,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Ds(i,o,u,f){return i=Ln(7,i,f,o),i.lanes=u,i}function Uc(i,o,u,f){return i=Ln(22,i,f,o),i.elementType=ge,i.lanes=u,i.stateNode={isHidden:!1},i}function ep(i,o,u){return i=Ln(6,i,null,o),i.lanes=u,i}function tp(i,o,u){return o=Ln(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function dP(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function np(i,o,u,f,m,v,E,b,M){return i=new dP(i,o,u,b,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Ln(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(v),i}function hP(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function y_(i){if(!i)return Ei;i=i._reactInternals;e:{if(zn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ln(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(ln(u))return Hy(i,u,o)}return o}function v_(i,o,u,f,m,v,E,b,M){return i=np(u,f,!0,i,m,v,E,b,M),i.context=y_(null),u=i.current,f=tn(),m=xi(u),v=Hr(f,m),v.callback=o??null,Ai(u,v,m),i.current.lanes=m,fi(i,m,f),dn(i,f),i}function Bc(i,o,u,f){var m=o.current,v=tn(),E=xi(m);return u=y_(u),o.context===null?o.context=u:o.pendingContext=u,o=Hr(v,E),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Ai(m,o,E),i!==null&&(er(i,m,E,v),vc(i,m,E)),E}function zc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function __(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function rp(i,o){__(i,o),(i=i.alternate)&&__(i,o)}var w_=typeof reportError=="function"?reportError:function(i){console.error(i)};function ip(i){this._internalRoot=i}$c.prototype.render=ip.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Bc(i,o,null,null)},$c.prototype.unmount=ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;xs(function(){Bc(null,i,null,null)}),o[Ur]=null}};function $c(i){this._internalRoot=i}$c.prototype.unstable_scheduleHydration=function(i){if(i){var o=$u();i={blockedOn:null,target:i,priority:o};for(var u=0;u<dr.length&&o!==0&&o<dr[u].priority;u++);dr.splice(u,0,i),u===0&&qu(i)}};function sp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Wc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function T_(){}function fP(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var K=zc(E);v.call(K)}}var E=v_(o,f,i,0,null,!1,!1,"",T_);return i._reactRootContainer=E,i[Ur]=E.current,ll(i.nodeType===8?i.parentNode:i),xs(),E}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var b=f;f=function(){var K=zc(M);b.call(K)}}var M=np(i,0,!1,null,null,!1,!1,"",T_);return i._reactRootContainer=M,i[Ur]=M.current,ll(i.nodeType===8?i.parentNode:i),xs(function(){Bc(o,M,u,f)}),M}function Hc(i,o,u,f,m){var v=u._reactRootContainer;if(v){var E=v;if(typeof m=="function"){var b=m;m=function(){var M=zc(E);b.call(M)}}Bc(o,E,i,m)}else E=fP(u,o,i,m,f);return zc(E)}Bu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=di(o.pendingLanes);u!==0&&(pi(o,u|1),dn(o,Ye()),!(Ue&6)&&(Wo=Ye()+500,Ii()))}break;case 13:xs(function(){var f=Wr(i,1);if(f!==null){var m=tn();er(f,i,1,m)}}),rp(i,1)}},mo=function(i){if(i.tag===13){var o=Wr(i,134217728);if(o!==null){var u=tn();er(o,i,134217728,u)}rp(i,134217728)}},zu=function(i){if(i.tag===13){var o=xi(i),u=Wr(i,o);if(u!==null){var f=tn();er(u,i,o,f)}rp(i,o)}},$u=function(){return Ve},Wu=function(i,o){var u=Ve;try{return Ve=i,o()}finally{Ve=u}},so=function(i,o,u){switch(o){case"input":if(Na(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=lc(f);if(!m)throw Error(t(90));Zs(f),Na(f,m)}}}break;case"textarea":ro(i,u);break;case"select":o=u.value,o!=null&&Dr(i,!!u.multiple,o,!1)}},us=Yf,$a=xs;var pP={usingClientEntryPoint:!1,Events:[dl,bo,lc,ur,za,Yf]},Al={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mP={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=qa(i),i===null?null:i.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{ps=qc.inject(mP),gn=qc}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pP,hn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sp(o))throw Error(t(200));return hP(i,o,null,u)},hn.createRoot=function(i,o){if(!sp(i))throw Error(t(299));var u=!1,f="",m=w_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=np(i,1,!1,null,null,u,!1,f,m),i[Ur]=o.current,ll(i.nodeType===8?i.parentNode:i),new ip(o)},hn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=qa(o),i=i===null?null:i.stateNode,i},hn.flushSync=function(i){return xs(i)},hn.hydrate=function(i,o,u){if(!Wc(o))throw Error(t(200));return Hc(null,i,o,!0,u)},hn.hydrateRoot=function(i,o,u){if(!sp(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",E=w_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),o=v_(o,null,i,1,u??null,m,!1,v,E),i[Ur]=o.current,ll(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new $c(o)},hn.render=function(i,o,u){if(!Wc(o))throw Error(t(200));return Hc(null,i,o,!1,u)},hn.unmountComponentAtNode=function(i){if(!Wc(i))throw Error(t(40));return i._reactRootContainer?(xs(function(){Hc(null,null,i,!1,function(){i._reactRootContainer=null,i[Ur]=null})}),!0):!1},hn.unstable_batchedUpdates=Yf,hn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Wc(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Hc(i,o,u,!1,f)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var D_;function SP(){if(D_)return lp.exports;D_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lp.exports=IP(),lp.exports}var N_;function AP(){if(N_)return Gc;N_=1;var n=SP();return Gc.createRoot=n.createRoot,Gc.hydrateRoot=n.hydrateRoot,Gc}var PP=AP(),Cl={},V_;function CP(){if(V_)return Cl;V_=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.parse=l,Cl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function l(T,I){const P=new a,D=T.length;if(D<2)return P;const k=(I==null?void 0:I.decode)||y;let L=0;do{const F=T.indexOf("=",L);if(F===-1)break;const B=T.indexOf(";",L),Q=B===-1?D:B;if(F>Q){L=T.lastIndexOf(";",F-1)+1;continue}const Y=d(T,L,F),Z=h(T,F,Y),x=T.slice(Y,Z);if(P[x]===void 0){let S=d(T,F+1,Q),C=h(T,Q,S);const V=k(T.slice(S,C));P[x]=V}L=Q+1}while(L<D);return P}function d(T,I,P){do{const D=T.charCodeAt(I);if(D!==32&&D!==9)return I}while(++I<P);return P}function h(T,I,P){for(;I>P;){const D=T.charCodeAt(--I);if(D!==32&&D!==9)return I+1}return P}function p(T,I,P){const D=(P==null?void 0:P.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const k=D(I);if(!e.test(k))throw new TypeError(`argument val is invalid: ${I}`);let L=T+"="+k;if(!P)return L;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);L+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);L+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);L+="; Path="+P.path}if(P.expires){if(!_(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);L+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(L+="; HttpOnly"),P.secure&&(L+="; Secure"),P.partitioned&&(L+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return L}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return s.call(T)==="[object Date]"}return Cl}CP();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L_="popstate";function RP(n={}){function e(r,s){let{pathname:a,search:l,hash:d}=r.location;return jp("",{pathname:a,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Yl(s)}return kP(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xP(){return Math.random().toString(36).substring(2,10)}function O_(n,e){return{usr:n.state,key:n.key,idx:e}}function jp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:t,key:e&&e.key||r||xP()}}function Yl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function kP(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d="POP",h=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function _(){d="POP";let k=y(),L=k==null?null:k-p;p=k,h&&h({action:d,location:D.location,delta:L})}function T(k,L){d="PUSH";let F=jp(D.location,k,L);p=y()+1;let B=O_(F,p),Q=D.createHref(F);try{l.pushState(B,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(Q)}a&&h&&h({action:d,location:D.location,delta:1})}function I(k,L){d="REPLACE";let F=jp(D.location,k,L);p=y();let B=O_(F,p),Q=D.createHref(F);l.replaceState(B,"",Q),a&&h&&h({action:d,location:D.location,delta:0})}function P(k){let L=s.location.origin!=="null"?s.location.origin:s.location.href,F=typeof k=="string"?k:Yl(k);return F=F.replace(/ $/,"%20"),it(L,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,L)}let D={get action(){return d},get location(){return n(s,l)},listen(k){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(L_,_),h=k,()=>{s.removeEventListener(L_,_),h=null}},createHref(k){return e(s,k)},createURL:P,encodeLocation(k){let L=P(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:I,go(k){return l.go(k)}};return D}function VT(n,e,t="/"){return bP(n,e,t,!1)}function bP(n,e,t,r){let s=typeof e=="string"?wa(e):e,a=qi(s.pathname||"/",t);if(a==null)return null;let l=LT(n);DP(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let p=$P(a);d=BP(l[h],p,r)}return d}function LT(n,e=[],t=[],r=""){let s=(a,l,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(it(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Jr([r,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),LT(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:jP(p,a.index),routesMeta:y})};return n.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,l);else for(let h of OT(a.path))s(a,l,h)}),e}function OT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=OT(r.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...l),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function DP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:UP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var NP=/^:[\w-]+$/,VP=3,LP=2,OP=1,MP=10,FP=-2,M_=n=>n==="*";function jP(n,e){let t=n.split("/"),r=t.length;return t.some(M_)&&(r+=FP),e&&(r+=LP),t.filter(s=>!M_(s)).reduce((s,a)=>s+(NP.test(a)?VP:a===""?OP:MP),r)}function UP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function BP(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=Ed({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),T=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=Ed({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:Jr([a,_.pathname]),pathnameBase:KP(Jr([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=Jr([a,_.pathnameBase]))}return l}function Ed(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=zP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},T)=>{if(y==="*"){let P=d[T]||"";l=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const I=d[T];return _&&!I?p[y]=void 0:p[y]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function zP(n,e=!1,t=!0){rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function $P(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function qi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function WP(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?wa(n):n;return{pathname:t?t.startsWith("/")?t:HP(t,e):e,search:GP(r),hash:QP(s)}}function HP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function dp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Lm(n){let e=qP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Om(n,e,t,r=!1){let s;typeof n=="string"?s=wa(n):(s={...n},it(!s.pathname||!s.pathname.includes("?"),dp("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),dp("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),dp("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}d=_>=0?e[_]:"/"}let h=WP(s,d),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),KP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function YP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var MT=["POST","PUT","PATCH","DELETE"];new Set(MT);var XP=["GET",...MT];new Set(XP);var Ta=O.createContext(null);Ta.displayName="DataRouter";var Xd=O.createContext(null);Xd.displayName="DataRouterState";var FT=O.createContext({isTransitioning:!1});FT.displayName="ViewTransition";var JP=O.createContext(new Map);JP.displayName="Fetchers";var ZP=O.createContext(null);ZP.displayName="Await";var or=O.createContext(null);or.displayName="Navigation";var fu=O.createContext(null);fu.displayName="Location";var xr=O.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var Mm=O.createContext(null);Mm.displayName="RouteError";function eC(n,{relative:e}={}){it(Ea(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(or),{hash:s,pathname:a,search:l}=mu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Jr([t,a])),r.createHref({pathname:d,search:l,hash:s})}function Ea(){return O.useContext(fu)!=null}function es(){return it(Ea(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(fu).location}var jT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UT(n){O.useContext(or).static||O.useLayoutEffect(n)}function pu(){let{isDataRoute:n}=O.useContext(xr);return n?fC():tC()}function tC(){it(Ea(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(Ta),{basename:e,navigator:t}=O.useContext(or),{matches:r}=O.useContext(xr),{pathname:s}=es(),a=JSON.stringify(Lm(r)),l=O.useRef(!1);return UT(()=>{l.current=!0}),O.useCallback((h,p={})=>{if(rr(l.current,jT),!l.current)return;if(typeof h=="number"){t.go(h);return}let y=Om(h,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Jr([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,s,n])}O.createContext(null);function mu(n,{relative:e}={}){let{matches:t}=O.useContext(xr),{pathname:r}=es(),s=JSON.stringify(Lm(t));return O.useMemo(()=>Om(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function nC(n,e){return BT(n,e)}function BT(n,e,t,r){var L;it(Ea(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(or),{matches:a}=O.useContext(xr),l=a[a.length-1],d=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",y=l&&l.route;{let F=y&&y.path||"";zT(h,!y||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=es(),T;if(e){let F=typeof e=="string"?wa(e):e;it(p==="/"||((L=F.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),T=F}else T=_;let I=T.pathname||"/",P=I;if(p!=="/"){let F=p.replace(/^\//,"").split("/");P="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let D=VT(n,{pathname:P});rr(y||D!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),rr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=aC(D&&D.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Jr([p,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Jr([p,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,t,r);return e&&k?O.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},k):k}function rC(){let n=hC(),e=YP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,l)}var iC=O.createElement(rC,null),sC=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(xr.Provider,{value:this.props.routeContext},O.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oC({routeContext:n,match:e,children:t}){let r=O.useContext(Ta);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(xr.Provider,{value:n},t)}function aC(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);it(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,d=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:y,errors:_}=t,T=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||T){l=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,p,y)=>{let _,T=!1,I=null,P=null;t&&(_=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||iC,l&&(d<0&&y===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,P=null):d===y&&(T=!0,P=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,y+1)),k=()=>{let L;return _?L=I:T?L=P:p.route.Component?L=O.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=h,O.createElement(oC,{match:p,routeContext:{outlet:h,matches:D,isDataRoute:t!=null},children:L})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?O.createElement(sC,{location:t.location,revalidation:t.revalidation,component:I,error:_,children:k(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):k()},null)}function Fm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lC(n){let e=O.useContext(Ta);return it(e,Fm(n)),e}function uC(n){let e=O.useContext(Xd);return it(e,Fm(n)),e}function cC(n){let e=O.useContext(xr);return it(e,Fm(n)),e}function jm(n){let e=cC(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function dC(){return jm("useRouteId")}function hC(){var r;let n=O.useContext(Mm),e=uC("useRouteError"),t=jm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function fC(){let{router:n}=lC("useNavigate"),e=jm("useNavigate"),t=O.useRef(!1);return UT(()=>{t.current=!0}),O.useCallback(async(s,a={})=>{rr(t.current,jT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var F_={};function zT(n,e,t){!e&&!F_[n]&&(F_[n]=!0,rr(!1,t))}O.memo(pC);function pC({routes:n,future:e,state:t}){return BT(n,void 0,t,e)}function mC({to:n,replace:e,state:t,relative:r}){it(Ea(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(or);rr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(xr),{pathname:l}=es(),d=pu(),h=Om(n,Lm(a),l,r==="path"),p=JSON.stringify(h);return O.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function kl(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){it(!Ea(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof t=="string"&&(t=wa(t));let{pathname:h="/",search:p="",hash:y="",state:_=null,key:T="default"}=t,I=O.useMemo(()=>{let P=qi(h,l);return P==null?null:{location:{pathname:P,search:p,hash:y,state:_,key:T},navigationType:r}},[l,h,p,y,_,T,r]);return rr(I!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(or.Provider,{value:d},O.createElement(fu.Provider,{children:e,value:I}))}function yC({children:n,location:e}){return nC(Up(n),e)}function Up(n,e=[]){let t=[];return O.Children.forEach(n,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){t.push.apply(t,Up(r.props.children,a));return}it(r.type===kl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Up(r.props.children,a)),t.push(l)}),t}var ad="get",ld="application/x-www-form-urlencoded";function Jd(n){return n!=null&&typeof n.tagName=="string"}function vC(n){return Jd(n)&&n.tagName.toLowerCase()==="button"}function _C(n){return Jd(n)&&n.tagName.toLowerCase()==="form"}function wC(n){return Jd(n)&&n.tagName.toLowerCase()==="input"}function TC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function EC(n,e){return n.button===0&&(!e||e==="_self")&&!TC(n)}var Qc=null;function IC(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var SC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(n){return n!=null&&!SC.has(n)?(rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ld}"`),null):n}function AC(n,e){let t,r,s,a,l;if(_C(n)){let d=n.getAttribute("action");r=d?qi(d,e):null,t=n.getAttribute("method")||ad,s=hp(n.getAttribute("enctype"))||ld,a=new FormData(n)}else if(vC(n)||wC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(r=h?qi(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||ad,s=hp(n.getAttribute("formenctype"))||hp(d.getAttribute("enctype"))||ld,a=new FormData(d,n),!IC()){let{name:p,type:y,value:_}=n;if(y==="image"){let T=p?`${p}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else p&&a.append(p,_)}}else{if(Jd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ad,r=null,s=ld,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:l}}function Um(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function PC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function RC(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await PC(a,t);return l.links?l.links():[]}return[]}));return DC(r.flat(1).filter(CC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function j_(n,e,t,r,s,a){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||d(h,p)):a==="data"?e.filter((h,p)=>{var _;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let T=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function xC(n,e){return kC(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function kC(n){return[...new Set(n)]}function bC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function DC(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(bC(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function NC(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function VC(){let n=O.useContext(Ta);return Um(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LC(){let n=O.useContext(Xd);return Um(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bm=O.createContext(void 0);Bm.displayName="FrameworkContext";function $T(){let n=O.useContext(Bm);return Um(n,"You must render this element inside a <HydratedRouter> element"),n}function OC(n,e){let t=O.useContext(Bm),[r,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,T=O.useRef(null);O.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let D=L=>{L.forEach(F=>{l(F.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[n]),O.useEffect(()=>{if(r){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[r]);let I=()=>{s(!0)},P=()=>{s(!1),l(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:Rl(d,I),onBlur:Rl(h,P),onMouseEnter:Rl(p,I),onMouseLeave:Rl(y,P),onTouchStart:Rl(_,I)}]:[!1,T,{}]}function Rl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function MC({page:n,...e}){let{router:t}=VC(),r=O.useMemo(()=>VT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(jC,{page:n,matches:r,...e}):null}function FC(n){let{manifest:e,routeModules:t}=$T(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return RC(n,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[n,e,t]),r}function jC({page:n,matches:e,...t}){let r=es(),{manifest:s,routeModules:a}=$T(),{loaderData:l,matches:d}=LC(),h=O.useMemo(()=>j_(n,e,d,s,r,"data"),[n,e,d,s,r]),p=O.useMemo(()=>j_(n,e,d,s,r,"assets"),[n,e,d,s,r]),y=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,P=!1;if(e.forEach(k=>{var F;let L=s.routes[k.route.id];!L||!L.hasLoader||(!h.some(B=>B.route.id===k.route.id)&&k.route.id in l&&((F=a[k.route.id])!=null&&F.shouldRevalidate)||L.hasClientLoader?P=!0:I.add(k.route.id))}),I.size===0)return[];let D=NC(n);return P&&I.size>0&&D.searchParams.set("_routes",e.filter(k=>I.has(k.route.id)).map(k=>k.route.id).join(",")),[D.pathname+D.search]},[l,r,s,h,e,n,a]),_=O.useMemo(()=>xC(p,s),[p,s]),T=FC(p);return O.createElement(O.Fragment,null,y.map(I=>O.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),_.map(I=>O.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),T.map(({key:I,link:P})=>O.createElement("link",{key:I,...P})))}function UC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WT&&(window.__reactRouterVersion="7.1.3")}catch{}function BC({basename:n,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=RP({window:t,v5Compat:!0}));let s=r.current,[a,l]=O.useState({action:s.action,location:s.location}),d=O.useCallback(h=>{O.startTransition(()=>l(h))},[l]);return O.useLayoutEffect(()=>s.listen(d),[s,d]),O.createElement(gC,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zm=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:d,target:h,to:p,preventScrollReset:y,viewTransition:_,...T},I){let{basename:P}=O.useContext(or),D=typeof p=="string"&&HT.test(p),k,L=!1;if(typeof p=="string"&&D&&(k=p,WT))try{let C=new URL(window.location.href),V=p.startsWith("//")?new URL(C.protocol+p):new URL(p),j=qi(V.pathname,P);V.origin===C.origin&&j!=null?p=j+V.search+V.hash:L=!0}catch{rr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=eC(p,{relative:s}),[B,Q,Y]=OC(r,T),Z=HC(p,{replace:l,state:d,target:h,preventScrollReset:y,relative:s,viewTransition:_});function x(C){e&&e(C),C.defaultPrevented||Z(C)}let S=O.createElement("a",{...T,...Y,href:k||F,onClick:L||a?e:x,ref:UC(I,Q),target:h,"data-discover":!D&&t==="render"?"true":void 0});return B&&!D?O.createElement(O.Fragment,null,S,O.createElement(MC,{page:F})):S});zm.displayName="Link";var zC=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:d,children:h,...p},y){let _=mu(l,{relative:p.relative}),T=es(),I=O.useContext(Xd),{navigator:P,basename:D}=O.useContext(or),k=I!=null&&YC(_)&&d===!0,L=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,F=T.pathname,B=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(F=F.toLowerCase(),B=B?B.toLowerCase():null,L=L.toLowerCase()),B&&D&&(B=qi(B,D)||B);const Q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let Y=F===L||!s&&F.startsWith(L)&&F.charAt(Q)==="/",Z=B!=null&&(B===L||!s&&B.startsWith(L)&&B.charAt(L.length)==="/"),x={isActive:Y,isPending:Z,isTransitioning:k},S=Y?e:void 0,C;typeof r=="function"?C=r(x):C=[r,Y?"active":null,Z?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(x):a;return O.createElement(zm,{...p,"aria-current":S,className:C,ref:y,style:V,to:l,viewTransition:d},typeof h=="function"?h(x):h)});zC.displayName="NavLink";var $C=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:l=ad,action:d,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:_,...T},I)=>{let P=GC(),D=QC(d,{relative:p}),k=l.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&HT.test(d),F=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let Q=B.nativeEvent.submitter,Y=(Q==null?void 0:Q.getAttribute("formmethod"))||l;P(Q||B.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:s,state:a,relative:p,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:I,method:k,action:D,onSubmit:r?h:F,...T,"data-discover":!L&&n==="render"?"true":void 0})});$C.displayName="Form";function WC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qT(n){let e=O.useContext(Ta);return it(e,WC(n)),e}function HC(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let d=pu(),h=es(),p=mu(n,{relative:a});return O.useCallback(y=>{if(EC(y,e)){y.preventDefault();let _=t!==void 0?t:Yl(h)===Yl(p);d(n,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[h,d,p,t,r,e,n,s,a,l])}var qC=0,KC=()=>`__${String(++qC)}__`;function GC(){let{router:n}=qT("useSubmit"),{basename:e}=O.useContext(or),t=dC();return O.useCallback(async(r,s={})=>{let{action:a,method:l,encType:d,formData:h,body:p}=AC(r,e);if(s.navigate===!1){let y=s.fetcherKey||KC();await n.fetch(y,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function QC(n,{relative:e}={}){let{basename:t}=O.useContext(or),r=O.useContext(xr);it(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...mu(n||".",{relative:e})},l=es();if(n==null){a.search=l.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Jr([t,a.pathname])),Yl(a)}function YC(n,e={}){let t=O.useContext(FT);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qT("useViewTransitionState"),s=mu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=qi(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=qi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ed(s.pathname,l)!=null||Ed(s.pathname,a)!=null}new TextEncoder;const XC="/assets/new-mainlogo-DdxHqH-1.svg",JC=()=>N.jsx(N.Fragment,{children:N.jsxs("main",{className:"main-content",children:[N.jsxs("div",{className:"text-container",children:[N.jsx("div",{className:"hide-mobile",children:N.jsxs("h1",{className:"wildcats-desktop",children:["Wildcats ",N.jsx("span",{className:"express-mobile",children:"Express"})]})}),N.jsx("div",{className:"hide-title"}),N.jsx("h3",{className:"typing-text",children:"Fast. Fresh. Fierce."}),N.jsx("h3",{className:"typing-text-mobile",children:"Fast. Fresh. Fierce."}),N.jsx("div",{className:"order-button",children:N.jsx(zm,{to:"/login-page",className:"primary-cta",children:"Order Here"})})]}),N.jsx("div",{className:"cat",children:N.jsx("img",{src:XC,alt:"Photo of Wildcat chef"})})]})});var U_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},ZC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],d=n[t++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,d=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,y=a>>2,_=(a&3)<<4|d>>4;let T=(d&15)<<2|p>>6,I=p&63;h||(I=64,l||(T=64)),r.push(t[y],t[_],t[T],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||_==null)throw new eR;const T=a<<2|d>>4;if(r.push(T),p!==64){const I=d<<4&240|p>>2;if(r.push(I),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(n){const e=KT(n);return GT.encodeByteArray(e,!0)},Id=function(n){return tR(n).replace(/\./g,"")},QT=function(n){try{return GT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=()=>nR().__FIREBASE_DEFAULTS__,iR=()=>{if(typeof process>"u"||typeof U_>"u")return;const n=U_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&QT(n[1]);return e&&JSON.parse(e)},Zd=()=>{try{return rR()||iR()||sR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},YT=n=>{var e,t;return(t=(e=Zd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},oR=n=>{const e=YT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},XT=()=>{var n;return(n=Zd())===null||n===void 0?void 0:n.config},JT=n=>{var e;return(e=Zd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Id(JSON.stringify(t)),Id(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function cR(){var n;const e=(n=Zd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fR(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eE(){try{return typeof indexedDB=="object"}catch{return!1}}function tE(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function mR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="FirebaseError";class ar extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gR,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gs.prototype.create)}}class Gs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?yR(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new ar(s,d,r)}}function yR(n,e){return n.replace(vR,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vR=/\{\$([^}]+)}/g;function _R(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(B_(a)&&B_(l)){if(!Sd(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function B_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Dl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wR(n,e){const t=new TR(n,e);return t.subscribe.bind(t)}class TR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ER(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=fp),s.error===void 0&&(s.error=fp),s.complete===void 0&&(s.complete=fp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=1e3,SR=2,AR=4*60*60*1e3,PR=.5;function z_(n,e=IR,t=SR){const r=e*Math.pow(t,n),s=Math.round(PR*r*(Math.random()-.5)*2);return Math.min(AR,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n){return n&&n._delegate?n._delegate:n}class ir{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new aR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xR(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(n){return n===Vs?void 0:n}function xR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const bR={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},DR=De.INFO,NR={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},VR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=NR[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eh{constructor(e){this.name=e,this._logLevel=DR,this._logHandler=VR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const LR=(n,e)=>e.some(t=>n instanceof t);let $_,W_;function OR(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,Bp=new WeakMap,rE=new WeakMap,pp=new WeakMap,$m=new WeakMap;function FR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ui(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&nE.set(t,n)}).catch(()=>{}),$m.set(e,n),e}function jR(n){if(Bp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Bp.set(n,e)}let zp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UR(n){zp=n(zp)}function BR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(mp(this),e,...t);return rE.set(r,e.sort?e.sort():[e]),Ui(r)}:MR().includes(n)?function(...e){return n.apply(mp(this),e),Ui(nE.get(this))}:function(...e){return Ui(n.apply(mp(this),e))}}function zR(n){return typeof n=="function"?BR(n):(n instanceof IDBTransaction&&jR(n),LR(n,OR())?new Proxy(n,zp):n)}function Ui(n){if(n instanceof IDBRequest)return FR(n);if(pp.has(n))return pp.get(n);const e=zR(n);return e!==n&&(pp.set(n,e),$m.set(e,n)),e}const mp=n=>$m.get(n);function iE(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),d=Ui(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ui(l.result),h.oldVersion,h.newVersion,Ui(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const $R=["get","getKey","getAll","getAllKeys","count"],WR=["put","add","delete","clear"],gp=new Map;function H_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=WR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$R.includes(t)))return;const a=async function(l,...d){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&h.done]))[0]};return gp.set(e,a),a}UR(n=>({...n,get:(e,t,r)=>H_(e,t)||n.get(e,t,r),has:(e,t)=>!!H_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function qR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",q_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new eh("@firebase/app"),KR="@firebase/app-compat",GR="@firebase/analytics-compat",QR="@firebase/analytics",YR="@firebase/app-check-compat",XR="@firebase/app-check",JR="@firebase/auth",ZR="@firebase/auth-compat",ex="@firebase/database",tx="@firebase/data-connect",nx="@firebase/database-compat",rx="@firebase/functions",ix="@firebase/functions-compat",sx="@firebase/installations",ox="@firebase/installations-compat",ax="@firebase/messaging",lx="@firebase/messaging-compat",ux="@firebase/performance",cx="@firebase/performance-compat",dx="@firebase/remote-config",hx="@firebase/remote-config-compat",fx="@firebase/storage",px="@firebase/storage-compat",mx="@firebase/firestore",gx="@firebase/vertexai",yx="@firebase/firestore-compat",vx="firebase",_x="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",wx={[$p]:"fire-core",[KR]:"fire-core-compat",[QR]:"fire-analytics",[GR]:"fire-analytics-compat",[XR]:"fire-app-check",[YR]:"fire-app-check-compat",[JR]:"fire-auth",[ZR]:"fire-auth-compat",[ex]:"fire-rtdb",[tx]:"fire-data-connect",[nx]:"fire-rtdb-compat",[rx]:"fire-fn",[ix]:"fire-fn-compat",[sx]:"fire-iid",[ox]:"fire-iid-compat",[ax]:"fire-fcm",[lx]:"fire-fcm-compat",[ux]:"fire-perf",[cx]:"fire-perf-compat",[dx]:"fire-rc",[hx]:"fire-rc-compat",[fx]:"fire-gcs",[px]:"fire-gcs-compat",[mx]:"fire-fst",[yx]:"fire-fst-compat",[gx]:"fire-vertex","fire-js":"fire-js",[vx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new Map,Tx=new Map,Hp=new Map;function K_(n,e){try{n.container.addComponent(e)}catch(t){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pr(n){const e=n.name;if(Hp.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,n);for(const t of Ad.values())K_(t,n);for(const t of Tx.values())K_(t,n);return!0}function yu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Gs("app","Firebase",Ex);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=_x;function sE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Bi.create("bad-app-name",{appName:String(s)});if(t||(t=XT()),!t)throw Bi.create("no-options");const a=Ad.get(s);if(a){if(Sd(t,a.options)&&Sd(r,a.config))return a;throw Bi.create("duplicate-app",{appName:s})}const l=new kR(s);for(const h of Hp.values())l.addComponent(h);const d=new Ix(t,r,l);return Ad.set(s,d),d}function oE(n=Wp){const e=Ad.get(n);if(!e&&n===Wp&&XT())return sE();if(!e)throw Bi.create("no-app",{appName:n});return e}function Fn(n,e,t){var r;let s=(r=wx[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(d.join(" "));return}Pr(new ir(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firebase-heartbeat-database",Ax=1,Xl="firebase-heartbeat-store";let yp=null;function aE(){return yp||(yp=iE(Sx,Ax,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),yp}async function Px(n){try{const t=(await aE()).transaction(Xl),r=await t.objectStore(Xl).get(lE(n));return await t.done,r}catch(e){if(e instanceof ar)ti.warn(e.message);else{const t=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(t.message)}}}async function G_(n,e){try{const r=(await aE()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,lE(n)),await r.done}catch(t){if(t instanceof ar)ti.warn(t.message);else{const r=Bi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ti.warn(r.message)}}}function lE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=1024,Rx=30*24*60*60*1e3;class xx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const d=new Date(l.date).valueOf();return Date.now()-d<=Rx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q_(),{heartbeatsToSend:r,unsentEntries:s}=kx(this._heartbeatsCache.heartbeats),a=Id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ti.warn(t),""}}}function Q_(){return new Date().toISOString().substring(0,10)}function kx(n,e=Cx){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Y_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Y_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class bx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eE()?tE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Px(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return G_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return G_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Y_(n){return Id(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(n){Pr(new ir("platform-logger",e=>new HR(e),"PRIVATE")),Pr(new ir("heartbeat",e=>new xx(e),"PRIVATE")),Fn($p,q_,n),Fn($p,q_,"esm2017"),Fn("fire-js","")}Dx("");function Wm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nx=uE,cE=new Gs("auth","Firebase",uE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new eh("@firebase/auth");function Vx(n,...e){Pd.logLevel<=De.WARN&&Pd.warn(`Auth (${Ia}): ${n}`,...e)}function ud(n,...e){Pd.logLevel<=De.ERROR&&Pd.error(`Auth (${Ia}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(n,...e){throw Hm(n,...e)}function wr(n,...e){return Hm(n,...e)}function dE(n,e,t){const r=Object.assign(Object.assign({},Nx()),{[e]:t});return new Gs("auth","Firebase",r).create(e,{appName:n.name})}function zi(n){return dE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return cE.create(n,...e)}function Ee(n,e,...t){if(!n)throw Hm(e,...t)}function Qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ud(e),new Error(e)}function ni(n,e){n||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Lx(){return X_()==="http:"||X_()==="https:"}function X_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lx()||ZT()||"connection"in navigator)?navigator.onLine:!0}function Mx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ni(t>e,"Short delay should be less than long delay!"),this.isMobile=uR()||hR()}get(){return Ox()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(n,e){ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new vu(3e4,6e4);function Qs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ts(n,e,t,r,s={}){return fE(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=gu(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return dR()||(p.referrerPolicy="no-referrer"),hE.fetch()(pE(n,n.config.apiHost,t,d),p)})}async function fE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fx),e);try{const s=new Bx(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Yc(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Yc(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Yc(n,"user-disabled",l);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw dE(n,y,p);sr(n,y)}}catch(s){if(s instanceof ar)throw s;sr(n,"network-request-failed",{message:String(s)})}}async function th(n,e,t,r,s={}){const a=await ts(n,e,t,r,s);return"mfaPendingCredential"in a&&sr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function pE(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?qm(n.config,s):`${n.config.apiScheme}://${s}`}function Ux(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),jx.get())})}}function Yc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=wr(n,e,r);return s.customData._tokenResponse=t,s}function J_(n){return n!==void 0&&n.enterprise!==void 0}class zx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ux(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $x(n,e){return ts(n,"GET","/v2/recaptchaConfig",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(n,e){return ts(n,"POST","/v1/accounts:delete",e)}async function mE(n,e){return ts(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hx(n,e=!1){const t=Ct(n),r=await t.getIdToken(e),s=Km(r);Ee(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ul(vp(s.auth_time)),issuedAtTime:Ul(vp(s.iat)),expirationTime:Ul(vp(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vp(n){return Number(n)*1e3}function Km(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const s=QT(t);return s?JSON.parse(s):(ud("Failed to decode base64 JWT payload"),null)}catch(s){return ud("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Z_(n){const e=Km(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ar&&qx(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function qx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Jl(n,mE(t,{idToken:r}));Ee(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?gE(a.providerUserInfo):[],d=Qx(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),y=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Kp(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function Gx(n){const e=Ct(n);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qx(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function gE(n){return n.map(e=>{var{providerId:t}=e,r=Wm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(n,e){const t=await fE(n,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=pE(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",hE.fetch()(l,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Xx(n,e){return ts(n,"POST","/v2/accounts:revokeToken",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Z_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await Yx(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new ra;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ee(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Hx(this,e)}reload(){return Gx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Jl(this,Wx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,l,d,h,p,y;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(l=t.photoURL)!==null&&l!==void 0?l:void 0,D=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,L=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:B,emailVerified:Q,isAnonymous:Y,providerData:Z,stsTokenManager:x}=t;Ee(B&&x,e,"internal-error");const S=ra.fromJSON(this.name,x);Ee(typeof B=="string",e,"internal-error"),Ni(_,e.name),Ni(T,e.name),Ee(typeof Q=="boolean",e,"internal-error"),Ee(typeof Y=="boolean",e,"internal-error"),Ni(I,e.name),Ni(P,e.name),Ni(D,e.name),Ni(k,e.name),Ni(L,e.name),Ni(F,e.name);const C=new Yr({uid:B,auth:e,email:T,emailVerified:Q,displayName:_,isAnonymous:Y,photoURL:P,phoneNumber:I,tenantId:D,stsTokenManager:S,createdAt:L,lastLoginAt:F});return Z&&Array.isArray(Z)&&(C.providerData=Z.map(V=>Object.assign({},V))),k&&(C._redirectEventId=k),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new ra;s.updateFromServerResponse(t);const a=new Yr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ee(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?gE(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new ra;d.updateFromIdToken(r);const h=new Yr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;function Xr(n){ni(n instanceof Function,"Expected a class definition");let e=e0.get(n);return e?(ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,e0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yE.type="NONE";const t0=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(n,e,t){return`firebase:${n}:${e}:${t}`}class ia{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=cd(this.userKey,s.apiKey,a),this.fullPersistenceKey=cd("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ia(Xr(t0),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Xr(t0);const l=cd(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const y=await p._get(l);if(y){const _=Yr._fromJSON(e,y);p!==a&&(d=_),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ia(a,e,r):(a=h[0],d&&await a._set(l,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ia(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IE(e))return"Blackberry";if(SE(e))return"Webos";if(_E(e))return"Safari";if((e.includes("chrome/")||wE(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vE(n=Xt()){return/firefox\//i.test(n)}function _E(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wE(n=Xt()){return/crios\//i.test(n)}function TE(n=Xt()){return/iemobile/i.test(n)}function EE(n=Xt()){return/android/i.test(n)}function IE(n=Xt()){return/blackberry/i.test(n)}function SE(n=Xt()){return/webos/i.test(n)}function Gm(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Jx(n=Xt()){var e;return Gm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zx(){return fR()&&document.documentMode===10}function AE(n=Xt()){return Gm(n)||EE(n)||SE(n)||IE(n)||/windows phone/i.test(n)||TE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(n,e=[]){let t;switch(n){case"Browser":t=n0(Xt());break;case"Worker":t=`${n0(Xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,d)=>{try{const h=e(a);l(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(n,e={}){return ts(n,"GET","/v2/passwordPolicy",Qs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=6;class rk{constructor(e){var t,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:nk,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,l,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new ek(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mE(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===d)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(zi(this));const t=e?Ct(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tk(this),t=new rk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Vx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Sa(n){return Ct(n)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=wR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sk(n){nh=n}function CE(n){return nh.loadJS(n)}function ok(){return nh.recaptchaEnterpriseScript}function ak(){return nh.gapiScript}function lk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uk{constructor(){this.enterprise=new ck}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ck{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dk="recaptcha-enterprise",RE="NO_RECAPTCHA";class hk{constructor(e){this.type=dk,this.auth=Sa(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{$x(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new zx(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{d(h)})})}function s(a,l,d){const h=window.grecaptcha;J_(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(RE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uk().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(d=>{if(!t&&J_(window.grecaptcha))s(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=ok();h.length!==0&&(h+=d),CE(h).then(()=>{s(d,a,l)}).catch(p=>{l(p)})}}).catch(d=>{l(d)})})}}async function i0(n,e,t,r=!1,s=!1){const a=new hk(n);let l;if(s)l=RE;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function s0(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await i0(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await i0(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n,e){const t=yu(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Sd(a,e??{}))return s;sr(s,"already-initialized")}return t.initialize({options:e})}function pk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Xr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mk(n,e,t){const r=Sa(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=xE(e),{host:l,port:d}=gk(e),h=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),yk()}function xE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gk(n){const e=xE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:o0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:o0(l)}}}function o0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,t){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function vk(n,e){return ts(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e){return th(n,"POST","/v1/accounts:signInWithPassword",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(n,e){return th(n,"POST","/v1/accounts:signInWithEmailLink",Qs(n,e))}async function Tk(n,e){return th(n,"POST","/v1/accounts:signInWithEmailLink",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Qm{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Zl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s0(e,t,"signInWithPassword",_k);case"emailLink":return wk(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s0(e,r,"signUpPassword",vk);case"emailLink":return Tk(e,{idToken:t,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n,e){return th(n,"POST","/v1/accounts:signInWithIdp",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="http://localhost";class $s extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Wm(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new $s(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return sa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,sa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sa(e,t)}buildRequest(){const e={requestUri:Ek,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sk(n){const e=bl(Dl(n)).link,t=e?bl(Dl(e)).deep_link_id:null,r=bl(Dl(n)).deep_link_id;return(r?bl(Dl(r)).link:null)||r||t||e||n}class Ym{constructor(e){var t,r,s,a,l,d;const h=bl(Dl(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,_=Ik((s=h.mode)!==null&&s!==void 0?s:null);Ee(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Sk(e);try{return new Ym(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,t){return Zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ym.parseLink(t);return Ee(r,"argument-error"),Zl._fromEmailAndCode(e,r.code,r.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends kE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends _u{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends _u{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends _u{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Yr._fromIdTokenResponse(e,r,s),l=a0(r);return new la({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=a0(r);return new la({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function a0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends ar{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Rd(e,t,r,s)}}function bE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rd._fromErrorAndOperation(n,a,e,r):a})}async function Ak(n,e,t=!1){const r=await Jl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return la._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(n,e,t=!1){const{auth:r}=n;if(Gr(r.app))return Promise.reject(zi(r));const s="reauthenticate";try{const a=await Jl(n,bE(r,s,e,n),t);Ee(a.idToken,r,"internal-error");const l=Km(a.idToken);Ee(l,r,"internal-error");const{sub:d}=l;return Ee(n.uid===d,r,"user-mismatch"),la._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(n,e,t=!1){if(Gr(n.app))return Promise.reject(zi(n));const r="signIn",s=await bE(n,r,e),a=await la._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function Ck(n,e){return DE(Sa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(n){const e=Sa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xk(n,e,t){return Gr(n.app)?Promise.reject(zi(n)):Ck(Ct(n),Aa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Rk(n),r})}function kk(n,e,t,r){return Ct(n).onIdTokenChanged(e,t,r)}function bk(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function Xm(n,e,t,r){return Ct(n).onAuthStateChanged(e,t,r)}function Dk(n){return Ct(n).signOut()}const xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xd,"1"),this.storage.removeItem(xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=1e3,Vk=10;class VE extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Zx()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Vk):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VE.type="LOCAL";const Lk=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}LE.type="SESSION";const OE=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async p=>p(t.origin,a)),h=await Ok(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,h)=>{const p=Jm("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function Fk(n){Tr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function jk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Bk(){return ME()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebaseLocalStorageDb",zk=1,kd="firebaseLocalStorage",jE="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ih(n,e){return n.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function $k(){const n=indexedDB.deleteDatabase(FE);return new wu(n).toPromise()}function Gp(){const n=indexedDB.open(FE,zk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(kd,{keyPath:jE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(kd)?e(r):(r.close(),await $k(),e(await Gp()))})})}async function l0(n,e,t){const r=ih(n,!0).put({[jE]:e,value:t});return new wu(r).toPromise()}async function Wk(n,e){const t=ih(n,!1).get(e),r=await new wu(t).toPromise();return r===void 0?null:r.value}function u0(n,e){const t=ih(n,!0).delete(e);return new wu(t).toPromise()}const Hk=800,qk=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>qk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ME()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(Bk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await jk(),!this.activeServiceWorker)return;this.sender=new Mk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await l0(e,xd,"1"),await u0(e,xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>l0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Wk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>u0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ih(s,!1).getAll();return new wu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const Kk=UE;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n,e){return e?Xr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends Qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Qk(n){return DE(n.auth,new Zm(n),n.bypassAuthState)}function Yk(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),Pk(t,new Zm(n),n.bypassAuthState)}async function Xk(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),Ak(t,new Zm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qk;case"linkViaPopup":case"linkViaRedirect":return Xk;case"reauthViaPopup":case"reauthViaRedirect":return Yk;default:sr(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new vu(2e3,1e4);class Xo extends BE{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jk.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="pendingRedirect",dd=new Map;class eb extends BE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=dd.get(this.auth._key());if(!e){try{const r=await tb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}dd.set(this.auth._key(),e)}return this.bypassAuthState||dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tb(n,e){const t=ib(e),r=rb(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function nb(n,e){dd.set(n._key(),e)}function rb(n){return Xr(n._redirectPersistence)}function ib(n){return cd(Zk,n.config.apiKey,n.name)}async function sb(n,e,t=!1){if(Gr(n.app))return Promise.reject(zi(n));const r=Sa(n),s=Gk(r,e),l=await new eb(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=10*60*1e3;class ab{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!zE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(wr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ob&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(e))}saveEventToCache(e){this.cachedEventUids.add(c0(e)),this.lastProcessedEventTime=Date.now()}}function c0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(n,e={}){return ts(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,db=/^https?/;async function hb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ub(n);for(const t of e)try{if(fb(t))return}catch{}sr(n,"unauthorized-domain")}function fb(n){const e=qp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!db.test(t))return!1;if(cb.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new vu(3e4,6e4);function d0(){const n=Tr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mb(n){return new Promise((e,t)=>{var r,s,a;function l(){d0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d0(),t(wr(n,"network-request-failed"))},timeout:pb.get()})}if(!((s=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Tr().gapi)===null||a===void 0)&&a.load)l();else{const d=lk("iframefcb");return Tr()[d]=()=>{gapi.load?l():t(wr(n,"network-request-failed"))},CE(`${ak()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw hd=null,e})}let hd=null;function gb(n){return hd=hd||mb(n),hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new vu(5e3,15e3),vb="__/auth/iframe",_b="emulator/auth/iframe",wb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eb(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qm(e,_b):`https://${n.config.authDomain}/${vb}`,r={apiKey:e.apiKey,appName:n.name,v:Ia},s=Tb.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${gu(r).slice(1)}`}async function Ib(n){const e=await gb(n),t=Tr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:Eb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wb,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=wr(n,"network-request-failed"),d=Tr().setTimeout(()=>{a(l)},yb.get());function h(){Tr().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ab=500,Pb=600,Cb="_blank",Rb="http://localhost";class h0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xb(n,e,t,r=Ab,s=Pb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},Sb),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Xt().toLowerCase();t&&(d=wE(p)?Cb:t),vE(p)&&(e=e||Rb,h.scrollbars="yes");const y=Object.entries(h).reduce((T,[I,P])=>`${T}${I}=${P},`,"");if(Jx(p)&&d!=="_self")return kb(e||"",d),new h0(null);const _=window.open(e||"",d,y);Ee(_,n,"popup-blocked");try{_.focus()}catch{}return new h0(_)}function kb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="__/auth/handler",Db="emulator/auth/handler",Nb=encodeURIComponent("fac");async function f0(n,e,t,r,s,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ia,eventId:s};if(e instanceof kE){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_R(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof _u){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const d=l;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await n._getAppCheckToken(),p=h?`#${Nb}=${encodeURIComponent(h)}`:"";return`${Vb(n)}?${gu(d).slice(1)}${p}`}function Vb({config:n}){return n.emulator?qm(n,Db):`https://${n.authDomain}/${bb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class Lb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OE,this._completeRedirectFn=sb,this._overrideRedirectResult=nb}async _openPopup(e,t,r,s){var a;ni((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await f0(e,t,r,qp(),s);return xb(e,l,Jm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await f0(e,t,r,qp(),s);return Fk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ni(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Ib(e),r=new ab(e);return t.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_p,{type:_p},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[_p];l!==void 0&&t(!!l),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AE()||_E()||Gm()}}const Ob=Lb;var p0="@firebase/auth",m0="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jb(n){Pr(new ir("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PE(n)},p=new ik(r,s,a,h);return pk(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pr(new ir("auth-internal",e=>{const t=Sa(e.getProvider("auth").getImmediate());return(r=>new Mb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(p0,m0,Fb(n)),Fn(p0,m0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=5*60,Bb=JT("authIdTokenMaxAge")||Ub;let g0=null;const zb=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Bb)return;const s=t==null?void 0:t.token;g0!==s&&(g0=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $b(n=oE()){const e=yu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fk(n,{popupRedirectResolver:Ob,persistence:[Kk,Lk,OE]}),r=JT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=zb(a.toString());bk(t,l,()=>l(t.currentUser)),kk(t,d=>l(d))}}const s=YT("auth");return s&&mk(t,`http://${s}`),t}function Wb(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}sk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=wr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",Wb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jb("Browser");var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,$E;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function C(){}C.prototype=S.prototype,x.D=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(V,j,z){for(var R=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)R[Ce-2]=arguments[Ce];return S.prototype[j].apply(V,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,S,C){C||(C=0);var V=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)V[j]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(j=0;16>j;++j)V[j]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],j=x.g[2];var z=x.g[3],R=S+(z^C&(j^z))+V[0]+3614090360&4294967295;S=C+(R<<7&4294967295|R>>>25),R=z+(j^S&(C^j))+V[1]+3905402710&4294967295,z=S+(R<<12&4294967295|R>>>20),R=j+(C^z&(S^C))+V[2]+606105819&4294967295,j=z+(R<<17&4294967295|R>>>15),R=C+(S^j&(z^S))+V[3]+3250441966&4294967295,C=j+(R<<22&4294967295|R>>>10),R=S+(z^C&(j^z))+V[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(j^S&(C^j))+V[5]+1200080426&4294967295,z=S+(R<<12&4294967295|R>>>20),R=j+(C^z&(S^C))+V[6]+2821735955&4294967295,j=z+(R<<17&4294967295|R>>>15),R=C+(S^j&(z^S))+V[7]+4249261313&4294967295,C=j+(R<<22&4294967295|R>>>10),R=S+(z^C&(j^z))+V[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(j^S&(C^j))+V[9]+2336552879&4294967295,z=S+(R<<12&4294967295|R>>>20),R=j+(C^z&(S^C))+V[10]+4294925233&4294967295,j=z+(R<<17&4294967295|R>>>15),R=C+(S^j&(z^S))+V[11]+2304563134&4294967295,C=j+(R<<22&4294967295|R>>>10),R=S+(z^C&(j^z))+V[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(j^S&(C^j))+V[13]+4254626195&4294967295,z=S+(R<<12&4294967295|R>>>20),R=j+(C^z&(S^C))+V[14]+2792965006&4294967295,j=z+(R<<17&4294967295|R>>>15),R=C+(S^j&(z^S))+V[15]+1236535329&4294967295,C=j+(R<<22&4294967295|R>>>10),R=S+(j^z&(C^j))+V[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^j&(S^C))+V[6]+3225465664&4294967295,z=S+(R<<9&4294967295|R>>>23),R=j+(S^C&(z^S))+V[11]+643717713&4294967295,j=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(j^z))+V[0]+3921069994&4294967295,C=j+(R<<20&4294967295|R>>>12),R=S+(j^z&(C^j))+V[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^j&(S^C))+V[10]+38016083&4294967295,z=S+(R<<9&4294967295|R>>>23),R=j+(S^C&(z^S))+V[15]+3634488961&4294967295,j=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(j^z))+V[4]+3889429448&4294967295,C=j+(R<<20&4294967295|R>>>12),R=S+(j^z&(C^j))+V[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^j&(S^C))+V[14]+3275163606&4294967295,z=S+(R<<9&4294967295|R>>>23),R=j+(S^C&(z^S))+V[3]+4107603335&4294967295,j=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(j^z))+V[8]+1163531501&4294967295,C=j+(R<<20&4294967295|R>>>12),R=S+(j^z&(C^j))+V[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^j&(S^C))+V[2]+4243563512&4294967295,z=S+(R<<9&4294967295|R>>>23),R=j+(S^C&(z^S))+V[7]+1735328473&4294967295,j=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(j^z))+V[12]+2368359562&4294967295,C=j+(R<<20&4294967295|R>>>12),R=S+(C^j^z)+V[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^j)+V[8]+2272392833&4294967295,z=S+(R<<11&4294967295|R>>>21),R=j+(z^S^C)+V[11]+1839030562&4294967295,j=z+(R<<16&4294967295|R>>>16),R=C+(j^z^S)+V[14]+4259657740&4294967295,C=j+(R<<23&4294967295|R>>>9),R=S+(C^j^z)+V[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^j)+V[4]+1272893353&4294967295,z=S+(R<<11&4294967295|R>>>21),R=j+(z^S^C)+V[7]+4139469664&4294967295,j=z+(R<<16&4294967295|R>>>16),R=C+(j^z^S)+V[10]+3200236656&4294967295,C=j+(R<<23&4294967295|R>>>9),R=S+(C^j^z)+V[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^j)+V[0]+3936430074&4294967295,z=S+(R<<11&4294967295|R>>>21),R=j+(z^S^C)+V[3]+3572445317&4294967295,j=z+(R<<16&4294967295|R>>>16),R=C+(j^z^S)+V[6]+76029189&4294967295,C=j+(R<<23&4294967295|R>>>9),R=S+(C^j^z)+V[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^j)+V[12]+3873151461&4294967295,z=S+(R<<11&4294967295|R>>>21),R=j+(z^S^C)+V[15]+530742520&4294967295,j=z+(R<<16&4294967295|R>>>16),R=C+(j^z^S)+V[2]+3299628645&4294967295,C=j+(R<<23&4294967295|R>>>9),R=S+(j^(C|~z))+V[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~j))+V[7]+1126891415&4294967295,z=S+(R<<10&4294967295|R>>>22),R=j+(S^(z|~C))+V[14]+2878612391&4294967295,j=z+(R<<15&4294967295|R>>>17),R=C+(z^(j|~S))+V[5]+4237533241&4294967295,C=j+(R<<21&4294967295|R>>>11),R=S+(j^(C|~z))+V[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~j))+V[3]+2399980690&4294967295,z=S+(R<<10&4294967295|R>>>22),R=j+(S^(z|~C))+V[10]+4293915773&4294967295,j=z+(R<<15&4294967295|R>>>17),R=C+(z^(j|~S))+V[1]+2240044497&4294967295,C=j+(R<<21&4294967295|R>>>11),R=S+(j^(C|~z))+V[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~j))+V[15]+4264355552&4294967295,z=S+(R<<10&4294967295|R>>>22),R=j+(S^(z|~C))+V[6]+2734768916&4294967295,j=z+(R<<15&4294967295|R>>>17),R=C+(z^(j|~S))+V[13]+1309151649&4294967295,C=j+(R<<21&4294967295|R>>>11),R=S+(j^(C|~z))+V[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~j))+V[11]+3174756917&4294967295,z=S+(R<<10&4294967295|R>>>22),R=j+(S^(z|~C))+V[2]+718787259&4294967295,j=z+(R<<15&4294967295|R>>>17),R=C+(z^(j|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+j&4294967295,x.g[3]=x.g[3]+z&4294967295}r.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var C=S-this.blockSize,V=this.B,j=this.h,z=0;z<S;){if(j==0)for(;z<=C;)s(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<S;)if(V[j++]=x.charCodeAt(z++),j==this.blockSize){s(this,V),j=0;break}}else for(;z<S;)if(V[j++]=x[z++],j==this.blockSize){s(this,V),j=0;break}}this.h=j,this.o+=S},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var C=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=C&255,C/=256;for(this.u(x),x=Array(16),S=C=0;4>S;++S)for(var V=0;32>V;V+=8)x[C++]=this.g[S]>>>V&255;return x};function a(x,S){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function l(x,S){this.h=S;for(var C=[],V=!0,j=x.length-1;0<=j;j--){var z=x[j]|0;V&&z==S||(C[j]=z,V=!1)}this.g=C}var d={};function h(x){return-128<=x&&128>x?a(x,function(S){return new l([S|0],0>S?-1:0)}):new l([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return _;if(0>x)return k(p(-x));for(var S=[],C=1,V=0;x>=C;V++)S[V]=x/C|0,C*=4294967296;return new l(S,0)}function y(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return k(y(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(S,8)),V=_,j=0;j<x.length;j+=8){var z=Math.min(8,x.length-j),R=parseInt(x.substring(j,j+z),S);8>z?(z=p(Math.pow(S,z)),V=V.j(z).add(p(R))):(V=V.j(C),V=V.add(p(R)))}return V}var _=h(0),T=h(1),I=h(16777216);n=l.prototype,n.m=function(){if(D(this))return-k(this).m();for(var x=0,S=1,C=0;C<this.g.length;C++){var V=this.i(C);x+=(0<=V?V:4294967296+V)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(D(this))return"-"+k(this).toString(x);for(var S=p(Math.pow(x,6)),C=this,V="";;){var j=Q(C,S).g;C=L(C,j.j(S));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=j,P(C))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function D(x){return x.h==-1}n.l=function(x){return x=L(this,x),D(x)?-1:P(x)?0:1};function k(x){for(var S=x.g.length,C=[],V=0;V<S;V++)C[V]=~x.g[V];return new l(C,~x.h).add(T)}n.abs=function(){return D(this)?k(this):this},n.add=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],V=0,j=0;j<=S;j++){var z=V+(this.i(j)&65535)+(x.i(j)&65535),R=(z>>>16)+(this.i(j)>>>16)+(x.i(j)>>>16);V=R>>>16,z&=65535,R&=65535,C[j]=R<<16|z}return new l(C,C[C.length-1]&-2147483648?-1:0)};function L(x,S){return x.add(k(S))}n.j=function(x){if(P(this)||P(x))return _;if(D(this))return D(x)?k(this).j(k(x)):k(k(this).j(x));if(D(x))return k(this.j(k(x)));if(0>this.l(I)&&0>x.l(I))return p(this.m()*x.m());for(var S=this.g.length+x.g.length,C=[],V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var j=0;j<x.g.length;j++){var z=this.i(V)>>>16,R=this.i(V)&65535,Ce=x.i(j)>>>16,je=x.i(j)&65535;C[2*V+2*j]+=R*je,F(C,2*V+2*j),C[2*V+2*j+1]+=z*je,F(C,2*V+2*j+1),C[2*V+2*j+1]+=R*Ce,F(C,2*V+2*j+1),C[2*V+2*j+2]+=z*Ce,F(C,2*V+2*j+2)}for(V=0;V<S;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=S;V<2*S;V++)C[V]=0;return new l(C,0)};function F(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function B(x,S){this.g=x,this.h=S}function Q(x,S){if(P(S))throw Error("division by zero");if(P(x))return new B(_,_);if(D(x))return S=Q(k(x),S),new B(k(S.g),k(S.h));if(D(S))return S=Q(x,k(S)),new B(k(S.g),S.h);if(30<x.g.length){if(D(x)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var C=T,V=S;0>=V.l(x);)C=Y(C),V=Y(V);var j=Z(C,1),z=Z(V,1);for(V=Z(V,2),C=Z(C,2);!P(V);){var R=z.add(V);0>=R.l(x)&&(j=j.add(C),z=R),V=Z(V,1),C=Z(C,1)}return S=L(x,j.j(S)),new B(j,S)}for(j=_;0<=x.l(S);){for(C=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=p(C),R=z.j(S);D(R)||0<R.l(x);)C-=V,z=p(C),R=z.j(S);P(z)&&(z=T),j=j.add(z),x=L(x,R)}return new B(j,x)}n.A=function(x){return Q(this,x).h},n.and=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],V=0;V<S;V++)C[V]=this.i(V)&x.i(V);return new l(C,this.h&x.h)},n.or=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],V=0;V<S;V++)C[V]=this.i(V)|x.i(V);return new l(C,this.h|x.h)},n.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],V=0;V<S;V++)C[V]=this.i(V)^x.i(V);return new l(C,this.h^x.h)};function Y(x){for(var S=x.g.length+1,C=[],V=0;V<S;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new l(C,x.h)}function Z(x,S){var C=S>>5;S%=32;for(var V=x.g.length-C,j=[],z=0;z<V;z++)j[z]=0<S?x.i(z+C)>>>S|x.i(z+C+1)<<32-S:x.i(z+C);return new l(j,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$E=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,$i=l}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WE,Nl,HE,fd,Qp,qE,KE,GE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var w=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var W=c[A];if(!(W in w))break e;w=w[W]}c=c[c.length-1],A=w[c],g=g(A),g!=A&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,A=!1,W={next:function(){if(!A&&w<c.length){var G=w++;return{value:g(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function h(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,w){return c.call.apply(c.bind,arguments)}function _(c,g,w){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,A),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function T(c,g,w){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,T.apply(null,arguments)}function I(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function P(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(A,W,G){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return g.prototype[W].apply(A,oe)}}function D(c){const g=c.length;if(0<g){const w=Array(g);for(let A=0;A<g;A++)w[A]=c[A];return w}return[]}function k(c,g){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(h(A)){const W=c.length||0,G=A.length||0;c.length=W+G;for(let oe=0;oe<G;oe++)c[W+oe]=A[oe]}else c.push(A)}}class L{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var Y=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Z(c,g,w){for(const A in c)g.call(w,c[A],A,c)}function x(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function S(c){const g={};for(const w in c)g[w]=c[w];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let w,A;for(let W=1;W<arguments.length;W++){A=arguments[W];for(w in A)c[w]=A[w];for(let G=0;G<C.length;G++)w=C[G],Object.prototype.hasOwnProperty.call(A,w)&&(c[w]=A[w])}}function j(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function z(c){d.setTimeout(()=>{throw c},0)}function R(){var c=fe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ce{constructor(){this.h=this.g=null}add(g,w){const A=je.get();A.set(g,w),this.h?this.h.next=A:this.g=A,this.h=A}}var je=new L(()=>new Ge,c=>c.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ne=!1,fe=new Ce,ae=()=>{const c=d.Promise.resolve(void 0);ge=()=>{c.then($)}};var $=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(w){z(w)}var g=je;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ne=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,g),d.removeEventListener("test",w,g)}catch{}return c}();function xe(c,g){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Y){e:{try{Q(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}P(xe,me);var Oe={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),We=0;function Qe(c,g,w,A,W){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!A,this.ha=W,this.key=++We,this.da=this.fa=!1}function Rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kr(c){this.src=c,this.g={},this.h=0}kr.prototype.add=function(c,g,w,A,W){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var oe=li(c,g,A,W);return-1<oe?(g=c[oe],w||(g.fa=!1)):(g=new Qe(g,this.src,G,!!A,W),g.fa=w,c.push(g)),g};function Zs(c,g){var w=g.type;if(w in c.g){var A=c.g[w],W=Array.prototype.indexOf.call(A,g,void 0),G;(G=0<=W)&&Array.prototype.splice.call(A,W,1),G&&(Rt(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function li(c,g,w,A){for(var W=0;W<c.length;++W){var G=c[W];if(!G.da&&G.listener==g&&G.capture==!!w&&G.ha==A)return W}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),eo={};function Da(c,g,w,A,W){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Da(c,g[G],w,A,W);return null}return w=La(w),c&&c[$e]?c.K(g,w,p(A)?!!A.capture:!1,W):Na(c,g,w,!1,A,W)}function Na(c,g,w,A,W,G){if(!g)throw Error("Invalid event type");var oe=p(W)?!!W.capture:!!W,qe=no(c);if(qe||(c[ss]=qe=new kr(c)),w=qe.add(g,w,A,oe,G),w.proxy)return w;if(A=Du(),w.proxy=A,A.src=c,A.listener=w,c.addEventListener)Re||(W=oe),W===void 0&&(W=!1),c.addEventListener(g.toString(),A,W);else if(c.attachEvent)c.attachEvent(Dr(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Du(){function c(w){return g.call(c.src,c.listener,w)}const g=Va;return c}function to(c,g,w,A,W){if(Array.isArray(g))for(var G=0;G<g.length;G++)to(c,g[G],w,A,W);else A=p(A)?!!A.capture:!!A,w=La(w),c&&c[$e]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],w=li(G,w,A,W),-1<w&&(Rt(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=no(c))&&(g=c.g[g.toString()],c=-1,g&&(c=li(g,w,A,W)),(w=-1<c?g[c]:null)&&br(w))}function br(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[$e])Zs(g.i,c);else{var w=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(w,A,c.capture):g.detachEvent?g.detachEvent(Dr(w),A):g.addListener&&g.removeListener&&g.removeListener(A),(w=no(g))?(Zs(w,c),w.h==0&&(w.src=null,g[ss]=null)):Rt(c)}}}function Dr(c){return c in eo?eo[c]:eo[c]="on"+c}function Va(c,g){if(c.da)c=!0;else{g=new xe(g,this);var w=c.listener,A=c.ha||c.src;c.fa&&br(c),c=w.call(A,g)}return c}function no(c){return c=c[ss],c instanceof kr?c:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(c){return typeof c=="function"?c:(c[ro]||(c[ro]=function(g){return c.handleEvent(g)}),c[ro])}function vt(){J.call(this),this.i=new kr(this),this.M=this,this.F=null}P(vt,J),vt.prototype[$e]=!0,vt.prototype.removeEventListener=function(c,g,w,A){to(this,c,g,w,A)};function _t(c,g){var w,A=c.F;if(A)for(w=[];A;A=A.F)w.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new me(g,c);else if(g instanceof me)g.target=g.target||c;else{var W=g;g=new me(A,c),V(g,W)}if(W=!0,w)for(var G=w.length-1;0<=G;G--){var oe=g.g=w[G];W=Nr(oe,A,!0,g)&&W}if(oe=g.g=c,W=Nr(oe,A,!0,g)&&W,W=Nr(oe,A,!1,g)&&W,w)for(G=0;G<w.length;G++)oe=g.g=w[G],W=Nr(oe,A,!1,g)&&W}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],A=0;A<w.length;A++)Rt(w[A]);delete c.g[g],c.h--}}this.F=null},vt.prototype.K=function(c,g,w,A){return this.i.add(String(c),g,!1,w,A)},vt.prototype.L=function(c,g,w,A){return this.i.add(String(c),g,!0,w,A)};function Nr(c,g,w,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,G=0;G<g.length;++G){var oe=g[G];if(oe&&!oe.da&&oe.capture==w){var qe=oe.listener,wt=oe.ha||oe.src;oe.fa&&Zs(c.i,oe),W=qe.call(wt,A)!==!1&&W}}return W&&!A.defaultPrevented}function Oa(c,g,w){if(typeof c=="function")w&&(c=T(c,w));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function ui(c){c.g=Oa(()=>{c.g=null,c.i&&(c.i=!1,ui(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class os extends J{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){J.call(this),this.h=c,this.g={}}P(as,J);var Ma=[];function Fa(c){Z(c.g,function(g,w){this.g.hasOwnProperty(w)&&br(g)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),Fa(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ja=d.JSON.stringify,Ua=d.JSON.parse,Ba=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ls(){}ls.prototype.h=null;function io(c){return c.h||(c.h=c.i())}function so(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){me.call(this,"d")}P(lr,me);function oo(){me.call(this,"c")}P(oo,me);var ur={},za=null;function us(){return za=za||new vt}ur.La="serverreachability";function $a(c){me.call(this,ur.La,c)}P($a,me);function Vr(c){const g=us();_t(g,new $a(g))}ur.STAT_EVENT="statevent";function Wa(c,g){me.call(this,ur.STAT_EVENT,c),this.stat=g}P(Wa,me);function dt(c){const g=us();_t(g,new Wa(g,c))}ur.Ma="timingevent";function ao(c,g){me.call(this,ur.Ma,c),this.size=g}P(ao,me);function Un(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function ds(c,g,w,A,W,G){c.info(function(){if(c.g)if(G)for(var oe="",qe=G.split("&"),wt=0;wt<qe.length;wt++){var Me=qe[wt].split("=");if(1<Me.length){var xt=Me[0];Me=Me[1];var mt=xt.split("_");oe=2<=mt.length&&mt[1]=="type"?oe+(xt+"="+Me+"&"):oe+(xt+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+A+") [attempt "+W+"]: "+g+`
`+w+`
`+oe})}function lo(c,g,w,A,W,G,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+W+"]: "+g+`
`+w+`
`+G+" "+oe})}function Bn(c,g,w,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Nh(c,w)+(A?" "+A:"")})}function Ha(c,g){c.info(function(){return"TIMEOUT: "+g})}cs.prototype.info=function(){};function Nh(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var A=w[c];if(!(2>A.length)){var W=A[1];if(Array.isArray(W)&&!(1>W.length)){var G=W[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<W.length;oe++)W[oe]=""}}}}return ja(w)}catch{return g}}var uo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function hs(){}P(hs,ls),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},zn=new hs;function $n(c,g,w,A){this.j=c,this.i=g,this.l=w,this.R=A||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vu}function Vu(){this.i=null,this.g="",this.h=!1}var qa={},co={};function ho(c,g,w){c.L=1,c.v=pi(yn(g)),c.m=w,c.P=!0,Ka(c,null)}function Ka(c,g){c.F=Date.now(),Ye(c),c.A=yn(c.v);var w=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),gi(w.i,"t",A),c.C=0,w=c.j.J,c.h=new Vu,c.g=Ju(c.j,w?g:null,!c.m),0<c.O&&(c.M=new os(T(c.Y,c,c.g),c.O)),g=c.U,w=c.g,A=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(Ma[0]=W.toString()),W=Ma);for(var G=0;G<W.length;G++){var oe=Da(w,W[G],A||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Vr(),ds(c.i,c.u,c.A,c.l,c.R,c.m)}$n.prototype.ca=function(c){c=c.target;const g=this.M;g&&on(c)==3?g.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)e:{const mt=on(this.g);var g=this.g.Ba();const xn=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||Za(this.g)))){this.J||mt!=4||g==7||(g==8||0>=xn?Vr(3):Vr(2)),fs(this);var w=this.g.Z();this.X=w;t:if(Lu(this)){var A=Za(this.g);c="";var W=A.length,G=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),ci(this);var oe="";break t}this.h.i=new d.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(G&&g==W-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=w==200,lo(this.i,this.u,this.A,this.l,this.R,mt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,wt=this.g;if((qe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(qe)){var Me=qe;break t}}Me=null}if(w=Me)Bn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ga(this,w);else{this.o=!1,this.s=3,dt(12),Cn(this),ci(this);break e}}if(this.P){w=!0;let _n;for(;!this.J&&this.C<oe.length;)if(_n=Vh(this,oe),_n==co){mt==4&&(this.s=4,dt(14),w=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==qa){this.s=4,dt(15),Bn(this.i,this.l,oe,"[Invalid Chunk]"),w=!1;break}else Bn(this.i,this.l,_n,null),Ga(this,_n);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||oe.length!=0||this.h.h||(this.s=1,dt(16),w=!1),this.o=this.o&&w,!w)Bn(this.i,this.l,oe,"[Invalid Chunked Response]"),Cn(this),ci(this);else if(0<oe.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),tl(xt),xt.M=!0,dt(11))}}else Bn(this.i,this.l,oe,null),Ga(this,oe);mt==4&&Cn(this),this.o&&!this.J&&(mt==4?Io(this.j,this):(this.o=!1,Ye(this)))}else vo(this.g),w==400&&0<oe.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Cn(this),ci(this)}}}catch{}finally{}};function Lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vh(c,g){var w=c.C,A=g.indexOf(`
`,w);return A==-1?co:(w=Number(g.substring(w,A)),isNaN(w)?qa:(A+=1,A+w>g.length?co:(g=g.slice(A,A+w),c.C=A+w,g)))}$n.prototype.cancel=function(){this.J=!0,Cn(this)};function Ye(c){c.S=Date.now()+c.I,Ou(c,c.I)}function Ou(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Un(T(c.ba,c),g)}function fs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}$n.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ha(this.i,this.A),this.L!=2&&(Vr(),dt(17)),Cn(this),this.s=2,ci(this)):Ou(this,this.S-c)};function ci(c){c.j.G==0||c.J||Io(c.j,c)}function Cn(c){fs(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Fa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ga(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||Jt(w.h,c))){if(!c.K&&Jt(w.h,c)&&w.G==3){try{var A=w.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var W=A;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Eo(w),Gn(w);else break e;To(w),dt(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=Un(T(w.Za,w),6e3));if(1>=Fu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else jr(w,11)}else if((c.K||w.g==c)&&Eo(w),!F(g))for(W=w.Da.g.parse(g),g=0;g<W.length;g++){let Me=W[g];if(w.T=Me[0],Me=Me[1],w.G==2)if(Me[0]=="c"){w.K=Me[1],w.ia=Me[2];const xt=Me[3];xt!=null&&(w.la=xt,w.j.info("VER="+w.la));const mt=Me[4];mt!=null&&(w.Aa=mt,w.j.info("SVER="+w.Aa));const xn=Me[5];xn!=null&&typeof xn=="number"&&0<xn&&(A=1.5*xn,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const _n=c.g;if(_n){const ws=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var G=A.h;G.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Qa(G,G.h),G.h=null))}if(A.D){const Ao=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(A.ya=Ao,Ke(A.I,A.D,Ao))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var oe=c;if(A.qa=Xu(A,A.J?A.ia:null,A.W),oe.K){ju(A.h,oe);var qe=oe,wt=A.L;wt&&(qe.I=wt),qe.B&&(fs(qe),Ye(qe)),A.g=oe}else _s(A);0<w.i.length&&fr(w)}else Me[0]!="stop"&&Me[0]!="close"||jr(w,7);else w.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?jr(w,7):Lt(w):Me[0]!="noop"&&w.l&&w.l.ta(Me),w.v=0)}}Vr(4)}catch{}}var Mu=class{constructor(c,g){this.g=c,this.map=g}};function ps(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Fu(c){return c.h?1:c.g?c.g.size:0}function Jt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Qa(c,g){c.g?c.g.add(g):c.h=g}function ju(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ps.prototype.cancel=function(){if(this.i=Uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return D(c.i)}function fo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var g=[],w=c.length,A=0;A<w;A++)g.push(c[A]);return g}g=[],w=0;for(A in c)g[w++]=c[A];return g}function po(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const A in c)g[w++]=A;return g}}}function di(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=po(c),A=fo(c),W=A.length,G=0;G<W;G++)g.call(void 0,A[G],w&&w[G],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var A=c[w].indexOf("="),W=null;if(0<=A){var G=c[w].substring(0,A);W=c[w].substring(A+1)}else G=c[w];g(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Lr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lr){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,hi(this,c.s),this.l=c.l;var g=c.i,w=new cr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),fi(this,w),this.m=c.m}else c&&(g=String(c).match(ms))?(this.h=!1,gs(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),hi(this,g[4]),this.l=Ve(g[5]||"",!0),fi(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}Lr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(mi(g,mo,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(mi(g,mo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(mi(w,w.charAt(0)=="/"?$u:zu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",mi(w,Ya)),c.join("")};function yn(c){return new Lr(c)}function gs(c,g,w){c.j=w?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function hi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function fi(c,g,w){g instanceof cr?(c.i=g,dr(c.i,c.h)):(w||(g=mi(g,Wu)),c.i=new cr(g,c.h))}function Ke(c,g,w){c.i.set(g,w)}function pi(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mi(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Bu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var mo=/[#\/\?@]/g,zu=/[#\?:]/g,$u=/[#\?]/g,Wu=/[#\?@]/g,Ya=/#/g;function cr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&Lh(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=cr.prototype,n.add=function(c,g){Vt(this),this.i=null,c=Rn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function Wn(c,g){Vt(c),g=Rn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Hn(c,g){return Vt(c),g=Rn(c,g),c.g.has(g)}n.forEach=function(c,g){Vt(this),this.g.forEach(function(w,A){w.forEach(function(W){c.call(g,W,A,this)},this)},this)},n.na=function(){Vt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let A=0;A<g.length;A++){const W=c[A];for(let G=0;G<W.length;G++)w.push(g[A])}return w},n.V=function(c){Vt(this);let g=[];if(typeof c=="string")Hn(this,c)&&(g=g.concat(this.g.get(Rn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},n.set=function(c,g){return Vt(this),this.i=null,c=Rn(this,c),Hn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function gi(c,g,w){Wn(c,g),0<w.length&&(c.i=null,c.g.set(Rn(c,g),D(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var A=g[w];const G=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var W=G;oe[A]!==""&&(W+="="+encodeURIComponent(String(oe[A]))),c.push(W)}}return this.i=c.join("&")};function Rn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function dr(c,g){g&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(w,A){var W=A.toLowerCase();A!=W&&(Wn(this,A),gi(this,W,w))},c)),c.j=g}function Oh(c,g){const w=new cs;if(d.Image){const A=new Image;A.onload=I(sn,w,"TestLoadImage: loaded",!0,g,A),A.onerror=I(sn,w,"TestLoadImage: error",!1,g,A),A.onabort=I(sn,w,"TestLoadImage: abort",!1,g,A),A.ontimeout=I(sn,w,"TestLoadImage: timeout",!1,g,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Hu(c,g){const w=new cs,A=new AbortController,W=setTimeout(()=>{A.abort(),sn(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(W),G.ok?sn(w,"TestPingServer: ok",!0,g):sn(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),sn(w,"TestPingServer: error",!1,g)})}function sn(c,g,w,A,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),A(w)}catch{}}function Mh(){this.g=new Ba}function qu(c,g,w){const A=w||"";try{di(c,function(W,G){let oe=W;p(W)&&(oe=ja(W)),g.push(A+G+"="+encodeURIComponent(oe))})}catch(W){throw g.push(A+"type="+encodeURIComponent("_badmap")),W}}function Or(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Or,ls),Or.prototype.g=function(){return new ys(this.l,this.j)},Or.prototype.i=function(c){return function(){return c}}({});function ys(c,g){vt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ys,vt),n=ys.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Kn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ku(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ku(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?qn(this):Kn(this),this.readyState==3&&Ku(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,qn(this))},n.Qa=function(c){this.g&&(this.response=c,qn(this))},n.ga=function(){this.g&&qn(this)};function qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Kn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mr(c){let g="";return Z(c,function(w,A){g+=A,g+=":",g+=w,g+=`\r
`}),g}function yi(c,g,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=Mr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Ke(c,g,w))}function tt(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(tt,vt);var Fh=/^https?$/i,Xa=["POST","PUT"];n=tt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?io(this.o):io(zn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){vs(this,G);return}if(c=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var W in A)w.set(W,A[W]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())w.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),W=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Xa,g,void 0))||A||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of w)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){vs(this,G)}};function vs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,go(c),vn(c)}function go(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},n.bb=function(){Ja(this)};function Ja(c){if(c.h&&typeof l<"u"&&(!c.v[1]||on(c)!=4||c.Z()!=2)){if(c.u&&on(c)==4)Oa(c.Ea,0,c);else if(_t(c,"readystatechange"),on(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var A;if(A=oe===0){var W=String(c.D).match(ms)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!Fh.test(W?W.toLowerCase():"")}w=A}if(w)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var G=2<on(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",go(c)}}finally{vn(c)}}}}function vn(c,g){if(c.g){yo(c);const w=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||_t(c,"ready");try{w.onreadystatechange=A}catch{}}}function yo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function on(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ua(g)}};function Za(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vo(c){const g={};c=(c.g&&2<=on(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(F(c[A]))continue;var w=j(c[A]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=g[W]||[];g[W]=G,G.push(w)}x(g,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function el(c){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,c),this.cb=hr("retryDelaySeedMs",1e4,c),this.Wa=hr("forwardChannelMaxRetries",2,c),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(c&&c.concurrentRequestLimit),this.Da=new Mh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=el.prototype,n.la=8,n.G=1,n.connect=function(c,g,w,A){dt(0),this.W=c,this.H=g||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=Xu(this,null,this.W),fr(this)};function Lt(c){if(_o(c),c.G==3){var g=c.U++,w=yn(c.I);if(Ke(w,"SID",c.K),Ke(w,"RID",g),Ke(w,"TYPE","terminate"),Fr(c,w),g=new $n(c,c.j,g),g.L=2,g.v=pi(yn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=g.v,w=!0),w||(g.g=Ju(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ye(g)}Yu(c)}function Gn(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function _o(c){Gn(c),c.u&&(d.clearTimeout(c.u),c.u=null),Eo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function fr(c){if(!gn(c.h)&&!c.s){c.s=!0;var g=c.Ga;ge||ae(),ne||(ge(),ne=!0),fe.add(g,c),c.B=0}}function jh(c,g){return Fu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Un(T(c.Ga,c,g),Qu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new $n(this,this.j,c);let G=this.o;if(this.S&&(G?(G=S(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(W.H=G,G=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=vi(this,W,g),w=yn(this.I),Ke(w,"RID",c),Ke(w,"CVER",22),this.D&&Ke(w,"X-HTTP-Session-Id",this.D),Fr(this,w),G&&(this.O?g="headers="+encodeURIComponent(String(Mr(G)))+"&"+g:this.m&&yi(w,this.m,G)),Qa(this.h,W),this.Ua&&Ke(w,"TYPE","init"),this.P?(Ke(w,"$req",g),Ke(w,"SID","null"),W.T=!0,ho(W,w,null)):ho(W,w,g),this.G=2}}else this.G==3&&(c?wo(this,c):this.i.length==0||gn(this.h)||wo(this))};function wo(c,g){var w;g?w=g.l:w=c.U++;const A=yn(c.I);Ke(A,"SID",c.K),Ke(A,"RID",w),Ke(A,"AID",c.T),Fr(c,A),c.m&&c.o&&yi(A,c.m,c.o),w=new $n(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=vi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Qa(c.h,w),ho(w,A,g)}function Fr(c,g){c.H&&Z(c.H,function(w,A){Ke(g,A,w)}),c.l&&di({},function(w,A){Ke(g,A,w)})}function vi(c,g,w){w=Math.min(c.i.length,w);var A=c.l?T(c.l.Na,c.l,c):null;e:{var W=c.i;let G=-1;for(;;){const oe=["count="+w];G==-1?0<w?(G=W[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let qe=!0;for(let wt=0;wt<w;wt++){let Me=W[wt].g;const xt=W[wt].map;if(Me-=G,0>Me)G=Math.max(0,W[wt].g-100),qe=!1;else try{qu(xt,oe,"req"+Me+"_")}catch{A&&A(xt)}}if(qe){A=oe.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,A}function _s(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ge||ae(),ne||(ge(),ne=!0),fe.add(g,c),c.v=0}}function To(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Un(T(c.Fa,c),Qu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Un(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Gn(this),Gu(this))};function tl(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=yn(c.qa);Ke(g,"RID","rpc"),Ke(g,"SID",c.K),Ke(g,"AID",c.T),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(g,"TO",c.ja),Ke(g,"TYPE","xmlhttp"),Fr(c,g),c.m&&c.o&&yi(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=pi(yn(g)),w.m=null,w.P=!0,Ka(w,c)}n.Za=function(){this.C!=null&&(this.C=null,Gn(this),To(this),dt(19))};function Eo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Io(c,g){var w=null;if(c.g==g){Eo(c),tl(c),c.g=null;var A=2}else if(Jt(c.h,g))w=g.D,ju(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;A=us(),_t(A,new ao(A,w)),fr(c)}else _s(c);else if(W=g.s,W==3||W==0&&0<g.X||!(A==1&&jh(c,g)||A==2&&To(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),W){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function Qu(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function jr(c,g){if(c.j.info("Error code "+g),g==2){var w=T(c.fb,c),A=c.Xa;const W=!A;A=new Lr(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||gs(A,"https"),pi(A),W?Oh(A.toString(),w):Hu(A.toString(),w)}else dt(2);c.G=0,c.l&&c.l.sa(g),Yu(c),_o(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const g=Uu(c.h);(g.length!=0||c.i.length!=0)&&(k(c.ka,g),k(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Xu(c,g,w){var A=w instanceof Lr?yn(w):new Lr(w);if(A.g!="")g&&(A.g=g+"."+A.g),hi(A,A.s);else{var W=d.location;A=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var G=new Lr(null);A&&gs(G,A),g&&(G.g=g),W&&hi(G,W),w&&(G.l=w),A=G}return w=c.D,g=c.ya,w&&g&&Ke(A,w,g),Ke(A,"VER",c.la),Fr(c,A),A}function Ju(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new tt(new Or({eb:w})):new tt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nl(){}n=nl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function So(){}So.prototype.g=function(c,g){return new Zt(c,g)};function Zt(c,g){vt.call(this),this.g=new el(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!F(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!F(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new pr(this)}P(Zt,vt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Lt(this.g)},Zt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=ja(c),c=w);g.i.push(new Mu(g.Ya++,c)),g.G==3&&fr(g)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,Zt.aa.N.call(this)};function Zu(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}P(Zu,lr);function ec(){oo.call(this),this.status=1}P(ec,oo);function pr(c){this.g=c}P(pr,nl),pr.prototype.ua=function(){_t(this.g,"a")},pr.prototype.ta=function(c){_t(this.g,new Zu(c))},pr.prototype.sa=function(c){_t(this.g,new ec)},pr.prototype.ra=function(){_t(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,GE=function(){return new So},KE=function(){return us()},qE=ur,Qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uo.NO_ERROR=0,uo.TIMEOUT=8,uo.HTTP_ERROR=6,fd=uo,Nu.COMPLETE="complete",HE=Nu,so.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Nl=so,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,WE=tt}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new eh("@firebase/firestore");function Ko(){return Ws.logLevel}function ue(n,...e){if(Ws.logLevel<=De.DEBUG){const t=e.map(eg);Ws.debug(`Firestore (${Pa}): ${n}`,...t)}}function ri(n,...e){if(Ws.logLevel<=De.ERROR){const t=e.map(eg);Ws.error(`Firestore (${Pa}): ${n}`,...t)}}function ua(n,...e){if(Ws.logLevel<=De.WARN){const t=e.map(eg);Ws.warn(`Firestore (${Pa}): ${n}`,...t)}}function eg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+n;throw ri(e),new Error(e)}function He(n,e){n||Se()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class qb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Kb{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Us,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},d=h=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Us)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new QE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Gt(e)}}class Gb{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Qb{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Gb(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){He(this.o===void 0);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string"),this.R=t.token,new Yb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Jb(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function ca(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new At(0,0))}static max(){return new Ae(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(),r===void 0?r=e.length-t:r>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=_r.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=_r.isNumericId(e),s=_r.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?_r.extractNumericId(e).compare(_r.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class rt extends _r{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const Zb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends _r{construct(e,t,r){return new Ut(e,t,r)}static isValidIdentifier(e){return Zb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(rt.fromString(e))}static fromName(e){return new we(rt.fromString(e).popFirst(5))}static empty(){return new we(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new rt(e.slice()))}}function e2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new Ki(s,we.empty(),e)}function t2(n){return new Ki(n.readTime,n.key,-1)}class Ki{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ki(Ae.min(),we.empty(),-1)}static max(){return new Ki(Ae.max(),we.empty(),-1)}}function n2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==r2)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let s=0,a=0,l=!1;e.forEach(d=>{++s,d.next(()=>{++a,l&&a===s&&t()},h=>r(h))}),l=!0,a===s&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(s=>s?X.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new X((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(y=>{l[p]=y,++d,d===a&&r(l)},y=>s(y))}})}static doWhile(e,t){return new X((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function s2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ra(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sh.oe=-1;function oh(n){return n==null}function bd(n){return n===0&&1/n==-1/0}function o2(n){return typeof n=="number"&&Number.isInteger(n)&&!bd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_0(e)),e=l2(n.get(t),e);return _0(e)}function l2(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function _0(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ns(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=a??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new jt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,r,s,a){return this}insert(e,t,r){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(e){return new T0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class T0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new In([])}unionWith(e){let t=new Pt(Ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new JE("Invalid base64 string: "+a):a}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const u2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(n){if(He(!!n),typeof n=="string"){let e=0;const t=u2.exec(n);if(He(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qi(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ah(n){const e=n.mapValue.fields.__previous_value__;return tg(e)?ah(e):e}function eu(n){const e=Gi(n.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t,r,s,a,l,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}class tu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tg(n)?4:h2(n)?9007199254740991:d2(n)?10:11:Se()}function Cr(n,e){if(n===e)return!0;const t=Yi(n);if(t!==Yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eu(n).isEqual(eu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Gi(s.timestampValue),d=Gi(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Qi(s.bytesValue).isEqual(Qi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return pt(s.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(s.geoPointValue.longitude)===pt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return pt(s.integerValue)===pt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=pt(s.doubleValue),d=pt(a.doubleValue);return l===d?bd(l)===bd(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return ca(n.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(w0(l)!==w0(d))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(d[h]===void 0||!Cr(l[h],d[h])))return!1;return!0}(n,e);default:return Se()}}function nu(n,e){return(n.values||[]).find(t=>Cr(t,e))!==void 0}function da(n,e){if(n===e)return 0;const t=Yi(n),r=Yi(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(a,l){const d=pt(a.integerValue||a.doubleValue),h=pt(l.integerValue||l.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return E0(n.timestampValue,e.timestampValue);case 4:return E0(eu(n),eu(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(a,l){const d=Qi(a),h=Qi(l);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const d=a.split("/"),h=l.split("/");for(let p=0;p<d.length&&p<h.length;p++){const y=Le(d[p],h[p]);if(y!==0)return y}return Le(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const d=Le(pt(a.latitude),pt(l.latitude));return d!==0?d:Le(pt(a.longitude),pt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return I0(n.arrayValue,e.arrayValue);case 10:return function(a,l){var d,h,p,y;const _=a.fields||{},T=l.fields||{},I=(d=_.value)===null||d===void 0?void 0:d.arrayValue,P=(h=T.value)===null||h===void 0?void 0:h.arrayValue,D=Le(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:I0(I,P)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Zc.mapValue&&l===Zc.mapValue)return 0;if(a===Zc.mapValue)return 1;if(l===Zc.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),p=l.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let _=0;_<h.length&&_<y.length;++_){const T=Le(h[_],y[_]);if(T!==0)return T;const I=da(d[h[_]],p[y[_]]);if(I!==0)return I}return Le(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Se()}}function E0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Gi(n),r=Gi(e),s=Le(t.seconds,r.seconds);return s!==0?s:Le(t.nanos,r.nanos)}function I0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=da(t[s],r[s]);if(a)return a}return Le(t.length,r.length)}function ha(n){return Yp(n)}function Yp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Gi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Yp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Yp(t.fields[l])}`;return s+"}"}(n.mapValue):Se()}function pd(n){switch(Yi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(n);return e?16+pd(e):16;case 5:return 2*n.stringValue.length;case 6:return Qi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+pd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return ns(r.fields,(a,l)=>{s+=a.length+pd(l)}),s}(n.mapValue);default:throw Se()}}function Xp(n){return!!n&&"integerValue"in n}function ng(n){return!!n&&"arrayValue"in n}function S0(n){return!!n&&"nullValue"in n}function A0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function md(n){return!!n&&"mapValue"in n}function d2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ns(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function h2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!md(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(t)}setAll(e){let t=Ut.emptyPath(),r={},s=[];e.forEach((l,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=d.popLast()}l?r[d.lastSegment()]=Bl(l):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());md(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];md(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ns(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new pn(Bl(this.value))}}function ZE(n){const e=[];return ns(n.fields,(t,r)=>{const s=new Ut([t]);if(md(r)){const a=ZE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,r,s,a,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,Ae.min(),Ae.min(),Ae.min(),pn.empty(),0)}static newFoundDocument(e,t,r,s){return new Qt(e,1,t,Ae.min(),r,s,0)}static newNoDocument(e,t){return new Qt(e,2,t,Ae.min(),Ae.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Ae.min(),Ae.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.position=e,this.inclusive=t}}function P0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=we.comparator(we.fromName(l.referenceValue),t.key):r=da(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function C0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t="asc"){this.field=e,this.dir=t}}function f2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{}class St extends eI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new m2(e,t,r):t==="array-contains"?new v2(e,r):t==="in"?new _2(e,r):t==="not-in"?new w2(e,r):t==="array-contains-any"?new T2(e,r):new St(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new g2(e,r):new y2(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(da(t,this.value)):t!==null&&Yi(this.value)===Yi(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends eI{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Rr(e,t)}matches(e){return tI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tI(n){return n.op==="and"}function nI(n){return p2(n)&&tI(n)}function p2(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function Jp(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+ha(n.value);if(nI(n))return n.filters.map(e=>Jp(e)).join(",");{const e=n.filters.map(t=>Jp(t)).join(",");return`${n.op}(${e})`}}function rI(n,e){return n instanceof St?function(r,s){return s instanceof St&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(n,e):n instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,d)=>a&&rI(l,s.filters[d]),!0):!1}(n,e):void Se()}function iI(n){return n instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${ha(t.value)}`}(n):n instanceof Rr?function(t){return t.op.toString()+" {"+t.getFilters().map(iI).join(" ,")+"}"}(n):"Filter"}class m2 extends St{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class g2 extends St{constructor(e,t){super(e,"in",t),this.keys=sI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class y2 extends St{constructor(e,t){super(e,"not-in",t),this.keys=sI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>we.fromName(r.referenceValue))}class v2 extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ng(t)&&nu(t.arrayValue,this.value)}}class _2 extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nu(this.value.arrayValue,t)}}class w2 extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!nu(this.value.arrayValue,t)}}class T2 extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ng(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.ue=null}}function R0(n,e=null,t=[],r=[],s=null,a=null,l=null){return new E2(n,e,t,r,s,a,l)}function rg(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Jp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ha(r)).join(",")),e.ue=t}return e.ue}function ig(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!f2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!C0(n.startAt,e.startAt)&&C0(n.endAt,e.endAt)}function Zp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t=null,r=[],s=[],a=null,l="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function I2(n,e,t,r,s,a,l,d){return new lh(n,e,t,r,s,a,l,d)}function sg(n){return new lh(n)}function x0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function S2(n){return n.collectionGroup!==null}function zl(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Pt(Ut.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Nd(a,r))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new Nd(Ut.keyField(),r))}return e.ce}function Er(n){const e=Pe(n);return e.le||(e.le=A2(e,zl(n))),e.le}function A2(n,e){if(n.limitType==="F")return R0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Nd(s.field,a)});const t=n.endAt?new Dd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Dd(n.startAt.position,n.startAt.inclusive):null;return R0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function em(n,e,t){return new lh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return ig(Er(n),Er(e))&&n.limitType===e.limitType}function oI(n){return`${rg(Er(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>iI(s)).join(", ")}]`),oh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ha(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ha(s)).join(",")),`Target(${r})`}(Er(n))}; limitType=${n.limitType})`}function ch(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of zl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,d,h){const p=P0(l,d,h);return l.inclusive?p<=0:p<0}(r.startAt,zl(r),s)||r.endAt&&!function(l,d,h){const p=P0(l,d,h);return l.inclusive?p>=0:p>0}(r.endAt,zl(r),s))}(n,e)}function P2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aI(n){return(e,t)=>{let r=!1;for(const s of zl(n)){const a=C2(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function C2(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,l,d){const h=l.data.field(a),p=d.data.field(a);return h!==null&&p!==null?da(h,p):Se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return XE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new lt(we.comparator);function ii(){return R2}const lI=new lt(we.comparator);function Vl(...n){let e=lI;for(const t of n)e=e.insert(t.key,t);return e}function uI(n){let e=lI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ms(){return $l()}function cI(){return $l()}function $l(){return new Ys(n=>n.toString(),(n,e)=>n.isEqual(e))}const x2=new lt(we.comparator),k2=new Pt(we.comparator);function Ne(...n){let e=k2;for(const t of n)e=e.add(t);return e}const b2=new Pt(Le);function D2(){return b2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function dI(n){return{integerValue:""+n}}function N2(n,e){return o2(e)?dI(e):og(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function V2(n,e,t){return n instanceof Vd?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&tg(a)&&(a=ah(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof ru?fI(n,e):n instanceof iu?pI(n,e):function(s,a){const l=hI(s,a),d=k0(l)+k0(s.Pe);return Xp(l)&&Xp(s.Pe)?dI(d):og(s.serializer,d)}(n,e)}function L2(n,e,t){return n instanceof ru?fI(n,e):n instanceof iu?pI(n,e):t}function hI(n,e){return n instanceof Ld?function(r){return Xp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Vd extends dh{}class ru extends dh{constructor(e){super(),this.elements=e}}function fI(n,e){const t=mI(e);for(const r of n.elements)t.some(s=>Cr(s,r))||t.push(r);return{arrayValue:{values:t}}}class iu extends dh{constructor(e){super(),this.elements=e}}function pI(n,e){let t=mI(e);for(const r of n.elements)t=t.filter(s=>!Cr(s,r));return{arrayValue:{values:t}}}class Ld extends dh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function k0(n){return pt(n.integerValue||n.doubleValue)}function mI(n){return ng(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function O2(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof ru&&s instanceof ru||r instanceof iu&&s instanceof iu?ca(r.elements,s.elements,Cr):r instanceof Ld&&s instanceof Ld?Cr(r.Pe,s.Pe):r instanceof Vd&&s instanceof Vd}(n.transform,e.transform)}class M2{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hh{}function gI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ag(n.key,nr.none()):new Tu(n.key,n.data,nr.none());{const t=n.data,r=pn.empty();let s=new Pt(Ut.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new rs(n.key,r,new In(s.toArray()),nr.none())}}function F2(n,e,t){n instanceof Tu?function(s,a,l){const d=s.value.clone(),h=D0(s.fieldTransforms,a,l.transformResults);d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof rs?function(s,a,l){if(!gd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=D0(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(yI(s)),h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Wl(n,e,t,r){return n instanceof Tu?function(a,l,d,h){if(!gd(a.precondition,l))return d;const p=a.value.clone(),y=N0(a.fieldTransforms,h,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof rs?function(a,l,d,h){if(!gd(a.precondition,l))return d;const p=N0(a.fieldTransforms,h,l),y=l.data;return y.setAll(yI(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,d){return gd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d}(n,e,t)}function j2(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=hI(r.transform,s||null);a!=null&&(t===null&&(t=pn.empty()),t.set(r.field,a))}return t||null}function b0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ca(r,s,(a,l)=>O2(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Tu extends hh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class rs extends hh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function D0(n,e,t){const r=new Map;He(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,L2(l,d,t[s]))}return r}function N0(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,V2(a,l,e))}return r}class ag extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U2 extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&F2(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cI();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=t.has(s.key)?null:d;const h=gI(l,d);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(t,r)=>b0(t,r))&&ca(this.baseMutations,e.baseMutations,(t,r)=>b0(t,r))}}class lg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){He(e.mutations.length===r.length);let s=function(){return x2}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new lg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Fe;function W2(n){switch(n){default:return Se();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function vI(n){if(n===void 0)return ri("GRPC error has no .code"),re.UNKNOWN;switch(n){case yt.OK:return re.OK;case yt.CANCELLED:return re.CANCELLED;case yt.UNKNOWN:return re.UNKNOWN;case yt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case yt.INTERNAL:return re.INTERNAL;case yt.UNAVAILABLE:return re.UNAVAILABLE;case yt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case yt.NOT_FOUND:return re.NOT_FOUND;case yt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case yt.ABORTED:return re.ABORTED;case yt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case yt.DATA_LOSS:return re.DATA_LOSS;default:return Se()}}(Fe=yt||(yt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new $i([4294967295,4294967295],0);function V0(n){const e=H2().encode(n),t=new $E;return t.update(e),new Uint8Array(t.digest())}function L0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $i([t,r],0),new $i([s,a],0)]}class ug{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ll(`Invalid padding: ${t}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=$i.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply($i.fromNumber(r)));return s.compare(q2)===1&&(s=new $i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=V0(e),[r,s]=L0(t);for(let a=0;a<this.hashCount;a++){const l=this.de(r,s,a);if(!this.Ee(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ug(a,s,t);return r.forEach(d=>l.insert(d)),l}insert(e){if(this.Te===0)return;const t=V0(e),[r,s]=L0(t);for(let a=0;a<this.hashCount;a++){const l=this.de(r,s,a);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new fh(Ae.min(),s,new lt(Le),ii(),Ne())}}class Eu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Eu(r,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class _I{constructor(e,t){this.targetId=e,this.me=t}}class wI{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class O0{constructor(){this.fe=0,this.ge=M0(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),t=Ne(),r=Ne();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new Eu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=M0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class K2{constructor(e){this.Be=e,this.Le=new Map,this.ke=ii(),this.qe=ed(),this.Qe=ed(),this.Ke=new lt(Le)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Zp(a))if(r===0){const l=new we(a.path);this.We(t,l,Qt.newNoDocument(l,Ae.min()))}else He(r===1);else{const l=this.Ze(t);if(l!==r){const d=this.Xe(e),h=d?this.et(d,e,l):1;if(h!==0){this.He(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,d;try{l=Qi(r).toUint8Array()}catch(h){if(h instanceof JE)return ua("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new ug(l,s,a)}catch(h){return ua(h instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Te===0?null:d}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const l=this.Be.nt(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,l)=>{const d=this.Ye(l);if(d){if(a.current&&Zp(d.target)){const h=new we(d.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,Qt.newNoDocument(h,e))}a.be&&(t.set(l,a.ve()),a.Ce())}});let r=Ne();this.Qe.forEach((a,l)=>{let d=!0;l.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const s=new fh(e,t,this.Ke,this.ke,r);return this.ke=ii(),this.qe=ed(),this.Qe=ed(),this.Ke=new lt(Le),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new O0,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Pt(Le),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pt(Le),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new O0),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function ed(){return new lt(we.comparator)}function M0(){return new lt(we.comparator)}const G2={asc:"ASCENDING",desc:"DESCENDING"},Q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y2={and:"AND",or:"OR"};class X2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tm(n,e){return n.useProto3Json||oh(e)?e:{value:e}}function Od(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function J2(n,e){return Od(n,e.toTimestamp())}function Ir(n){return He(!!n),Ae.fromTimestamp(function(t){const r=Gi(t);return new At(r.seconds,r.nanos)}(n))}function cg(n,e){return nm(n,e).canonicalString()}function nm(n,e){const t=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function EI(n){const e=rt.fromString(n);return He(CI(e)),e}function rm(n,e){return cg(n.databaseId,e.path)}function wp(n,e){const t=EI(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(SI(t))}function II(n,e){return cg(n.databaseId,e)}function Z2(n){const e=EI(n);return e.length===4?rt.emptyPath():SI(e)}function im(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SI(n){return He(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function F0(n,e,t){return{name:rm(n,e),fields:t.value.mapValue.fields}}function eD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(He(y===void 0||typeof y=="string"),Bt.fromBase64String(y||"")):(He(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Bt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(p){const y=p.code===void 0?re.UNKNOWN:vI(p.code);return new ye(y,p.message||"")}(l);t=new wI(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wp(n,r.document.name),a=Ir(r.document.updateTime),l=r.document.createTime?Ir(r.document.createTime):Ae.min(),d=new pn({mapValue:{fields:r.document.fields}}),h=Qt.newFoundDocument(s,a,l,d),p=r.targetIds||[],y=r.removedTargetIds||[];t=new yd(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wp(n,r.document),a=r.readTime?Ir(r.readTime):Ae.min(),l=Qt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new yd([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wp(n,r.document),a=r.removedTargetIds||[];t=new yd([],a,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new $2(s,a),d=r.targetId;t=new _I(d,l)}}return t}function tD(n,e){let t;if(e instanceof Tu)t={update:F0(n,e.key,e.value)};else if(e instanceof ag)t={delete:rm(n,e.key)};else if(e instanceof rs)t={update:F0(n,e.key,e.data),updateMask:cD(e.fieldMask)};else{if(!(e instanceof U2))return Se();t={verify:rm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const d=l.transform;if(d instanceof Vd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ru)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof iu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ld)return{fieldPath:l.field.canonicalString(),increment:d.Pe};throw Se()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:J2(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(n,e.precondition)),t}function nD(n,e){return n&&n.length>0?(He(e!==void 0),n.map(t=>function(s,a){let l=s.updateTime?Ir(s.updateTime):Ir(a);return l.isEqual(Ae.min())&&(l=Ir(a)),new M2(l,s.transformResults||[])}(t,e))):[]}function rD(n,e){return{documents:[II(n,e.path)]}}function iD(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=II(n,s);const a=function(p){if(p.length!==0)return PI(Rr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(y=>function(T){return{field:Qo(T.field),direction:aD(T.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=tm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function sD(n){let e=Z2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){He(r===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(_){const T=AI(_);return T instanceof Rr&&nI(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(P){return new Nd(Yo(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(_){let T;return T=typeof _=="object"?_.value:_,oh(T)?null:T}(t.limit));let h=null;t.startAt&&(h=function(_){const T=!!_.before,I=_.values||[];return new Dd(I,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,I=_.values||[];return new Dd(I,T)}(t.endAt)),I2(e,s,l,a,d,"F",h,p)}function oD(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Yo(t.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yo(t.unaryFilter.field);return St.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yo(t.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Yo(t.unaryFilter.field);return St.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return St.create(Yo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rr.create(t.compositeFilter.filters.map(r=>AI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function aD(n){return G2[n]}function lD(n){return Q2[n]}function uD(n){return Y2[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Yo(n){return Ut.fromServerFormat(n.fieldPath)}function PI(n){return n instanceof St?function(t){if(t.op==="=="){if(A0(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(S0(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(A0(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(S0(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:lD(t.op),value:t.value}}}(n):n instanceof Rr?function(t){const r=t.getFilters().map(s=>PI(s));return r.length===1?r[0]:{compositeFilter:{op:uD(t.op),filters:r}}}(n):Se()}function cD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,r,s,a=Ae.min(),l=Ae.min(),d=Bt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.ht=e}}function hD(n){const e=sD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.ln=new pD}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Ki.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class pD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Pt(rt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Pt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new fa(0)}static Qn(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0([n,e],[t,r]){const s=Le(n,t);return s===0?Le(e,r):s}class mD{constructor(e){this.Gn=e,this.buffer=new Pt(U0),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();U0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ra(t)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ca(t)}await this.Yn(3e5)})}}class yD{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(sh.oe);const r=new mD(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(j0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,l,d,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Ko()<=De.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${s} in `+(d-l)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function vD(n,e){return new yD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.changes=new Ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Wl(r.mutation,s,In.empty(),At.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){const s=Ms();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let l=Vl();return a.forEach((d,h)=>{l=l.insert(d,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,d)=>{t.set(l,d)})})}computeViews(e,t,r,s){let a=ii();const l=$l(),d=function(){return $l()}();return t.forEach((h,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof rs)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),Wl(y.mutation,p,y.mutation.getFieldMask(),At.now())):l.set(p.key,In.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,y)=>l.set(p,y)),t.forEach((p,y)=>{var _;return d.set(p,new wD(y,(_=l.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const r=$l();let s=new lt((l,d)=>l-d),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const d of l)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||In.empty();y=d.applyToLocalView(p,y),r.set(h,y);const _=(s.get(d.batchId)||Ne()).add(h);s=s.insert(d.batchId,_)})}).next(()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,y=h.value,_=cI();y.forEach(T=>{if(!a.has(T)){const I=gI(t.get(T),r.get(T));I!==null&&_.set(T,I),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return X.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return we.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):S2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):X.resolve(Ms());let d=-1,h=a;return l.next(p=>X.forEach(p,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(y)?X.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{h=h.insert(y,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Ne())).next(y=>({batchId:d,changes:uI(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(r=>{let s=Vl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=Vl();return this.indexManager.getCollectionParents(e,a).next(d=>X.forEach(d,h=>{const p=function(_,T){return new lh(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(l=>{a.forEach((h,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Qt.newInvalidDocument(y)))});let d=Vl();return l.forEach((h,p)=>{const y=a.get(h);y!==void 0&&Wl(y.mutation,p,In.empty(),At.now()),ch(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:hD(s.bundledQuery),readTime:Ir(s.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.overlays=new lt(we.comparator),this.dr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ms();return X.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.dr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const s=Ms(),a=t.length+1,l=new we(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new lt((p,y)=>p-y);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Ms(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Ms(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=s)););return X.resolve(d)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.dr.get(s.largestBatchId).delete(r.key);this.dr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new z2(t,r));let a=this.dr.get(t);a===void 0&&(a=Ne(),this.dr.set(t,a)),this.dr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Er=new Pt(Nt.Ar),this.Rr=new Pt(Nt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new Nt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Nt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new we(new rt([])),r=new Nt(t,e),s=new Nt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new rt([])),r=new Nt(t,e),s=new Nt(t,e+1);let a=Ne();return this.Rr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Nt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||Le(e.br,t.br)}static Vr(e,t){return Le(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Pt(Nt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new B2(a,t,r,s);this.mutationQueue.push(l);for(const d of s)this.vr=this.vr.add(new Nt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Nt(t,0),s=new Nt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],l=>{const d=this.Cr(l.br);a.push(d)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Le);return t.forEach(s=>{const a=new Nt(s,0),l=new Nt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],d=>{r=r.add(d.br)})}),X.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const l=new Nt(new we(a),0);let d=new Pt(Le);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(h.br)),!0)},l),X.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){He(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return X.forEach(t.mutations,s=>{const a=new Nt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new Nt(t,0),s=this.vr.firstAfterOrEqual(r);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.Nr=e,this.docs=function(){return new lt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=ii();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Qt.newInvalidDocument(s))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ii();const l=t.path,d=new we(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||n2(t2(y),r)<=0||(s.has(y.key)||ch(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Se()}Br(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CD(this)}getSize(e){return X.resolve(this.size)}}class CD extends _D{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.persistence=e,this.Lr=new Ys(t=>rg(t),ig),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new dg,this.targetCount=0,this.Qr=fa.qn()}forEachTarget(e,t){return this.Lr.forEach((r,s)=>t(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new fa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Lr.forEach((l,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Lr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),X.waitFor(a).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t){this.Kr={},this.overlays={},this.$r=new sh(0),this.Ur=!1,this.Ur=!0,this.Wr=new SD,this.referenceDelegate=e(this),this.Gr=new RD(this),this.indexManager=new fD,this.remoteDocumentCache=function(s){return new PD(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new dD(t),this.jr=new ED(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ID,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new AD(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const s=new xD(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class xD extends i2{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Zr=new dg,this.Xr=null}static ei(e){return new hg(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,r=>{const s=we.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Md{constructor(e,t){this.persistence=e,this.ri=new Ys(r=>a2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=vD(this,t)}static ei(e,t){return new Md(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?X.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,l=>this.ir(e,l,t).next(d=>{d||(r++,a.removeEntry(l,Ae.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pd(e.data.value)),t}ir(e,t,r){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=Ne(),s=Ne();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new fg(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return pR()?8:s2(Xt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new kD;return this.ts(e,t,l).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,l,d.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(Ko()<=De.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Ko()<=De.DEBUG&&ue("QueryEngine","Query:",Go(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Ko()<=De.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(t))):X.resolve())}Xi(e,t){if(x0(t))return X.resolve(null);let r=Er(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=em(t,null,"F"),r=Er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ne(...a);return this.Zi.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(t,d);return this.ss(t,p,l,h.readTime)?this.Xi(e,em(t,null,"F")):this.os(e,p,t,h)}))})))}es(e,t,r,s){return x0(t)||s.isEqual(Ae.min())?X.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const l=this.rs(t,a);return this.ss(t,l,r,s)?X.resolve(null):(Ko()<=De.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Go(t)),this.os(e,l,t,e2(s,-1)).next(d=>d))})}rs(e,t){let r=new Pt(aI(e));return t.forEach((s,a)=>{ch(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return Ko()<=De.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Go(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ki.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new lt(Le),this.cs=new Ys(a=>rg(a),ig),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TD(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function ND(n,e,t,r){return new DD(n,e,t,r)}async function xI(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],d=[];let h=Ne();for(const p of s){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of a){d.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:d}))})})}function VD(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,y){const _=p.batch,T=_.keys();let I=X.resolve();return T.forEach(P=>{I=I.next(()=>y.getEntry(h,P)).next(D=>{const k=p.docVersions.get(P);He(k!==null),D.version.compareTo(k)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(h,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=Ne();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function kI(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function LD(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const d=[];e.targetChanges.forEach((y,_)=>{const T=s.get(_);if(!T)return;d.push(t.Gr.removeMatchingKeys(a,y.removedDocuments,_).next(()=>t.Gr.addMatchingKeys(a,y.addedDocuments,_)));let I=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(Bt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),s=s.insert(_,I),function(D,k,L){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(T,I,y)&&d.push(t.Gr.updateTargetData(a,I))});let h=ii(),p=Ne();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),d.push(OD(a,l,e.documentUpdates).next(y=>{h=y.Is,p=y.ds})),!r.isEqual(Ae.min())){const y=t.Gr.getLastRemoteSnapshotVersion(a).next(_=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(y)}return X.waitFor(d).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.us=s,a))}function OD(n,e,t){let r=Ne(),s=Ne();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ii();return t.forEach((d,h)=>{const p=a.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Ae.min())?(e.removeEntry(d,h.readTime),l=l.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(d,h)):ue("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{Is:l,ds:s}})}function MD(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FD(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,X.resolve(s)):t.Gr.allocateTargetId(r).next(l=>(s=new ji(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function sm(n,e,t){const r=Pe(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Ra(l))throw l;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function B0(n,e,t){const r=Pe(n);let s=Ae.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,y){const _=Pe(h),T=_.cs.get(y);return T!==void 0?X.resolve(_.us.get(T)):_.Gr.getTargetData(p,y)}(r,l,Er(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,d.targetId).next(h=>{a=h})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,t?s:Ae.min(),t?a:Ne())).next(d=>(jD(r,P2(e),d),{documents:d,Es:a})))}function jD(n,e,t){let r=n.ls.get(e)||Ae.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class z0{constructor(){this.activeTargetIds=D2()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UD{constructor(){this._o=new z0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new z0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function Tp(){return td===null?td=function(){return 268435456+Math.round(2147483648*Math.random())}():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class WD extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,l){const d=Tp(),h=this.No(t,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${d}:`,h,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,l),this.Lo(t,h,p,s).then(y=>(ue("RestConnection",`Received RPC '${t}' ${d}: `,y),y),y=>{throw ua("RestConnection",`RPC '${t}' ${d} failed with error: `,y,"url: ",h,"request:",s),y})}ko(t,r,s,a,l,d){return this.Oo(t,r,s,a,l)}Bo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}No(t,r){const s=zD[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,s){const a=Tp();return new Promise((l,d)=>{const h=new WE;h.setWithCredentials(!0),h.listenOnce(HE.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case fd.NO_ERROR:const y=h.getResponseJson();ue(qt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case fd.TIMEOUT:ue(qt,`RPC '${e}' ${a} timed out`),d(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:const _=h.getStatus();if(ue(qt,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const P=function(k){const L=k.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(L)>=0?L:re.UNKNOWN}(I.status);d(new ye(P,I.message))}else d(new ye(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ue(qt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ue(qt,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",p,r,15)})}qo(e,t,r){const s=Tp(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=GE(),d=KE(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=a.join("");ue(qt,`Creating RPC '${e}' stream ${s}: ${y}`,h);const _=l.createWebChannel(y,h);let T=!1,I=!1;const P=new $D({Eo:k=>{I?ue(qt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(T||(ue(qt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),T=!0),ue(qt,`RPC '${e}' stream ${s} sending:`,k),_.send(k))},Ao:()=>_.close()}),D=(k,L,F)=>{k.listen(L,B=>{try{F(B)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(_,Nl.EventType.OPEN,()=>{I||(ue(qt,`RPC '${e}' stream ${s} transport opened.`),P.So())}),D(_,Nl.EventType.CLOSE,()=>{I||(I=!0,ue(qt,`RPC '${e}' stream ${s} transport closed`),P.Do())}),D(_,Nl.EventType.ERROR,k=>{I||(I=!0,ua(qt,`RPC '${e}' stream ${s} transport errored:`,k),P.Do(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),D(_,Nl.EventType.MESSAGE,k=>{var L;if(!I){const F=k.data[0];He(!!F);const B=F,Q=(B==null?void 0:B.error)||((L=B[0])===null||L===void 0?void 0:L.error);if(Q){ue(qt,`RPC '${e}' stream ${s} received error:`,Q);const Y=Q.status;let Z=function(C){const V=yt[C];if(V!==void 0)return vI(V)}(Y),x=Q.message;Z===void 0&&(Z=re.INTERNAL,x="Unknown error status: "+Y+" with message "+Q.message),I=!0,P.Do(new ye(Z,x)),_.close()}else ue(qt,`RPC '${e}' stream ${s} received:`,F),P.vo(F)}}),D(d,qE.STAT_EVENT,k=>{k.stat===Qp.PROXY?ue(qt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Qp.NOPROXY&&ue(qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.bo()},0),P}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(n){return new X2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t,r,s,a,l,d,h){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new bI(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new ye(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.d_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HD extends DI{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=eD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ae.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ae.min():l.readTime?Ir(l.readTime):Ae.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=im(this.serializer),t.addTarget=function(a,l){let d;const h=l.target;if(d=Zp(h)?{documents:rD(a,h)}:{query:iD(a,h).ct},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=TI(a,l.resumeToken);const p=tm(a,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Od(a,l.snapshotVersion.toTimestamp());const p=tm(a,l.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=oD(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=im(this.serializer),t.removeTarget=e,this.c_(t)}}class qD extends DI{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=nD(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=im(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tD(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,nm(t,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(re.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.ko(e,nm(t,r),s,l,d,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(re.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class GD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ri(t),this.C_=!1):ue("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{Xs(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Pe(h);p.k_.add(4),await Iu(p),p.K_.set("Unknown"),p.k_.delete(4),await mh(p)}(this))})}),this.K_=new GD(r,s)}}async function mh(n){if(Xs(n))for(const e of n.q_)await e(!0)}async function Iu(n){for(const e of n.q_)await e(!1)}function NI(n,e){const t=Pe(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),yg(t)?gg(t):xa(t).s_()&&mg(t,e))}function pg(n,e){const t=Pe(n),r=xa(t);t.L_.delete(e),r.s_()&&VI(t,e),t.L_.size===0&&(r.s_()?r.a_():Xs(t)&&t.K_.set("Unknown"))}function mg(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(n).V_(e)}function VI(n,e){n.U_.xe(e),xa(n).m_(e)}function gg(n){n.U_=new K2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),xa(n).start(),n.K_.F_()}function yg(n){return Xs(n)&&!xa(n).i_()&&n.L_.size>0}function Xs(n){return Pe(n).k_.size===0}function LI(n){n.U_=void 0}async function YD(n){n.K_.set("Online")}async function XD(n){n.L_.forEach((e,t)=>{mg(n,e)})}async function JD(n,e){LI(n),yg(n)?(n.K_.O_(e),gg(n)):n.K_.set("Unknown")}async function ZD(n,e,t){if(n.K_.set("Online"),e instanceof wI&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const d of a.targetIds)s.L_.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.L_.delete(d),s.U_.removeTarget(d))}(n,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fd(n,r)}else if(e instanceof yd?n.U_.$e(e):e instanceof _I?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const r=await kI(n.localStore);t.compareTo(r)>=0&&await function(a,l){const d=a.U_.it(l);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=a.L_.get(p);y&&a.L_.set(p,y.withResumeToken(h.resumeToken,l))}}),d.targetMismatches.forEach((h,p)=>{const y=a.L_.get(h);if(!y)return;a.L_.set(h,y.withResumeToken(Bt.EMPTY_BYTE_STRING,y.snapshotVersion)),VI(a,h);const _=new ji(y.target,h,p,y.sequenceNumber);mg(a,_)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Fd(n,r)}}async function Fd(n,e,t){if(!Ra(e))throw e;n.k_.add(1),await Iu(n),n.K_.set("Offline"),t||(t=()=>kI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await mh(n)})}function OI(n,e){return e().catch(t=>Fd(n,t,e))}async function gh(n){const e=Pe(n),t=Xi(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;eN(e);)try{const s=await MD(e.localStore,r);if(s===null){e.B_.length===0&&t.a_();break}r=s.batchId,tN(e,s)}catch(s){await Fd(e,s)}MI(e)&&FI(e)}function eN(n){return Xs(n)&&n.B_.length<10}function tN(n,e){n.B_.push(e);const t=Xi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function MI(n){return Xs(n)&&!Xi(n).i_()&&n.B_.length>0}function FI(n){Xi(n).start()}async function nN(n){Xi(n).w_()}async function rN(n){const e=Xi(n);for(const t of n.B_)e.g_(t.mutations)}async function iN(n,e,t){const r=n.B_.shift(),s=lg.from(r,e,t);await OI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await gh(n)}async function sN(n,e){e&&Xi(n).f_&&await async function(r,s){if(function(l){return W2(l)&&l!==re.ABORTED}(s.code)){const a=r.B_.shift();Xi(r).__(),await OI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await gh(r)}}(n,e),MI(n)&&FI(n)}async function W0(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=Xs(t);t.k_.add(3),await Iu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await mh(t)}async function oN(n,e){const t=Pe(n);e?(t.k_.delete(2),await mh(t)):e||(t.k_.add(2),await Iu(t),t.K_.set("Unknown"))}function xa(n){return n.W_||(n.W_=function(t,r,s){const a=Pe(t);return a.b_(),new HD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:YD.bind(null,n),mo:XD.bind(null,n),po:JD.bind(null,n),R_:ZD.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),yg(n)?gg(n):n.K_.set("Unknown")):(await n.W_.stop(),LI(n))})),n.W_}function Xi(n){return n.G_||(n.G_=function(t,r,s){const a=Pe(t);return a.b_(),new qD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:nN.bind(null,n),po:sN.bind(null,n),p_:rN.bind(null,n),y_:iN.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await gh(n)):(await n.G_.stop(),n.B_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,d=new vg(e,t,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(n,e){if(ri("AsyncQueue",`${e}: ${n}`),Ra(n))return new ye(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{static emptySet(e){return new oa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=Vl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.z_=new lt(we.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class pa{constructor(e,t,r,s,a,l,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new pa(e,t,oa.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class lN{constructor(){this.queries=q0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=Pe(t),a=s.queries;s.queries=q0(),a.forEach((l,d)=>{for(const h of d.J_)h.onError(r)})})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function q0(){return new Ys(n=>oI(n),uh)}async function uN(n,e){const t=Pe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new aN,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const d=_g(l,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&wg(t)}async function cN(n,e){const t=Pe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.J_.indexOf(e);l>=0&&(a.J_.splice(l,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function dN(n,e){const t=Pe(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const d of l.J_)d.ta(s)&&(r=!0);l.H_=s}}r&&wg(t)}function hN(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function wg(n){n.X_.forEach(e=>{e.next()})}var om,K0;(K0=om||(om={})).na="default",K0.Cache="cache";class fN{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.key=e}}class UI{constructor(e){this.key=e}}class pN{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ne(),this.mutatedKeys=Ne(),this.Va=aI(e),this.ma=new oa(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new H0,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const T=s.get(y),I=ch(this.query,_)?_:null,P=!!T&&this.mutatedKeys.has(T.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;T&&I?T.data.isEqual(I.data)?P!==D&&(r.track({type:3,doc:I}),k=!0):this.ya(T,I)||(r.track({type:2,doc:I}),k=!0,(h&&this.Va(I,h)>0||p&&this.Va(I,p)<0)&&(d=!0)):!T&&I?(r.track({type:0,doc:I}),k=!0):T&&!I&&(r.track({type:1,doc:T}),k=!0,(h||p)&&(d=!0)),k&&(I?(l=l.add(I),a=D?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{ma:l,pa:r,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((y,_)=>function(I,P){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return D(I)-D(P)}(y.type,_.type)||this.Va(y.doc,_.doc)),this.wa(r),s=s!=null&&s;const d=t&&!s?this.Sa():[],h=this.Ra.size===0&&this.current&&!s?1:0,p=h!==this.Aa;return this.Aa=h,l.length!==0||p?{snapshot:new pa(this.query,e.ma,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new H0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ne(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new UI(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new jI(r))}),t}va(e){this.Ea=e.Es,this.Ra=Ne();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return pa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class mN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gN{constructor(e){this.key=e,this.Fa=!1}}class yN{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Ys(d=>oI(d),uh),this.Oa=new Map,this.Na=new Set,this.Ba=new lt(we.comparator),this.La=new Map,this.ka=new dg,this.qa={},this.Qa=new Map,this.Ka=fa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function vN(n,e,t=!0){const r=qI(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await BI(r,e,t,!0),s}async function _N(n,e){const t=qI(n);await BI(t,e,!0,!1)}async function BI(n,e,t,r){const s=await FD(n.localStore,Er(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await wN(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&NI(n.remoteStore,s),d}async function wN(n,e,t,r,s){n.Ua=(_,T,I)=>async function(D,k,L,F){let B=k.view.ga(L);B.ss&&(B=await B0(D.localStore,k.query,!1).then(({documents:x})=>k.view.ga(x,B)));const Q=F&&F.targetChanges.get(k.targetId),Y=F&&F.targetMismatches.get(k.targetId)!=null,Z=k.view.applyChanges(B,D.isPrimaryClient,Q,Y);return Q0(D,k.targetId,Z.ba),Z.snapshot}(n,_,T,I);const a=await B0(n.localStore,e,!0),l=new pN(e,a.Es),d=l.ga(a.documents),h=Eu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(d,n.isPrimaryClient,h);Q0(n,t,p.ba);const y=new mN(e,t,l);return n.xa.set(e,y),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function TN(n,e,t){const r=Pe(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(l=>!uh(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&pg(r.remoteStore,s.targetId),am(r,s.targetId)}).catch(Ca)):(am(r,s.targetId),await sm(r.localStore,s.targetId,!0))}async function EN(n,e){const t=Pe(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pg(t.remoteStore,r.targetId))}async function IN(n,e,t){const r=kN(n);try{const s=await function(l,d){const h=Pe(l),p=At.now(),y=d.reduce((I,P)=>I.add(P.key),Ne());let _,T;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>{let P=ii(),D=Ne();return h.hs.getEntries(I,y).next(k=>{P=k,P.forEach((L,F)=>{F.isValidDocument()||(D=D.add(L))})}).next(()=>h.localDocuments.getOverlayedDocuments(I,P)).next(k=>{_=k;const L=[];for(const F of d){const B=j2(F,_.get(F.key).overlayedDocument);B!=null&&L.push(new rs(F.key,B,ZE(B.value.mapValue),nr.exists(!0)))}return h.mutationQueue.addMutationBatch(I,p,L,d)}).next(k=>{T=k;const L=k.applyToLocalDocumentSet(_,D);return h.documentOverlayCache.saveOverlays(I,k.batchId,L)})}).then(()=>({batchId:T.batchId,changes:uI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,d,h){let p=l.qa[l.currentUser.toKey()];p||(p=new lt(Le)),p=p.insert(d,h),l.qa[l.currentUser.toKey()]=p}(r,s.batchId,t),await Su(r,s.changes),await gh(r.remoteStore)}catch(s){const a=_g(s,"Failed to persist write");t.reject(a)}}async function zI(n,e){const t=Pe(n);try{const r=await LD(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.La.get(a);l&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Fa=!0:s.modifiedDocuments.size>0?He(l.Fa):s.removedDocuments.size>0&&(He(l.Fa),l.Fa=!1))}),await Su(t,r,e)}catch(r){await Ca(r)}}function G0(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,l)=>{const d=l.view.ea(e);d.snapshot&&s.push(d.snapshot)}),function(l,d){const h=Pe(l);h.onlineState=d;let p=!1;h.queries.forEach((y,_)=>{for(const T of _.J_)T.ea(d)&&(p=!0)}),p&&wg(h)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SN(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.La.get(e),a=s&&s.key;if(a){let l=new lt(we.comparator);l=l.insert(a,Qt.newNoDocument(a,Ae.min()));const d=Ne().add(a),h=new fh(Ae.min(),new Map,new lt(Le),l,d);await zI(r,h),r.Ba=r.Ba.remove(a),r.La.delete(e),Tg(r)}else await sm(r.localStore,e,!1).then(()=>am(r,e,t)).catch(Ca)}async function AN(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await VD(t.localStore,e);WI(t,r,null),$I(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Su(t,s)}catch(s){await Ca(s)}}async function PN(n,e,t){const r=Pe(n);try{const s=await function(l,d){const h=Pe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,d).next(_=>(He(_!==null),y=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);WI(r,e,t),$I(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Su(r,s)}catch(s){await Ca(s)}}function $I(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function WI(n,e,t){const r=Pe(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function am(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||HI(n,r)})}function HI(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(pg(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Tg(n))}function Q0(n,e,t){for(const r of t)r instanceof jI?(n.ka.addReference(r.key,e),CN(n,r)):r instanceof UI?(ue("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||HI(n,r.key)):Se()}function CN(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(ue("SyncEngine","New document in limbo: "+t),n.Na.add(r),Tg(n))}function Tg(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(rt.fromString(e)),r=n.Ka.next();n.La.set(r,new gN(t)),n.Ba=n.Ba.insert(t,r),NI(n.remoteStore,new ji(Er(sg(t.path)),r,"TargetPurposeLimboResolution",sh.oe))}}async function Su(n,e,t){const r=Pe(n),s=[],a=[],l=[];r.xa.isEmpty()||(r.xa.forEach((d,h)=>{l.push(r.Ua(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){s.push(p);const _=fg.zi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.Ma.R_(s),await async function(h,p){const y=Pe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(p,T=>X.forEach(T.Wi,I=>y.persistence.referenceDelegate.addReference(_,T.targetId,I)).next(()=>X.forEach(T.Gi,I=>y.persistence.referenceDelegate.removeReference(_,T.targetId,I)))))}catch(_){if(!Ra(_))throw _;ue("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const I=y.us.get(T),P=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(P);y.us=y.us.insert(T,D)}}}(r.localStore,a))}async function RN(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await xI(t.localStore,e);t.currentUser=e,function(a,l){a.Qa.forEach(d=>{d.forEach(h=>{h.reject(new ye(re.CANCELLED,l))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(t,r.Ts)}}function xN(n,e){const t=Pe(n),r=t.La.get(e);if(r&&r.Fa)return Ne().add(r.key);{let s=Ne();const a=t.Oa.get(e);if(!a)return s;for(const l of a){const d=t.xa.get(l);s=s.unionWith(d.view.fa)}return s}}function qI(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SN.bind(null,e),e.Ma.R_=dN.bind(null,e.eventManager),e.Ma.Wa=hN.bind(null,e.eventManager),e}function kN(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PN.bind(null,e),e}class jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return ND(this.persistence,new bD,e.initialUser,this.serializer)}ja(e){return new RI(hg.ei,this.serializer)}za(e){return new UD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jd.provider={build:()=>new jd};class bN extends jd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){He(this.persistence.referenceDelegate instanceof Md);const r=this.persistence.referenceDelegate.garbageCollector;return new gD(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new RI(r=>Md.ei(r,t),this.serializer)}}class lm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lN}()}createDatastore(e){const t=ph(e.databaseInfo.databaseId),r=function(a){return new WD(a)}(e.databaseInfo);return function(a,l,d,h){return new KD(a,l,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,l,d){return new QD(r,s,a,l,d)}(this.localStore,this.datastore,e.asyncQueue,t=>G0(this.syncEngine,t,0),function(){return $0.p()?new $0:new BD}())}createSyncEngine(e,t){return function(s,a,l,d,h,p,y){const _=new yN(s,a,l,d,h,p);return y&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Pe(s);ue("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Iu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=YE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ue("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=_g(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ip(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await xI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Y0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await VN(n);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>W0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>W0(e.remoteStore,s)),n._onlineComponents=e}async function VN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ip(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ua("Error using user provided cache. Falling back to memory cache: "+t),await Ip(n,new jd)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Ip(n,new bN(void 0));return n._offlineComponents}async function KI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await Y0(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await Y0(n,new lm))),n._onlineComponents}function LN(n){return KI(n).then(e=>e.syncEngine)}async function X0(n){const e=await KI(n),t=e.eventManager;return t.onListen=vN.bind(null,e.syncEngine),t.onUnlisten=TN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_N.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EN.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e,t){if(!t)throw new ye(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ON(n,e,t,r){if(e===!0&&r===!0)throw new ye(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z0(n){if(!we.isDocumentKey(n))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ew(n){if(we.isDocumentKey(n))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Eg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function Wi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eg(n);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ON("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hb;switch(r.type){case"firstParty":return new Qb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=J0.get(t);r&&(ue("ComponentProvider","Removing Datastore"),J0.delete(t),r.terminate())}(this),Promise.resolve()}}function MN(n,e,t,r={}){var s;const a=(n=Wi(n,yh))._getSettings(),l=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Gt.MOCK_USER;else{d=lR(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Gt(p)}n._authCredentials=new qb(new QE(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vh(this.firestore,e,this._query)}}class Sn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class Hi extends vh{constructor(e,t,r){super(e,t,sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new we(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function nw(n,e,...t){if(n=Ct(n),QI("collection","path",e),n instanceof yh){const r=rt.fromString(e,...t);return ew(r),new Hi(n,null,r)}{if(!(n instanceof Sn||n instanceof Hi))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return ew(r),new Hi(n.firestore,null,r)}}function um(n,e,...t){if(n=Ct(n),arguments.length===1&&(e=YE.newId()),QI("doc","path",e),n instanceof yh){const r=rt.fromString(e,...t);return Z0(r),new Sn(n,null,new we(r))}{if(!(n instanceof Sn||n instanceof Hi))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return Z0(r),new Sn(n.firestore,n instanceof Hi?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new bI(this,"async_queue_retry"),this.fu=()=>{const r=Ep();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Ep();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Ep();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Us;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ra(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d}(r);throw ri("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=vg.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function iw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ma extends yh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new rw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rw(e),this._firestoreClient=void 0,await e}}}function FN(n,e){const t=typeof n=="object"?n:oE(),r=typeof n=="string"?n:"(default)",s=yu(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=oR("firestore");a&&MN(s,...a)}return s}function YI(n){if(n._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jN(n),n._firestoreClient}function jN(n){var e,t,r;const s=n._freezeSettings(),a=function(d,h,p,y){return new c2(d,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,GI(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new NN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(Bt.fromBase64String(e))}catch(t){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ga(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=/^__.*__$/;class BN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tu(e,this.data,t,this.fieldTransforms)}}class XI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new rs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function JI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Pg{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Pg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Bu(e),s}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ud(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(JI(this.Mu)&&UN.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class zN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ph(e)}$u(e,t,r,s=!1){return new Pg({Mu:e,methodName:t,Ku:r,path:Ut.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZI(n){const e=n._freezeSettings(),t=ph(n._databaseId);return new zN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $N(n,e,t,r,s,a={}){const l=n.$u(a.merge||a.mergeFields?2:0,e,t,s);Cg("Data must be an object, but it was:",l,r);const d=e1(r,l);let h,p;if(a.merge)h=new In(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const T=cm(e,_,t);if(!l.contains(T))throw new ye(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);n1(y,T)||y.push(T)}h=new In(y),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new BN(new pn(d),h,p)}class wh extends Ig{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}function WN(n,e,t,r){const s=n.$u(1,e,t);Cg("Data must be an object, but it was:",s,r);const a=[],l=pn.empty();ns(r,(h,p)=>{const y=Rg(e,h,t);p=Ct(p);const _=s.Lu(y);if(p instanceof wh)a.push(y);else{const T=Th(p,_);T!=null&&(a.push(y),l.set(y,T))}});const d=new In(a);return new XI(l,d,s.fieldTransforms)}function HN(n,e,t,r,s,a){const l=n.$u(1,e,t),d=[cm(e,r,t)],h=[s];if(a.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(cm(e,a[T])),h.push(a[T+1]);const p=[],y=pn.empty();for(let T=d.length-1;T>=0;--T)if(!n1(p,d[T])){const I=d[T];let P=h[T];P=Ct(P);const D=l.Lu(I);if(P instanceof wh)p.push(I);else{const k=Th(P,D);k!=null&&(p.push(I),y.set(I,k))}}const _=new In(p);return new XI(y,_,l.fieldTransforms)}function Th(n,e){if(t1(n=Ct(n)))return Cg("Unsupported field value:",e,n),e1(n,e);if(n instanceof Ig)return function(r,s){if(!JI(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const d of r){let h=Th(d,s.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=At.fromDate(r);return{timestampValue:Od(s.serializer,a)}}if(r instanceof At){const a=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Od(s.serializer,a)}}if(r instanceof Sg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ga)return{bytesValue:TI(s.serializer,r._byteString)};if(r instanceof Sn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:cg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ag)return function(l,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw d.qu("VectorValues must only contain numeric values.");return og(d.serializer,h)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${Eg(r)}`)}(n,e)}function e1(n,e){const t={};return XE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(n,(r,s)=>{const a=Th(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function t1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof Sg||n instanceof ga||n instanceof Sn||n instanceof Ig||n instanceof Ag)}function Cg(n,e,t){if(!t1(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Eg(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function cm(n,e,t){if((e=Ct(e))instanceof _h)return e._internalPath;if(typeof e=="string")return Rg(n,e);throw Ud("Field path arguments must be of type string or ",n,!1,void 0,t)}const qN=new RegExp("[~\\*/\\[\\]]");function Rg(n,e,t){if(e.search(qN)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _h(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ud(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new ye(re.INVALID_ARGUMENT,d+n+h)}function n1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(i1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KN extends r1{data(){return super.data()}}function i1(n,e){return typeof e=="string"?Rg(n,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QN{convertValue(e,t="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ns(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>pt(l.doubleValue));return new Ag(a)}convertGeoPoint(e){return new Sg(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ah(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const t=Gi(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);He(CI(r));const s=new tu(r.get(1),r.get(3)),a=new we(r.popFirst(5));return s.isEqual(t)||ri(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class s1 extends r1{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(i1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class vd extends s1{data(e={}){return super.data(e)}}class XN{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ol(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vd(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(d=>{const h=new vd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Ol(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const h=new vd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Ol(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return d.type!==0&&(p=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),y=l.indexOf(d.doc.key)),{type:JN(d.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class o1 extends QN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function ZN(n,e,t,...r){n=Wi(n,Sn);const s=Wi(n.firestore,ma),a=ZI(s);let l;return l=typeof(e=Ct(e))=="string"||e instanceof _h?HN(a,"updateDoc",n._key,e,t,r):WN(a,"updateDoc",n._key,e),xg(s,[l.toMutation(n._key,nr.exists(!0))])}function eV(n){return xg(Wi(n.firestore,ma),[new ag(n._key,nr.none())])}function tV(n,e){const t=Wi(n.firestore,ma),r=um(n),s=YN(n.converter,e);return xg(t,[$N(ZI(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function nV(n,...e){var t,r,s;n=Ct(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||iw(e[l])||(a=e[l],l++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(iw(e[l])){const _=e[l];e[l]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let h,p,y;if(n instanceof Sn)p=Wi(n.firestore,ma),y=sg(n._key.path),h={next:_=>{e[l]&&e[l](rV(p,n,_))},error:e[l+1],complete:e[l+2]};else{const _=Wi(n,vh);p=Wi(_.firestore,ma),y=_._query;const T=new o1(p);h={next:I=>{e[l]&&e[l](new XN(p,T,_,I))},error:e[l+1],complete:e[l+2]},GN(n._query)}return function(T,I,P,D){const k=new DN(D),L=new fN(I,k,P);return T.asyncQueue.enqueueAndForget(async()=>uN(await X0(T),L)),()=>{k.eu(),T.asyncQueue.enqueueAndForget(async()=>cN(await X0(T),L))}}(YI(p),y,d,h)}function xg(n,e){return function(r,s){const a=new Us;return r.asyncQueue.enqueueAndForget(async()=>IN(await LN(r),s,a)),a.promise}(YI(n),e)}function rV(n,e,t){const r=t.docs.get(e._key),s=new o1(n);return new s1(n,s,e._key,r,new Ol(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Pa=s})(Ia),Pr(new ir("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new ma(new Kb(r.getProvider("auth-internal")),new Xb(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(p.options.projectId,y)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Fn(v0,"4.7.6",e),Fn(v0,"4.7.6","esm2017")})();var iV="firebase",sV="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn(iV,sV,"app");const a1="@firebase/installations",kg="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=1e4,u1=`w:${kg}`,c1="FIS_v2",oV="https://firebaseinstallations.googleapis.com/v1",aV=60*60*1e3,lV="installations",uV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hs=new Gs(lV,uV,cV);function d1(n){return n instanceof ar&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1({projectId:n}){return`${oV}/projects/${n}/installations`}function f1(n){return{token:n.token,requestStatus:2,expiresIn:hV(n.expiresIn),creationTime:Date.now()}}async function p1(n,e){const r=(await e.json()).error;return Hs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function m1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function dV(n,{refreshToken:e}){const t=m1(n);return t.append("Authorization",fV(e)),t}async function g1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function hV(n){return Number(n.replace("s","000"))}function fV(n){return`${c1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=h1(n),s=m1(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:t,authVersion:c1,appId:n.appId,sdkVersion:u1},d={method:"POST",headers:s,body:JSON.stringify(l)},h=await g1(()=>fetch(r,d));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:f1(p.authToken)}}else throw await p1("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=/^[cdef][\w-]{21}$/,dm="";function yV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=vV(n);return gV.test(t)?t:dm}catch{return dm}}function vV(n){return mV(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;function _1(n,e){const t=Eh(n);w1(t,e),_V(t,e)}function w1(n,e){const t=v1.get(n);if(t)for(const r of t)r(e)}function _V(n,e){const t=wV();t&&t.postMessage({key:n,fid:e}),TV()}let Fs=null;function wV(){return!Fs&&"BroadcastChannel"in self&&(Fs=new BroadcastChannel("[Firebase] FID Change"),Fs.onmessage=n=>{w1(n.data.key,n.data.fid)}),Fs}function TV(){v1.size===0&&Fs&&(Fs.close(),Fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="firebase-installations-database",IV=1,qs="firebase-installations-store";let Sp=null;function bg(){return Sp||(Sp=iE(EV,IV,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(qs)}}})),Sp}async function Bd(n,e){const t=Eh(n),s=(await bg()).transaction(qs,"readwrite"),a=s.objectStore(qs),l=await a.get(t);return await a.put(e,t),await s.done,(!l||l.fid!==e.fid)&&_1(n,e.fid),e}async function T1(n){const e=Eh(n),r=(await bg()).transaction(qs,"readwrite");await r.objectStore(qs).delete(e),await r.done}async function Ih(n,e){const t=Eh(n),s=(await bg()).transaction(qs,"readwrite"),a=s.objectStore(qs),l=await a.get(t),d=e(l);return d===void 0?await a.delete(t):await a.put(d,t),await s.done,d&&(!l||l.fid!==d.fid)&&_1(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dg(n){let e;const t=await Ih(n.appConfig,r=>{const s=SV(r),a=AV(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===dm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function SV(n){const e=n||{fid:yV(),registrationStatus:0};return E1(e)}function AV(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Hs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=PV(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CV(n)}:{installationEntry:e}}async function PV(n,e){try{const t=await pV(n,e);return Bd(n.appConfig,t)}catch(t){throw d1(t)&&t.customData.serverCode===409?await T1(n.appConfig):await Bd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function CV(n){let e=await sw(n.appConfig);for(;e.registrationStatus===1;)await y1(100),e=await sw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Dg(n);return r||t}return e}function sw(n){return Ih(n,e=>{if(!e)throw Hs.create("installation-not-found");return E1(e)})}function E1(n){return RV(n)?{fid:n.fid,registrationStatus:0}:n}function RV(n){return n.registrationStatus===1&&n.registrationTime+l1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV({appConfig:n,heartbeatServiceProvider:e},t){const r=kV(n,t),s=dV(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:u1,appId:n.appId}},d={method:"POST",headers:s,body:JSON.stringify(l)},h=await g1(()=>fetch(r,d));if(h.ok){const p=await h.json();return f1(p)}else throw await p1("Generate Auth Token",h)}function kV(n,{fid:e}){return`${h1(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ng(n,e=!1){let t;const r=await Ih(n.appConfig,a=>{if(!I1(a))throw Hs.create("not-registered");const l=a.authToken;if(!e&&NV(l))return a;if(l.requestStatus===1)return t=bV(n,e),a;{if(!navigator.onLine)throw Hs.create("app-offline");const d=LV(a);return t=DV(n,d),d}});return t?await t:r.authToken}async function bV(n,e){let t=await ow(n.appConfig);for(;t.authToken.requestStatus===1;)await y1(100),t=await ow(n.appConfig);const r=t.authToken;return r.requestStatus===0?Ng(n,e):r}function ow(n){return Ih(n,e=>{if(!I1(e))throw Hs.create("not-registered");const t=e.authToken;return OV(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function DV(n,e){try{const t=await xV(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Bd(n.appConfig,r),t}catch(t){if(d1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await T1(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Bd(n.appConfig,r)}throw t}}function I1(n){return n!==void 0&&n.registrationStatus===2}function NV(n){return n.requestStatus===2&&!VV(n)}function VV(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+aV}function LV(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function OV(n){return n.requestStatus===1&&n.requestTime+l1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(n){const e=n,{installationEntry:t,registrationPromise:r}=await Dg(e);return r?r.catch(console.error):Ng(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(n,e=!1){const t=n;return await jV(t),(await Ng(t,e)).token}async function jV(n){const{registrationPromise:e}=await Dg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(n){if(!n||!n.options)throw Ap("App Configuration");if(!n.name)throw Ap("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Ap(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Ap(n){return Hs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="installations",BV="installations-internal",zV=n=>{const e=n.getProvider("app").getImmediate(),t=UV(e),r=yu(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$V=n=>{const e=n.getProvider("app").getImmediate(),t=yu(e,S1).getImmediate();return{getId:()=>MV(t),getToken:s=>FV(t,s)}};function WV(){Pr(new ir(S1,zV,"PUBLIC")),Pr(new ir(BV,$V,"PRIVATE"))}WV();Fn(a1,kg);Fn(a1,kg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="analytics",HV="firebase_id",qV="origin",KV=60*1e3,GV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new eh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new Gs("analytics","Analytics",QV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(n){if(!n.startsWith(Vg)){const e=jn.create("invalid-gtag-resource",{gtagURL:n});return mn.warn(e.message),""}return n}function A1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function XV(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function JV(n,e){const t=XV("firebase-js-sdk-policy",{createScriptURL:YV}),r=document.createElement("script"),s=`${Vg}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function ZV(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function eL(n,e,t,r,s,a){const l=r[s];try{if(l)await e[l];else{const h=(await A1(t)).find(p=>p.measurementId===s);h&&await e[h.appId]}}catch(d){mn.error(d)}n("config",s,a)}async function tL(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const d=await A1(t);for(const h of l){const p=d.find(_=>_.measurementId===h),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){mn.error(a)}}function nL(n,e,t,r){async function s(a,...l){try{if(a==="event"){const[d,h]=l;await tL(n,e,t,d,h)}else if(a==="config"){const[d,h]=l;await eL(n,e,t,r,d,h)}else if(a==="consent"){const[d,h]=l;n("consent",d,h)}else if(a==="get"){const[d,h,p]=l;n("get",d,h,p)}else if(a==="set"){const[d]=l;n("set",d)}else n(a,...l)}catch(d){mn.error(d)}}return s}function rL(n,e,t,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=nL(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function iL(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Vg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=30,oL=1e3;class aL{constructor(e={},t=oL){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const P1=new aL;function lL(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function uL(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:lL(r)},a=GV.replace("{app-id}",t),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let d="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(d=h.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function cL(n,e=P1,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw jn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw jn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new fL;return setTimeout(async()=>{d.abort()},KV),C1({appId:r,apiKey:s,measurementId:a},l,d,e)}async function C1(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=P1){var a;const{appId:l,measurementId:d}=n;try{await dL(r,e)}catch(h){if(d)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:d};throw h}try{const h=await uL(n);return s.deleteThrottleMetadata(l),h}catch(h){const p=h;if(!hL(p)){if(s.deleteThrottleMetadata(l),d)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:d};throw h}const y=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?z_(t,s.intervalMillis,sL):z_(t,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return s.setThrottleMetadata(l,_),mn.debug(`Calling attemptFetch again in ${y} millis`),C1(n,_,r,s)}}function dL(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hL(n){if(!(n instanceof ar)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class fL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pL(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(){if(eE())try{await tE()}catch(n){return mn.warn(jn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return mn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gL(n,e,t,r,s,a,l){var d;const h=cL(n);h.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>mn.error(I)),e.push(h);const p=mL().then(I=>{if(I)return r.getId()}),[y,_]=await Promise.all([h,p]);iL(a)||JV(a,y.measurementId),s("js",new Date);const T=(d=l==null?void 0:l.config)!==null&&d!==void 0?d:{};return T[qV]="firebase",T.update=!0,_!=null&&(T[HV]=_),s("config",y.measurementId,T),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.app=e}_delete(){return delete Hl[this.app.options.appId],Promise.resolve()}}let Hl={},lw=[];const uw={};let Pp="dataLayer",vL="gtag",cw,R1,dw=!1;function _L(){const n=[];if(ZT()&&n.push("This is a browser extension environment."),mR()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=jn.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}function wL(n,e,t){_L();const r=n.options.appId;if(!r)throw jn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(Hl[r]!=null)throw jn.create("already-exists",{id:r});if(!dw){ZV(Pp);const{wrappedGtag:a,gtagCore:l}=rL(Hl,lw,uw,Pp,vL);R1=a,cw=l,dw=!0}return Hl[r]=gL(n,lw,uw,e,cw,Pp,t),new yL(n)}function TL(n,e,t,r){n=Ct(n),pL(R1,Hl[n.app.options.appId],e,t,r).catch(s=>mn.error(s))}const hw="@firebase/analytics",fw="0.10.11";function EL(){Pr(new ir(aw,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return wL(r,s,t)},"PUBLIC")),Pr(new ir("analytics-internal",n,"PRIVATE")),Fn(hw,fw),Fn(hw,fw,"esm2017");function n(e){try{const t=e.getProvider(aw).getImmediate();return{logEvent:(r,s,a)=>TL(t,r,s,a)}}catch(t){throw jn.create("interop-component-reg-failed",{reason:t})}}}EL();function x1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=x1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Bs(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=x1(n))&&(r&&(r+=" "),r+=e);return r}function IL(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}IL(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Au=n=>typeof n=="number"&&!isNaN(n),Ks=n=>typeof n=="string",si=n=>typeof n=="function",SL=n=>Ks(n)||Au(n),hm=n=>Ks(n)||si(n)?n:null,AL=(n,e)=>n===!1||Au(n)&&n>0?n:e,fm=n=>O.isValidElement(n)||Ks(n)||si(n)||Au(n);function PL(n,e,t=300){let{scrollHeight:r,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function CL({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:d,done:h,nodeRef:p,isIn:y,playToast:_}){let T=t?`${n}--${l}`:n,I=t?`${e}--${l}`:e,P=O.useRef(0);return O.useLayoutEffect(()=>{let D=p.current,k=T.split(" "),L=F=>{F.target===p.current&&(_(),D.removeEventListener("animationend",L),D.removeEventListener("animationcancel",L),P.current===0&&F.type!=="animationcancel"&&D.classList.remove(...k))};D.classList.add(...k),D.addEventListener("animationend",L),D.addEventListener("animationcancel",L)},[]),O.useEffect(()=>{let D=p.current,k=()=>{D.removeEventListener("animationend",k),r?PL(D,h,s):h()};y||(d?k():(P.current=1,D.className+=` ${I}`,D.addEventListener("animationend",k)))},[y]),ze.createElement(ze.Fragment,null,a)}}function pw(n,e){return{content:k1(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function k1(n,e,t=!1){return O.isValidElement(n)&&!Ks(n.type)?O.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):si(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function RL({closeToast:n,theme:e,ariaLabel:t="close"}){return ze.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},ze.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ze.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function xL({delay:n,isRunning:e,closeToast:t,type:r="default",hide:s,className:a,controlledProgress:l,progress:d,rtl:h,isIn:p,theme:y}){let _=s||l&&d===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(T.transform=`scaleX(${d})`);let I=Bs("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),P=si(a)?a({rtl:h,type:r,defaultClassName:I}):Bs(I,a),D={[l&&d>=1?"onTransitionEnd":"onAnimationEnd"]:l&&d<1?null:()=>{p&&t()}};return ze.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},ze.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${r}`}),ze.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:P,style:T,...D}))}var kL=1,b1=()=>`${kL++}`;function bL(n,e,t){let r=1,s=0,a=[],l=[],d=e,h=new Map,p=new Set,y=F=>(p.add(F),()=>p.delete(F)),_=()=>{l=Array.from(h.values()),p.forEach(F=>F())},T=({containerId:F,toastId:B,updateId:Q})=>{let Y=F?F!==n:n!==1,Z=h.has(B)&&Q==null;return Y||Z},I=(F,B)=>{h.forEach(Q=>{var Y;(B==null||B===Q.props.toastId)&&((Y=Q.toggle)==null||Y.call(Q,F))})},P=F=>{var B,Q;(Q=(B=F.props)==null?void 0:B.onClose)==null||Q.call(B,F.removalReason),F.isActive=!1},D=F=>{if(F==null)h.forEach(P);else{let B=h.get(F);B&&P(B)}_()},k=()=>{s-=a.length,a=[]},L=F=>{var B,Q;let{toastId:Y,updateId:Z}=F.props,x=Z==null;F.staleId&&h.delete(F.staleId),F.isActive=!0,h.set(Y,F),_(),t(pw(F,x?"added":"updated")),x&&((Q=(B=F.props).onOpen)==null||Q.call(B))};return{id:n,props:d,observe:y,toggle:I,removeToast:D,toasts:h,clearQueue:k,buildToast:(F,B)=>{if(T(B))return;let{toastId:Q,updateId:Y,data:Z,staleId:x,delay:S}=B,C=Y==null;C&&s++;let V={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries(B).filter(([z,R])=>R!=null)),toastId:Q,updateId:Y,data:Z,isIn:!1,className:hm(B.className||d.toastClassName),progressClassName:hm(B.progressClassName||d.progressClassName),autoClose:B.isLoading?!1:AL(B.autoClose,d.autoClose),closeToast(z){h.get(Q).removalReason=z,D(Q)},deleteToast(){let z=h.get(Q);if(z!=null){if(t(pw(z,"removed")),h.delete(Q),s--,s<0&&(s=0),a.length>0){L(a.shift());return}_()}}};V.closeButton=d.closeButton,B.closeButton===!1||fm(B.closeButton)?V.closeButton=B.closeButton:B.closeButton===!0&&(V.closeButton=fm(d.closeButton)?d.closeButton:!0);let j={content:F,props:V,staleId:x};d.limit&&d.limit>0&&s>d.limit&&C?a.push(j):Au(S)?setTimeout(()=>{L(j)},S):L(j)},setProps(F){d=F},setToggle:(F,B)=>{let Q=h.get(F);Q&&(Q.toggle=B)},isToastActive:F=>{var B;return(B=h.get(F))==null?void 0:B.isActive},getSnapshot:()=>l}}var nn=new Map,su=[],pm=new Set,DL=n=>pm.forEach(e=>e(n)),D1=()=>nn.size>0;function NL(){su.forEach(n=>V1(n.content,n.options)),su=[]}var VL=(n,{containerId:e})=>{var t;return(t=nn.get(e||1))==null?void 0:t.toasts.get(n)};function N1(n,e){var t;if(e)return!!((t=nn.get(e))!=null&&t.isToastActive(n));let r=!1;return nn.forEach(s=>{s.isToastActive(n)&&(r=!0)}),r}function LL(n){if(!D1()){su=su.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||SL(n))nn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=nn.get(n.containerId);e?e.removeToast(n.id):nn.forEach(t=>{t.removeToast(n.id)})}}var OL=(n={})=>{nn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function V1(n,e){fm(n)&&(D1()||su.push({content:n,options:e}),nn.forEach(t=>{t.buildToast(n,e)}))}function ML(n){var e;(e=nn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function L1(n,e){nn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function FL(n){let e=n.containerId||1;return{subscribe(t){let r=bL(e,n,DL);nn.set(e,r);let s=r.observe(t);return NL(),()=>{s(),nn.delete(e)}},setProps(t){var r;(r=nn.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=nn.get(e))==null?void 0:t.getSnapshot()}}}function jL(n){return pm.add(n),()=>{pm.delete(n)}}function UL(n){return n&&(Ks(n.toastId)||Au(n.toastId))?n.toastId:b1()}function Pu(n,e){return V1(n,e),e.toastId}function Sh(n,e){return{...e,type:e&&e.type||n,toastId:UL(e)}}function Ah(n){return(e,t)=>Pu(e,Sh(n,t))}function be(n,e){return Pu(n,Sh("default",e))}be.loading=(n,e)=>Pu(n,Sh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function BL(n,{pending:e,error:t,success:r},s){let a;e&&(a=Ks(e)?be.loading(e,s):be.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,y,_)=>{if(y==null){be.dismiss(a);return}let T={type:p,...l,...s,data:_},I=Ks(y)?{render:y}:y;return a?be.update(a,{...T,...I}):be(I.render,{...T,...I}),_},h=si(n)?n():n;return h.then(p=>d("success",r,p)).catch(p=>d("error",t,p)),h}be.promise=BL;be.success=Ah("success");be.info=Ah("info");be.error=Ah("error");be.warning=Ah("warning");be.warn=be.warning;be.dark=(n,e)=>Pu(n,Sh("default",{theme:"dark",...e}));function zL(n){LL(n)}be.dismiss=zL;be.clearWaitingQueue=OL;be.isActive=N1;be.update=(n,e={})=>{let t=VL(n,e);if(t){let{props:r,content:s}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:b1()};a.toastId!==n&&(a.staleId=n);let l=a.render||s;delete a.render,Pu(l,a)}};be.done=n=>{be.update(n,{progress:1})};be.onChange=jL;be.play=n=>L1(!0,n);be.pause=n=>L1(!1,n);function $L(n){var e;let{subscribe:t,getSnapshot:r,setProps:s}=O.useRef(FL(n)).current;s(n);let a=(e=O.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(d){if(!a)return[];let h=new Map;return n.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:y}=p.props;h.has(y)||h.set(y,[]),h.get(y).push(p)}),Array.from(h,p=>d(p[0],p[1]))}return{getToastToRender:l,isToastActive:N1,count:a==null?void 0:a.length}}function WL(n){let[e,t]=O.useState(!1),[r,s]=O.useState(!1),a=O.useRef(null),l=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:h,closeToast:p,onClick:y,closeOnClick:_}=n;ML({id:n.toastId,containerId:n.containerId,fn:t}),O.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{I()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||L(),window.addEventListener("focus",k),window.addEventListener("blur",L)}function I(){window.removeEventListener("focus",k),window.removeEventListener("blur",L)}function P(x){if(n.draggable===!0||n.draggable===x.pointerType){F();let S=a.current;l.canCloseOnClick=!0,l.canDrag=!0,S.style.transition="none",n.draggableDirection==="x"?(l.start=x.clientX,l.removalDistance=S.offsetWidth*(n.draggablePercent/100)):(l.start=x.clientY,l.removalDistance=S.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function D(x){let{top:S,bottom:C,left:V,right:j}=a.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&n.pauseOnHover&&x.clientX>=V&&x.clientX<=j&&x.clientY>=S&&x.clientY<=C?L():k()}function k(){t(!0)}function L(){t(!1)}function F(){l.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",Y)}function B(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",Y)}function Q(x){let S=a.current;if(l.canDrag&&S){l.didMove=!0,e&&L(),n.draggableDirection==="x"?l.delta=x.clientX-l.start:l.delta=x.clientY-l.start,l.start!==x.clientX&&(l.canCloseOnClick=!1);let C=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;S.style.transform=`translate3d(${C},0)`,S.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function Y(){B();let x=a.current;if(l.canDrag&&l.didMove&&x){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}let Z={onPointerDown:P,onPointerUp:D};return d&&h&&(Z.onMouseEnter=L,n.stacked||(Z.onMouseLeave=k)),_&&(Z.onClick=x=>{y&&y(x),l.canCloseOnClick&&p(!0)}),{playToast:k,pauseToast:L,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:Z}}var HL=typeof window<"u"?O.useLayoutEffect:O.useEffect,Ph=({theme:n,type:e,isLoading:t,...r})=>ze.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function qL(n){return ze.createElement(Ph,{...n},ze.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function KL(n){return ze.createElement(Ph,{...n},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function GL(n){return ze.createElement(Ph,{...n},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function QL(n){return ze.createElement(Ph,{...n},ze.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function YL(){return ze.createElement("div",{className:"Toastify__spinner"})}var mm={info:KL,warning:qL,success:GL,error:QL,spinner:YL},XL=n=>n in mm;function JL({theme:n,type:e,isLoading:t,icon:r}){let s=null,a={theme:n,type:e};return r===!1||(si(r)?s=r({...a,isLoading:t}):O.isValidElement(r)?s=O.cloneElement(r,a):t?s=mm.spinner():XL(e)&&(s=mm[e](a))),s}var ZL=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:a}=WL(n),{closeButton:l,children:d,autoClose:h,onClick:p,type:y,hideProgressBar:_,closeToast:T,transition:I,position:P,className:D,style:k,progressClassName:L,updateId:F,role:B,progress:Q,rtl:Y,toastId:Z,deleteToast:x,isIn:S,isLoading:C,closeOnClick:V,theme:j,ariaLabel:z}=n,R=Bs("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":V}),Ce=si(D)?D({rtl:Y,position:P,type:y,defaultClassName:R}):Bs(R,D),je=JL(n),Ge=!!Q||!h,ge={closeToast:T,type:y,theme:j},ne=null;return l===!1||(si(l)?ne=l(ge):O.isValidElement(l)?ne=O.cloneElement(l,ge):ne=RL(ge)),ze.createElement(I,{isIn:S,done:x,position:P,preventExitTransition:t,nodeRef:r,playToast:a},ze.createElement("div",{id:Z,tabIndex:0,onClick:p,"data-in":S,className:Ce,...s,style:k,ref:r,...S&&{role:B,"aria-label":z}},je!=null&&ze.createElement("div",{className:Bs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},je),k1(d,n,!e),ne,!n.customProgressBar&&ze.createElement(xL,{...F&&!Ge?{key:`p-${F}`}:{},rtl:Y,theme:j,delay:h,isRunning:e,isIn:S,closeToast:T,hide:_,type:y,className:L,controlledProgress:Ge,progress:Q||0})))},eO=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),tO=CL(eO("bounce",!0)),nO={position:"top-right",transition:tO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function O1(n){let e={...nO,...n},t=n.stacked,[r,s]=O.useState(!0),a=O.useRef(null),{getToastToRender:l,isToastActive:d,count:h}=$L(e),{className:p,style:y,rtl:_,containerId:T,hotKeys:I}=e;function P(k){let L=Bs("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":_});return si(p)?p({position:k,rtl:_,defaultClassName:L}):Bs(L,hm(p))}function D(){t&&(s(!0),be.play())}return HL(()=>{var k;if(t){let L=a.current.querySelectorAll('[data-in="true"]'),F=12,B=(k=e.position)==null?void 0:k.includes("top"),Q=0,Y=0;Array.from(L).reverse().forEach((Z,x)=>{let S=Z;S.classList.add("Toastify__toast--stacked"),x>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=B?"top":"bot");let C=Q*(r?.2:1)+(r?0:F*x);S.style.setProperty("--y",`${B?C:C*-1}px`),S.style.setProperty("--g",`${F}`),S.style.setProperty("--s",`${1-(r?Y:0)}`),Q+=S.offsetHeight,Y+=.025})}},[r,h,t]),O.useEffect(()=>{function k(L){var F;let B=a.current;I(L)&&((F=B.querySelector('[tabIndex="0"]'))==null||F.focus(),s(!1),be.pause()),L.key==="Escape"&&(document.activeElement===B||B!=null&&B.contains(document.activeElement))&&(s(!0),be.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[I]),ze.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{t&&(s(!1),be.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((k,L)=>{let F=L.length?{...y}:{...y,pointerEvents:"none"};return ze.createElement("div",{tabIndex:-1,className:P(k),"data-stacked":t,style:F,key:`c-${k}`},L.map(({content:B,props:Q})=>ze.createElement(ZL,{...Q,stacked:t,collapseAll:D,isIn:d(Q.toastId,Q.containerId),key:`t-${Q.key}`},B)))}))}const rO={apiKey:"AIzaSyBc8RjtuaZOMWn4AA9ovmw1OOLDbwlSwWM",authDomain:"wildcats-express-pos.firebaseapp.com",databaseURL:"https://wildcats-express-pos-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wildcats-express-pos",storageBucket:"wildcats-express-pos.firebasestorage.app",messagingSenderId:"908404798026",appId:"1:908404798026:web:c14da08358320310f5ecb3",measurementId:"G-30FN1V543L"},M1=sE(rO),Cu=$b(M1),nd=FN(M1);var aa,hu,Yd,F1;class iO{constructor(){Kc(this,Yd);Kc(this,aa,"wildcats_express.admin@cit.edu");Kc(this,hu,"wildcats.admin")}async login(e,t){if(S_(this,Yd,F1).call(this,e,t))return await this.signInAdmin();throw new Error("Invalid admin credentials!")}async signInAdmin(){try{const e=await xk(Cu,qo(this,aa),qo(this,hu));return console.log("Admin logged in:",e.user),e.user}catch(e){throw new Error("Error during login: "+e.message)}}isAdminEmail(e){return e===qo(this,aa)}}aa=new WeakMap,hu=new WeakMap,Yd=new WeakSet,F1=function(e,t){return e===qo(this,aa)&&t===qo(this,hu)};const j1=new iO;Xm(Cu,n=>{n&&(j1.isAdminEmail(n.email)?window.location.pathname!=="/admin-page"&&(window.location.href="/admin-page"):alert("Access denied: You are not an admin."))});const sO=n=>{const[e,t]=O.useState(!0);return O.useEffect(()=>{const r=Xm(Cu,s=>{s?t(!1):(be.warn("Unauthorized access! Please log in."),setTimeout(()=>{n("/")},100))});return()=>r()},[n]),e},oO=async n=>{try{await Dk(Cu),localStorage.removeItem("token"),n("/")}catch(e){console.error("Error during logout:",e)}},aO=n=>{const[e,t]=O.useState(!0);return O.useEffect(()=>{const r=Xm(Cu,s=>{s?(console.log("Trying to access login/signup page while logged in."),n("/admin-page")):t(!1)});return()=>r()},[n]),e},Lg=O.createContext({});function Og(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ch=O.createContext(null),Mg=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class lO extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uO({children:n,isPresent:e,anchorX:t}){const r=O.useId(),s=O.useRef(null),a=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=O.useContext(Mg);return O.useInsertionEffect(()=>{const{width:d,height:h,top:p,left:y,right:_}=a.current;if(e||!s.current||!d||!h)return;const T=t==="left"?`left: ${y}`:`right: ${_}`;s.current.dataset.motionPopId=r;const I=document.createElement("style");return l&&(I.nonce=l),document.head.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${T}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(I)}},[e]),N.jsx(lO,{isPresent:e,childRef:s,sizeRef:a,children:O.cloneElement(n,{ref:s})})}const cO=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:d})=>{const h=Og(dO),p=O.useId(),y=O.useCallback(T=>{h.set(T,!0);for(const I of h.values())if(!I)return;r&&r()},[h,r]),_=O.useMemo(()=>({id:p,initial:e,isPresent:t,custom:s,onExitComplete:y,register:T=>(h.set(T,!1),()=>h.delete(T))}),a?[Math.random(),y]:[t,y]);return O.useMemo(()=>{h.forEach((T,I)=>h.set(I,!1))},[t]),O.useEffect(()=>{!t&&!h.size&&r&&r()},[t]),l==="popLayout"&&(n=N.jsx(uO,{isPresent:t,anchorX:d,children:n})),N.jsx(Ch.Provider,{value:_,children:n})};function dO(){return new Map}function U1(n=!0){const e=O.useContext(Ch);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=O.useId();O.useEffect(()=>{n&&s(a)},[n]);const l=O.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const rd=n=>n.key||"";function mw(n){const e=[];return O.Children.forEach(n,t=>{O.isValidElement(t)&&e.push(t)}),e}const Fg=typeof window<"u",B1=Fg?O.useLayoutEffect:O.useEffect,gm=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:d="left"})=>{const[h,p]=U1(l),y=O.useMemo(()=>mw(n),[n]),_=l&&!h?[]:y.map(rd),T=O.useRef(!0),I=O.useRef(y),P=Og(()=>new Map),[D,k]=O.useState(y),[L,F]=O.useState(y);B1(()=>{T.current=!1,I.current=y;for(let Y=0;Y<L.length;Y++){const Z=rd(L[Y]);_.includes(Z)?P.delete(Z):P.get(Z)!==!0&&P.set(Z,!1)}},[L,_.length,_.join("-")]);const B=[];if(y!==D){let Y=[...y];for(let Z=0;Z<L.length;Z++){const x=L[Z],S=rd(x);_.includes(S)||(Y.splice(Z,0,x),B.push(x))}a==="wait"&&B.length&&(Y=B),F(mw(Y)),k(y);return}const{forceRender:Q}=O.useContext(Lg);return N.jsx(N.Fragment,{children:L.map(Y=>{const Z=rd(Y),x=l&&!h?!1:y===L||_.includes(Z),S=()=>{if(P.has(Z))P.set(Z,!0);else return;let C=!0;P.forEach(V=>{V||(C=!1)}),C&&(Q==null||Q(),F(I.current),l&&(p==null||p()),r&&r())};return N.jsx(cO,{isPresent:x,initial:!T.current||t?void 0:!1,custom:x?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:x?void 0:S,anchorX:d,children:Y},Z)})})},An=n=>n;let ym=An;function jg(n){let e;return()=>(e===void 0&&(e=n()),e)}const ya=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Zr=n=>n*1e3,ei=n=>n/1e3,hO={skipAnimations:!1,useManualTiming:!1};function fO(n){let e=new Set,t=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(p){a.has(p)&&(h.schedule(p),n()),p(l)}const h={schedule:(p,y=!1,_=!1)=>{const I=_&&r?e:t;return y&&a.add(p),I.has(p)||I.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,s&&(s=!1,h.process(p))}};return h}const id=["read","resolveKeyframes","update","preRender","render","postRender"],pO=40;function z1(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=id.reduce((L,F)=>(L[F]=fO(a),L),{}),{read:d,resolveKeyframes:h,update:p,preRender:y,render:_,postRender:T}=l,I=()=>{const L=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(L-s.timestamp,pO),1),s.timestamp=L,s.isProcessing=!0,d.process(s),h.process(s),p.process(s),y.process(s),_.process(s),T.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(I))},P=()=>{t=!0,r=!0,s.isProcessing||n(I)};return{schedule:id.reduce((L,F)=>{const B=l[F];return L[F]=(Q,Y=!1,Z=!1)=>(t||P(),B.schedule(Q,Y,Z)),L},{}),cancel:L=>{for(let F=0;F<id.length;F++)l[id[F]].cancel(L)},state:s,steps:l}}const{schedule:et,cancel:Ji,state:Ft,steps:Cp}=z1(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0),$1=O.createContext({strict:!1}),gw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},va={};for(const n in gw)va[n]={isEnabled:e=>gw[n].some(t=>!!e[t])};function mO(n){for(const e in n)va[e]={...va[e],...n[e]}}const gO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||gO.has(n)}let W1=n=>!zd(n);function yO(n){n&&(W1=e=>e.startsWith("on")?!zd(e):n(e))}try{yO(require("@emotion/is-prop-valid").default)}catch{}function vO(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(W1(s)||t===!0&&zd(s)||!e&&!zd(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function _O(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Rh=O.createContext({});function ou(n){return typeof n=="string"||Array.isArray(n)}function xh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Ug=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bg=["initial",...Ug];function kh(n){return xh(n.animate)||Bg.some(e=>ou(n[e]))}function H1(n){return!!(kh(n)||n.variants)}function wO(n,e){if(kh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ou(t)?t:void 0,animate:ou(r)?r:void 0}}return n.inherit!==!1?e:{}}function TO(n){const{initial:e,animate:t}=wO(n,O.useContext(Rh));return O.useMemo(()=>({initial:e,animate:t}),[yw(e),yw(t)])}function yw(n){return Array.isArray(n)?n.join(" "):n}const EO=Symbol.for("motionComponentSymbol");function Jo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function IO(n,e,t){return O.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Jo(t)&&(t.current=r))},[e])}const zg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SO="framerAppearId",q1="data-"+zg(SO),{schedule:$g,cancel:aj}=z1(queueMicrotask,!1),K1=O.createContext({});function AO(n,e,t,r,s){var a,l;const{visualElement:d}=O.useContext(Rh),h=O.useContext($1),p=O.useContext(Ch),y=O.useContext(Mg).reducedMotion,_=O.useRef(null);r=r||h.renderer,!_.current&&r&&(_.current=r(n,{visualState:e,parent:d,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const T=_.current,I=O.useContext(K1);T&&!T.projection&&s&&(T.type==="html"||T.type==="svg")&&PO(_.current,t,s,I);const P=O.useRef(!1);O.useInsertionEffect(()=>{T&&P.current&&T.update(t,p)});const D=t[q1],k=O.useRef(!!D&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,D))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,D)));return B1(()=>{T&&(P.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),$g.render(T.render),k.current&&T.animationState&&T.animationState.animateChanges())}),O.useEffect(()=>{T&&(!k.current&&T.animationState&&T.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)===null||L===void 0||L.call(window,D)}),k.current=!1))}),T}function PO(n,e,t,r){const{layoutId:s,layout:a,drag:l,dragConstraints:d,layoutScroll:h,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:G1(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||d&&Jo(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function G1(n){if(n)return n.options.allowProjection!==!1?n.projection:G1(n.parent)}function CO({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var a,l;n&&mO(n);function d(p,y){let _;const T={...O.useContext(Mg),...p,layoutId:RO(p)},{isStatic:I}=T,P=TO(p),D=r(p,I);if(!I&&Fg){xO();const k=kO(T);_=k.MeasureLayout,P.visualElement=AO(s,D,T,e,k.ProjectionNode)}return N.jsxs(Rh.Provider,{value:P,children:[_&&P.visualElement?N.jsx(_,{visualElement:P.visualElement,...T}):null,t(s,p,IO(D,P.visualElement,y),D,I,P.visualElement)]})}d.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const h=O.forwardRef(d);return h[EO]=s,h}function RO({layoutId:n}){const e=O.useContext(Lg).id;return e&&n!==void 0?e+"-"+n:n}function xO(n,e){O.useContext($1).strict}function kO(n){const{drag:e,layout:t}=va;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const bO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wg(n){return typeof n!="string"||n.includes("-")?!1:!!(bO.indexOf(n)>-1||/[A-Z]/u.test(n))}function vw(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Hg(n,e,t,r){if(typeof e=="function"){const[s,a]=vw(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=vw(r);e=e(t!==void 0?t:n.custom,s,a)}return e}const vm=n=>Array.isArray(n),DO=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),NO=n=>vm(n)?n[n.length-1]||0:n,Yt=n=>!!(n&&n.getVelocity);function _d(n){const e=Yt(n)?n.get():n;return DO(e)?e.toValue():e}function VO({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,a){const l={latestValues:LO(r,s,a,n),renderState:e()};return t&&(l.onMount=d=>t({props:r,current:d,...l}),l.onUpdate=d=>t(d)),l}const Q1=n=>(e,t)=>{const r=O.useContext(Rh),s=O.useContext(Ch),a=()=>VO(n,e,r,s);return t?a():Og(a)};function LO(n,e,t,r){const s={},a=r(n,{});for(const T in a)s[T]=_d(a[T]);let{initial:l,animate:d}=n;const h=kh(n),p=H1(n);e&&p&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let y=t?t.initial===!1:!1;y=y||l===!1;const _=y?d:l;if(_&&typeof _!="boolean"&&!xh(_)){const T=Array.isArray(_)?_:[_];for(let I=0;I<T.length;I++){const P=Hg(n,T[I]);if(P){const{transitionEnd:D,transition:k,...L}=P;for(const F in L){let B=L[F];if(Array.isArray(B)){const Q=y?B.length-1:0;B=B[Q]}B!==null&&(s[F]=B)}for(const F in D)s[F]=D[F]}}}return s}const ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Js=new Set(ka),Y1=n=>e=>typeof e=="string"&&e.startsWith(n),qg=Y1("--"),OO=Y1("var(--"),Kg=n=>OO(n)?MO.test(n.split("/*")[0].trim()):!1,MO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,X1=(n,e)=>e&&typeof n=="number"?e.transform(n):n,oi=(n,e,t)=>t>e?e:t<n?n:t,ba={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},au={...ba,transform:n=>oi(0,1,n)},sd={...ba,default:1},Ru=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Vi=Ru("deg"),Sr=Ru("%"),Te=Ru("px"),FO=Ru("vh"),jO=Ru("vw"),_w={...Sr,parse:n=>Sr.parse(n)/100,transform:n=>Sr.transform(n*100)},UO={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},BO={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:sd,scaleX:sd,scaleY:sd,scaleZ:sd,skew:Vi,skewX:Vi,skewY:Vi,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:au,originX:_w,originY:_w,originZ:Te},ww={...ba,transform:Math.round},Gg={...UO,...BO,zIndex:ww,size:Te,fillOpacity:au,strokeOpacity:au,numOctaves:ww},zO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$O=ka.length;function WO(n,e,t){let r="",s=!0;for(let a=0;a<$O;a++){const l=ka[a],d=n[l];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(l.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||t){const p=X1(d,Gg[l]);if(!h){s=!1;const y=zO[l]||l;r+=`${y}(${p}) `}t&&(e[l]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function Qg(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let l=!1,d=!1;for(const h in e){const p=e[h];if(Js.has(h)){l=!0;continue}else if(qg(h)){s[h]=p;continue}else{const y=X1(p,Gg[h]);h.startsWith("origin")?(d=!0,a[h]=y):r[h]=y}}if(e.transform||(l||t?r.transform=WO(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:y=0}=a;r.transformOrigin=`${h} ${p} ${y}`}}const HO={offset:"stroke-dashoffset",array:"stroke-dasharray"},qO={offset:"strokeDashoffset",array:"strokeDasharray"};function KO(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?HO:qO;n[a.offset]=Te.transform(-r);const l=Te.transform(e),d=Te.transform(t);n[a.array]=`${l} ${d}`}function Tw(n,e,t){return typeof n=="string"?n:Te.transform(e+t*n)}function GO(n,e,t){const r=Tw(e,n.x,n.width),s=Tw(t,n.y,n.height);return`${r} ${s}`}function Yg(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:d=1,pathOffset:h=0,...p},y,_){if(Qg(n,p,_),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:I,dimensions:P}=n;T.transform&&(P&&(I.transform=T.transform),delete T.transform),P&&(s!==void 0||a!==void 0||I.transform)&&(I.transformOrigin=GO(P,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),r!==void 0&&(T.scale=r),l!==void 0&&KO(T,l,d,h,!1)}const Xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),J1=()=>({...Xg(),attrs:{}}),Jg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Z1(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const eS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tS(n,e,t,r){Z1(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(eS.has(s)?s:zg(s),e.attrs[s])}const lu={};function QO(n){for(const e in n)lu[e]=n[e],qg(e)&&(lu[e].isCSSVariable=!0)}function nS(n,{layout:e,layoutId:t}){return Js.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!lu[n]||n==="opacity")}function Zg(n,e,t){var r;const{style:s}=n,a={};for(const l in s)(Yt(s[l])||e.style&&Yt(e.style[l])||nS(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function rS(n,e,t){const r=Zg(n,e,t);for(const s in n)if(Yt(n[s])||Yt(e[s])){const a=ka.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}function YO(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Ew=["x","y","width","height","cx","cy","r"],XO={useVisualState:Q1({scrapeMotionValuesFromProps:rS,createRenderState:J1,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let a=!!n.drag;if(!a){for(const d in s)if(Js.has(d)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let d=0;d<Ew.length;d++){const h=Ew[d];n[h]!==e[h]&&(l=!0)}l&&et.read(()=>{YO(t,r),et.render(()=>{Yg(r,s,Jg(t.tagName),n.transformTemplate),tS(t,r)})})}})},JO={useVisualState:Q1({scrapeMotionValuesFromProps:Zg,createRenderState:Xg})};function iS(n,e,t){for(const r in e)!Yt(e[r])&&!nS(r,t)&&(n[r]=e[r])}function ZO({transformTemplate:n},e){return O.useMemo(()=>{const t=Xg();return Qg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function eM(n,e){const t=n.style||{},r={};return iS(r,t,n),Object.assign(r,ZO(n,e)),r}function tM(n,e){const t={},r=eM(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function nM(n,e,t,r){const s=O.useMemo(()=>{const a=J1();return Yg(a,e,Jg(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};iS(a,n.style,n),s.style={...a,...s.style}}return s}function rM(n=!1){return(t,r,s,{latestValues:a},l)=>{const h=(Wg(t)?nM:tM)(r,a,l,t),p=vO(r,typeof t=="string",n),y=t!==O.Fragment?{...p,...h,ref:s}:{},{children:_}=r,T=O.useMemo(()=>Yt(_)?_.get():_,[_]);return O.createElement(t,{...y,children:T})}}function iM(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Wg(r)?XO:JO,preloadedFeatures:n,useRender:rM(s),createVisualElement:e,Component:r};return CO(l)}}function sS(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function bh(n,e,t){const r=n.getProps();return Hg(r,e,t!==void 0?t:r.custom,n)}const sM=jg(()=>window.ScrollTimeline!==void 0);class oM{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(sM()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class aM extends oM{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function ey(n,e){return n?n[e]||n.default||n:void 0}const _m=2e4;function oS(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<_m;)e+=t,r=n.next(e);return e>=_m?1/0:e}function ty(n){return typeof n=="function"}function Iw(n,e){n.timeline=e,n.onfinish=null}const ny=n=>Array.isArray(n)&&typeof n[0]=="number",lM={linearEasing:void 0};function uM(n,e){const t=jg(n);return()=>{var r;return(r=lM[e])!==null&&r!==void 0?r:t()}}const $d=uM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),aS=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(ya(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function lS(n){return!!(typeof n=="function"&&$d()||!n||typeof n=="string"&&(n in wm||$d())||ny(n)||Array.isArray(n)&&n.every(lS))}const Ml=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,wm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ml([0,.65,.55,1]),circOut:Ml([.55,0,1,.45]),backIn:Ml([.31,.01,.66,-.59]),backOut:Ml([.33,1.53,.69,.99])};function uS(n,e){if(n)return typeof n=="function"&&$d()?aS(n,e):ny(n)?Ml(n):Array.isArray(n)?n.map(t=>uS(t,e)||wm.easeOut):wm[n]}const tr={x:!1,y:!1};function cS(){return tr.x||tr.y}function cM(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function dS(n,e){const t=cM(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function Sw(n){return!(n.pointerType==="touch"||cS())}function dM(n,e,t={}){const[r,s,a]=dS(n,t),l=d=>{if(!Sw(d))return;const{target:h}=d,p=e(h,d);if(typeof p!="function"||!h)return;const y=_=>{Sw(_)&&(p(_),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,s)};return r.forEach(d=>{d.addEventListener("pointerenter",l,s)}),a}const hS=(n,e)=>e?n===e?!0:hS(n,e.parentElement):!1,ry=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,hM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fM(n){return hM.has(n.tagName)||n.tabIndex!==-1}const Fl=new WeakSet;function Aw(n){return e=>{e.key==="Enter"&&n(e)}}function Rp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pM=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=Aw(()=>{if(Fl.has(t))return;Rp(t,"down");const s=Aw(()=>{Rp(t,"up")}),a=()=>Rp(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function Pw(n){return ry(n)&&!cS()}function mM(n,e,t={}){const[r,s,a]=dS(n,t),l=d=>{const h=d.currentTarget;if(!Pw(d)||Fl.has(h))return;Fl.add(h);const p=e(h,d),y=(I,P)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),!(!Pw(I)||!Fl.has(h))&&(Fl.delete(h),typeof p=="function"&&p(I,{success:P}))},_=I=>{y(I,t.useGlobalTarget||hS(h,I.target))},T=I=>{y(I,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",T,s)};return r.forEach(d=>{!fM(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",l,s),d.addEventListener("focus",p=>pM(p,s),s)}),a}function gM(n){return n==="x"||n==="y"?tr[n]?null:(tr[n]=!0,()=>{tr[n]=!1}):tr.x||tr.y?null:(tr.x=tr.y=!0,()=>{tr.x=tr.y=!1})}const fS=new Set(["width","height","top","left","right","bottom",...ka]);let wd;function yM(){wd=void 0}const Ar={now:()=>(wd===void 0&&Ar.set(Ft.isProcessing||hO.useManualTiming?Ft.timestamp:performance.now()),wd),set:n=>{wd=n,queueMicrotask(yM)}};function iy(n,e){n.indexOf(e)===-1&&n.push(e)}function sy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class oy{constructor(){this.subscriptions=[]}add(e){return iy(this.subscriptions,e),()=>sy(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pS(n,e){return e?n*(1e3/e):0}const Cw=30,vM=n=>!isNaN(parseFloat(n));class _M{constructor(e,t={}){this.version="12.0.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Ar.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new oy);const r=this.events[e].add(t);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Cw);return pS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uu(n,e){return new _M(n,e)}function wM(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,uu(t))}function TM(n,e){const t=bh(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const l in a){const d=NO(a[l]);wM(n,l,d)}}function EM(n){return!!(Yt(n)&&n.add)}function Tm(n,e){const t=n.getValue("willChange");if(EM(t))return t.add(e)}function mS(n){return n.props[q1]}const gS=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,IM=1e-7,SM=12;function AM(n,e,t,r,s){let a,l,d=0;do l=e+(t-e)/2,a=gS(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>IM&&++d<SM);return l}function xu(n,e,t,r){if(n===e&&t===r)return An;const s=a=>AM(a,0,1,n,t);return a=>a===0||a===1?a:gS(s(a),e,r)}const yS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,vS=n=>e=>1-n(1-e),_S=xu(.33,1.53,.69,.99),ay=vS(_S),wS=yS(ay),TS=n=>(n*=2)<1?.5*ay(n):.5*(2-Math.pow(2,-10*(n-1))),ly=n=>1-Math.sin(Math.acos(n)),ES=vS(ly),IS=yS(ly),SS=n=>/^0[^.\s]+$/u.test(n);function PM(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||SS(n):!0}const ql=n=>Math.round(n*1e5)/1e5,uy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CM(n){return n==null}const RM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cy=(n,e)=>t=>!!(typeof t=="string"&&RM.test(t)&&t.startsWith(n)||e&&!CM(t)&&Object.prototype.hasOwnProperty.call(t,e)),AS=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,l,d]=r.match(uy);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},xM=n=>oi(0,255,n),xp={...ba,transform:n=>Math.round(xM(n))},js={test:cy("rgb","red"),parse:AS("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+xp.transform(n)+", "+xp.transform(e)+", "+xp.transform(t)+", "+ql(au.transform(r))+")"};function kM(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Em={test:cy("#"),parse:kM,transform:js.transform},Zo={test:cy("hsl","hue"),parse:AS("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Sr.transform(ql(e))+", "+Sr.transform(ql(t))+", "+ql(au.transform(r))+")"},Kt={test:n=>js.test(n)||Em.test(n)||Zo.test(n),parse:n=>js.test(n)?js.parse(n):Zo.test(n)?Zo.parse(n):Em.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?js.transform(n):Zo.transform(n)},bM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DM(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(uy))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(bM))===null||t===void 0?void 0:t.length)||0)>0}const PS="number",CS="color",NM="var",VM="var(",Rw="${}",LM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const d=e.replace(LM,h=>(Kt.test(h)?(r.color.push(a),s.push(CS),t.push(Kt.parse(h))):h.startsWith(VM)?(r.var.push(a),s.push(NM),t.push(h)):(r.number.push(a),s.push(PS),t.push(parseFloat(h))),++a,Rw)).split(Rw);return{values:t,split:d,indexes:r,types:s}}function RS(n){return cu(n).values}function xS(n){const{split:e,types:t}=cu(n),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const d=t[l];d===PS?a+=ql(s[l]):d===CS?a+=Kt.transform(s[l]):a+=s[l]}return a}}const OM=n=>typeof n=="number"?0:n;function MM(n){const e=RS(n);return xS(n)(e.map(OM))}const Zi={test:DM,parse:RS,createTransformer:xS,getAnimatableNone:MM},FM=new Set(["brightness","contrast","saturate","opacity"]);function jM(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(uy)||[];if(!r)return n;const s=t.replace(r,"");let a=FM.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const UM=/\b([a-z-]*)\(.*?\)/gu,Im={...Zi,getAnimatableNone:n=>{const e=n.match(UM);return e?e.map(jM).join(" "):n}},BM={...Gg,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Im,WebkitFilter:Im},dy=n=>BM[n];function kS(n,e){let t=dy(n);return t!==Im&&(t=Zi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const zM=new Set(["auto","none","0"]);function $M(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!zM.has(a)&&cu(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=kS(t,s)}const xw=n=>n===ba||n===Te,kw=(n,e)=>parseFloat(n.split(", ")[e]),bw=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return kw(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?kw(a[1],n):0}},WM=new Set(["x","y","z"]),HM=ka.filter(n=>!WM.has(n));function qM(n){const e=[];return HM.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const _a={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:bw(4,13),y:bw(5,14)};_a.translateX=_a.x;_a.translateY=_a.y;const zs=new Set;let Sm=!1,Am=!1;function bS(){if(Am){const n=Array.from(zs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=qM(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,l])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Am=!1,Sm=!1,zs.forEach(n=>n.complete()),zs.clear()}function DS(){zs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Am=!0)})}function KM(){DS(),bS()}class hy{constructor(e,t,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zs.add(this),Sm||(Sm=!0,et.read(DS),et.resolveKeyframes(bS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),d=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const h=r.readValue(t,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const NS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),GM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QM(n){const e=GM.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function VS(n,e,t=1){const[r,s]=QM(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return NS(l)?parseFloat(l):l}return Kg(s)?VS(s,e,t+1):s}const LS=n=>e=>e.test(n),YM={test:n=>n==="auto",parse:n=>n},OS=[ba,Te,Sr,Vi,jO,FO,YM],Dw=n=>OS.find(LS(n));class MS extends hy{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Kg(p))){const y=VS(p,t.current);y!==void 0&&(e[h]=y),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!fS.has(r)||e.length!==2)return;const[s,a]=e,l=Dw(s),d=Dw(a);if(l!==d)if(xw(l)&&xw(d))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)PM(e[s])&&r.push(s);r.length&&$M(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_a[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,d=s[l];s[l]=_a[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{t.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const Nw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Zi.test(n)||n==="0")&&!n.startsWith("url("));function XM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function JM(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=Nw(s,e),d=Nw(a,e);return!l||!d?!1:XM(n)||(t==="spring"||ty(t))&&r}const ZM=n=>n!==null;function Dh(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(ZM),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const e4=40;class FS{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ar.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:l,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>e4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KM(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ar.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:d,onUpdate:h,isGenerator:p}=this.options;if(!p&&!JM(e,r,s,a))if(l)this.options.duration=0;else{h&&h(Dh(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,t);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...y},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const at=(n,e,t)=>n+(e-n)*t;function kp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function t4({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const d=t<.5?t*(1+e):t+e-t*e,h=2*t-d;s=kp(h,d,n+1/3),a=kp(h,d,n),l=kp(h,d,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Wd(n,e){return t=>t>0?e:n}const bp=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},n4=[Em,js,Zo],r4=n=>n4.find(e=>e.test(n));function Vw(n){const e=r4(n);if(!e)return!1;let t=e.parse(n);return e===Zo&&(t=t4(t)),t}const Lw=(n,e)=>{const t=Vw(n),r=Vw(e);if(!t||!r)return Wd(n,e);const s={...t};return a=>(s.red=bp(t.red,r.red,a),s.green=bp(t.green,r.green,a),s.blue=bp(t.blue,r.blue,a),s.alpha=at(t.alpha,r.alpha,a),js.transform(s))},i4=(n,e)=>t=>e(n(t)),ku=(...n)=>n.reduce(i4),Pm=new Set(["none","hidden"]);function s4(n,e){return Pm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function o4(n,e){return t=>at(n,e,t)}function fy(n){return typeof n=="number"?o4:typeof n=="string"?Kg(n)?Wd:Kt.test(n)?Lw:u4:Array.isArray(n)?jS:typeof n=="object"?Kt.test(n)?Lw:a4:Wd}function jS(n,e){const t=[...n],r=t.length,s=n.map((a,l)=>fy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}}function a4(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=fy(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function l4(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],d=n.indexes[l][s[l]],h=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=h,s[l]++}return r}const u4=(n,e)=>{const t=Zi.createTransformer(e),r=cu(n),s=cu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Pm.has(n)&&!s.values.length||Pm.has(e)&&!r.values.length?s4(n,e):ku(jS(l4(r,s),s.values),t):Wd(n,e)};function US(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?at(n,e,t):fy(n)(n,e)}const c4=5;function BS(n,e,t){const r=Math.max(e-c4,0);return pS(t-n(r),e-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ow=.001;function d4({duration:n=ct.duration,bounce:e=ct.bounce,velocity:t=ct.velocity,mass:r=ct.mass}){let s,a,l=1-e;l=oi(ct.minDamping,ct.maxDamping,l),n=oi(ct.minDuration,ct.maxDuration,ei(n)),l<1?(s=p=>{const y=p*l,_=y*n,T=y-t,I=Cm(p,l),P=Math.exp(-_);return Ow-T/I*P},a=p=>{const _=p*l*n,T=_*t+t,I=Math.pow(l,2)*Math.pow(p,2)*n,P=Math.exp(-_),D=Cm(Math.pow(p,2),l);return(-s(p)+Ow>0?-1:1)*((T-I)*P)/D}):(s=p=>{const y=Math.exp(-p*n),_=(p-t)*n+1;return-.001+y*_},a=p=>{const y=Math.exp(-p*n),_=(t-p)*(n*n);return y*_});const d=5/n,h=f4(s,a,d);if(n=Zr(n),isNaN(h))return{stiffness:ct.stiffness,damping:ct.damping,duration:n};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:n}}}const h4=12;function f4(n,e,t){let r=t;for(let s=1;s<h4;s++)r=r-n(r)/e(r);return r}function Cm(n,e){return n*Math.sqrt(1-e*e)}const p4=["duration","bounce"],m4=["stiffness","damping","mass"];function Mw(n,e){return e.some(t=>n[t]!==void 0)}function g4(n){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...n};if(!Mw(n,m4)&&Mw(n,p4))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*oi(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:ct.mass,stiffness:s,damping:a}}else{const t=d4(n);e={...e,...t,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function zS(n=ct.visualDuration,e=ct.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:h,damping:p,mass:y,duration:_,velocity:T,isResolvedFromDuration:I}=g4({...t,velocity:-ei(t.velocity||0)}),P=T||0,D=p/(2*Math.sqrt(h*y)),k=l-a,L=ei(Math.sqrt(h/y)),F=Math.abs(k)<5;r||(r=F?ct.restSpeed.granular:ct.restSpeed.default),s||(s=F?ct.restDelta.granular:ct.restDelta.default);let B;if(D<1){const Y=Cm(L,D);B=Z=>{const x=Math.exp(-D*L*Z);return l-x*((P+D*L*k)/Y*Math.sin(Y*Z)+k*Math.cos(Y*Z))}}else if(D===1)B=Y=>l-Math.exp(-L*Y)*(k+(P+L*k)*Y);else{const Y=L*Math.sqrt(D*D-1);B=Z=>{const x=Math.exp(-D*L*Z),S=Math.min(Y*Z,300);return l-x*((P+D*L*k)*Math.sinh(S)+Y*k*Math.cosh(S))/Y}}const Q={calculatedDuration:I&&_||null,next:Y=>{const Z=B(Y);if(I)d.done=Y>=_;else{let x=0;D<1&&(x=Y===0?Zr(P):BS(B,Y,Z));const S=Math.abs(x)<=r,C=Math.abs(l-Z)<=s;d.done=S&&C}return d.value=d.done?l:Z,d},toString:()=>{const Y=Math.min(oS(Q),_m),Z=aS(x=>Q.next(Y*x).value,Y,30);return Y+"ms "+Z}};return Q}function Fw({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:h,restDelta:p=.5,restSpeed:y}){const _=n[0],T={done:!1,value:_},I=S=>d!==void 0&&S<d||h!==void 0&&S>h,P=S=>d===void 0?h:h===void 0||Math.abs(d-S)<Math.abs(h-S)?d:h;let D=t*e;const k=_+D,L=l===void 0?k:l(k);L!==k&&(D=L-_);const F=S=>-D*Math.exp(-S/r),B=S=>L+F(S),Q=S=>{const C=F(S),V=B(S);T.done=Math.abs(C)<=p,T.value=T.done?L:V};let Y,Z;const x=S=>{I(T.value)&&(Y=S,Z=zS({keyframes:[T.value,P(T.value)],velocity:BS(B,S,T.value),damping:s,stiffness:a,restDelta:p,restSpeed:y}))};return x(0),{calculatedDuration:null,next:S=>{let C=!1;return!Z&&Y===void 0&&(C=!0,Q(S),x(S)),Y!==void 0&&S>=Y?Z.next(S-Y):(!C&&Q(S),T)}}}const y4=xu(.42,0,1,1),v4=xu(0,0,.58,1),$S=xu(.42,0,.58,1),_4=n=>Array.isArray(n)&&typeof n[0]!="number",jw={linear:An,easeIn:y4,easeInOut:$S,easeOut:v4,circIn:ly,circInOut:IS,circOut:ES,backIn:ay,backInOut:wS,backOut:_S,anticipate:TS},Uw=n=>{if(ny(n)){ym(n.length===4);const[e,t,r,s]=n;return xu(e,t,r,s)}else if(typeof n=="string")return ym(jw[n]!==void 0),jw[n];return n};function w4(n,e,t){const r=[],s=t||US,a=n.length-1;for(let l=0;l<a;l++){let d=s(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||An:e;d=ku(h,d)}r.push(d)}return r}function T4(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(ym(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=w4(e,r,s),h=d.length,p=y=>{if(l&&y<n[0])return e[0];let _=0;if(h>1)for(;_<n.length-2&&!(y<n[_+1]);_++);const T=ya(n[_],n[_+1],y);return d[_](T)};return t?y=>p(oi(n[0],n[a-1],y)):p}function E4(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=ya(0,e,r);n.push(at(t,1,s))}}function I4(n){const e=[0];return E4(e,n.length-1),e}function S4(n,e){return n.map(t=>t*e)}function A4(n,e){return n.map(()=>e||$S).splice(0,n.length-1)}function Hd({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=_4(r)?r.map(Uw):Uw(r),a={done:!1,value:e[0]},l=S4(t&&t.length===e.length?t:I4(e),n),d=T4(l,e,{ease:Array.isArray(s)?s:A4(e,s)});return{calculatedDuration:n,next:h=>(a.value=d(h),a.done=h>=n,a)}}const P4=n=>{const e=({timestamp:t})=>n(t);return{start:()=>et.update(e,!0),stop:()=>Ji(e),now:()=>Ft.isProcessing?Ft.timestamp:Ar.now()}},C4={decay:Fw,inertia:Fw,tween:Hd,keyframes:Hd,spring:zS},R4=n=>n/100;class py extends FS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||hy,d=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(a,d,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,d=ty(t)?t:C4[t]||Hd;let h,p;d!==Hd&&typeof e[0]!="number"&&(h=ku(R4,US(e[0],e[1])),e=[0,100]);const y=d({...this.options,keyframes:e});a==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-l})),y.calculatedDuration===null&&(y.calculatedDuration=oS(y));const{calculatedDuration:_}=y,T=_+s,I=T*(r+1)-s;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:_,resolvedDuration:T,totalDuration:I}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:T,repeat:I,repeatType:P,repeatDelay:D,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const L=this.currentTime-T*(this.speed>=0?1:-1),F=this.speed>=0?L<0:L>y;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let B=this.currentTime,Q=a;if(I){const S=Math.min(this.currentTime,y)/_;let C=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&C--,C=Math.min(C,I+1),!!(C%2)&&(P==="reverse"?(V=1-V,D&&(V-=D/_)):P==="mirror"&&(Q=l)),B=oi(0,1,V)*_}const Y=F?{done:!1,value:h[0]}:Q.next(B);d&&(Y.value=d(Y.value));let{done:Z}=Y;!F&&p!==null&&(Z=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return x&&s!==void 0&&(Y.value=Dh(h,this.options,s)),k&&k(Y.value),x&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?ei(e.calculatedDuration):0}get time(){return ei(this.currentTime)}set time(e){e=Zr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=P4,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const x4=new Set(["opacity","clipPath","filter","transform"]);function k4(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:d="easeInOut",times:h}={}){const p={[e]:t};h&&(p.offset=h);const y=uS(d,s);return Array.isArray(y)&&(p.easing=y),n.animate(p,{delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const b4=jg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qd=10,D4=2e4;function N4(n){return ty(n.type)||n.type==="spring"||!lS(n.ease)}function V4(n,e){const t=new py({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let a=0;for(;!r.done&&a<D4;)r=t.sample(a),s.push(r.value),a+=qd;return{times:void 0,keyframes:s,duration:a-qd,ease:"linear"}}const WS={anticipate:TS,backInOut:wS,circInOut:IS};function L4(n){return n in WS}class Bw extends FS{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new MS(a,(l,d)=>this.onKeyframesResolved(l,d),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:a,type:l,motionValue:d,name:h,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&$d()&&L4(a)&&(a=WS[a]),N4(this.options)){const{onComplete:_,onUpdate:T,motionValue:I,element:P,...D}=this.options,k=V4(e,D);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,s=k.times,a=k.ease,l="keyframes"}const y=k4(d.owner.current,h,e,{...this.options,duration:r,times:s,ease:a});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(Iw(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;d.set(Dh(e,this.options,t)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ei(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ei(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Zr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return An;const{animation:r}=t;Iw(r,e)}return An}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:a,ease:l,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:T,...I}=this.options,P=new py({...I,keyframes:r,duration:s,type:a,ease:l,times:d,isGenerator:!0}),D=Zr(this.time);p.setWithVelocity(P.sample(D-qd).value,P.sample(D).value,qd)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:l,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=t.owner.getProps();return b4()&&r&&x4.has(r)&&!h&&!p&&!s&&a!=="mirror"&&l!==0&&d!=="inertia"}}const O4={type:"spring",stiffness:500,damping:25,restSpeed:10},M4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),F4={type:"keyframes",duration:.8},j4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U4=(n,{keyframes:e})=>e.length>2?F4:Js.has(n)?n.startsWith("scale")?M4(e[1]):O4:j4;function B4({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:d,from:h,elapsed:p,...y}){return!!Object.keys(y).length}const my=(n,e,t,r={},s,a)=>l=>{const d=ey(r,n)||{},h=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Zr(h);let y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:s};B4(d)||(y={...y,...U4(n,y)}),y.duration&&(y.duration=Zr(y.duration)),y.repeatDelay&&(y.repeatDelay=Zr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const T=Dh(y.keyframes,d);if(T!==void 0)return et.update(()=>{y.onUpdate(T),y.onComplete()}),new aM([])}return!a&&Bw.supports(y)?new Bw(y):new py(y)};function z4({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function HS(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:d,...h}=e;r&&(l=r);const p=[],y=s&&n.animationState&&n.animationState.getState()[s];for(const _ in h){const T=n.getValue(_,(a=n.latestValues[_])!==null&&a!==void 0?a:null),I=h[_];if(I===void 0||y&&z4(y,_))continue;const P={delay:t,...ey(l||{},_)};let D=!1;if(window.MotionHandoffAnimation){const L=mS(n);if(L){const F=window.MotionHandoffAnimation(L,_,et);F!==null&&(P.startTime=F,D=!0)}}Tm(n,_),T.start(my(_,T,I,n.shouldReduceMotion&&fS.has(_)?{type:!1}:P,n,D));const k=T.animation;k&&p.push(k)}return d&&Promise.all(p).then(()=>{et.update(()=>{d&&TM(n,d)})}),p}function Rm(n,e,t={}){var r;const s=bh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const l=s?()=>Promise.all(HS(n,s,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:T}=a;return $4(n,e,y+p,_,T,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,y]=h==="beforeChildren"?[l,d]:[d,l];return p().then(()=>y())}else return Promise.all([l(),d(t.delay)])}function $4(n,e,t=0,r=0,s=1,a){const l=[],d=(n.variantChildren.size-1)*r,h=s===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(n.variantChildren).sort(W4).forEach((p,y)=>{p.notify("AnimationStart",e),l.push(Rm(p,e,{...a,delay:t+h(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function W4(n,e){return n.sortNodePosition(e)}function H4(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Rm(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Rm(n,e,t);else{const s=typeof e=="function"?bh(n,e,t.custom):e;r=Promise.all(HS(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const q4=Bg.length;function qS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?qS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<q4;t++){const r=Bg[t],s=n.props[r];(ou(s)||s===!1)&&(e[r]=s)}return e}const K4=[...Ug].reverse(),G4=Ug.length;function Q4(n){return e=>Promise.all(e.map(({animation:t,options:r})=>H4(n,t,r)))}function Y4(n){let e=Q4(n),t=zw(),r=!0;const s=h=>(p,y)=>{var _;const T=bh(n,y,h==="exit"?(_=n.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(T){const{transition:I,transitionEnd:P,...D}=T;p={...p,...D,...P}}return p};function a(h){e=h(n)}function l(h){const{props:p}=n,y=qS(n.parent)||{},_=[],T=new Set;let I={},P=1/0;for(let k=0;k<G4;k++){const L=K4[k],F=t[L],B=p[L]!==void 0?p[L]:y[L],Q=ou(B),Y=L===h?F.isActive:null;Y===!1&&(P=k);let Z=B===y[L]&&B!==p[L]&&Q;if(Z&&r&&n.manuallyAnimateOnMount&&(Z=!1),F.protectedKeys={...I},!F.isActive&&Y===null||!B&&!F.prevProp||xh(B)||typeof B=="boolean")continue;const x=X4(F.prevProp,B);let S=x||L===h&&F.isActive&&!Z&&Q||k>P&&Q,C=!1;const V=Array.isArray(B)?B:[B];let j=V.reduce(s(L),{});Y===!1&&(j={});const{prevResolvedValues:z={}}=F,R={...z,...j},Ce=ge=>{S=!0,T.has(ge)&&(C=!0,T.delete(ge)),F.needsAnimating[ge]=!0;const ne=n.getValue(ge);ne&&(ne.liveStyle=!1)};for(const ge in R){const ne=j[ge],fe=z[ge];if(I.hasOwnProperty(ge))continue;let ae=!1;vm(ne)&&vm(fe)?ae=!sS(ne,fe):ae=ne!==fe,ae?ne!=null?Ce(ge):T.add(ge):ne!==void 0&&T.has(ge)?Ce(ge):F.protectedKeys[ge]=!0}F.prevProp=B,F.prevResolvedValues=j,F.isActive&&(I={...I,...j}),r&&n.blockInitialAnimation&&(S=!1),S&&(!(Z&&x)||C)&&_.push(...V.map(ge=>({animation:ge,options:{type:L}})))}if(T.size){const k={};T.forEach(L=>{const F=n.getBaseTarget(L),B=n.getValue(L);B&&(B.liveStyle=!0),k[L]=F??null}),_.push({animation:k})}let D=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(_):Promise.resolve()}function d(h,p){var y;if(t[h].isActive===p)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(T=>{var I;return(I=T.animationState)===null||I===void 0?void 0:I.setActive(h,p)}),t[h].isActive=p;const _=l(h);for(const T in t)t[T].protectedKeys={};return _}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=zw(),r=!0}}}function X4(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!sS(e,n):!1}function Ns(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zw(){return{animate:Ns(!0),whileInView:Ns(),whileHover:Ns(),whileTap:Ns(),whileDrag:Ns(),whileFocus:Ns(),exit:Ns()}}class is{constructor(e){this.isMounted=!1,this.node=e}update(){}}class J4 extends is{constructor(e){super(e),e.animationState||(e.animationState=Y4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Z4=0;class eF extends is{constructor(){super(...arguments),this.id=Z4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const tF={animation:{Feature:J4},exit:{Feature:eF}};function du(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function bu(n){return{point:{x:n.pageX,y:n.pageY}}}const nF=n=>e=>ry(e)&&n(e,bu(e));function Kl(n,e,t,r){return du(n,e,nF(t),r)}const $w=(n,e)=>Math.abs(n-e);function rF(n,e){const t=$w(n.x,e.x),r=$w(n.y,e.y);return Math.sqrt(t**2+r**2)}class KS{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Np(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,I=rF(_.offset,{x:0,y:0})>=3;if(!T&&!I)return;const{point:P}=_,{timestamp:D}=Ft;this.history.push({...P,timestamp:D});const{onStart:k,onMove:L}=this.handlers;T||(k&&k(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Dp(T,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:I,onSessionEnd:P,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Np(_.type==="pointercancel"?this.lastMoveEventInfo:Dp(T,this.transformPagePoint),this.history);this.startEvent&&I&&I(_,k),P&&P(_,k)},!ry(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=bu(e),d=Dp(l,this.transformPagePoint),{point:h}=d,{timestamp:p}=Ft;this.history=[{...h,timestamp:p}];const{onSessionStart:y}=t;y&&y(e,Np(d,this.history)),this.removeListeners=ku(Kl(this.contextWindow,"pointermove",this.handlePointerMove),Kl(this.contextWindow,"pointerup",this.handlePointerUp),Kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ji(this.updatePoint)}}function Dp(n,e){return e?{point:e(n.point)}:n}function Ww(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Np({point:n},e){return{point:n,delta:Ww(n,GS(e)),offset:Ww(n,iF(e)),velocity:sF(e,.1)}}function iF(n){return n[0]}function GS(n){return n[n.length-1]}function sF(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=GS(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Zr(e)));)t--;if(!r)return{x:0,y:0};const a=ei(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const QS=1e-4,oF=1-QS,aF=1+QS,YS=.01,lF=0-YS,uF=0+YS;function rn(n){return n.max-n.min}function cF(n,e,t){return Math.abs(n-e)<=t}function Hw(n,e,t,r=.5){n.origin=r,n.originPoint=at(e.min,e.max,n.origin),n.scale=rn(t)/rn(e),n.translate=at(t.min,t.max,n.origin)-n.originPoint,(n.scale>=oF&&n.scale<=aF||isNaN(n.scale))&&(n.scale=1),(n.translate>=lF&&n.translate<=uF||isNaN(n.translate))&&(n.translate=0)}function Gl(n,e,t,r){Hw(n.x,e.x,t.x,r?r.originX:void 0),Hw(n.y,e.y,t.y,r?r.originY:void 0)}function qw(n,e,t){n.min=t.min+e.min,n.max=n.min+rn(e)}function dF(n,e,t){qw(n.x,e.x,t.x),qw(n.y,e.y,t.y)}function Kw(n,e,t){n.min=e.min-t.min,n.max=n.min+rn(e)}function Ql(n,e,t){Kw(n.x,e.x,t.x),Kw(n.y,e.y,t.y)}function hF(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?at(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?at(t,n,r.max):Math.min(n,t)),n}function Gw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function fF(n,{top:e,left:t,bottom:r,right:s}){return{x:Gw(n.x,t,s),y:Gw(n.y,e,r)}}function Qw(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function pF(n,e){return{x:Qw(n.x,e.x),y:Qw(n.y,e.y)}}function mF(n,e){let t=.5;const r=rn(n),s=rn(e);return s>r?t=ya(e.min,e.max-r,n.min):r>s&&(t=ya(n.min,n.max-s,e.min)),oi(0,1,t)}function gF(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const xm=.35;function yF(n=xm){return n===!1?n=0:n===!0&&(n=xm),{x:Yw(n,"left","right"),y:Yw(n,"top","bottom")}}function Yw(n,e,t){return{min:Xw(n,e),max:Xw(n,t)}}function Xw(n,e){return typeof n=="number"?n:n[e]||0}const Jw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ea=()=>({x:Jw(),y:Jw()}),Zw=()=>({min:0,max:0}),ft=()=>({x:Zw(),y:Zw()});function Mn(n){return[n("x"),n("y")]}function XS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function vF({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function _F(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Vp(n){return n===void 0||n===1}function km({scale:n,scaleX:e,scaleY:t}){return!Vp(n)||!Vp(e)||!Vp(t)}function Ls(n){return km(n)||JS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function JS(n){return eT(n.x)||eT(n.y)}function eT(n){return n&&n!=="0%"}function Kd(n,e,t){const r=n-t,s=e*r;return t+s}function tT(n,e,t,r,s){return s!==void 0&&(n=Kd(n,s,r)),Kd(n,t,r)+e}function bm(n,e=0,t=1,r,s){n.min=tT(n.min,e,t,r,s),n.max=tT(n.max,e,t,r,s)}function ZS(n,{x:e,y:t}){bm(n.x,e.translate,e.scale,e.originPoint),bm(n.y,t.translate,t.scale,t.originPoint)}const nT=.999999999999,rT=1.0000000000001;function wF(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let d=0;d<s;d++){a=t[d],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&na(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,ZS(n,l)),r&&Ls(a.latestValues)&&na(n,a.latestValues))}e.x<rT&&e.x>nT&&(e.x=1),e.y<rT&&e.y>nT&&(e.y=1)}function ta(n,e){n.min=n.min+e,n.max=n.max+e}function iT(n,e,t,r,s=.5){const a=at(n.min,n.max,s);bm(n,e,t,a,r)}function na(n,e){iT(n.x,e.x,e.scaleX,e.scale,e.originX),iT(n.y,e.y,e.scaleY,e.scale,e.originY)}function eA(n,e){return XS(_F(n.getBoundingClientRect(),e))}function TF(n,e,t){const r=eA(n,t),{scroll:s}=e;return s&&(ta(r.x,s.offset.x),ta(r.y,s.offset.y)),r}const tA=({current:n})=>n?n.ownerDocument.defaultView:null,EF=new WeakMap;class IF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(bu(y).point)},a=(y,_)=>{const{drag:T,dragPropagation:I,onDragStart:P}=this.getProps();if(T&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gM(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(k=>{let L=this.getAxisMotionValue(k).get()||0;if(Sr.test(L)){const{projection:F}=this.visualElement;if(F&&F.layout){const B=F.layout.layoutBox[k];B&&(L=rn(B)*(parseFloat(L)/100))}}this.originPoint[k]=L}),P&&et.postRender(()=>P(y,_)),Tm(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},l=(y,_)=>{const{dragPropagation:T,dragDirectionLock:I,onDirectionLock:P,onDrag:D}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:k}=_;if(I&&this.currentDirection===null){this.currentDirection=SF(k),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",_.point,k),this.updateAxis("y",_.point,k),this.visualElement.render(),D&&D(y,_)},d=(y,_)=>this.stop(y,_),h=()=>Mn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new KS(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:tA(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&et.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!od(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=hF(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=fF(s.layoutBox,t):this.constraints=!1,this.elastic=yF(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Mn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=gF(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Jo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=TF(r,s.root,this.visualElement.getTransformPagePoint());let l=pF(s.layout.layoutBox,a);if(t){const d=t(vF(l));this.hasMutatedConstraints=!!d,d&&(l=XS(d))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=Mn(y=>{if(!od(y,t,this.currentDirection))return;let _=h[y]||{};l&&(_={min:0,max:0});const T=s?200:1e6,I=s?40:1e7,P={type:"inertia",velocity:r?e[y]:0,bounceStiffness:T,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(y,P)});return Promise.all(p).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Tm(this.visualElement,e),r.start(my(e,r,0,t,this.visualElement,!1))}stopAnimation(){Mn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mn(t=>{const{drag:r}=this.getProps();if(!od(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:d}=s.layout.layoutBox[t];a.set(e[t]-at(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Jo(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mn(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const h=d.get();s[l]=mF({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mn(l=>{if(!od(l,e,null))return;const d=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];d.set(at(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;EF.set(this.visualElement,this);const e=this.visualElement.current,t=Kl(e,"pointerdown",h=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Jo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const l=du(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Mn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=h[y].translate,_.set(_.get()+h[y].translate))}),this.visualElement.render())});return()=>{l(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=xm,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function od(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function SF(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class AF extends is{constructor(e){super(e),this.removeGroupControls=An,this.removeListeners=An,this.controls=new IF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}unmount(){this.removeGroupControls(),this.removeListeners()}}const sT=n=>(e,t)=>{n&&et.postRender(()=>n(e,t))};class PF extends is{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(e){this.session=new KS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:sT(e),onStart:sT(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&et.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Kl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Td={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const xl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const t=oT(n,e.target.x),r=oT(n,e.target.y);return`${t}% ${r}%`}},CF={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Zi.parse(n);if(s.length>5)return r;const a=Zi.createTransformer(n),l=typeof s[0]!="number"?1:0,d=t.x.scale*e.x,h=t.y.scale*e.y;s[0+l]/=d,s[1+l]/=h;const p=at(d,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class RF extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;QO(xF),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||et.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$g.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nA(n){const[e,t]=U1(),r=O.useContext(Lg);return N.jsx(RF,{...n,layoutGroup:r,switchLayoutGroup:O.useContext(K1),isPresent:e,safeToRemove:t})}const xF={borderRadius:{...xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xl,borderTopRightRadius:xl,borderBottomLeftRadius:xl,borderBottomRightRadius:xl,boxShadow:CF};function kF(n,e,t){const r=Yt(n)?n:uu(n);return r.start(my("",r,e,t)),r.animation}function bF(n){return n instanceof SVGElement&&n.tagName!=="svg"}const DF=(n,e)=>n.depth-e.depth;class NF{constructor(){this.children=[],this.isDirty=!1}add(e){iy(this.children,e),this.isDirty=!0}remove(e){sy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DF),this.isDirty=!1,this.children.forEach(e)}}function VF(n,e){const t=Ar.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Ji(r),n(a-e))};return et.read(r,!0),()=>Ji(r)}const rA=["TopLeft","TopRight","BottomLeft","BottomRight"],LF=rA.length,aT=n=>typeof n=="string"?parseFloat(n):n,lT=n=>typeof n=="number"||Te.test(n);function OF(n,e,t,r,s,a){s?(n.opacity=at(0,t.opacity!==void 0?t.opacity:1,MF(r)),n.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,FF(r))):a&&(n.opacity=at(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<LF;l++){const d=`border${rA[l]}Radius`;let h=uT(e,d),p=uT(t,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||lT(h)===lT(p)?(n[d]=Math.max(at(aT(h),aT(p),r),0),(Sr.test(p)||Sr.test(h))&&(n[d]+="%")):n[d]=p}(e.rotate||t.rotate)&&(n.rotate=at(e.rotate||0,t.rotate||0,r))}function uT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const MF=iA(0,.5,ES),FF=iA(.5,.95,An);function iA(n,e,t){return r=>r<n?0:r>e?1:t(ya(n,e,r))}function cT(n,e){n.min=e.min,n.max=e.max}function On(n,e){cT(n.x,e.x),cT(n.y,e.y)}function dT(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function hT(n,e,t,r,s){return n-=e,n=Kd(n,1/t,r),s!==void 0&&(n=Kd(n,1/s,r)),n}function jF(n,e=0,t=1,r=.5,s,a=n,l=n){if(Sr.test(e)&&(e=parseFloat(e),e=at(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=at(a.min,a.max,r);n===a&&(d-=e),n.min=hT(n.min,e,t,d,s),n.max=hT(n.max,e,t,d,s)}function fT(n,e,[t,r,s],a,l){jF(n,e[t],e[r],e[s],e.scale,a,l)}const UF=["x","scaleX","originX"],BF=["y","scaleY","originY"];function pT(n,e,t,r){fT(n.x,e,UF,t?t.x:void 0,r?r.x:void 0),fT(n.y,e,BF,t?t.y:void 0,r?r.y:void 0)}function mT(n){return n.translate===0&&n.scale===1}function sA(n){return mT(n.x)&&mT(n.y)}function gT(n,e){return n.min===e.min&&n.max===e.max}function zF(n,e){return gT(n.x,e.x)&&gT(n.y,e.y)}function yT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function oA(n,e){return yT(n.x,e.x)&&yT(n.y,e.y)}function vT(n){return rn(n.x)/rn(n.y)}function _T(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class $F{constructor(){this.members=[]}add(e){iy(this.members,e),e.scheduleRender()}remove(e){if(sy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WF(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:T,skewX:I,skewY:P}=t;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),T&&(r+=`rotateY(${T}deg) `),I&&(r+=`skewX(${I}deg) `),P&&(r+=`skewY(${P}deg) `)}const d=n.x.scale*e.x,h=n.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const Os={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},jl=typeof window<"u"&&window.MotionDebug!==void 0,Lp=["","X","Y","Z"],HF={visibility:"hidden"},wT=1e3;let qF=0;function Op(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function aA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=mS(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",et,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&aA(r)}function lA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},d=e==null?void 0:e()){this.id=qF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,jl&&(Os.totalNodes=Os.resolvedTargetDeltas=Os.recalculatedProjection=0),this.nodes.forEach(QF),this.nodes.forEach(e3),this.nodes.forEach(t3),this.nodes.forEach(YF),jl&&window.MotionDebug.record(Os)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new NF)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new oy),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const h=this.eventHandlers.get(l);h&&h.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bF(l),this.instance=l;const{layoutId:h,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||h)&&(this.isLayoutDirty=!0),n){let _;const T=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=VF(T,250),Td.hasAnimatedSinceResize&&(Td.hasAnimatedSinceResize=!1,this.nodes.forEach(ET))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeLayoutChanged:I,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||y.getDefaultTransition()||o3,{onLayoutAnimationStart:k,onLayoutAnimationComplete:L}=y.getProps(),F=!this.targetLayout||!oA(this.targetLayout,P),B=!T&&I;if(this.options.layoutRoot||this.resumeFrom||B||T&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,B);const Q={...ey(D,"layout"),onPlay:k,onComplete:L};(y.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else T||ET(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TT);return}this.isUpdating||this.nodes.forEach(JF),this.isUpdating=!1,this.nodes.forEach(ZF),this.nodes.forEach(KF),this.nodes.forEach(GF),this.clearAllSnapshots();const d=Ar.now();Ft.delta=oi(0,1e3/60,d-Ft.timestamp),Ft.timestamp=d,Ft.isProcessing=!0,Cp.update.process(Ft),Cp.preRender.process(Ft),Cp.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$g.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XF),this.sharedNodes.forEach(r3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!sA(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;l&&(d||Ls(this.latestValues)||y)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return l&&(h=this.removeTransform(h)),a3(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:d}=this.options;if(!d)return ft();const h=d.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(l3))){const{scroll:y}=this.root;y&&(ta(h.x,y.offset.x),ta(h.y,y.offset.y))}return h}removeElementScroll(l){var d;const h=ft();if(On(h,l),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:T}=y;y!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&On(h,l),ta(h.x,_.offset.x),ta(h.y,_.offset.y))}return h}applyTransform(l,d=!1){const h=ft();On(h,l);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&na(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ls(y.latestValues)&&na(h,y.latestValues)}return Ls(this.latestValues)&&na(h,this.latestValues),h}removeTransform(l){const d=ft();On(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Ls(p.latestValues))continue;km(p.latestValues)&&p.updateSnapshot();const y=ft(),_=p.measurePageBox();On(y,_),pT(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ls(this.latestValues)&&pT(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:T}=this.options;if(!(!this.layout||!(_||T))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Ql(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),ZS(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Ql(this.relativeTargetOrigin,this.target,I.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}jl&&Os.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||km(this.parent.latestValues)||JS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(p=!1),p)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;On(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,I=this.treeScale.y;wF(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ft());const{target:P}=d;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dT(this.prevProjectionDelta.x,this.projectionDelta.x),dT(this.prevProjectionDelta.y,this.projectionDelta.y)),Gl(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==I||!_T(this.projectionDelta.x,this.prevProjectionDelta.x)||!_T(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P)),jl&&Os.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ea(),this.projectionDelta=ea(),this.projectionDeltaWithTransform=ea()}setAnimationOrigin(l,d=!1){const h=this.snapshot,p=h?h.latestValues:{},y={...this.latestValues},_=ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=ft(),I=h?h.source:void 0,P=this.layout?this.layout.source:void 0,D=I!==P,k=this.getStack(),L=!k||k.members.length<=1,F=!!(D&&!L&&this.options.crossfade===!0&&!this.path.some(s3));this.animationProgress=0;let B;this.mixTargetDelta=Q=>{const Y=Q/1e3;IT(_.x,l.x,Y),IT(_.y,l.y,Y),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ql(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),i3(this.relativeTarget,this.relativeTargetOrigin,T,Y),B&&zF(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=ft()),On(B,this.relativeTarget)),D&&(this.animationValues=y,OF(y,p,this.latestValues,Y,F,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Td.hasAnimatedSinceResize=!0,this.currentAnimation=kF(0,wT,{...l,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:y}=l;if(!(!d||!h||!p)){if(this!==l&&this.layout&&p&&uA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||ft();const _=rn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+_;const T=rn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+T}On(d,h),na(d,y),Gl(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $F),this.sharedNodes.get(l).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:d}=this.options;return d?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:d}=this.options;return d?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Op("z",l,p,this.animationValues);for(let y=0;y<Lp.length;y++)Op(`rotate${Lp[y]}`,l,p,this.animationValues),Op(`skew${Lp[y]}`,l,p,this.animationValues);l.render();for(const y in p)l.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);l.scheduleRender()}getProjectionStyles(l){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return HF;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=_d(l==null?void 0:l.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=_d(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(D.transform=y?y({},""):"none",this.hasProjected=!1),D}const T=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=WF(this.projectionDeltaWithTransform,this.treeScale,T),y&&(p.transform=y(T,p.transform));const{x:I,y:P}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${P.origin*100}% 0`,_.animationValues?p.opacity=_===this?(h=(d=T.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:p.opacity=_===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const D in lu){if(T[D]===void 0)continue;const{correct:k,applyTo:L,isCSSVariable:F}=lu[D],B=p.transform==="none"?T[D]:k(T[D],_);if(L){const Q=L.length;for(let Y=0;Y<Q;Y++)p[L[Y]]=B}else F?this.options.visualElement.renderState.vars[D]=B:p[D]=B}return this.options.layoutId&&(p.pointerEvents=_===this?_d(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(TT),this.root.sharedNodes.clear()}}}function KF(n){n.updateLayout()}function GF(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Mn(_=>{const T=l?t.measuredBox[_]:t.layoutBox[_],I=rn(T);T.min=r[_].min,T.max=T.min+I}):uA(a,t.layoutBox,r)&&Mn(_=>{const T=l?t.measuredBox[_]:t.layoutBox[_],I=rn(r[_]);T.max=T.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+I)});const d=ea();Gl(d,r,t.layoutBox);const h=ea();l?Gl(h,n.applyTransform(s,!0),t.measuredBox):Gl(h,r,t.layoutBox);const p=!sA(d);let y=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:I}=_;if(T&&I){const P=ft();Ql(P,t.layoutBox,T.layoutBox);const D=ft();Ql(D,r,I.layoutBox),oA(P,D)||(y=!0),_.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=P,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function QF(n){jl&&Os.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function YF(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function XF(n){n.clearSnapshot()}function TT(n){n.clearMeasurements()}function JF(n){n.isLayoutDirty=!1}function ZF(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function ET(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function e3(n){n.resolveTargetDelta()}function t3(n){n.calcProjection()}function n3(n){n.resetSkewAndRotation()}function r3(n){n.removeLeadSnapshot()}function IT(n,e,t){n.translate=at(e.translate,0,t),n.scale=at(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function ST(n,e,t,r){n.min=at(e.min,t.min,r),n.max=at(e.max,t.max,r)}function i3(n,e,t,r){ST(n.x,e.x,t.x,r),ST(n.y,e.y,t.y,r)}function s3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const o3={duration:.45,ease:[.4,0,.1,1]},AT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),PT=AT("applewebkit/")&&!AT("chrome/")?Math.round:An;function CT(n){n.min=PT(n.min),n.max=PT(n.max)}function a3(n){CT(n.x),CT(n.y)}function uA(n,e,t){return n==="position"||n==="preserve-aspect"&&!cF(vT(e),vT(t),.2)}function l3(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const u3=lA({attachResizeListener:(n,e)=>du(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mp={current:void 0},cA=lA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Mp.current){const n=new u3({});n.mount(window),n.setOptions({layoutScroll:!0}),Mp.current=n}return Mp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),c3={pan:{Feature:PF},drag:{Feature:AF,ProjectionNode:cA,MeasureLayout:nA}};function RT(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&et.postRender(()=>a(e,bu(e)))}class d3 extends is{mount(){const{current:e}=this.node;e&&(this.unmount=dM(e,(t,r)=>(RT(this.node,r,"Start"),s=>RT(this.node,s,"End"))))}unmount(){}}class h3 extends is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ku(du(this.node.current,"focus",()=>this.onFocus()),du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xT(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&et.postRender(()=>a(e,bu(e)))}class f3 extends is{mount(){const{current:e}=this.node;e&&(this.unmount=mM(e,(t,r)=>(xT(this.node,r,"Start"),(s,{success:a})=>xT(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dm=new WeakMap,Fp=new WeakMap,p3=n=>{const e=Dm.get(n.target);e&&e(n)},m3=n=>{n.forEach(p3)};function g3({root:n,...e}){const t=n||document;Fp.has(t)||Fp.set(t,{});const r=Fp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(m3,{root:n,...e})),r[s]}function y3(n,e,t){const r=g3(e);return Dm.set(n,t),r.observe(n),()=>{Dm.delete(n),r.unobserve(n)}}const v3={some:0,all:1};class _3 extends is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:v3[s]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=p?y:_;T&&T(h)};return y3(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(w3(e,t))&&this.startObserver()}unmount(){}}function w3({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const T3={inView:{Feature:_3},tap:{Feature:f3},focus:{Feature:h3},hover:{Feature:d3}},E3={layout:{ProjectionNode:cA,MeasureLayout:nA}},Nm={current:null},dA={current:!1};function I3(){if(dA.current=!0,!!Fg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nm.current=n.matches;n.addListener(e),e()}else Nm.current=!1}const S3=[...OS,Kt,Zi],A3=n=>S3.find(LS(n)),kT=new WeakMap;function P3(n,e,t){for(const r in e){const s=e[r],a=t[r];if(Yt(s))n.addValue(r,s);else if(Yt(a))n.addValue(r,uu(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(r);n.addValue(r,uu(l!==void 0?l:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const bT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C3{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=Ar.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,et.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:y}=l;this.onUpdate=y,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=kh(t),this.isVariantNode=H1(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const I in T){const P=T[I];h[I]!==void 0&&Yt(P)&&P.set(h[I],!1)}}mount(e){this.current=e,kT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),dA.current||I3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kT.delete(this.current),this.projection&&this.projection.unmount(),Ji(this.notifyUpdate),Ji(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Js.has(e),s=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in va){const t=va[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<bT.length;r++){const s=bT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=P3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=uu(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(NS(s)||SS(s))?s=parseFloat(s):!A3(s)&&Zi.test(t)&&(s=kS(e,t)),this.setBaseTarget(e,Yt(s)?s.get():s)),Yt(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=Hg(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Yt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new oy),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class hA extends C3{constructor(){super(...arguments),this.KeyframeResolver=MS}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function R3(n){return window.getComputedStyle(n)}class x3 extends hA{constructor(){super(...arguments),this.type="html",this.renderInstance=Z1}readValueFromInstance(e,t){if(Js.has(t)){const r=dy(t);return r&&r.default||0}else{const r=R3(e),s=(qg(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return eA(e,t)}build(e,t,r){Qg(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Zg(e,t,r)}}class k3 extends hA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Js.has(t)){const r=dy(t);return r&&r.default||0}return t=eS.has(t)?t:zg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return rS(e,t,r)}build(e,t,r){Yg(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){tS(e,t,r,s)}mount(e){this.isSVGTag=Jg(e.tagName),super.mount(e)}}const b3=(n,e)=>Wg(n)?new k3(e):new x3(e,{allowProjection:n!==O.Fragment}),D3=iM({...tF,...T3,...c3,...E3},b3),It=_O(D3);var fA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DT=ze.createContext&&ze.createContext(fA),N3=["attr","size","title"];function V3(n,e){if(n==null)return{};var t=L3(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function L3(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Gd(){return Gd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gd.apply(this,arguments)}function NT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Qd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(t),!0).forEach(function(r){O3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function O3(n,e,t){return e=M3(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M3(n){var e=F3(n,"string");return typeof e=="symbol"?e:e+""}function F3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pA(n){return n&&n.map((e,t)=>ze.createElement(e.tag,Qd({key:t},e.attr),pA(e.child)))}function ai(n){return e=>ze.createElement(j3,Gd({attr:Qd({},n.attr)},e),pA(n.child))}function j3(n){var e=t=>{var{attr:r,size:s,title:a}=n,l=V3(n,N3),d=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),ze.createElement("svg",Gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:Qd(Qd({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&ze.createElement("title",null,a),n.children)};return DT!==void 0?ze.createElement(DT.Consumer,null,t=>e(t)):e(fA)}function U3(n){return ai({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function B3(n){return ai({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function z3(n){return ai({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function $3(n){return ai({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function W3(n){return ai({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3V2"},child:[]},{tag:"path",attr:{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5"},child:[]},{tag:"path",attr:{d:"M2 14h12a2 2 0 0 1 0 4h-2"},child:[]},{tag:"path",attr:{d:"M4 10h16"},child:[]},{tag:"path",attr:{d:"M5 10a7 7 0 0 1 14 0"},child:[]},{tag:"path",attr:{d:"M5 14v6a1 1 0 0 1-1 1H2"},child:[]}]})(n)}function H3(n){return ai({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(n)}function q3(n){return ai({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{width:"3",height:"9",x:"7",y:"7"},child:[]},{tag:"rect",attr:{width:"3",height:"5",x:"14",y:"7"},child:[]}]})(n)}function K3(n){return ai({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Image_Off"},child:[{tag:"path",attr:{d:"M19.937,14.218l0,-8.654c0,-0.829 -0.672,-1.5 -1.5,-1.5l-10.628,-0c-0.276,-0 -0.5,-0.225 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l10.628,-0c1.38,-0 2.5,1.118 2.5,2.5l0,10.624c0,0.276 -0.224,0.5 -0.5,0.501c-0.276,-0 -0.5,-0.225 -0.5,-0.5l0,-0.556l-4.583,-4.584c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.162,0.162 2.37,2.37 3.876,3.876Zm-0.121,6.304c-0.395,0.262 -0.869,0.415 -1.379,0.415l-12.874,-0c-1.381,-0 -2.5,-1.119 -2.5,-2.5l0,-12.873c0,-0.51 0.153,-0.984 0.414,-1.38l-0.263,-0.263c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.088,0.088 0.176,0.176 0.263,0.263c0.245,0.245 16.095,16.094 16.339,16.338l0.263,0.263c0.455,0.456 -0.252,1.163 -0.707,0.707c-0.088,-0.087 -0.175,-0.175 -0.263,-0.263Zm-11.104,-11.103l-2.001,-2.001c-0.094,0.196 -0.146,0.415 -0.146,0.647c-0,0.829 0.672,1.5 1.5,1.5c0.232,-0 0.451,-0.052 0.647,-0.146Zm-2.733,-2.733l-1.77,-1.77c-0.093,0.196 -0.146,0.416 -0.146,0.648l0,10.717l1.926,-1.926c0.587,-0.586 1.536,-0.586 2.122,-0l0.555,0.554c0.195,0.196 0.511,0.196 0.706,0l2.415,-2.415l-2.343,-2.343c-0.395,0.262 -0.869,0.414 -1.379,0.414c-1.38,-0 -2.5,-1.119 -2.5,-2.5c-0,-0.509 0.152,-0.983 0.414,-1.379Zm-1.916,11.009l0,0.741c0,0.829 0.671,1.5 1.5,1.5l12.874,0c0.232,0 0.451,-0.052 0.647,-0.145c-0.165,-0.165 -3.264,-3.263 -6.59,-6.59l-2.414,2.415c-0.585,0.586 -1.537,0.586 -2.122,0l-0.554,-0.554c-0.195,-0.196 -0.512,-0.196 -0.708,0l-2.633,2.633Z"},child:[]}]}]})(n)}const G3="/new-mainlogo.svg",Q3="/cat_profile.svg",Y3=()=>{const n=pu(),e=sO(n),[t,r]=O.useState("dashboard"),[s,a]=O.useState(!1),[l,d]=O.useState([]),[h,p]=O.useState({name:"",price:0,quantity:0,image:null,_id:null,imageURL:""}),[y,_]=O.useState(!1),[T,I]=O.useState(!1),[P,D]=O.useState(null);if(O.useEffect(()=>{const R=nw(nd,"menu"),Ce=nV(R,je=>{const Ge=je.docs.map(ge=>({...ge.data(),_id:ge.id}));d(Ge)},je=>{console.error("Error fetching menu items:",je),be.error("Failed to fetch menu items.")});return()=>Ce()},[]),e)return N.jsx("div",{children:"Loading..."});const k=()=>{p({name:"",price:"",quantity:"",image:null,_id:null,imageURL:""}),_(!0)},L=R=>{p({name:R.name,price:R.price,quantity:R.quantity,image:null,_id:R._id,imageURL:R.imageURL}),_(!0)},F=()=>{_(!1),p({name:"",image:"",price:0,quantity:0})},B=R=>{r(R)},Q=()=>{a(!s)},Y=R=>{const{name:Ce,value:je}=R.target;p(Ge=>({...Ge,[Ce]:je}))},Z=async R=>{R.preventDefault();try{let Ce=null,je=null;if(h.image){const ne=new FormData;ne.append("file",h.image),ne.append("upload_preset","wildcats_express_menu"),ne.append("cloud_name","dxbkzby8x");const fe=await fetch("https://api.cloudinary.com/v1_1/dxbkzby8x/image/upload",{method:"POST",body:ne});if(!fe.ok)throw new Error("Cloudinary upload failed");const ae=await fe.json();Ce=ae.secure_url,je=ae.public_id}const Ge=nw(nd,"menu"),ge={name:h.name,price:parseFloat(h.price),quantity:Number(h.quantity),imageURL:Ce||h.imageURL,publicID:je||""};if(h._id){const ne=um(nd,"menu",h._id);await ZN(ne,ge),be.success("Menu item updated successfully.")}else await tV(Ge,ge),be.success("New menu item added successfully.");F()}catch(Ce){console.error("Error uploading menu item: ",Ce),be.error("Failed to add menu item.")}},x=R=>{D(R),I(!0)},S=R=>{const Ce=R.target.files[0];if(Ce){if(Ce.size>5*1024*1024){be.error("Image file is too large. Max size is 5MB.");return}p(je=>({...je,image:Ce}))}},C=async()=>{if(!P){console.error("No item selected for deletion.");return}try{const R=um(nd,"menu",P);await eV(R),d(Ce=>Ce.filter(je=>je._id!==P)),D(null),be.success("Menu item deleted successfully.",{autoClose:5e3})}catch(R){console.error("Error deleting menu item:",R),be.error("Failed to delete menu item. Please try again.",{autoClose:5e3})}finally{I(!1)}},V=()=>N.jsxs("div",{className:"add-menu-container",children:[N.jsx("button",{onClick:k,className:"add-menu-button",children:"Add New Menu"}),y&&N.jsx("div",{className:"modal-overlay-menu",children:N.jsxs("div",{className:"modal-menu",children:[N.jsx("h2",{children:h._id?"Edit Item":"Add New Item"}),N.jsxs("form",{onSubmit:Z,children:[N.jsx("input",{type:"text",name:"name",value:h.name,onChange:Y,placeholder:"Item Name",required:!0}),N.jsx("input",{type:"number",name:"price",value:h.price,onChange:Y,placeholder:"Price",min:"0",step:"0.01",required:!0}),N.jsx("input",{type:"number",name:"quantity",value:h.quantity,onChange:Y,placeholder:"Quantity",min:"0",step:"1",required:!0}),!h._id&&N.jsxs("div",{className:"file-input-container",children:[N.jsx("label",{htmlFor:"image",children:"Choose Image:"}),N.jsx("input",{className:"input-image",type:"file",id:"image",name:"image",onChange:S,accept:"image/*"})]}),h.image&&N.jsxs("div",{className:"image-preview",children:[N.jsx("img",{src:URL.createObjectURL(h.image),alt:"Preview",className:"image-preview-img"}),N.jsx("p",{children:h.image.name})]}),N.jsxs("div",{className:"modal-actions-menu",children:[N.jsx("button",{type:"submit",children:"Save"}),N.jsx("button",{type:"button",onClick:F,children:"Cancel"})]})]})]})})]}),j=()=>N.jsx(N.Fragment,{children:N.jsx("div",{className:"menu-items",children:l.map(R=>N.jsxs("div",{className:"menu-item",children:[N.jsx("div",{className:"menu-image-container",children:R.imageURL?N.jsx("img",{src:R.imageURL,alt:R.name,className:"menu-image"}):N.jsx("div",{className:"menu-image-placeholder",children:N.jsx(K3,{className:"no-image-icon"})})}),N.jsxs("div",{className:"menu-details",children:[N.jsx("div",{className:"menu-name",children:R.name}),N.jsxs("div",{className:"menu-price",children:["Php ",Number(R.price).toFixed(2)]}),N.jsxs("div",{className:"menu-quantity",children:["Quantity: ",R.quantity]})]}),N.jsxs("div",{className:"menu-actions",children:[N.jsx("button",{className:"action-link-edit",onClick:()=>L(R),children:"Edit"}),N.jsx("button",{className:"action-link-delete",onClick:()=>x(R._id),children:"Delete"}),T&&N.jsx("div",{className:"modal-overlay-delete",children:N.jsxs("div",{className:"modal-delete",children:[N.jsx("p",{children:"Are you sure you want to delete this menu item?"}),N.jsxs("div",{className:"modal-actions-delete",children:[N.jsx("button",{onClick:()=>C(),children:"Yes"}),N.jsx("button",{onClick:()=>{I(!1),D(null)},children:"No"})]})]})})]})]},R._id))})}),z=()=>N.jsxs("div",{className:"dashboard-container-admin",children:[N.jsxs("div",{className:"orders-wrapper",children:[N.jsxs("div",{className:"order-line-container",children:[N.jsx("h3",{children:"Order Line"}),N.jsx("br",{}),N.jsxs("div",{className:"order-cards",children:[N.jsxs("div",{className:"order-card",children:[N.jsxs("div",{className:"order-card-header",children:[N.jsx("div",{className:"school-id",children:"19-4566-878"}),N.jsx("div",{className:"order-id",children:"Order #1"})]}),N.jsxs("div",{className:"order-details",children:[N.jsx("p",{children:"James Bond"}),N.jsxs("div",{className:"order-status",children:[N.jsx("span",{children:N.jsx("p",{children:"In Progress"})}),N.jsx("div",{className:"progress-bar",children:N.jsx("div",{className:"progress",style:{width:"90%"}})}),N.jsx("span",{class:"progress-percentage",children:"90%"})]})]})]}),N.jsxs("div",{className:"order-card",children:[N.jsxs("div",{className:"order-card-header",children:[N.jsx("div",{className:"school-id",children:"20-3454-654"}),N.jsx("div",{className:"order-id",children:"Order #2"})]}),N.jsxs("div",{className:"order-details",children:[N.jsx("p",{children:"Steve Harvey"}),N.jsxs("div",{className:"order-status",children:[N.jsx("span",{children:N.jsx("p",{children:"In Progress"})}),N.jsx("div",{className:"progress-bar",children:N.jsx("div",{className:"progress",style:{width:"50%"}})}),N.jsx("span",{class:"progress-percentage",children:"50%"})]})]})]}),N.jsxs("div",{className:"order-card",children:[N.jsxs("div",{class:"order-card-header",children:[N.jsx("div",{class:"school-id",children:"19-4566-878"}),N.jsx("div",{class:"order-id",children:"Order #3"})]}),N.jsxs("div",{className:"order-details",children:[N.jsx("p",{children:"Clark Johnson"}),N.jsxs("div",{className:"order-status",children:[N.jsx("span",{children:N.jsx("p",{children:"In Progress"})}),N.jsx("div",{className:"progress-bar",children:N.jsx("div",{className:"progress",style:{width:"68%"}})}),N.jsx("span",{class:"progress-percentage",children:"68%"})]})]})]}),N.jsxs("div",{className:"order-card",children:[N.jsxs("div",{className:"order-card-header",children:[N.jsx("div",{className:"school-id",children:"22-4535-765"}),N.jsx("div",{className:"order-id",children:"Order #4"})]}),N.jsxs("div",{className:"order-details",children:[N.jsx("p",{children:"Steve Rogers"}),N.jsxs("div",{className:"order-status",children:[N.jsx("span",{children:N.jsx("p",{children:"In Progress"})}),N.jsx("div",{className:"progress-bar",children:N.jsx("div",{className:"progress",style:{width:"30%"}})}),N.jsx("span",{class:"progress-percentage",children:"30%"})]})]})]})]})]}),N.jsxs("div",{className:"current-order-container",children:[N.jsx("h3",{children:"Current Order"}),N.jsx("br",{}),N.jsxs("div",{class:"current-order-card",children:[N.jsx("h4",{children:"Recipient: Dave Miller"}),N.jsx("p",{children:"School ID:"}),N.jsx("p",{children:"#123456789"}),N.jsx("br",{}),N.jsxs("div",{class:"current-order-card-bottom",children:[N.jsx("span",{children:"Order#: 4"}),N.jsx("span",{children:"Items: 8"})]})]})]})]}),N.jsxs("div",{className:"popular-picks-container",children:[N.jsx("h2",{children:"Popular Picks"}),N.jsx("br",{}),N.jsxs("div",{className:"popular-picks",children:[N.jsx("div",{class:"pick",children:N.jsxs("div",{class:"pick-name-price",children:[N.jsx("span",{class:"pick-name",children:"Fried Chicken"}),N.jsx("span",{class:"pick-price",children:"50.00"})]})}),N.jsx("div",{class:"pick",children:N.jsxs("div",{class:"pick-name-price",children:[N.jsx("span",{class:"pick-name",children:"Bulalo"}),N.jsx("span",{class:"pick-price",children:"100.00"})]})}),N.jsx("div",{class:"pick",children:N.jsxs("div",{class:"pick-name-price",children:[N.jsx("span",{class:"pick-name",children:"Longganisa"}),N.jsx("span",{class:"pick-price",children:"80.00"})]})}),N.jsx("div",{class:"pick",children:N.jsxs("div",{class:"pick-name-price",children:[N.jsx("span",{class:"pick-name",children:"Rice"}),N.jsx("span",{class:"pick-price",children:"10.00"})]})})]})]})]});return N.jsxs(N.Fragment,{children:[N.jsxs(It.div,{className:"admin-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[N.jsxs("div",{className:"header",children:[N.jsxs("div",{className:"logo-container",children:[N.jsx("img",{src:G3,alt:"Wildcats Express Logo",className:"logo"}),N.jsx("h1",{children:"Wildcats Express"})]}),N.jsxs("div",{className:"profile-section",onClick:Q,children:[N.jsx("img",{src:Q3,alt:"Admin",className:"profile-photo"}),N.jsx("span",{className:"profile-name",children:"Admin"}),N.jsx(gm,{mode:"sync",children:s&&N.jsxs(It.div,{className:"dropdown-menu",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[N.jsxs("div",{className:"dropdown-item",onClick:()=>B("adminReports"),children:[N.jsx(B3,{})," Admin Reports"]}),N.jsxs("div",{className:"dropdown-item",onClick:()=>B("analytics"),children:[N.jsx(U3,{})," Analytics"]}),N.jsxs("div",{className:"dropdown-item",onClick:()=>B("settings"),children:[N.jsx(z3,{})," Settings"]}),N.jsxs("div",{className:"dropdown-item",onClick:()=>oO(n),children:[N.jsx($3,{})," Sign Out"]})]})})]})]}),N.jsx("div",{className:"sidebar",children:N.jsxs("nav",{children:[N.jsx(It.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>B("dashboard"),className:t==="dashboard"?"active":"",children:N.jsx(q3,{className:"dashboard-icon"})}),N.jsx(It.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>B("addMenu"),className:t==="addMenu"?"active":"",children:N.jsx(H3,{className:"addmenu-icon"})}),N.jsx(It.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>B("orders"),className:t==="orders"?"active":"",children:N.jsx(W3,{className:"orders-icon"})})]})}),N.jsx("div",{className:"main-content-admin",children:N.jsx(gm,{mode:"wait",children:N.jsxs(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[t==="dashboard"&&N.jsxs(It.div,{className:"dashboard",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[N.jsx("h3",{children:"Welcome, Admin!"}),N.jsx("br",{}),N.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),N.jsx("div",{children:z()})]}),t==="addMenu"&&N.jsxs(It.div,{className:"add-menu",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[N.jsx("h3",{children:"Welcome, Admin!"}),N.jsx("br",{}),N.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),N.jsx("br",{}),N.jsx("div",{children:V()}),N.jsx("br",{}),N.jsx("div",{children:j()})]}),t==="orders"&&N.jsx(It.div,{className:"orders",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:N.jsx("h2",{children:"Orders"})}),t==="adminReports"&&N.jsx(It.div,{className:"admin-reports",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:N.jsx("h2",{children:"Admin Reports"})}),t==="analytics"&&N.jsx(It.div,{className:"analytics",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:N.jsx("h2",{children:"Analytics"})}),t==="settings"&&N.jsx(It.div,{className:"settings",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:N.jsx("h2",{children:"Settings"})})]},t)})})]}),N.jsx(O1,{position:"top-center",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})},X3=()=>(pu(),N.jsx(N.Fragment,{children:N.jsx("div",{className:"pos-page",children:N.jsx("h1",{children:"THIS IS POS CLIENT PAGE!"})})})),J3=()=>{const{name:n,profilePhoto:e,userID:t,isAuth:r}=JSON.parse(localStorage.getItem("auth"))||{};return{name:n,profilePhoto:e,userID:t,isAuth:r}},Z3="/assets/thinking-cat-Def_mMOd.svg";function ej(n){return ai({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M7.987 8.5l6.146 6.146-0.707 0.707-6.853-6.853 6.854-6.854 0.707 0.707-6.147 6.147zM9.29 2.353l-0.707-0.707-6.854 6.854 6.854 6.854 0.707-0.707-6.146-6.147 6.146-6.147z"},child:[]}]})(n)}const tj=()=>{const n=pu(),e=aO(n),{isAuth:t}=J3(),[r,s]=O.useState(""),[a,l]=O.useState(""),[d,h]=O.useState(!1);if(e)return N.jsx("div",{children:"Loading..."});const p={exit:{scale:.95,opacity:0,rotate:[0,-5],y:-50,transition:{duration:.4,ease:"easeInOut"}}},y=async T=>{T.preventDefault(),be.dismiss();try{await j1.login(r,a),h(!0),be.success("Login successful!"),setTimeout(()=>{n("/admin-page")},5e3)}catch(I){console.error("Login failed: ",I.message),be.error(`${I.message}`)}};if(t)return N.jsx(mC,{to:"/admin-page"});const _=()=>{n("/")};return N.jsxs(N.Fragment,{children:[N.jsx(gm,{children:!d&&N.jsx(It.div,{className:"login-page",initial:{opacity:1},animate:{opacity:1},exit:p.exit,variants:p,children:N.jsxs("div",{className:"login-container",children:[N.jsx(It.div,{className:"back-button",whileHover:{scale:1.1},whileTap:{scale:.9},children:N.jsx("button",{type:"button",className:"button",onClick:_,children:N.jsx(ej,{className:"button-icon"})})}),N.jsx(It.div,{className:"mascot-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:N.jsx("img",{src:Z3,alt:"Mascot",className:"mascot-image"})}),N.jsxs(It.div,{className:"form-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[N.jsxs("div",{className:"wildcats-title",children:[N.jsx("h2",{className:"wildcats",children:"Wildcats "}),N.jsx("h2",{className:"express",children:"Express"})]}),N.jsx("h3",{children:"Admin"}),N.jsxs("form",{onSubmit:y,children:[N.jsx(It.input,{type:"text",placeholder:"Username",value:r,required:!0,onChange:T=>s(T.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4}}),N.jsx(It.input,{type:"password",placeholder:"Password",value:a,required:!0,onChange:T=>l(T.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5}}),N.jsx(It.button,{type:"submit",className:"login-button",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:"Login"})]})]})]})},"login-page")}),N.jsx(O1,{position:"top-left",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})};function nj(){return N.jsx(N.Fragment,{children:N.jsx("div",{className:"App",children:N.jsx(BC,{children:N.jsxs(yC,{children:[N.jsx(kl,{path:"/",element:N.jsx(JC,{})}),N.jsx(kl,{path:"/login-page",element:N.jsx(tj,{})}),N.jsx(kl,{path:"/admin-page",element:N.jsx(Y3,{})}),N.jsx(kl,{path:"/pos-page",element:N.jsx(X3,{})})]})})})})}PP.createRoot(document.getElementById("root")).render(N.jsx(O.StrictMode,{children:N.jsx(nj,{})}));
