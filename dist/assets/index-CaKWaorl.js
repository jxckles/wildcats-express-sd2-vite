(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var pB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var u0={exports:{}},If={},c0={exports:{}},un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5;function xE(){if(r5)return un;r5=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(oe){return oe===null||typeof oe!="object"?null:(oe=y&&oe[y]||oe["@@iterator"],typeof oe=="function"?oe:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function k(oe,M,X){this.props=oe,this.context=M,this.refs=C,this.updater=X||w}k.prototype.isReactComponent={},k.prototype.setState=function(oe,M){if(typeof oe!="object"&&typeof oe!="function"&&oe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,oe,M,"setState")},k.prototype.forceUpdate=function(oe){this.updater.enqueueForceUpdate(this,oe,"forceUpdate")};function I(){}I.prototype=k.prototype;function j(oe,M,X){this.props=oe,this.context=M,this.refs=C,this.updater=X||w}var q=j.prototype=new I;q.constructor=j,E(q,k.prototype),q.isPureReactComponent=!0;var ee=Array.isArray,ie=Object.prototype.hasOwnProperty,de={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function N(oe,M,X){var Z,se={},ce=null,_e=null;if(M!=null)for(Z in M.ref!==void 0&&(_e=M.ref),M.key!==void 0&&(ce=""+M.key),M)ie.call(M,Z)&&!z.hasOwnProperty(Z)&&(se[Z]=M[Z]);var Ae=arguments.length-2;if(Ae===1)se.children=X;else if(1<Ae){for(var Ee=Array(Ae),Ke=0;Ke<Ae;Ke++)Ee[Ke]=arguments[Ke+2];se.children=Ee}if(oe&&oe.defaultProps)for(Z in Ae=oe.defaultProps,Ae)se[Z]===void 0&&(se[Z]=Ae[Z]);return{$$typeof:n,type:oe,key:ce,ref:_e,props:se,_owner:de.current}}function U(oe,M){return{$$typeof:n,type:oe.type,key:M,ref:oe.ref,props:oe.props,_owner:oe._owner}}function G(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===n}function R(oe){var M={"=":"=0",":":"=2"};return"$"+oe.replace(/[=:]/g,function(X){return M[X]})}var O=/\/+/g;function F(oe,M){return typeof oe=="object"&&oe!==null&&oe.key!=null?R(""+oe.key):M.toString(36)}function ue(oe,M,X,Z,se){var ce=typeof oe;(ce==="undefined"||ce==="boolean")&&(oe=null);var _e=!1;if(oe===null)_e=!0;else switch(ce){case"string":case"number":_e=!0;break;case"object":switch(oe.$$typeof){case n:case e:_e=!0}}if(_e)return _e=oe,se=se(_e),oe=Z===""?"."+F(_e,0):Z,ee(se)?(X="",oe!=null&&(X=oe.replace(O,"$&/")+"/"),ue(se,M,X,"",function(Ke){return Ke})):se!=null&&(G(se)&&(se=U(se,X+(!se.key||_e&&_e.key===se.key?"":(""+se.key).replace(O,"$&/")+"/")+oe)),M.push(se)),1;if(_e=0,Z=Z===""?".":Z+":",ee(oe))for(var Ae=0;Ae<oe.length;Ae++){ce=oe[Ae];var Ee=Z+F(ce,Ae);_e+=ue(ce,M,X,Ee,se)}else if(Ee=_(oe),typeof Ee=="function")for(oe=Ee.call(oe),Ae=0;!(ce=oe.next()).done;)ce=ce.value,Ee=Z+F(ce,Ae++),_e+=ue(ce,M,X,Ee,se);else if(ce==="object")throw M=String(oe),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(oe).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return _e}function Le(oe,M,X){if(oe==null)return oe;var Z=[],se=0;return ue(oe,Z,"","",function(ce){return M.call(X,ce,se++)}),Z}function Ce(oe){if(oe._status===-1){var M=oe._result;M=M(),M.then(function(X){(oe._status===0||oe._status===-1)&&(oe._status=1,oe._result=X)},function(X){(oe._status===0||oe._status===-1)&&(oe._status=2,oe._result=X)}),oe._status===-1&&(oe._status=0,oe._result=M)}if(oe._status===1)return oe._result.default;throw oe._result}var xe={current:null},ne={transition:null},we={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:de};function ge(){throw Error("act(...) is not supported in production builds of React.")}return un.Children={map:Le,forEach:function(oe,M,X){Le(oe,function(){M.apply(this,arguments)},X)},count:function(oe){var M=0;return Le(oe,function(){M++}),M},toArray:function(oe){return Le(oe,function(M){return M})||[]},only:function(oe){if(!G(oe))throw Error("React.Children.only expected to receive a single React element child.");return oe}},un.Component=k,un.Fragment=t,un.Profiler=i,un.PureComponent=j,un.StrictMode=r,un.Suspense=c,un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,un.act=ge,un.cloneElement=function(oe,M,X){if(oe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+oe+".");var Z=E({},oe.props),se=oe.key,ce=oe.ref,_e=oe._owner;if(M!=null){if(M.ref!==void 0&&(ce=M.ref,_e=de.current),M.key!==void 0&&(se=""+M.key),oe.type&&oe.type.defaultProps)var Ae=oe.type.defaultProps;for(Ee in M)ie.call(M,Ee)&&!z.hasOwnProperty(Ee)&&(Z[Ee]=M[Ee]===void 0&&Ae!==void 0?Ae[Ee]:M[Ee])}var Ee=arguments.length-2;if(Ee===1)Z.children=X;else if(1<Ee){Ae=Array(Ee);for(var Ke=0;Ke<Ee;Ke++)Ae[Ke]=arguments[Ke+2];Z.children=Ae}return{$$typeof:n,type:oe.type,key:se,ref:ce,props:Z,_owner:_e}},un.createContext=function(oe){return oe={$$typeof:a,_currentValue:oe,_currentValue2:oe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},oe.Provider={$$typeof:s,_context:oe},oe.Consumer=oe},un.createElement=N,un.createFactory=function(oe){var M=N.bind(null,oe);return M.type=oe,M},un.createRef=function(){return{current:null}},un.forwardRef=function(oe){return{$$typeof:u,render:oe}},un.isValidElement=G,un.lazy=function(oe){return{$$typeof:m,_payload:{_status:-1,_result:oe},_init:Ce}},un.memo=function(oe,M){return{$$typeof:h,type:oe,compare:M===void 0?null:M}},un.startTransition=function(oe){var M=ne.transition;ne.transition={};try{oe()}finally{ne.transition=M}},un.unstable_act=ge,un.useCallback=function(oe,M){return xe.current.useCallback(oe,M)},un.useContext=function(oe){return xe.current.useContext(oe)},un.useDebugValue=function(){},un.useDeferredValue=function(oe){return xe.current.useDeferredValue(oe)},un.useEffect=function(oe,M){return xe.current.useEffect(oe,M)},un.useId=function(){return xe.current.useId()},un.useImperativeHandle=function(oe,M,X){return xe.current.useImperativeHandle(oe,M,X)},un.useInsertionEffect=function(oe,M){return xe.current.useInsertionEffect(oe,M)},un.useLayoutEffect=function(oe,M){return xe.current.useLayoutEffect(oe,M)},un.useMemo=function(oe,M){return xe.current.useMemo(oe,M)},un.useReducer=function(oe,M,X){return xe.current.useReducer(oe,M,X)},un.useRef=function(oe){return xe.current.useRef(oe)},un.useState=function(oe){return xe.current.useState(oe)},un.useSyncExternalStore=function(oe,M,X){return xe.current.useSyncExternalStore(oe,M,X)},un.useTransition=function(){return xe.current.useTransition()},un.version="18.3.1",un}var i5;function yy(){return i5||(i5=1,c0.exports=xE()),c0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s5;function TE(){if(s5)return If;s5=1;var n=yy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,h){var m,y={},_=null,w=null;h!==void 0&&(_=""+h),c.key!==void 0&&(_=""+c.key),c.ref!==void 0&&(w=c.ref);for(m in c)r.call(c,m)&&!s.hasOwnProperty(m)&&(y[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)y[m]===void 0&&(y[m]=c[m]);return{$$typeof:e,type:u,key:_,ref:w,props:y,_owner:i.current}}return If.Fragment=t,If.jsx=a,If.jsxs=a,If}var o5;function AE(){return o5||(o5=1,u0.exports=TE()),u0.exports}var D=AE(),re=yy();const En=SE(re);var bp={},h0={exports:{}},Ns={},f0={exports:{}},d0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5;function EE(){return a5||(a5=1,function(n){function e(ne,we){var ge=ne.length;ne.push(we);e:for(;0<ge;){var oe=ge-1>>>1,M=ne[oe];if(0<i(M,we))ne[oe]=we,ne[ge]=M,ge=oe;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var we=ne[0],ge=ne.pop();if(ge!==we){ne[0]=ge;e:for(var oe=0,M=ne.length,X=M>>>1;oe<X;){var Z=2*(oe+1)-1,se=ne[Z],ce=Z+1,_e=ne[ce];if(0>i(se,ge))ce<M&&0>i(_e,se)?(ne[oe]=_e,ne[ce]=ge,oe=ce):(ne[oe]=se,ne[Z]=ge,oe=Z);else if(ce<M&&0>i(_e,ge))ne[oe]=_e,ne[ce]=ge,oe=ce;else break e}}return we}function i(ne,we){var ge=ne.sortIndex-we.sortIndex;return ge!==0?ge:ne.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],h=[],m=1,y=null,_=3,w=!1,E=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ne){for(var we=t(h);we!==null;){if(we.callback===null)r(h);else if(we.startTime<=ne)r(h),we.sortIndex=we.expirationTime,e(c,we);else break;we=t(h)}}function ee(ne){if(C=!1,q(ne),!E)if(t(c)!==null)E=!0,Ce(ie);else{var we=t(h);we!==null&&xe(ee,we.startTime-ne)}}function ie(ne,we){E=!1,C&&(C=!1,I(N),N=-1),w=!0;var ge=_;try{for(q(we),y=t(c);y!==null&&(!(y.expirationTime>we)||ne&&!R());){var oe=y.callback;if(typeof oe=="function"){y.callback=null,_=y.priorityLevel;var M=oe(y.expirationTime<=we);we=n.unstable_now(),typeof M=="function"?y.callback=M:y===t(c)&&r(c),q(we)}else r(c);y=t(c)}if(y!==null)var X=!0;else{var Z=t(h);Z!==null&&xe(ee,Z.startTime-we),X=!1}return X}finally{y=null,_=ge,w=!1}}var de=!1,z=null,N=-1,U=5,G=-1;function R(){return!(n.unstable_now()-G<U)}function O(){if(z!==null){var ne=n.unstable_now();G=ne;var we=!0;try{we=z(!0,ne)}finally{we?F():(de=!1,z=null)}}else de=!1}var F;if(typeof j=="function")F=function(){j(O)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Le=ue.port2;ue.port1.onmessage=O,F=function(){Le.postMessage(null)}}else F=function(){k(O,0)};function Ce(ne){z=ne,de||(de=!0,F())}function xe(ne,we){N=k(function(){ne(n.unstable_now())},we)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){E||w||(E=!0,Ce(ie))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(ne){switch(_){case 1:case 2:case 3:var we=3;break;default:we=_}var ge=_;_=we;try{return ne()}finally{_=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,we){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=_;_=ne;try{return we()}finally{_=ge}},n.unstable_scheduleCallback=function(ne,we,ge){var oe=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?oe+ge:oe):ge=oe,ne){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,ne={id:m++,callback:we,priorityLevel:ne,startTime:ge,expirationTime:M,sortIndex:-1},ge>oe?(ne.sortIndex=ge,e(h,ne),t(c)===null&&ne===t(h)&&(C?(I(N),N=-1):C=!0,xe(ee,ge-oe))):(ne.sortIndex=M,e(c,ne),E||w||(E=!0,Ce(ie))),ne},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ne){var we=_;return function(){var ge=_;_=we;try{return ne.apply(this,arguments)}finally{_=ge}}}}(d0)),d0}var l5;function IE(){return l5||(l5=1,f0.exports=EE()),f0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5;function PE(){if(u5)return Ns;u5=1;var n=yy(),e=IE();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(o){return c.call(y,o)?!0:c.call(m,o)?!1:h.test(o)?y[o]=!0:(m[o]=!0,!1)}function w(o,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function E(o,l,f,g){if(l===null||typeof l>"u"||w(o,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function C(o,l,f,g,S,A,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=S,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=A,this.removeEmptyString=$}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];k[l]=new C(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function j(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(I,j);k[l]=new C(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(I,j);k[l]=new C(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(I,j);k[l]=new C(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function q(o,l,f,g){var S=k.hasOwnProperty(l)?k[l]:null;(S!==null?S.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,f,S,g)&&(f=null),g||S===null?_(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):S.mustUseProperty?o[S.propertyName]=f===null?S.type===3?!1:"":f:(l=S.attributeName,g=S.attributeNamespace,f===null?o.removeAttribute(l):(S=S.type,f=S===3||S===4&&f===!0?"":""+f,g?o.setAttributeNS(g,l,f):o.setAttribute(l,f))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),de=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function we(o){return o===null||typeof o!="object"?null:(o=ne&&o[ne]||o["@@iterator"],typeof o=="function"?o:null)}var ge=Object.assign,oe;function M(o){if(oe===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);oe=l&&l[1]||""}return`
`+oe+o}var X=!1;function Z(o,l){if(!o||X)return"";X=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Oe){var g=Oe}Reflect.construct(o,[],l)}else{try{l.call()}catch(Oe){g=Oe}o.call(l.prototype)}else{try{throw Error()}catch(Oe){g=Oe}o()}}catch(Oe){if(Oe&&g&&typeof Oe.stack=="string"){for(var S=Oe.stack.split(`
`),A=g.stack.split(`
`),$=S.length-1,ae=A.length-1;1<=$&&0<=ae&&S[$]!==A[ae];)ae--;for(;1<=$&&0<=ae;$--,ae--)if(S[$]!==A[ae]){if($!==1||ae!==1)do if($--,ae--,0>ae||S[$]!==A[ae]){var pe=`
`+S[$].replace(" at new "," at ");return o.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",o.displayName)),pe}while(1<=$&&0<=ae);break}}}finally{X=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?M(o):""}function se(o){switch(o.tag){case 5:return M(o.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return o=Z(o.type,!1),o;case 11:return o=Z(o.type.render,!1),o;case 1:return o=Z(o.type,!0),o;default:return""}}function ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case z:return"Fragment";case de:return"Portal";case U:return"Profiler";case N:return"StrictMode";case F:return"Suspense";case ue:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case R:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case O:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Le:return l=o.displayName||null,l!==null?l:ce(o.type)||"Memo";case Ce:l=o._payload,o=o._init;try{return ce(o(l))}catch{}}return null}function _e(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(l);case 8:return l===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ae(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ee(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ke(o){var l=Ee(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,A=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return S.call(this)},set:function($){g=""+$,A.call(this,$)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ye(o){o._valueTracker||(o._valueTracker=Ke(o))}function ut(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return o&&(g=Ee(o)?o.checked?"true":"false":o.value),o=g,o!==f?(l.setValue(o),!0):!1}function st(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ct(o,l){var f=l.checked;return ge({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function je(o,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=Ae(l.value!=null?l.value:f),o._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function le(o,l){l=l.checked,l!=null&&q(o,"checked",l,!1)}function Mt(o,l){le(o,l);var f=Ae(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Je(o,l.type,f):l.hasOwnProperty("defaultValue")&&Je(o,l.type,Ae(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function gt(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Je(o,l,f){(l!=="number"||st(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var nt=Array.isArray;function lt(o,l,f,g){if(o=o.options,l){l={};for(var S=0;S<f.length;S++)l["$"+f[S]]=!0;for(f=0;f<o.length;f++)S=l.hasOwnProperty("$"+o[f].value),o[f].selected!==S&&(o[f].selected=S),S&&g&&(o[f].defaultSelected=!0)}else{for(f=""+Ae(f),l=null,S=0;S<o.length;S++){if(o[S].value===f){o[S].selected=!0,g&&(o[S].defaultSelected=!0);return}l!==null||o[S].disabled||(l=o[S])}l!==null&&(l.selected=!0)}}function ct(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ge({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function St(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(t(92));if(nt(f)){if(1<f.length)throw Error(t(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:Ae(f)}}function Ot(o,l){var f=Ae(l.value),g=Ae(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),g!=null&&(o.defaultValue=""+g)}function De(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function qe(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qe(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?qe(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mt,pt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,S){MSApp.execUnsafeLocalFunction(function(){return o(l,f,g,S)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=mt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function kt(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var at={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$n=["Webkit","ms","Moz","O"];Object.keys(at).forEach(function(o){$n.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),at[l]=at[o]})});function rn(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||at.hasOwnProperty(o)&&at[o]?(""+l).trim():l+"px"}function Mr(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,S=rn(f,l[f],g);f==="float"&&(f="cssFloat"),g?o.setProperty(f,S):o[f]=S}}var dn=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ve(o,l){if(l){if(dn[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function it(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $e=null;function Pt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var wt=null,Ut=null,vn=null;function sn(o){if(o=lu(o)){if(typeof wt!="function")throw Error(t(280));var l=o.stateNode;l&&(l=hc(l),wt(o.stateNode,o.type,l))}}function xt(o){Ut?vn?vn.push(o):vn=[o]:Ut=o}function Zt(){if(Ut){var o=Ut,l=vn;if(vn=Ut=null,sn(o),l)for(o=0;o<l.length;o++)sn(l[o])}}function xr(o,l){return o(l)}function Vn(){}var Kn=!1;function Yr(o,l,f){if(Kn)return o(l,f);Kn=!0;try{return xr(o,l,f)}finally{Kn=!1,(Ut!==null||vn!==null)&&(Vn(),Zt())}}function vt(o,l){var f=o.stateNode;if(f===null)return null;var g=hc(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(t(231,l,typeof f));return f}var Qr=!1;if(u)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Qr=!1}function pr(o,l,f,g,S,A,$,ae,pe){var Oe=Array.prototype.slice.call(arguments,3);try{l.apply(f,Oe)}catch(tt){this.onError(tt)}}var Bn=!1,Un=null,Yn=!1,ro=null,Ms={onError:function(o){Bn=!0,Un=o}};function Xr(o,l,f,g,S,A,$,ae,pe){Bn=!1,Un=null,pr.apply(Ms,arguments)}function Ii(o,l,f,g,S,A,$,ae,pe){if(Xr.apply(this,arguments),Bn){if(Bn){var Oe=Un;Bn=!1,Un=null}else throw Error(t(198));Yn||(Yn=!0,ro=Oe)}}function ar(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function Jr(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function nr(o){if(ar(o)!==o)throw Error(t(188))}function Xi(o){var l=o.alternate;if(!l){if(l=ar(o),l===null)throw Error(t(188));return l!==o?null:o}for(var f=o,g=l;;){var S=f.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){f=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===f)return nr(S),o;if(A===g)return nr(S),l;A=A.sibling}throw Error(t(188))}if(f.return!==g.return)f=S,g=A;else{for(var $=!1,ae=S.child;ae;){if(ae===f){$=!0,f=S,g=A;break}if(ae===g){$=!0,g=S,f=A;break}ae=ae.sibling}if(!$){for(ae=A.child;ae;){if(ae===f){$=!0,f=A,g=S;break}if(ae===g){$=!0,g=A,f=S;break}ae=ae.sibling}if(!$)throw Error(t(189))}}if(f.alternate!==g)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?o:l}function js(o){return o=Xi(o),o!==null?Fs(o):null}function Fs(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Fs(o);if(l!==null)return l;o=o.sibling}return null}var Vs=e.unstable_scheduleCallback,io=e.unstable_cancelCallback,Do=e.unstable_shouldYield,Ul=e.unstable_requestPaint,Ln=e.unstable_now,zl=e.unstable_getCurrentPriorityLevel,ds=e.unstable_ImmediatePriority,Bs=e.unstable_UserBlockingPriority,Pi=e.unstable_NormalPriority,Oo=e.unstable_LowPriority,ql=e.unstable_IdlePriority,so=null,hi=null;function Mo(o){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(so,o,void 0,(o.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:Za,zn=Math.log,Ja=Math.LN2;function Za(o){return o>>>=0,o===0?32:31-(zn(o)/Ja|0)|0}var jo=64,oo=4194304;function ao(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Fr(o,l){var f=o.pendingLanes;if(f===0)return 0;var g=0,S=o.suspendedLanes,A=o.pingedLanes,$=f&268435455;if($!==0){var ae=$&~S;ae!==0?g=ao(ae):(A&=$,A!==0&&(g=ao(A)))}else $=f&~S,$!==0?g=ao($):A!==0&&(g=ao(A));if(g===0)return 0;if(l!==0&&l!==g&&(l&S)===0&&(S=g&-g,A=l&-l,S>=A||S===16&&(A&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)f=31-jr(l),S=1<<f,g|=o[f],l&=~S;return g}function va(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(o,l){for(var f=o.suspendedLanes,g=o.pingedLanes,S=o.expirationTimes,A=o.pendingLanes;0<A;){var $=31-jr(A),ae=1<<$,pe=S[$];pe===-1?((ae&f)===0||(ae&g)!==0)&&(S[$]=va(ae,l)):pe<=l&&(o.expiredLanes|=ae),A&=~ae}}function Vr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function lo(){var o=jo;return jo<<=1,(jo&4194240)===0&&(jo=64),o}function uo(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Us(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-jr(l),o[l]=f}function In(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<f;){var S=31-jr(f),A=1<<S;l[S]=0,g[S]=-1,o[S]=-1,f&=~A}}function zs(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var g=31-jr(f),S=1<<g;S&l|o[g]&l&&(o[g]|=l),f&=~S}}var on=0;function ps(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Hl,wa,$l,ms,Fo,co=!1,Ji=[],pn=null,Zi=null,Ci=null,jt=new Map,Ni=new Map,gs=[],ys="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function el(o,l){switch(o){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":jt.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(l.pointerId)}}function Br(o,l,f,g,S,A){return o===null||o.nativeEvent!==A?(o={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},l!==null&&(l=lu(l),l!==null&&wa(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),o)}function _a(o,l,f,g,S){switch(l){case"focusin":return pn=Br(pn,o,l,f,g,S),!0;case"dragenter":return Zi=Br(Zi,o,l,f,g,S),!0;case"mouseover":return Ci=Br(Ci,o,l,f,g,S),!0;case"pointerover":var A=S.pointerId;return jt.set(A,Br(jt.get(A)||null,o,l,f,g,S)),!0;case"gotpointercapture":return A=S.pointerId,Ni.set(A,Br(Ni.get(A)||null,o,l,f,g,S)),!0}return!1}function ba(o){var l=Na(o.target);if(l!==null){var f=ar(l);if(f!==null){if(l=f.tag,l===13){if(l=Jr(f),l!==null){o.blockedOn=l,Fo(o.priority,function(){$l(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function qs(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Bo(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);$e=g,f.target.dispatchEvent(g),$e=null}else return l=lu(f),l!==null&&wa(l),o.blockedOn=f,!1;l.shift()}return!0}function Vo(o,l,f){qs(o)&&f.delete(l)}function Wl(){co=!1,pn!==null&&qs(pn)&&(pn=null),Zi!==null&&qs(Zi)&&(Zi=null),Ci!==null&&qs(Ci)&&(Ci=null),jt.forEach(Vo),Ni.forEach(Vo)}function fi(o,l){o.blockedOn===l&&(o.blockedOn=null,co||(co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wl)))}function Ur(o){function l(S){return fi(S,o)}if(0<Ji.length){fi(Ji[0],o);for(var f=1;f<Ji.length;f++){var g=Ji[f];g.blockedOn===o&&(g.blockedOn=null)}}for(pn!==null&&fi(pn,o),Zi!==null&&fi(Zi,o),Ci!==null&&fi(Ci,o),jt.forEach(l),Ni.forEach(l),f=0;f<gs.length;f++)g=gs[f],g.blockedOn===o&&(g.blockedOn=null);for(;0<gs.length&&(f=gs[0],f.blockedOn===null);)ba(f),f.blockedOn===null&&gs.shift()}var Zr=ee.ReactCurrentBatchConfig,ho=!0;function bn(o,l,f,g){var S=on,A=Zr.transition;Zr.transition=null;try{on=1,fo(o,l,f,g)}finally{on=S,Zr.transition=A}}function tl(o,l,f,g){var S=on,A=Zr.transition;Zr.transition=null;try{on=4,fo(o,l,f,g)}finally{on=S,Zr.transition=A}}function fo(o,l,f,g){if(ho){var S=Bo(o,l,f,g);if(S===null)lc(o,l,g,po,f),el(o,g);else if(_a(S,o,l,f,g))g.stopPropagation();else if(el(o,g),l&4&&-1<ys.indexOf(o)){for(;S!==null;){var A=lu(S);if(A!==null&&Hl(A),A=Bo(o,l,f,g),A===null&&lc(o,l,g,po,f),A===S)break;S=A}S!==null&&g.stopPropagation()}else lc(o,l,g,null,f)}}var po=null;function Bo(o,l,f,g){if(po=null,o=Pt(g),o=Na(o),o!==null)if(l=ar(o),l===null)o=null;else if(f=l.tag,f===13){if(o=Jr(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return po=o,null}function Sa(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zl()){case ds:return 1;case Bs:return 4;case Pi:case Oo:return 16;case ql:return 536870912;default:return 16}default:return 16}}var ei=null,di=null,ir=null;function nl(){if(ir)return ir;var o,l=di,f=l.length,g,S="value"in ei?ei.value:ei.textContent,A=S.length;for(o=0;o<f&&l[o]===S[o];o++);var $=f-o;for(g=1;g<=$&&l[f-g]===S[A-g];g++);return ir=S.slice(o,1<g?1-g:void 0)}function es(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function mr(){return!0}function Uo(){return!1}function Qn(o){function l(f,g,S,A,$){this._reactName=f,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=$,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(f=o[ae],this[ae]=f?f(A):A[ae]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?mr:Uo,this.isPropagationStopped=Uo,this}return ge(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),l}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Qn(ts),vs=ge({},ts,{view:0,detail:0}),rl=Qn(vs),mo,ws,ns,$s=ge({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ht,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ns&&(ns&&o.type==="mousemove"?(mo=o.screenX-ns.screenX,ws=o.screenY-ns.screenY):ws=mo=0,ns=o),mo)},movementY:function(o){return"movementY"in o?o.movementY:ws}}),go=Qn($s),xa=ge({},$s,{dataTransfer:0}),Gl=Qn(xa),Ws=ge({},vs,{relatedTarget:0}),_s=Qn(Ws),Ta=ge({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ti=Qn(Ta),Aa=ge({},ts,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),b=Qn(Aa),B=ge({},ts,{data:0}),te=Qn(B),he={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Te={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xe(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Fe[o])?!!l[o]:!1}function ht(){return Xe}var p=ge({},vs,{key:function(o){if(o.key){var l=he[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=es(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Te[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ht,charCode:function(o){return o.type==="keypress"?es(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?es(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),T=Qn(p),L=ge({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y=Qn(L),be=ge({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ht}),ke=Qn(be),Ze=ge({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qt=Qn(Ze),ln=ge({},$s,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Xt=Qn(ln),Sn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,pi=null;u&&"documentMode"in document&&(pi=document.documentMode);var zr=u&&"TextEvent"in window&&!pi,Gs=u&&(!Pn||pi&&8<pi&&11>=pi),Ks=" ",Kl=!1;function Yl(o,l){switch(o){case"keyup":return Sn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function il(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var sr=!1;function Ql(o,l){switch(o){case"compositionend":return il(l);case"keypress":return l.which!==32?null:(Kl=!0,Ks);case"textInput":return o=l.data,o===Ks&&Kl?null:o;default:return null}}function Xl(o,l){if(sr)return o==="compositionend"||!Pn&&Yl(o,l)?(o=nl(),ir=di=ei=null,sr=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Gs&&l.locale!=="ko"?null:l.data;default:return null}}var Jl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zl(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Jl[o.type]:l==="textarea"}function mi(o,l,f,g){xt(g),l=Xc(l,"onChange"),0<l.length&&(f=new Hs("onChange","change",null,f,g),o.push({event:f,listeners:l}))}var sl=null,zo=null;function Kc(o){oc(o,0)}function gi(o){var l=pl(o);if(ut(l))return o}function eu(o,l){if(o==="change")return l}var nc=!1;if(u){var tu;if(u){var yo="oninput"in document;if(!yo){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),yo=typeof Ea.oninput=="function"}tu=yo}else tu=!1;nc=tu&&(!document.documentMode||9<document.documentMode)}function yi(){sl&&(sl.detachEvent("onpropertychange",ni),zo=sl=null)}function ni(o){if(o.propertyName==="value"&&gi(zo)){var l=[];mi(l,zo,o,Pt(o)),Yr(Kc,l)}}function Ia(o,l,f){o==="focusin"?(yi(),sl=l,zo=f,sl.attachEvent("onpropertychange",ni)):o==="focusout"&&yi()}function qo(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return gi(zo)}function Ho(o,l){if(o==="click")return gi(l)}function nu(o,l){if(o==="input"||o==="change")return gi(l)}function $o(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var wn=typeof Object.is=="function"?Object.is:$o;function Wo(o,l){if(wn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var S=f[g];if(!c.call(l,S)||!wn(o[S],l[S]))return!1}return!0}function ri(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function rs(o,l){var f=ri(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=l&&g>=l)return{node:f,offset:l-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=ri(f)}}function ol(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ol(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function rc(){for(var o=window,l=st();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=st(o.document)}return l}function al(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function ll(o){var l=rc(),f=o.focusedElem,g=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&ol(f.ownerDocument.documentElement,f)){if(g!==null&&al(f)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var S=f.textContent.length,A=Math.min(g.start,S);g=g.end===void 0?A:Math.min(g.end,S),!o.extend&&A>g&&(S=g,g=A,A=S),S=rs(f,A);var $=rs(f,g);S&&$&&(o.rangeCount!==1||o.anchorNode!==S.node||o.anchorOffset!==S.offset||o.focusNode!==$.node||o.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),o.removeAllRanges(),A>g?(o.addRange(l),o.extend($.node,$.offset)):(l.setEnd($.node,$.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var ul=u&&"documentMode"in document&&11>=document.documentMode,is=null,Go=null,vo=null,Ko=!1;function Yo(o,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ko||is==null||is!==st(g)||(g=is,"selectionStart"in g&&al(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),vo&&Wo(vo,g)||(vo=g,g=Xc(Go,"onSelect"),0<g.length&&(l=new Hs("onSelect","select",null,l,f),o.push({event:l,listeners:g}),l.target=is)))}function Pa(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var qr={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},ki={},Mn={};u&&(Mn=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Cn(o){if(ki[o])return ki[o];if(!qr[o])return o;var l=qr[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in Mn)return ki[o]=l[f];return o}var or=Cn("animationend"),gr=Cn("animationiteration"),wo=Cn("animationstart"),ru=Cn("transitionend"),cl=new Map,ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(o,l){cl.set(o,l),s(l,[o])}for(var iu=0;iu<ic.length;iu++){var vi=ic[iu],bs=vi.toLowerCase(),Yc=vi[0].toUpperCase()+vi.slice(1);_o(bs,"on"+Yc)}_o(or,"onAnimationEnd"),_o(gr,"onAnimationIteration"),_o(wo,"onAnimationStart"),_o("dblclick","onDoubleClick"),_o("focusin","onFocus"),_o("focusout","onBlur"),_o(ru,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ud=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function sc(o,l,f){var g=o.type||"unknown-event";o.currentTarget=f,Ii(g,l,void 0,o),o.currentTarget=null}function oc(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],S=g.event;g=g.listeners;e:{var A=void 0;if(l)for(var $=g.length-1;0<=$;$--){var ae=g[$],pe=ae.instance,Oe=ae.currentTarget;if(ae=ae.listener,pe!==A&&S.isPropagationStopped())break e;sc(S,ae,Oe),A=pe}else for($=0;$<g.length;$++){if(ae=g[$],pe=ae.instance,Oe=ae.currentTarget,ae=ae.listener,pe!==A&&S.isPropagationStopped())break e;sc(S,ae,Oe),A=pe}}}if(Yn)throw o=ro,Yn=!1,ro=null,o}function jn(o,l){var f=l[Ri];f===void 0&&(f=l[Ri]=new Set);var g=o+"__bubble";f.has(g)||(ac(l,o,2,!1),f.add(g))}function Qc(o,l,f){var g=0;l&&(g|=4),ac(f,o,g,l)}var su="_reactListening"+Math.random().toString(36).slice(2);function hl(o){if(!o[su]){o[su]=!0,r.forEach(function(f){f!=="selectionchange"&&(Ud.has(f)||Qc(f,!1,o),Qc(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[su]||(l[su]=!0,Qc("selectionchange",!1,l))}}function ac(o,l,f,g){switch(Sa(l)){case 1:var S=bn;break;case 4:S=tl;break;default:S=fo}f=S.bind(null,l,f,o),S=void 0,!Qr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),g?S!==void 0?o.addEventListener(l,f,{capture:!0,passive:S}):o.addEventListener(l,f,!0):S!==void 0?o.addEventListener(l,f,{passive:S}):o.addEventListener(l,f,!1)}function lc(o,l,f,g,S){var A=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var ae=g.stateNode.containerInfo;if(ae===S||ae.nodeType===8&&ae.parentNode===S)break;if($===4)for($=g.return;$!==null;){var pe=$.tag;if((pe===3||pe===4)&&(pe=$.stateNode.containerInfo,pe===S||pe.nodeType===8&&pe.parentNode===S))return;$=$.return}for(;ae!==null;){if($=Na(ae),$===null)return;if(pe=$.tag,pe===5||pe===6){g=A=$;continue e}ae=ae.parentNode}}g=g.return}Yr(function(){var Oe=A,tt=Pt(f),rt=[];e:{var et=cl.get(o);if(et!==void 0){var _t=Hs,Et=o;switch(o){case"keypress":if(es(f)===0)break e;case"keydown":case"keyup":_t=T;break;case"focusin":Et="focus",_t=_s;break;case"focusout":Et="blur",_t=_s;break;case"beforeblur":case"afterblur":_t=_s;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=ke;break;case or:case gr:case wo:_t=ti;break;case ru:_t=Qt;break;case"scroll":_t=rl;break;case"wheel":_t=Xt;break;case"copy":case"cut":case"paste":_t=b;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=Y}var Nt=(l&4)!==0,Ir=!Nt&&o==="scroll",Ne=Nt?et!==null?et+"Capture":null:et;Nt=[];for(var ve=Oe,Re;ve!==null;){Re=ve;var ot=Re.stateNode;if(Re.tag===5&&ot!==null&&(Re=ot,Ne!==null&&(ot=vt(ve,Ne),ot!=null&&Nt.push(uc(ve,ot,Re)))),Ir)break;ve=ve.return}0<Nt.length&&(et=new _t(et,Et,null,f,tt),rt.push({event:et,listeners:Nt}))}}if((l&7)===0){e:{if(et=o==="mouseover"||o==="pointerover",_t=o==="mouseout"||o==="pointerout",et&&f!==$e&&(Et=f.relatedTarget||f.fromElement)&&(Na(Et)||Et[ii]))break e;if((_t||et)&&(et=tt.window===tt?tt:(et=tt.ownerDocument)?et.defaultView||et.parentWindow:window,_t?(Et=f.relatedTarget||f.toElement,_t=Oe,Et=Et?Na(Et):null,Et!==null&&(Ir=ar(Et),Et!==Ir||Et.tag!==5&&Et.tag!==6)&&(Et=null)):(_t=null,Et=Oe),_t!==Et)){if(Nt=go,ot="onMouseLeave",Ne="onMouseEnter",ve="mouse",(o==="pointerout"||o==="pointerover")&&(Nt=Y,ot="onPointerLeave",Ne="onPointerEnter",ve="pointer"),Ir=_t==null?et:pl(_t),Re=Et==null?et:pl(Et),et=new Nt(ot,ve+"leave",_t,f,tt),et.target=Ir,et.relatedTarget=Re,ot=null,Na(tt)===Oe&&(Nt=new Nt(Ne,ve+"enter",Et,f,tt),Nt.target=Re,Nt.relatedTarget=Ir,ot=Nt),Ir=ot,_t&&Et)t:{for(Nt=_t,Ne=Et,ve=0,Re=Nt;Re;Re=fl(Re))ve++;for(Re=0,ot=Ne;ot;ot=fl(ot))Re++;for(;0<ve-Re;)Nt=fl(Nt),ve--;for(;0<Re-ve;)Ne=fl(Ne),Re--;for(;ve--;){if(Nt===Ne||Ne!==null&&Nt===Ne.alternate)break t;Nt=fl(Nt),Ne=fl(Ne)}Nt=null}else Nt=null;_t!==null&&zd(rt,et,_t,Nt,!1),Et!==null&&Ir!==null&&zd(rt,Ir,Et,Nt,!0)}}e:{if(et=Oe?pl(Oe):window,_t=et.nodeName&&et.nodeName.toLowerCase(),_t==="select"||_t==="input"&&et.type==="file")var Lt=eu;else if(Zl(et))if(nc)Lt=nu;else{Lt=qo;var Vt=Ia}else(_t=et.nodeName)&&_t.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(Lt=Ho);if(Lt&&(Lt=Lt(o,Oe))){mi(rt,Lt,f,tt);break e}Vt&&Vt(o,et,Oe),o==="focusout"&&(Vt=et._wrapperState)&&Vt.controlled&&et.type==="number"&&Je(et,"number",et.value)}switch(Vt=Oe?pl(Oe):window,o){case"focusin":(Zl(Vt)||Vt.contentEditable==="true")&&(is=Vt,Go=Oe,vo=null);break;case"focusout":vo=Go=is=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,Yo(rt,f,tt);break;case"selectionchange":if(ul)break;case"keydown":case"keyup":Yo(rt,f,tt)}var Bt;if(Pn)e:{switch(o){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else sr?Yl(o,f)&&(Yt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Yt="onCompositionStart");Yt&&(Gs&&f.locale!=="ko"&&(sr||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&sr&&(Bt=nl()):(ei=tt,di="value"in ei?ei.value:ei.textContent,sr=!0)),Vt=Xc(Oe,Yt),0<Vt.length&&(Yt=new te(Yt,o,null,f,tt),rt.push({event:Yt,listeners:Vt}),Bt?Yt.data=Bt:(Bt=il(f),Bt!==null&&(Yt.data=Bt)))),(Bt=zr?Ql(o,f):Xl(o,f))&&(Oe=Xc(Oe,"onBeforeInput"),0<Oe.length&&(tt=new te("onBeforeInput","beforeinput",null,f,tt),rt.push({event:tt,listeners:Oe}),tt.data=Bt))}oc(rt,l)})}function uc(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Xc(o,l){for(var f=l+"Capture",g=[];o!==null;){var S=o,A=S.stateNode;S.tag===5&&A!==null&&(S=A,A=vt(o,f),A!=null&&g.unshift(uc(o,A,S)),A=vt(o,l),A!=null&&g.push(uc(o,A,S))),o=o.return}return g}function fl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function zd(o,l,f,g,S){for(var A=l._reactName,$=[];f!==null&&f!==g;){var ae=f,pe=ae.alternate,Oe=ae.stateNode;if(pe!==null&&pe===g)break;ae.tag===5&&Oe!==null&&(ae=Oe,S?(pe=vt(f,A),pe!=null&&$.unshift(uc(f,pe,ae))):S||(pe=vt(f,A),pe!=null&&$.push(uc(f,pe,ae)))),f=f.return}$.length!==0&&o.push({event:l,listeners:$})}var xg=/\r\n?/g,Tg=/\u0000|\uFFFD/g;function qd(o){return(typeof o=="string"?o:""+o).replace(xg,`
`).replace(Tg,"")}function Jc(o,l,f){if(l=qd(l),qd(o)!==l&&f)throw Error(t(425))}function ou(){}var cc=null,dl=null;function cf(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,Hd=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,Ag=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(o){return $d.resolve(null).then(o).catch(Eg)}:hf;function Eg(o){setTimeout(function(){throw o})}function ff(o,l){var f=l,g=0;do{var S=f.nextSibling;if(o.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(g===0){o.removeChild(S),Ur(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=S}while(f);Ur(l)}function wi(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Ss(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var Li=Math.random().toString(36).slice(2),bo="__reactFiber$"+Li,au="__reactProps$"+Li,ii="__reactContainer$"+Li,Ri="__reactEvents$"+Li,Ig="__reactListeners$"+Li,Pg="__reactHandles$"+Li;function Na(o){var l=o[bo];if(l)return l;for(var f=o.parentNode;f;){if(l=f[ii]||f[bo]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Ss(o);o!==null;){if(f=o[bo])return f;o=Ss(o)}return l}o=f,f=o.parentNode}return null}function lu(o){return o=o[bo]||o[ii],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function pl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function hc(o){return o[au]||null}var df=[],Qo=-1;function Ys(o){return{current:o}}function Nn(o){0>Qo||(o.current=df[Qo],df[Qo]=null,Qo--)}function Rn(o,l){Qo++,df[Qo]=o.current,o.current=l}var ka={},Hr=Ys(ka),Di=Ys(!1),ml=ka;function uu(o,l){var f=o.type.contextTypes;if(!f)return ka;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var S={},A;for(A in f)S[A]=l[A];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=S),S}function Oi(o){return o=o.childContextTypes,o!=null}function Zc(){Nn(Di),Nn(Hr)}function Wd(o,l,f){if(Hr.current!==ka)throw Error(t(168));Rn(Hr,l),Rn(Di,f)}function pf(o,l,f){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var S in g)if(!(S in l))throw Error(t(108,_e(o)||"Unknown",S));return ge({},f,g)}function gl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ka,ml=Hr.current,Rn(Hr,o),Rn(Di,Di.current),!0}function Gd(o,l,f){var g=o.stateNode;if(!g)throw Error(t(169));f?(o=pf(o,l,ml),g.__reactInternalMemoizedMergedChildContext=o,Nn(Di),Nn(Hr),Rn(Hr,o)):Nn(Di),Rn(Di,f)}var Xo=null,fc=!1,d=!1;function v(o){Xo===null?Xo=[o]:Xo.push(o)}function x(o){fc=!0,v(o)}function P(){if(!d&&Xo!==null){d=!0;var o=0,l=on;try{var f=Xo;for(on=1;o<f.length;o++){var g=f[o];do g=g(!0);while(g!==null)}Xo=null,fc=!1}catch(S){throw Xo!==null&&(Xo=Xo.slice(o+1)),Vs(ds,P),S}finally{on=l,d=!1}}return null}var V=[],H=0,W=null,K=0,Q=[],J=0,fe=null,Ie=1,Pe="";function Se(o,l){V[H++]=K,V[H++]=W,W=o,K=l}function He(o,l,f){Q[J++]=Ie,Q[J++]=Pe,Q[J++]=fe,fe=o;var g=Ie;o=Pe;var S=32-jr(g)-1;g&=~(1<<S),f+=1;var A=32-jr(l)+S;if(30<A){var $=S-S%5;A=(g&(1<<$)-1).toString(32),g>>=$,S-=$,Ie=1<<32-jr(l)+S|f<<S|g,Pe=A+o}else Ie=1<<A|f<<S|g,Pe=o}function Me(o){o.return!==null&&(Se(o,1),He(o,1,0))}function me(o){for(;o===W;)W=V[--H],V[H]=null,K=V[--H],V[H]=null;for(;o===fe;)fe=Q[--J],Q[J]=null,Pe=Q[--J],Q[J]=null,Ie=Q[--J],Q[J]=null}var ye=null,Ue=null,Be=!1,ze=null;function yt(o,l){var f=Io(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function ft(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,ye=o,Ue=wi(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,ye=o,Ue=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=fe!==null?{id:Ie,overflow:Pe}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Io(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,ye=o,Ue=null,!0):!1;default:return!1}}function Dt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function dt(o){if(Be){var l=Ue;if(l){var f=l;if(!ft(o,l)){if(Dt(o))throw Error(t(418));l=wi(f.nextSibling);var g=ye;l&&ft(o,l)?yt(g,f):(o.flags=o.flags&-4097|2,Be=!1,ye=o)}}else{if(Dt(o))throw Error(t(418));o.flags=o.flags&-4097|2,Be=!1,ye=o}}}function mn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ye=o}function gn(o){if(o!==ye)return!1;if(!Be)return mn(o),Be=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!cf(o.type,o.memoizedProps)),l&&(l=Ue)){if(Dt(o))throw cn(),Error(t(418));for(;l;)yt(o,l),l=wi(l.nextSibling)}if(mn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){Ue=wi(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}Ue=null}}else Ue=ye?wi(o.stateNode.nextSibling):null;return!0}function cn(){for(var o=Ue;o;)o=wi(o.nextSibling)}function nn(){Ue=ye=null,Be=!1}function kn(o){ze===null?ze=[o]:ze.push(o)}var Dn=ee.ReactCurrentBatchConfig;function Wt(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var g=f.stateNode}if(!g)throw Error(t(147,o));var S=g,A=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function($){var ae=S.refs;$===null?delete ae[A]:ae[A]=$},l._stringRef=A,l)}if(typeof o!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,o))}return o}function Xn(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function _i(o){var l=o._init;return l(o._payload)}function lr(o){function l(Ne,ve){if(o){var Re=Ne.deletions;Re===null?(Ne.deletions=[ve],Ne.flags|=16):Re.push(ve)}}function f(Ne,ve){if(!o)return null;for(;ve!==null;)l(Ne,ve),ve=ve.sibling;return null}function g(Ne,ve){for(Ne=new Map;ve!==null;)ve.key!==null?Ne.set(ve.key,ve):Ne.set(ve.index,ve),ve=ve.sibling;return Ne}function S(Ne,ve){return Ne=bu(Ne,ve),Ne.index=0,Ne.sibling=null,Ne}function A(Ne,ve,Re){return Ne.index=Re,o?(Re=Ne.alternate,Re!==null?(Re=Re.index,Re<ve?(Ne.flags|=2,ve):Re):(Ne.flags|=2,ve)):(Ne.flags|=1048576,ve)}function $(Ne){return o&&Ne.alternate===null&&(Ne.flags|=2),Ne}function ae(Ne,ve,Re,ot){return ve===null||ve.tag!==6?(ve=r0(Re,Ne.mode,ot),ve.return=Ne,ve):(ve=S(ve,Re),ve.return=Ne,ve)}function pe(Ne,ve,Re,ot){var Lt=Re.type;return Lt===z?tt(Ne,ve,Re.props.children,ot,Re.key):ve!==null&&(ve.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Ce&&_i(Lt)===ve.type)?(ot=S(ve,Re.props),ot.ref=Wt(Ne,ve,Re),ot.return=Ne,ot):(ot=dp(Re.type,Re.key,Re.props,null,Ne.mode,ot),ot.ref=Wt(Ne,ve,Re),ot.return=Ne,ot)}function Oe(Ne,ve,Re,ot){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Re.containerInfo||ve.stateNode.implementation!==Re.implementation?(ve=i0(Re,Ne.mode,ot),ve.return=Ne,ve):(ve=S(ve,Re.children||[]),ve.return=Ne,ve)}function tt(Ne,ve,Re,ot,Lt){return ve===null||ve.tag!==7?(ve=_c(Re,Ne.mode,ot,Lt),ve.return=Ne,ve):(ve=S(ve,Re),ve.return=Ne,ve)}function rt(Ne,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=r0(""+ve,Ne.mode,Re),ve.return=Ne,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case ie:return Re=dp(ve.type,ve.key,ve.props,null,Ne.mode,Re),Re.ref=Wt(Ne,null,ve),Re.return=Ne,Re;case de:return ve=i0(ve,Ne.mode,Re),ve.return=Ne,ve;case Ce:var ot=ve._init;return rt(Ne,ot(ve._payload),Re)}if(nt(ve)||we(ve))return ve=_c(ve,Ne.mode,Re,null),ve.return=Ne,ve;Xn(Ne,ve)}return null}function et(Ne,ve,Re,ot){var Lt=ve!==null?ve.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Lt!==null?null:ae(Ne,ve,""+Re,ot);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case ie:return Re.key===Lt?pe(Ne,ve,Re,ot):null;case de:return Re.key===Lt?Oe(Ne,ve,Re,ot):null;case Ce:return Lt=Re._init,et(Ne,ve,Lt(Re._payload),ot)}if(nt(Re)||we(Re))return Lt!==null?null:tt(Ne,ve,Re,ot,null);Xn(Ne,Re)}return null}function _t(Ne,ve,Re,ot,Lt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Ne=Ne.get(Re)||null,ae(ve,Ne,""+ot,Lt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case ie:return Ne=Ne.get(ot.key===null?Re:ot.key)||null,pe(ve,Ne,ot,Lt);case de:return Ne=Ne.get(ot.key===null?Re:ot.key)||null,Oe(ve,Ne,ot,Lt);case Ce:var Vt=ot._init;return _t(Ne,ve,Re,Vt(ot._payload),Lt)}if(nt(ot)||we(ot))return Ne=Ne.get(Re)||null,tt(ve,Ne,ot,Lt,null);Xn(ve,ot)}return null}function Et(Ne,ve,Re,ot){for(var Lt=null,Vt=null,Bt=ve,Yt=ve=0,li=null;Bt!==null&&Yt<Re.length;Yt++){Bt.index>Yt?(li=Bt,Bt=null):li=Bt.sibling;var An=et(Ne,Bt,Re[Yt],ot);if(An===null){Bt===null&&(Bt=li);break}o&&Bt&&An.alternate===null&&l(Ne,Bt),ve=A(An,ve,Yt),Vt===null?Lt=An:Vt.sibling=An,Vt=An,Bt=li}if(Yt===Re.length)return f(Ne,Bt),Be&&Se(Ne,Yt),Lt;if(Bt===null){for(;Yt<Re.length;Yt++)Bt=rt(Ne,Re[Yt],ot),Bt!==null&&(ve=A(Bt,ve,Yt),Vt===null?Lt=Bt:Vt.sibling=Bt,Vt=Bt);return Be&&Se(Ne,Yt),Lt}for(Bt=g(Ne,Bt);Yt<Re.length;Yt++)li=_t(Bt,Ne,Yt,Re[Yt],ot),li!==null&&(o&&li.alternate!==null&&Bt.delete(li.key===null?Yt:li.key),ve=A(li,ve,Yt),Vt===null?Lt=li:Vt.sibling=li,Vt=li);return o&&Bt.forEach(function(Su){return l(Ne,Su)}),Be&&Se(Ne,Yt),Lt}function Nt(Ne,ve,Re,ot){var Lt=we(Re);if(typeof Lt!="function")throw Error(t(150));if(Re=Lt.call(Re),Re==null)throw Error(t(151));for(var Vt=Lt=null,Bt=ve,Yt=ve=0,li=null,An=Re.next();Bt!==null&&!An.done;Yt++,An=Re.next()){Bt.index>Yt?(li=Bt,Bt=null):li=Bt.sibling;var Su=et(Ne,Bt,An.value,ot);if(Su===null){Bt===null&&(Bt=li);break}o&&Bt&&Su.alternate===null&&l(Ne,Bt),ve=A(Su,ve,Yt),Vt===null?Lt=Su:Vt.sibling=Su,Vt=Su,Bt=li}if(An.done)return f(Ne,Bt),Be&&Se(Ne,Yt),Lt;if(Bt===null){for(;!An.done;Yt++,An=Re.next())An=rt(Ne,An.value,ot),An!==null&&(ve=A(An,ve,Yt),Vt===null?Lt=An:Vt.sibling=An,Vt=An);return Be&&Se(Ne,Yt),Lt}for(Bt=g(Ne,Bt);!An.done;Yt++,An=Re.next())An=_t(Bt,Ne,Yt,An.value,ot),An!==null&&(o&&An.alternate!==null&&Bt.delete(An.key===null?Yt:An.key),ve=A(An,ve,Yt),Vt===null?Lt=An:Vt.sibling=An,Vt=An);return o&&Bt.forEach(function(bE){return l(Ne,bE)}),Be&&Se(Ne,Yt),Lt}function Ir(Ne,ve,Re,ot){if(typeof Re=="object"&&Re!==null&&Re.type===z&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case ie:e:{for(var Lt=Re.key,Vt=ve;Vt!==null;){if(Vt.key===Lt){if(Lt=Re.type,Lt===z){if(Vt.tag===7){f(Ne,Vt.sibling),ve=S(Vt,Re.props.children),ve.return=Ne,Ne=ve;break e}}else if(Vt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Ce&&_i(Lt)===Vt.type){f(Ne,Vt.sibling),ve=S(Vt,Re.props),ve.ref=Wt(Ne,Vt,Re),ve.return=Ne,Ne=ve;break e}f(Ne,Vt);break}else l(Ne,Vt);Vt=Vt.sibling}Re.type===z?(ve=_c(Re.props.children,Ne.mode,ot,Re.key),ve.return=Ne,Ne=ve):(ot=dp(Re.type,Re.key,Re.props,null,Ne.mode,ot),ot.ref=Wt(Ne,ve,Re),ot.return=Ne,Ne=ot)}return $(Ne);case de:e:{for(Vt=Re.key;ve!==null;){if(ve.key===Vt)if(ve.tag===4&&ve.stateNode.containerInfo===Re.containerInfo&&ve.stateNode.implementation===Re.implementation){f(Ne,ve.sibling),ve=S(ve,Re.children||[]),ve.return=Ne,Ne=ve;break e}else{f(Ne,ve);break}else l(Ne,ve);ve=ve.sibling}ve=i0(Re,Ne.mode,ot),ve.return=Ne,Ne=ve}return $(Ne);case Ce:return Vt=Re._init,Ir(Ne,ve,Vt(Re._payload),ot)}if(nt(Re))return Et(Ne,ve,Re,ot);if(we(Re))return Nt(Ne,ve,Re,ot);Xn(Ne,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ve!==null&&ve.tag===6?(f(Ne,ve.sibling),ve=S(ve,Re),ve.return=Ne,Ne=ve):(f(Ne,ve),ve=r0(Re,Ne.mode,ot),ve.return=Ne,Ne=ve),$(Ne)):f(Ne,ve)}return Ir}var Tr=lr(!0),xn=lr(!1),si=Ys(null),oi=null,Jn=null,Ar=null;function $r(){Ar=Jn=oi=null}function Mi(o){var l=si.current;Nn(si),o._currentValue=l}function xs(o,l,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===f)break;o=o.return}}function Zn(o,l){oi=o,Ar=Jn=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Is=!0),o.firstContext=null)}function yr(o){var l=o._currentValue;if(Ar!==o)if(o={context:o,memoizedValue:l,next:null},Jn===null){if(oi===null)throw Error(t(308));Jn=o,oi.dependencies={lanes:0,firstContext:o}}else Jn=Jn.next=o;return l}var ss=null;function La(o){ss===null?ss=[o]:ss.push(o)}function Jo(o,l,f,g){var S=l.interleaved;return S===null?(f.next=f,La(l)):(f.next=S.next,S.next=f),l.interleaved=f,Tn(o,g)}function Tn(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var So=!1;function eh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ts(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function As(o,l,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(_n&2)!==0){var S=g.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),g.pending=l,Tn(o,f)}return S=g.interleaved,S===null?(l.next=l,La(g)):(l.next=S.next,S.next=l),g.interleaved=l,Tn(o,f)}function yl(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,zs(o,f)}}function Es(o,l){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var S=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var $={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};A===null?S=A=$:A=A.next=$,f=f.next}while(f!==null);A===null?S=A=l:A=A.next=l}else S=A=l;f={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,effects:g.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function Zo(o,l,f,g){var S=o.updateQueue;So=!1;var A=S.firstBaseUpdate,$=S.lastBaseUpdate,ae=S.shared.pending;if(ae!==null){S.shared.pending=null;var pe=ae,Oe=pe.next;pe.next=null,$===null?A=Oe:$.next=Oe,$=pe;var tt=o.alternate;tt!==null&&(tt=tt.updateQueue,ae=tt.lastBaseUpdate,ae!==$&&(ae===null?tt.firstBaseUpdate=Oe:ae.next=Oe,tt.lastBaseUpdate=pe))}if(A!==null){var rt=S.baseState;$=0,tt=Oe=pe=null,ae=A;do{var et=ae.lane,_t=ae.eventTime;if((g&et)===et){tt!==null&&(tt=tt.next={eventTime:_t,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Et=o,Nt=ae;switch(et=l,_t=f,Nt.tag){case 1:if(Et=Nt.payload,typeof Et=="function"){rt=Et.call(_t,rt,et);break e}rt=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Nt.payload,et=typeof Et=="function"?Et.call(_t,rt,et):Et,et==null)break e;rt=ge({},rt,et);break e;case 2:So=!0}}ae.callback!==null&&ae.lane!==0&&(o.flags|=64,et=S.effects,et===null?S.effects=[ae]:et.push(ae))}else _t={eventTime:_t,lane:et,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},tt===null?(Oe=tt=_t,pe=rt):tt=tt.next=_t,$|=et;if(ae=ae.next,ae===null){if(ae=S.shared.pending,ae===null)break;et=ae,ae=et.next,et.next=null,S.lastBaseUpdate=et,S.shared.pending=null}}while(!0);if(tt===null&&(pe=rt),S.baseState=pe,S.firstBaseUpdate=Oe,S.lastBaseUpdate=tt,l=S.shared.interleaved,l!==null){S=l;do $|=S.lane,S=S.next;while(S!==l)}else A===null&&(S.shared.lanes=0);gc|=$,o.lanes=$,o.memoizedState=rt}}function vl(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],S=g.callback;if(S!==null){if(g.callback=null,g=f,typeof S!="function")throw Error(t(191,S));S.call(g)}}}var cu={},os=Ys(cu),hu=Ys(cu),Ra=Ys(cu);function ea(o){if(o===cu)throw Error(t(174));return o}function fu(o,l){switch(Rn(Ra,l),Rn(hu,o),Rn(os,cu),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Qe(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Qe(l,o)}Nn(os),Rn(os,l)}function xo(){Nn(os),Nn(hu),Nn(Ra)}function Kd(o){ea(Ra.current);var l=ea(os.current),f=Qe(l,o.type);l!==f&&(Rn(hu,o),Rn(os,f))}function gf(o){hu.current===o&&(Nn(os),Nn(hu))}var qn=Ys(0);function Qs(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var yf=[];function vf(){for(var o=0;o<yf.length;o++)yf[o]._workInProgressVersionPrimary=null;yf.length=0}var th=ee.ReactCurrentDispatcher,nh=ee.ReactCurrentBatchConfig,To=0,Wn=null,vr=null,ur=null,du=!1,ta=!1,pu=0,Cg=0;function Er(){throw Error(t(321))}function rh(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!wn(o[f],l[f]))return!1;return!0}function dc(o,l,f,g,S,A){if(To=A,Wn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,th.current=o===null||o.memoizedState===null?GA:KA,o=f(g,S),ta){A=0;do{if(ta=!1,pu=0,25<=A)throw Error(t(301));A+=1,ur=vr=null,l.updateQueue=null,th.current=YA,o=f(g,S)}while(ta)}if(th.current=Zd,l=vr!==null&&vr.next!==null,To=0,ur=vr=Wn=null,du=!1,l)throw Error(t(300));return o}function Ao(){var o=pu!==0;return pu=0,o}function Xs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Wn.memoizedState=ur=o:ur=ur.next=o,ur}function as(){if(vr===null){var o=Wn.alternate;o=o!==null?o.memoizedState:null}else o=vr.next;var l=ur===null?Wn.memoizedState:ur.next;if(l!==null)ur=l,vr=o;else{if(o===null)throw Error(t(310));vr=o,o={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},ur===null?Wn.memoizedState=ur=o:ur=ur.next=o}return ur}function pc(o,l){return typeof l=="function"?l(o):l}function ih(o){var l=as(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=o;var g=vr,S=g.baseQueue,A=f.pending;if(A!==null){if(S!==null){var $=S.next;S.next=A.next,A.next=$}g.baseQueue=S=A,f.pending=null}if(S!==null){A=S.next,g=g.baseState;var ae=$=null,pe=null,Oe=A;do{var tt=Oe.lane;if((To&tt)===tt)pe!==null&&(pe=pe.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),g=Oe.hasEagerState?Oe.eagerState:o(g,Oe.action);else{var rt={lane:tt,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};pe===null?(ae=pe=rt,$=g):pe=pe.next=rt,Wn.lanes|=tt,gc|=tt}Oe=Oe.next}while(Oe!==null&&Oe!==A);pe===null?$=g:pe.next=ae,wn(g,l.memoizedState)||(Is=!0),l.memoizedState=g,l.baseState=$,l.baseQueue=pe,f.lastRenderedState=g}if(o=f.interleaved,o!==null){S=o;do A=S.lane,Wn.lanes|=A,gc|=A,S=S.next;while(S!==o)}else S===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Da(o){var l=as(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=o;var g=f.dispatch,S=f.pending,A=l.memoizedState;if(S!==null){f.pending=null;var $=S=S.next;do A=o(A,$.action),$=$.next;while($!==S);wn(A,l.memoizedState)||(Is=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),f.lastRenderedState=A}return[A,g]}function Yd(){}function wf(o,l){var f=Wn,g=as(),S=l(),A=!wn(g.memoizedState,S);if(A&&(g.memoizedState=S,Is=!0),g=g.queue,ah(Xd.bind(null,f,g,o),[o]),g.getSnapshot!==l||A||ur!==null&&ur.memoizedState.tag&1){if(f.flags|=2048,ls(9,_f.bind(null,f,g,S,l),void 0,null),ai===null)throw Error(t(349));(To&30)!==0||Qd(f,l,S)}return S}function Qd(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Wn.updateQueue,l===null?(l={lastEffect:null,stores:null},Wn.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function _f(o,l,f,g){l.value=f,l.getSnapshot=g,mu(l)&&sh(o)}function Xd(o,l,f){return f(function(){mu(l)&&sh(o)})}function mu(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!wn(o,f)}catch{return!0}}function sh(o){var l=Tn(o,1);l!==null&&oa(l,o,1,-1)}function mc(o){var l=Xs();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:o},l.queue=o,o=o.dispatch=WA.bind(null,Wn,o),[l.memoizedState,o]}function ls(o,l,f,g){return o={tag:o,create:l,destroy:f,deps:g,next:null},l=Wn.updateQueue,l===null?(l={lastEffect:null,stores:null},Wn.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,l.lastEffect=o)),o}function na(){return as().memoizedState}function Js(o,l,f,g){var S=Xs();Wn.flags|=o,S.memoizedState=ls(1|l,f,void 0,g===void 0?null:g)}function wl(o,l,f,g){var S=as();g=g===void 0?null:g;var A=void 0;if(vr!==null){var $=vr.memoizedState;if(A=$.destroy,g!==null&&rh(g,$.deps)){S.memoizedState=ls(l,f,A,g);return}}Wn.flags|=o,S.memoizedState=ls(1|l,f,A,g)}function oh(o,l){return Js(8390656,8,o,l)}function ah(o,l){return wl(2048,8,o,l)}function Jd(o,l){return wl(4,2,o,l)}function lh(o,l){return wl(4,4,o,l)}function uh(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function t2(o,l,f){return f=f!=null?f.concat([o]):null,wl(4,4,uh.bind(null,l,o),f)}function Ng(){}function n2(o,l){var f=as();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&rh(l,g[1])?g[0]:(f.memoizedState=[o,l],o)}function r2(o,l){var f=as();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&rh(l,g[1])?g[0]:(o=o(),f.memoizedState=[o,l],o)}function i2(o,l,f){return(To&21)===0?(o.baseState&&(o.baseState=!1,Is=!0),o.memoizedState=f):(wn(f,l)||(f=lo(),Wn.lanes|=f,gc|=f,o.baseState=!0),l)}function HA(o,l){var f=on;on=f!==0&&4>f?f:4,o(!0);var g=nh.transition;nh.transition={};try{o(!1),l()}finally{on=f,nh.transition=g}}function s2(){return as().memoizedState}function $A(o,l,f){var g=wu(o);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},o2(o))a2(l,f);else if(f=Jo(o,l,f,g),f!==null){var S=cs();oa(f,o,g,S),l2(f,l,g)}}function WA(o,l,f){var g=wu(o),S={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(o2(o))a2(l,S);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var $=l.lastRenderedState,ae=A($,f);if(S.hasEagerState=!0,S.eagerState=ae,wn(ae,$)){var pe=l.interleaved;pe===null?(S.next=S,La(l)):(S.next=pe.next,pe.next=S),l.interleaved=S;return}}catch{}finally{}f=Jo(o,l,S,g),f!==null&&(S=cs(),oa(f,o,g,S),l2(f,l,g))}}function o2(o){var l=o.alternate;return o===Wn||l!==null&&l===Wn}function a2(o,l){ta=du=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function l2(o,l,f){if((f&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,zs(o,f)}}var Zd={readContext:yr,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},GA={readContext:yr,useCallback:function(o,l){return Xs().memoizedState=[o,l===void 0?null:l],o},useContext:yr,useEffect:oh,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,Js(4194308,4,uh.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Js(4194308,4,o,l)},useInsertionEffect:function(o,l){return Js(4,2,o,l)},useMemo:function(o,l){var f=Xs();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var g=Xs();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=$A.bind(null,Wn,o),[g.memoizedState,o]},useRef:function(o){var l=Xs();return o={current:o},l.memoizedState=o},useState:mc,useDebugValue:Ng,useDeferredValue:function(o){return Xs().memoizedState=o},useTransition:function(){var o=mc(!1),l=o[0];return o=HA.bind(null,o[1]),Xs().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var g=Wn,S=Xs();if(Be){if(f===void 0)throw Error(t(407));f=f()}else{if(f=l(),ai===null)throw Error(t(349));(To&30)!==0||Qd(g,l,f)}S.memoizedState=f;var A={value:f,getSnapshot:l};return S.queue=A,oh(Xd.bind(null,g,A,o),[o]),g.flags|=2048,ls(9,_f.bind(null,g,A,f,l),void 0,null),f},useId:function(){var o=Xs(),l=ai.identifierPrefix;if(Be){var f=Pe,g=Ie;f=(g&~(1<<32-jr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=pu++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=Cg++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},KA={readContext:yr,useCallback:n2,useContext:yr,useEffect:ah,useImperativeHandle:t2,useInsertionEffect:Jd,useLayoutEffect:lh,useMemo:r2,useReducer:ih,useRef:na,useState:function(){return ih(pc)},useDebugValue:Ng,useDeferredValue:function(o){var l=as();return i2(l,vr.memoizedState,o)},useTransition:function(){var o=ih(pc)[0],l=as().memoizedState;return[o,l]},useMutableSource:Yd,useSyncExternalStore:wf,useId:s2,unstable_isNewReconciler:!1},YA={readContext:yr,useCallback:n2,useContext:yr,useEffect:ah,useImperativeHandle:t2,useInsertionEffect:Jd,useLayoutEffect:lh,useMemo:r2,useReducer:Da,useRef:na,useState:function(){return Da(pc)},useDebugValue:Ng,useDeferredValue:function(o){var l=as();return vr===null?l.memoizedState=o:i2(l,vr.memoizedState,o)},useTransition:function(){var o=Da(pc)[0],l=as().memoizedState;return[o,l]},useMutableSource:Yd,useSyncExternalStore:wf,useId:s2,unstable_isNewReconciler:!1};function ra(o,l){if(o&&o.defaultProps){l=ge({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function kg(o,l,f,g){l=o.memoizedState,f=f(g,l),f=f==null?l:ge({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var ep={isMounted:function(o){return(o=o._reactInternals)?ar(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var g=cs(),S=wu(o),A=Ts(g,S);A.payload=l,f!=null&&(A.callback=f),l=As(o,A,S),l!==null&&(oa(l,o,S,g),yl(l,o,S))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var g=cs(),S=wu(o),A=Ts(g,S);A.tag=1,A.payload=l,f!=null&&(A.callback=f),l=As(o,A,S),l!==null&&(oa(l,o,S,g),yl(l,o,S))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=cs(),g=wu(o),S=Ts(f,g);S.tag=2,l!=null&&(S.callback=l),l=As(o,S,g),l!==null&&(oa(l,o,g,f),yl(l,o,g))}};function u2(o,l,f,g,S,A,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,A,$):l.prototype&&l.prototype.isPureReactComponent?!Wo(f,g)||!Wo(S,A):!0}function c2(o,l,f){var g=!1,S=ka,A=l.contextType;return typeof A=="object"&&A!==null?A=yr(A):(S=Oi(l)?ml:Hr.current,g=l.contextTypes,A=(g=g!=null)?uu(o,S):ka),l=new l(f,A),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ep,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=S,o.__reactInternalMemoizedMaskedChildContext=A),l}function h2(o,l,f,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==o&&ep.enqueueReplaceState(l,l.state,null)}function Lg(o,l,f,g){var S=o.stateNode;S.props=f,S.state=o.memoizedState,S.refs={},eh(o);var A=l.contextType;typeof A=="object"&&A!==null?S.context=yr(A):(A=Oi(l)?ml:Hr.current,S.context=uu(o,A)),S.state=o.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(kg(o,l,A,f),S.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&ep.enqueueReplaceState(S,S.state,null),Zo(o,f,S,g),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308)}function ch(o,l){try{var f="",g=l;do f+=se(g),g=g.return;while(g);var S=f}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:o,source:l,stack:S,digest:null}}function Rg(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function Dg(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var QA=typeof WeakMap=="function"?WeakMap:Map;function f2(o,l,f){f=Ts(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){ap||(ap=!0,Yg=g),Dg(o,l)},f}function d2(o,l,f){f=Ts(-1,f),f.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var S=l.value;f.payload=function(){return g(S)},f.callback=function(){Dg(o,l)}}var A=o.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(f.callback=function(){Dg(o,l),typeof g!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),f}function p2(o,l,f){var g=o.pingCache;if(g===null){g=o.pingCache=new QA;var S=new Set;g.set(l,S)}else S=g.get(l),S===void 0&&(S=new Set,g.set(l,S));S.has(f)||(S.add(f),o=cE.bind(null,o,l,f),l.then(o,o))}function m2(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function g2(o,l,f,g,S){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Ts(-1,1),l.tag=2,As(f,l,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=S,o)}var XA=ee.ReactCurrentOwner,Is=!1;function us(o,l,f,g){l.child=o===null?xn(l,null,f,g):Tr(l,o.child,f,g)}function y2(o,l,f,g,S){f=f.render;var A=l.ref;return Zn(l,S),g=dc(o,l,f,g,A,S),f=Ao(),o!==null&&!Is?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,_l(o,l,S)):(Be&&f&&Me(l),l.flags|=1,us(o,l,g,S),l.child)}function v2(o,l,f,g,S){if(o===null){var A=f.type;return typeof A=="function"&&!n0(A)&&A.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=A,w2(o,l,A,g,S)):(o=dp(f.type,null,g,l,l.mode,S),o.ref=l.ref,o.return=l,l.child=o)}if(A=o.child,(o.lanes&S)===0){var $=A.memoizedProps;if(f=f.compare,f=f!==null?f:Wo,f($,g)&&o.ref===l.ref)return _l(o,l,S)}return l.flags|=1,o=bu(A,g),o.ref=l.ref,o.return=l,l.child=o}function w2(o,l,f,g,S){if(o!==null){var A=o.memoizedProps;if(Wo(A,g)&&o.ref===l.ref)if(Is=!1,l.pendingProps=g=A,(o.lanes&S)!==0)(o.flags&131072)!==0&&(Is=!0);else return l.lanes=o.lanes,_l(o,l,S)}return Og(o,l,f,g,S)}function _2(o,l,f){var g=l.pendingProps,S=g.children,A=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(fh,Zs),Zs|=f;else{if((f&1073741824)===0)return o=A!==null?A.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Rn(fh,Zs),Zs|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:f,Rn(fh,Zs),Zs|=g}else A!==null?(g=A.baseLanes|f,l.memoizedState=null):g=f,Rn(fh,Zs),Zs|=g;return us(o,l,S,f),l.child}function b2(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Og(o,l,f,g,S){var A=Oi(f)?ml:Hr.current;return A=uu(l,A),Zn(l,S),f=dc(o,l,f,g,A,S),g=Ao(),o!==null&&!Is?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,_l(o,l,S)):(Be&&g&&Me(l),l.flags|=1,us(o,l,f,S),l.child)}function S2(o,l,f,g,S){if(Oi(f)){var A=!0;gl(l)}else A=!1;if(Zn(l,S),l.stateNode===null)np(o,l),c2(l,f,g),Lg(l,f,g,S),g=!0;else if(o===null){var $=l.stateNode,ae=l.memoizedProps;$.props=ae;var pe=$.context,Oe=f.contextType;typeof Oe=="object"&&Oe!==null?Oe=yr(Oe):(Oe=Oi(f)?ml:Hr.current,Oe=uu(l,Oe));var tt=f.getDerivedStateFromProps,rt=typeof tt=="function"||typeof $.getSnapshotBeforeUpdate=="function";rt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ae!==g||pe!==Oe)&&h2(l,$,g,Oe),So=!1;var et=l.memoizedState;$.state=et,Zo(l,g,$,S),pe=l.memoizedState,ae!==g||et!==pe||Di.current||So?(typeof tt=="function"&&(kg(l,f,tt,g),pe=l.memoizedState),(ae=So||u2(l,f,ae,g,et,pe,Oe))?(rt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=pe),$.props=g,$.state=pe,$.context=Oe,g=ae):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{$=l.stateNode,mf(o,l),ae=l.memoizedProps,Oe=l.type===l.elementType?ae:ra(l.type,ae),$.props=Oe,rt=l.pendingProps,et=$.context,pe=f.contextType,typeof pe=="object"&&pe!==null?pe=yr(pe):(pe=Oi(f)?ml:Hr.current,pe=uu(l,pe));var _t=f.getDerivedStateFromProps;(tt=typeof _t=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ae!==rt||et!==pe)&&h2(l,$,g,pe),So=!1,et=l.memoizedState,$.state=et,Zo(l,g,$,S);var Et=l.memoizedState;ae!==rt||et!==Et||Di.current||So?(typeof _t=="function"&&(kg(l,f,_t,g),Et=l.memoizedState),(Oe=So||u2(l,f,Oe,g,et,Et,pe)||!1)?(tt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Et,pe),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Et,pe)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||ae===o.memoizedProps&&et===o.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&et===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Et),$.props=g,$.state=Et,$.context=pe,g=Oe):(typeof $.componentDidUpdate!="function"||ae===o.memoizedProps&&et===o.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&et===o.memoizedState||(l.flags|=1024),g=!1)}return Mg(o,l,f,g,A,S)}function Mg(o,l,f,g,S,A){b2(o,l);var $=(l.flags&128)!==0;if(!g&&!$)return S&&Gd(l,f,!1),_l(o,l,A);g=l.stateNode,XA.current=l;var ae=$&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&$?(l.child=Tr(l,o.child,null,A),l.child=Tr(l,null,ae,A)):us(o,l,ae,A),l.memoizedState=g.state,S&&Gd(l,f,!0),l.child}function x2(o){var l=o.stateNode;l.pendingContext?Wd(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Wd(o,l.context,!1),fu(o,l.containerInfo)}function T2(o,l,f,g,S){return nn(),kn(S),l.flags|=256,us(o,l,f,g),l.child}var jg={dehydrated:null,treeContext:null,retryLane:0};function Fg(o){return{baseLanes:o,cachePool:null,transitions:null}}function A2(o,l,f){var g=l.pendingProps,S=qn.current,A=!1,$=(l.flags&128)!==0,ae;if((ae=$)||(ae=o!==null&&o.memoizedState===null?!1:(S&2)!==0),ae?(A=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(S|=1),Rn(qn,S&1),o===null)return dt(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=g.children,o=g.fallback,A?(g=l.mode,A=l.child,$={mode:"hidden",children:$},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=$):A=pp($,g,0,null),o=_c(o,g,f,null),A.return=l,o.return=l,A.sibling=o,l.child=A,l.child.memoizedState=Fg(f),l.memoizedState=jg,o):Vg(l,$));if(S=o.memoizedState,S!==null&&(ae=S.dehydrated,ae!==null))return JA(o,l,$,g,ae,S,f);if(A){A=g.fallback,$=l.mode,S=o.child,ae=S.sibling;var pe={mode:"hidden",children:g.children};return($&1)===0&&l.child!==S?(g=l.child,g.childLanes=0,g.pendingProps=pe,l.deletions=null):(g=bu(S,pe),g.subtreeFlags=S.subtreeFlags&14680064),ae!==null?A=bu(ae,A):(A=_c(A,$,f,null),A.flags|=2),A.return=l,g.return=l,g.sibling=A,l.child=g,g=A,A=l.child,$=o.child.memoizedState,$=$===null?Fg(f):{baseLanes:$.baseLanes|f,cachePool:null,transitions:$.transitions},A.memoizedState=$,A.childLanes=o.childLanes&~f,l.memoizedState=jg,g}return A=o.child,o=A.sibling,g=bu(A,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=g,l.memoizedState=null,g}function Vg(o,l){return l=pp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function tp(o,l,f,g){return g!==null&&kn(g),Tr(l,o.child,null,f),o=Vg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function JA(o,l,f,g,S,A,$){if(f)return l.flags&256?(l.flags&=-257,g=Rg(Error(t(422))),tp(o,l,$,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(A=g.fallback,S=l.mode,g=pp({mode:"visible",children:g.children},S,0,null),A=_c(A,S,$,null),A.flags|=2,g.return=l,A.return=l,g.sibling=A,l.child=g,(l.mode&1)!==0&&Tr(l,o.child,null,$),l.child.memoizedState=Fg($),l.memoizedState=jg,A);if((l.mode&1)===0)return tp(o,l,$,null);if(S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var ae=g.dgst;return g=ae,A=Error(t(419)),g=Rg(A,g,void 0),tp(o,l,$,g)}if(ae=($&o.childLanes)!==0,Is||ae){if(g=ai,g!==null){switch($&-$){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(g.suspendedLanes|$))!==0?0:S,S!==0&&S!==A.retryLane&&(A.retryLane=S,Tn(o,S),oa(g,o,S,-1))}return t0(),g=Rg(Error(t(421))),tp(o,l,$,g)}return S.data==="$?"?(l.flags|=128,l.child=o.child,l=hE.bind(null,o),S._reactRetry=l,null):(o=A.treeContext,Ue=wi(S.nextSibling),ye=l,Be=!0,ze=null,o!==null&&(Q[J++]=Ie,Q[J++]=Pe,Q[J++]=fe,Ie=o.id,Pe=o.overflow,fe=l),l=Vg(l,g.children),l.flags|=4096,l)}function E2(o,l,f){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),xs(o.return,l,f)}function Bg(o,l,f,g,S){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:S}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=f,A.tailMode=S)}function I2(o,l,f){var g=l.pendingProps,S=g.revealOrder,A=g.tail;if(us(o,l,g.children,f),g=qn.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&E2(o,f,l);else if(o.tag===19)E2(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(Rn(qn,g),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(f=l.child,S=null;f!==null;)o=f.alternate,o!==null&&Qs(o)===null&&(S=f),f=f.sibling;f=S,f===null?(S=l.child,l.child=null):(S=f.sibling,f.sibling=null),Bg(l,!1,S,f,A);break;case"backwards":for(f=null,S=l.child,l.child=null;S!==null;){if(o=S.alternate,o!==null&&Qs(o)===null){l.child=S;break}o=S.sibling,S.sibling=f,f=S,S=o}Bg(l,!0,f,null,A);break;case"together":Bg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function np(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function _l(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),gc|=l.lanes,(f&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,f=bu(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=bu(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function ZA(o,l,f){switch(l.tag){case 3:x2(l),nn();break;case 5:Kd(l);break;case 1:Oi(l.type)&&gl(l);break;case 4:fu(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,S=l.memoizedProps.value;Rn(si,g._currentValue),g._currentValue=S;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Rn(qn,qn.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?A2(o,l,f):(Rn(qn,qn.current&1),o=_l(o,l,f),o!==null?o.sibling:null);Rn(qn,qn.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(o.flags&128)!==0){if(g)return I2(o,l,f);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Rn(qn,qn.current),g)break;return null;case 22:case 23:return l.lanes=0,_2(o,l,f)}return _l(o,l,f)}var P2,Ug,C2,N2;P2=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Ug=function(){},C2=function(o,l,f,g){var S=o.memoizedProps;if(S!==g){o=l.stateNode,ea(os.current);var A=null;switch(f){case"input":S=Ct(o,S),g=Ct(o,g),A=[];break;case"select":S=ge({},S,{value:void 0}),g=ge({},g,{value:void 0}),A=[];break;case"textarea":S=ct(o,S),g=ct(o,g),A=[];break;default:typeof S.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=ou)}Ve(f,g);var $;f=null;for(Oe in S)if(!g.hasOwnProperty(Oe)&&S.hasOwnProperty(Oe)&&S[Oe]!=null)if(Oe==="style"){var ae=S[Oe];for($ in ae)ae.hasOwnProperty($)&&(f||(f={}),f[$]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(i.hasOwnProperty(Oe)?A||(A=[]):(A=A||[]).push(Oe,null));for(Oe in g){var pe=g[Oe];if(ae=S!=null?S[Oe]:void 0,g.hasOwnProperty(Oe)&&pe!==ae&&(pe!=null||ae!=null))if(Oe==="style")if(ae){for($ in ae)!ae.hasOwnProperty($)||pe&&pe.hasOwnProperty($)||(f||(f={}),f[$]="");for($ in pe)pe.hasOwnProperty($)&&ae[$]!==pe[$]&&(f||(f={}),f[$]=pe[$])}else f||(A||(A=[]),A.push(Oe,f)),f=pe;else Oe==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,ae=ae?ae.__html:void 0,pe!=null&&ae!==pe&&(A=A||[]).push(Oe,pe)):Oe==="children"?typeof pe!="string"&&typeof pe!="number"||(A=A||[]).push(Oe,""+pe):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Oe)?(pe!=null&&Oe==="onScroll"&&jn("scroll",o),A||ae===pe||(A=[])):(A=A||[]).push(Oe,pe))}f&&(A=A||[]).push("style",f);var Oe=A;(l.updateQueue=Oe)&&(l.flags|=4)}},N2=function(o,l,f,g){f!==g&&(l.flags|=4)};function bf(o,l){if(!Be)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function ji(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(l)for(var S=o.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags&14680064,g|=S.flags&14680064,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=g,o.childLanes=f,l}function eE(o,l,f){var g=l.pendingProps;switch(me(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(l),null;case 1:return Oi(l.type)&&Zc(),ji(l),null;case 3:return g=l.stateNode,xo(),Nn(Di),Nn(Hr),vf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(gn(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ze!==null&&(Jg(ze),ze=null))),Ug(o,l),ji(l),null;case 5:gf(l);var S=ea(Ra.current);if(f=l.type,o!==null&&l.stateNode!=null)C2(o,l,f,g,S),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(t(166));return ji(l),null}if(o=ea(os.current),gn(l)){g=l.stateNode,f=l.type;var A=l.memoizedProps;switch(g[bo]=l,g[au]=A,o=(l.mode&1)!==0,f){case"dialog":jn("cancel",g),jn("close",g);break;case"iframe":case"object":case"embed":jn("load",g);break;case"video":case"audio":for(S=0;S<Ca.length;S++)jn(Ca[S],g);break;case"source":jn("error",g);break;case"img":case"image":case"link":jn("error",g),jn("load",g);break;case"details":jn("toggle",g);break;case"input":je(g,A),jn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},jn("invalid",g);break;case"textarea":St(g,A),jn("invalid",g)}Ve(f,A),S=null;for(var $ in A)if(A.hasOwnProperty($)){var ae=A[$];$==="children"?typeof ae=="string"?g.textContent!==ae&&(A.suppressHydrationWarning!==!0&&Jc(g.textContent,ae,o),S=["children",ae]):typeof ae=="number"&&g.textContent!==""+ae&&(A.suppressHydrationWarning!==!0&&Jc(g.textContent,ae,o),S=["children",""+ae]):i.hasOwnProperty($)&&ae!=null&&$==="onScroll"&&jn("scroll",g)}switch(f){case"input":Ye(g),gt(g,A,!0);break;case"textarea":Ye(g),De(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=ou)}g=S,l.updateQueue=g,g!==null&&(l.flags|=4)}else{$=S.nodeType===9?S:S.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=qe(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=$.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=$.createElement(f,{is:g.is}):(o=$.createElement(f),f==="select"&&($=o,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):o=$.createElementNS(o,f),o[bo]=l,o[au]=g,P2(o,l,!1,!1),l.stateNode=o;e:{switch($=it(f,g),f){case"dialog":jn("cancel",o),jn("close",o),S=g;break;case"iframe":case"object":case"embed":jn("load",o),S=g;break;case"video":case"audio":for(S=0;S<Ca.length;S++)jn(Ca[S],o);S=g;break;case"source":jn("error",o),S=g;break;case"img":case"image":case"link":jn("error",o),jn("load",o),S=g;break;case"details":jn("toggle",o),S=g;break;case"input":je(o,g),S=Ct(o,g),jn("invalid",o);break;case"option":S=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},S=ge({},g,{value:void 0}),jn("invalid",o);break;case"textarea":St(o,g),S=ct(o,g),jn("invalid",o);break;default:S=g}Ve(f,S),ae=S;for(A in ae)if(ae.hasOwnProperty(A)){var pe=ae[A];A==="style"?Mr(o,pe):A==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&pt(o,pe)):A==="children"?typeof pe=="string"?(f!=="textarea"||pe!=="")&&kt(o,pe):typeof pe=="number"&&kt(o,""+pe):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?pe!=null&&A==="onScroll"&&jn("scroll",o):pe!=null&&q(o,A,pe,$))}switch(f){case"input":Ye(o),gt(o,g,!1);break;case"textarea":Ye(o),De(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Ae(g.value));break;case"select":o.multiple=!!g.multiple,A=g.value,A!=null?lt(o,!!g.multiple,A,!1):g.defaultValue!=null&&lt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof S.onClick=="function"&&(o.onclick=ou)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return ji(l),null;case 6:if(o&&l.stateNode!=null)N2(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(t(166));if(f=ea(Ra.current),ea(os.current),gn(l)){if(g=l.stateNode,f=l.memoizedProps,g[bo]=l,(A=g.nodeValue!==f)&&(o=ye,o!==null))switch(o.tag){case 3:Jc(g.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Jc(g.nodeValue,f,(o.mode&1)!==0)}A&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[bo]=l,l.stateNode=g}return ji(l),null;case 13:if(Nn(qn),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Be&&Ue!==null&&(l.mode&1)!==0&&(l.flags&128)===0)cn(),nn(),l.flags|=98560,A=!1;else if(A=gn(l),g!==null&&g.dehydrated!==null){if(o===null){if(!A)throw Error(t(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));A[bo]=l}else nn(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ji(l),A=!1}else ze!==null&&(Jg(ze),ze=null),A=!0;if(!A)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(qn.current&1)!==0?Wr===0&&(Wr=3):t0())),l.updateQueue!==null&&(l.flags|=4),ji(l),null);case 4:return xo(),Ug(o,l),o===null&&hl(l.stateNode.containerInfo),ji(l),null;case 10:return Mi(l.type._context),ji(l),null;case 17:return Oi(l.type)&&Zc(),ji(l),null;case 19:if(Nn(qn),A=l.memoizedState,A===null)return ji(l),null;if(g=(l.flags&128)!==0,$=A.rendering,$===null)if(g)bf(A,!1);else{if(Wr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if($=Qs(o),$!==null){for(l.flags|=128,bf(A,!1),g=$.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)A=f,o=g,A.flags&=14680066,$=A.alternate,$===null?(A.childLanes=0,A.lanes=o,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=$.childLanes,A.lanes=$.lanes,A.child=$.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=$.memoizedProps,A.memoizedState=$.memoizedState,A.updateQueue=$.updateQueue,A.type=$.type,o=$.dependencies,A.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Rn(qn,qn.current&1|2),l.child}o=o.sibling}A.tail!==null&&Ln()>dh&&(l.flags|=128,g=!0,bf(A,!1),l.lanes=4194304)}else{if(!g)if(o=Qs($),o!==null){if(l.flags|=128,g=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),bf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!$.alternate&&!Be)return ji(l),null}else 2*Ln()-A.renderingStartTime>dh&&f!==1073741824&&(l.flags|=128,g=!0,bf(A,!1),l.lanes=4194304);A.isBackwards?($.sibling=l.child,l.child=$):(f=A.last,f!==null?f.sibling=$:l.child=$,A.last=$)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=Ln(),l.sibling=null,f=qn.current,Rn(qn,g?f&1|2:f&1),l):(ji(l),null);case 22:case 23:return e0(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Zs&1073741824)!==0&&(ji(l),l.subtreeFlags&6&&(l.flags|=8192)):ji(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function tE(o,l){switch(me(l),l.tag){case 1:return Oi(l.type)&&Zc(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return xo(),Nn(Di),Nn(Hr),vf(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return gf(l),null;case 13:if(Nn(qn),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));nn()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Nn(qn),null;case 4:return xo(),null;case 10:return Mi(l.type._context),null;case 22:case 23:return e0(),null;case 24:return null;default:return null}}var rp=!1,Fi=!1,nE=typeof WeakSet=="function"?WeakSet:Set,At=null;function hh(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){wr(o,l,g)}else f.current=null}function zg(o,l,f){try{f()}catch(g){wr(o,l,g)}}var k2=!1;function rE(o,l){if(cc=ho,o=rc(),al(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var $=0,ae=-1,pe=-1,Oe=0,tt=0,rt=o,et=null;t:for(;;){for(var _t;rt!==f||S!==0&&rt.nodeType!==3||(ae=$+S),rt!==A||g!==0&&rt.nodeType!==3||(pe=$+g),rt.nodeType===3&&($+=rt.nodeValue.length),(_t=rt.firstChild)!==null;)et=rt,rt=_t;for(;;){if(rt===o)break t;if(et===f&&++Oe===S&&(ae=$),et===A&&++tt===g&&(pe=$),(_t=rt.nextSibling)!==null)break;rt=et,et=rt.parentNode}rt=_t}f=ae===-1||pe===-1?null:{start:ae,end:pe}}else f=null}f=f||{start:0,end:0}}else f=null;for(dl={focusedElem:o,selectionRange:f},ho=!1,At=l;At!==null;)if(l=At,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,At=o;else for(;At!==null;){l=At;try{var Et=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var Nt=Et.memoizedProps,Ir=Et.memoizedState,Ne=l.stateNode,ve=Ne.getSnapshotBeforeUpdate(l.elementType===l.type?Nt:ra(l.type,Nt),Ir);Ne.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Re=l.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ot){wr(l,l.return,ot)}if(o=l.sibling,o!==null){o.return=l.return,At=o;break}At=l.return}return Et=k2,k2=!1,Et}function Sf(o,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&o)===o){var A=S.destroy;S.destroy=void 0,A!==void 0&&zg(l,f,A)}S=S.next}while(S!==g)}}function ip(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function qg(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function L2(o){var l=o.alternate;l!==null&&(o.alternate=null,L2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[bo],delete l[au],delete l[Ri],delete l[Ig],delete l[Pg])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function R2(o){return o.tag===5||o.tag===3||o.tag===4}function D2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||R2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hg(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=ou));else if(g!==4&&(o=o.child,o!==null))for(Hg(o,l,f),o=o.sibling;o!==null;)Hg(o,l,f),o=o.sibling}function $g(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for($g(o,l,f),o=o.sibling;o!==null;)$g(o,l,f),o=o.sibling}var bi=null,ia=!1;function gu(o,l,f){for(f=f.child;f!==null;)O2(o,l,f),f=f.sibling}function O2(o,l,f){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(so,f)}catch{}switch(f.tag){case 5:Fi||hh(f,l);case 6:var g=bi,S=ia;bi=null,gu(o,l,f),bi=g,ia=S,bi!==null&&(ia?(o=bi,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):bi.removeChild(f.stateNode));break;case 18:bi!==null&&(ia?(o=bi,f=f.stateNode,o.nodeType===8?ff(o.parentNode,f):o.nodeType===1&&ff(o,f),Ur(o)):ff(bi,f.stateNode));break;case 4:g=bi,S=ia,bi=f.stateNode.containerInfo,ia=!0,gu(o,l,f),bi=g,ia=S;break;case 0:case 11:case 14:case 15:if(!Fi&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){S=g=g.next;do{var A=S,$=A.destroy;A=A.tag,$!==void 0&&((A&2)!==0||(A&4)!==0)&&zg(f,l,$),S=S.next}while(S!==g)}gu(o,l,f);break;case 1:if(!Fi&&(hh(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(ae){wr(f,l,ae)}gu(o,l,f);break;case 21:gu(o,l,f);break;case 22:f.mode&1?(Fi=(g=Fi)||f.memoizedState!==null,gu(o,l,f),Fi=g):gu(o,l,f);break;default:gu(o,l,f)}}function M2(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new nE),l.forEach(function(g){var S=fE.bind(null,o,g);f.has(g)||(f.add(g),g.then(S,S))})}}function sa(o,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var S=f[g];try{var A=o,$=l,ae=$;e:for(;ae!==null;){switch(ae.tag){case 5:bi=ae.stateNode,ia=!1;break e;case 3:bi=ae.stateNode.containerInfo,ia=!0;break e;case 4:bi=ae.stateNode.containerInfo,ia=!0;break e}ae=ae.return}if(bi===null)throw Error(t(160));O2(A,$,S),bi=null,ia=!1;var pe=S.alternate;pe!==null&&(pe.return=null),S.return=null}catch(Oe){wr(S,l,Oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)j2(l,o),l=l.sibling}function j2(o,l){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(sa(l,o),Oa(o),g&4){try{Sf(3,o,o.return),ip(3,o)}catch(Nt){wr(o,o.return,Nt)}try{Sf(5,o,o.return)}catch(Nt){wr(o,o.return,Nt)}}break;case 1:sa(l,o),Oa(o),g&512&&f!==null&&hh(f,f.return);break;case 5:if(sa(l,o),Oa(o),g&512&&f!==null&&hh(f,f.return),o.flags&32){var S=o.stateNode;try{kt(S,"")}catch(Nt){wr(o,o.return,Nt)}}if(g&4&&(S=o.stateNode,S!=null)){var A=o.memoizedProps,$=f!==null?f.memoizedProps:A,ae=o.type,pe=o.updateQueue;if(o.updateQueue=null,pe!==null)try{ae==="input"&&A.type==="radio"&&A.name!=null&&le(S,A),it(ae,$);var Oe=it(ae,A);for($=0;$<pe.length;$+=2){var tt=pe[$],rt=pe[$+1];tt==="style"?Mr(S,rt):tt==="dangerouslySetInnerHTML"?pt(S,rt):tt==="children"?kt(S,rt):q(S,tt,rt,Oe)}switch(ae){case"input":Mt(S,A);break;case"textarea":Ot(S,A);break;case"select":var et=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!A.multiple;var _t=A.value;_t!=null?lt(S,!!A.multiple,_t,!1):et!==!!A.multiple&&(A.defaultValue!=null?lt(S,!!A.multiple,A.defaultValue,!0):lt(S,!!A.multiple,A.multiple?[]:"",!1))}S[au]=A}catch(Nt){wr(o,o.return,Nt)}}break;case 6:if(sa(l,o),Oa(o),g&4){if(o.stateNode===null)throw Error(t(162));S=o.stateNode,A=o.memoizedProps;try{S.nodeValue=A}catch(Nt){wr(o,o.return,Nt)}}break;case 3:if(sa(l,o),Oa(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Ur(l.containerInfo)}catch(Nt){wr(o,o.return,Nt)}break;case 4:sa(l,o),Oa(o);break;case 13:sa(l,o),Oa(o),S=o.child,S.flags&8192&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(Kg=Ln())),g&4&&M2(o);break;case 22:if(tt=f!==null&&f.memoizedState!==null,o.mode&1?(Fi=(Oe=Fi)||tt,sa(l,o),Fi=Oe):sa(l,o),Oa(o),g&8192){if(Oe=o.memoizedState!==null,(o.stateNode.isHidden=Oe)&&!tt&&(o.mode&1)!==0)for(At=o,tt=o.child;tt!==null;){for(rt=At=tt;At!==null;){switch(et=At,_t=et.child,et.tag){case 0:case 11:case 14:case 15:Sf(4,et,et.return);break;case 1:hh(et,et.return);var Et=et.stateNode;if(typeof Et.componentWillUnmount=="function"){g=et,f=et.return;try{l=g,Et.props=l.memoizedProps,Et.state=l.memoizedState,Et.componentWillUnmount()}catch(Nt){wr(g,f,Nt)}}break;case 5:hh(et,et.return);break;case 22:if(et.memoizedState!==null){B2(rt);continue}}_t!==null?(_t.return=et,At=_t):B2(rt)}tt=tt.sibling}e:for(tt=null,rt=o;;){if(rt.tag===5){if(tt===null){tt=rt;try{S=rt.stateNode,Oe?(A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ae=rt.stateNode,pe=rt.memoizedProps.style,$=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,ae.style.display=rn("display",$))}catch(Nt){wr(o,o.return,Nt)}}}else if(rt.tag===6){if(tt===null)try{rt.stateNode.nodeValue=Oe?"":rt.memoizedProps}catch(Nt){wr(o,o.return,Nt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===o)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===o)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===o)break e;tt===rt&&(tt=null),rt=rt.return}tt===rt&&(tt=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:sa(l,o),Oa(o),g&4&&M2(o);break;case 21:break;default:sa(l,o),Oa(o)}}function Oa(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(R2(f)){var g=f;break e}f=f.return}throw Error(t(160))}switch(g.tag){case 5:var S=g.stateNode;g.flags&32&&(kt(S,""),g.flags&=-33);var A=D2(o);$g(o,A,S);break;case 3:case 4:var $=g.stateNode.containerInfo,ae=D2(o);Hg(o,ae,$);break;default:throw Error(t(161))}}catch(pe){wr(o,o.return,pe)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function iE(o,l,f){At=o,F2(o)}function F2(o,l,f){for(var g=(o.mode&1)!==0;At!==null;){var S=At,A=S.child;if(S.tag===22&&g){var $=S.memoizedState!==null||rp;if(!$){var ae=S.alternate,pe=ae!==null&&ae.memoizedState!==null||Fi;ae=rp;var Oe=Fi;if(rp=$,(Fi=pe)&&!Oe)for(At=S;At!==null;)$=At,pe=$.child,$.tag===22&&$.memoizedState!==null?U2(S):pe!==null?(pe.return=$,At=pe):U2(S);for(;A!==null;)At=A,F2(A),A=A.sibling;At=S,rp=ae,Fi=Oe}V2(o)}else(S.subtreeFlags&8772)!==0&&A!==null?(A.return=S,At=A):V2(o)}}function V2(o){for(;At!==null;){var l=At;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Fi||ip(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Fi)if(f===null)g.componentDidMount();else{var S=l.elementType===l.type?f.memoizedProps:ra(l.type,f.memoizedProps);g.componentDidUpdate(S,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&vl(l,A,g);break;case 3:var $=l.updateQueue;if($!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}vl(l,$,f)}break;case 5:var ae=l.stateNode;if(f===null&&l.flags&4){f=ae;var pe=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&f.focus();break;case"img":pe.src&&(f.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Oe=l.alternate;if(Oe!==null){var tt=Oe.memoizedState;if(tt!==null){var rt=tt.dehydrated;rt!==null&&Ur(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Fi||l.flags&512&&qg(l)}catch(et){wr(l,l.return,et)}}if(l===o){At=null;break}if(f=l.sibling,f!==null){f.return=l.return,At=f;break}At=l.return}}function B2(o){for(;At!==null;){var l=At;if(l===o){At=null;break}var f=l.sibling;if(f!==null){f.return=l.return,At=f;break}At=l.return}}function U2(o){for(;At!==null;){var l=At;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{ip(4,l)}catch(pe){wr(l,f,pe)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var S=l.return;try{g.componentDidMount()}catch(pe){wr(l,S,pe)}}var A=l.return;try{qg(l)}catch(pe){wr(l,A,pe)}break;case 5:var $=l.return;try{qg(l)}catch(pe){wr(l,$,pe)}}}catch(pe){wr(l,l.return,pe)}if(l===o){At=null;break}var ae=l.sibling;if(ae!==null){ae.return=l.return,At=ae;break}At=l.return}}var sE=Math.ceil,sp=ee.ReactCurrentDispatcher,Wg=ee.ReactCurrentOwner,Eo=ee.ReactCurrentBatchConfig,_n=0,ai=null,Rr=null,Si=0,Zs=0,fh=Ys(0),Wr=0,xf=null,gc=0,op=0,Gg=0,Tf=null,Ps=null,Kg=0,dh=1/0,bl=null,ap=!1,Yg=null,yu=null,lp=!1,vu=null,up=0,Af=0,Qg=null,cp=-1,hp=0;function cs(){return(_n&6)!==0?Ln():cp!==-1?cp:cp=Ln()}function wu(o){return(o.mode&1)===0?1:(_n&2)!==0&&Si!==0?Si&-Si:Dn.transition!==null?(hp===0&&(hp=lo()),hp):(o=on,o!==0||(o=window.event,o=o===void 0?16:Sa(o.type)),o)}function oa(o,l,f,g){if(50<Af)throw Af=0,Qg=null,Error(t(185));Us(o,f,g),((_n&2)===0||o!==ai)&&(o===ai&&((_n&2)===0&&(op|=f),Wr===4&&_u(o,Si)),Cs(o,g),f===1&&_n===0&&(l.mode&1)===0&&(dh=Ln()+500,fc&&P()))}function Cs(o,l){var f=o.callbackNode;rr(o,l);var g=Fr(o,o===ai?Si:0);if(g===0)f!==null&&io(f),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(f!=null&&io(f),l===1)o.tag===0?x(q2.bind(null,o)):v(q2.bind(null,o)),Ag(function(){(_n&6)===0&&P()}),f=null;else{switch(ps(g)){case 1:f=ds;break;case 4:f=Bs;break;case 16:f=Pi;break;case 536870912:f=ql;break;default:f=Pi}f=X2(f,z2.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function z2(o,l){if(cp=-1,hp=0,(_n&6)!==0)throw Error(t(327));var f=o.callbackNode;if(ph()&&o.callbackNode!==f)return null;var g=Fr(o,o===ai?Si:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=fp(o,g);else{l=g;var S=_n;_n|=2;var A=$2();(ai!==o||Si!==l)&&(bl=null,dh=Ln()+500,vc(o,l));do try{lE();break}catch(ae){H2(o,ae)}while(!0);$r(),sp.current=A,_n=S,Rr!==null?l=0:(ai=null,Si=0,l=Wr)}if(l!==0){if(l===2&&(S=Vr(o),S!==0&&(g=S,l=Xg(o,S))),l===1)throw f=xf,vc(o,0),_u(o,g),Cs(o,Ln()),f;if(l===6)_u(o,g);else{if(S=o.current.alternate,(g&30)===0&&!oE(S)&&(l=fp(o,g),l===2&&(A=Vr(o),A!==0&&(g=A,l=Xg(o,A))),l===1))throw f=xf,vc(o,0),_u(o,g),Cs(o,Ln()),f;switch(o.finishedWork=S,o.finishedLanes=g,l){case 0:case 1:throw Error(t(345));case 2:wc(o,Ps,bl);break;case 3:if(_u(o,g),(g&130023424)===g&&(l=Kg+500-Ln(),10<l)){if(Fr(o,0)!==0)break;if(S=o.suspendedLanes,(S&g)!==g){cs(),o.pingedLanes|=o.suspendedLanes&S;break}o.timeoutHandle=hf(wc.bind(null,o,Ps,bl),l);break}wc(o,Ps,bl);break;case 4:if(_u(o,g),(g&4194240)===g)break;for(l=o.eventTimes,S=-1;0<g;){var $=31-jr(g);A=1<<$,$=l[$],$>S&&(S=$),g&=~A}if(g=S,g=Ln()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*sE(g/1960))-g,10<g){o.timeoutHandle=hf(wc.bind(null,o,Ps,bl),g);break}wc(o,Ps,bl);break;case 5:wc(o,Ps,bl);break;default:throw Error(t(329))}}}return Cs(o,Ln()),o.callbackNode===f?z2.bind(null,o):null}function Xg(o,l){var f=Tf;return o.current.memoizedState.isDehydrated&&(vc(o,l).flags|=256),o=fp(o,l),o!==2&&(l=Ps,Ps=f,l!==null&&Jg(l)),o}function Jg(o){Ps===null?Ps=o:Ps.push.apply(Ps,o)}function oE(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var S=f[g],A=S.getSnapshot;S=S.value;try{if(!wn(A(),S))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function _u(o,l){for(l&=~Gg,l&=~op,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-jr(l),g=1<<f;o[f]=-1,l&=~g}}function q2(o){if((_n&6)!==0)throw Error(t(327));ph();var l=Fr(o,0);if((l&1)===0)return Cs(o,Ln()),null;var f=fp(o,l);if(o.tag!==0&&f===2){var g=Vr(o);g!==0&&(l=g,f=Xg(o,g))}if(f===1)throw f=xf,vc(o,0),_u(o,l),Cs(o,Ln()),f;if(f===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,wc(o,Ps,bl),Cs(o,Ln()),null}function Zg(o,l){var f=_n;_n|=1;try{return o(l)}finally{_n=f,_n===0&&(dh=Ln()+500,fc&&P())}}function yc(o){vu!==null&&vu.tag===0&&(_n&6)===0&&ph();var l=_n;_n|=1;var f=Eo.transition,g=on;try{if(Eo.transition=null,on=1,o)return o()}finally{on=g,Eo.transition=f,_n=l,(_n&6)===0&&P()}}function e0(){Zs=fh.current,Nn(fh)}function vc(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,Hd(f)),Rr!==null)for(f=Rr.return;f!==null;){var g=f;switch(me(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Zc();break;case 3:xo(),Nn(Di),Nn(Hr),vf();break;case 5:gf(g);break;case 4:xo();break;case 13:Nn(qn);break;case 19:Nn(qn);break;case 10:Mi(g.type._context);break;case 22:case 23:e0()}f=f.return}if(ai=o,Rr=o=bu(o.current,null),Si=Zs=l,Wr=0,xf=null,Gg=op=gc=0,Ps=Tf=null,ss!==null){for(l=0;l<ss.length;l++)if(f=ss[l],g=f.interleaved,g!==null){f.interleaved=null;var S=g.next,A=f.pending;if(A!==null){var $=A.next;A.next=S,g.next=$}f.pending=g}ss=null}return o}function H2(o,l){do{var f=Rr;try{if($r(),th.current=Zd,du){for(var g=Wn.memoizedState;g!==null;){var S=g.queue;S!==null&&(S.pending=null),g=g.next}du=!1}if(To=0,ur=vr=Wn=null,ta=!1,pu=0,Wg.current=null,f===null||f.return===null){Wr=1,xf=l,Rr=null;break}e:{var A=o,$=f.return,ae=f,pe=l;if(l=Si,ae.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Oe=pe,tt=ae,rt=tt.tag;if((tt.mode&1)===0&&(rt===0||rt===11||rt===15)){var et=tt.alternate;et?(tt.updateQueue=et.updateQueue,tt.memoizedState=et.memoizedState,tt.lanes=et.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var _t=m2($);if(_t!==null){_t.flags&=-257,g2(_t,$,ae,A,l),_t.mode&1&&p2(A,Oe,l),l=_t,pe=Oe;var Et=l.updateQueue;if(Et===null){var Nt=new Set;Nt.add(pe),l.updateQueue=Nt}else Et.add(pe);break e}else{if((l&1)===0){p2(A,Oe,l),t0();break e}pe=Error(t(426))}}else if(Be&&ae.mode&1){var Ir=m2($);if(Ir!==null){(Ir.flags&65536)===0&&(Ir.flags|=256),g2(Ir,$,ae,A,l),kn(ch(pe,ae));break e}}A=pe=ch(pe,ae),Wr!==4&&(Wr=2),Tf===null?Tf=[A]:Tf.push(A),A=$;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var Ne=f2(A,pe,l);Es(A,Ne);break e;case 1:ae=pe;var ve=A.type,Re=A.stateNode;if((A.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(yu===null||!yu.has(Re)))){A.flags|=65536,l&=-l,A.lanes|=l;var ot=d2(A,ae,l);Es(A,ot);break e}}A=A.return}while(A!==null)}G2(f)}catch(Lt){l=Lt,Rr===f&&f!==null&&(Rr=f=f.return);continue}break}while(!0)}function $2(){var o=sp.current;return sp.current=Zd,o===null?Zd:o}function t0(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),ai===null||(gc&268435455)===0&&(op&268435455)===0||_u(ai,Si)}function fp(o,l){var f=_n;_n|=2;var g=$2();(ai!==o||Si!==l)&&(bl=null,vc(o,l));do try{aE();break}catch(S){H2(o,S)}while(!0);if($r(),_n=f,sp.current=g,Rr!==null)throw Error(t(261));return ai=null,Si=0,Wr}function aE(){for(;Rr!==null;)W2(Rr)}function lE(){for(;Rr!==null&&!Do();)W2(Rr)}function W2(o){var l=Q2(o.alternate,o,Zs);o.memoizedProps=o.pendingProps,l===null?G2(o):Rr=l,Wg.current=null}function G2(o){var l=o;do{var f=l.alternate;if(o=l.return,(l.flags&32768)===0){if(f=eE(f,l,Zs),f!==null){Rr=f;return}}else{if(f=tE(f,l),f!==null){f.flags&=32767,Rr=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Wr=6,Rr=null;return}}if(l=l.sibling,l!==null){Rr=l;return}Rr=l=o}while(l!==null);Wr===0&&(Wr=5)}function wc(o,l,f){var g=on,S=Eo.transition;try{Eo.transition=null,on=1,uE(o,l,f,g)}finally{Eo.transition=S,on=g}return null}function uE(o,l,f,g){do ph();while(vu!==null);if((_n&6)!==0)throw Error(t(327));f=o.finishedWork;var S=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var A=f.lanes|f.childLanes;if(In(o,A),o===ai&&(Rr=ai=null,Si=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||lp||(lp=!0,X2(Pi,function(){return ph(),null})),A=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||A){A=Eo.transition,Eo.transition=null;var $=on;on=1;var ae=_n;_n|=4,Wg.current=null,rE(o,f),j2(f,o),ll(dl),ho=!!cc,dl=cc=null,o.current=f,iE(f),Ul(),_n=ae,on=$,Eo.transition=A}else o.current=f;if(lp&&(lp=!1,vu=o,up=S),A=o.pendingLanes,A===0&&(yu=null),Mo(f.stateNode),Cs(o,Ln()),l!==null)for(g=o.onRecoverableError,f=0;f<l.length;f++)S=l[f],g(S.value,{componentStack:S.stack,digest:S.digest});if(ap)throw ap=!1,o=Yg,Yg=null,o;return(up&1)!==0&&o.tag!==0&&ph(),A=o.pendingLanes,(A&1)!==0?o===Qg?Af++:(Af=0,Qg=o):Af=0,P(),null}function ph(){if(vu!==null){var o=ps(up),l=Eo.transition,f=on;try{if(Eo.transition=null,on=16>o?16:o,vu===null)var g=!1;else{if(o=vu,vu=null,up=0,(_n&6)!==0)throw Error(t(331));var S=_n;for(_n|=4,At=o.current;At!==null;){var A=At,$=A.child;if((At.flags&16)!==0){var ae=A.deletions;if(ae!==null){for(var pe=0;pe<ae.length;pe++){var Oe=ae[pe];for(At=Oe;At!==null;){var tt=At;switch(tt.tag){case 0:case 11:case 15:Sf(8,tt,A)}var rt=tt.child;if(rt!==null)rt.return=tt,At=rt;else for(;At!==null;){tt=At;var et=tt.sibling,_t=tt.return;if(L2(tt),tt===Oe){At=null;break}if(et!==null){et.return=_t,At=et;break}At=_t}}}var Et=A.alternate;if(Et!==null){var Nt=Et.child;if(Nt!==null){Et.child=null;do{var Ir=Nt.sibling;Nt.sibling=null,Nt=Ir}while(Nt!==null)}}At=A}}if((A.subtreeFlags&2064)!==0&&$!==null)$.return=A,At=$;else e:for(;At!==null;){if(A=At,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Sf(9,A,A.return)}var Ne=A.sibling;if(Ne!==null){Ne.return=A.return,At=Ne;break e}At=A.return}}var ve=o.current;for(At=ve;At!==null;){$=At;var Re=$.child;if(($.subtreeFlags&2064)!==0&&Re!==null)Re.return=$,At=Re;else e:for($=ve;At!==null;){if(ae=At,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:ip(9,ae)}}catch(Lt){wr(ae,ae.return,Lt)}if(ae===$){At=null;break e}var ot=ae.sibling;if(ot!==null){ot.return=ae.return,At=ot;break e}At=ae.return}}if(_n=S,P(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(so,o)}catch{}g=!0}return g}finally{on=f,Eo.transition=l}}return!1}function K2(o,l,f){l=ch(f,l),l=f2(o,l,1),o=As(o,l,1),l=cs(),o!==null&&(Us(o,1,l),Cs(o,l))}function wr(o,l,f){if(o.tag===3)K2(o,o,f);else for(;l!==null;){if(l.tag===3){K2(l,o,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(yu===null||!yu.has(g))){o=ch(f,o),o=d2(l,o,1),l=As(l,o,1),o=cs(),l!==null&&(Us(l,1,o),Cs(l,o));break}}l=l.return}}function cE(o,l,f){var g=o.pingCache;g!==null&&g.delete(l),l=cs(),o.pingedLanes|=o.suspendedLanes&f,ai===o&&(Si&f)===f&&(Wr===4||Wr===3&&(Si&130023424)===Si&&500>Ln()-Kg?vc(o,0):Gg|=f),Cs(o,l)}function Y2(o,l){l===0&&((o.mode&1)===0?l=1:(l=oo,oo<<=1,(oo&130023424)===0&&(oo=4194304)));var f=cs();o=Tn(o,l),o!==null&&(Us(o,l,f),Cs(o,f))}function hE(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),Y2(o,f)}function fE(o,l){var f=0;switch(o.tag){case 13:var g=o.stateNode,S=o.memoizedState;S!==null&&(f=S.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(l),Y2(o,f)}var Q2;Q2=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||Di.current)Is=!0;else{if((o.lanes&f)===0&&(l.flags&128)===0)return Is=!1,ZA(o,l,f);Is=(o.flags&131072)!==0}else Is=!1,Be&&(l.flags&1048576)!==0&&He(l,K,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;np(o,l),o=l.pendingProps;var S=uu(l,Hr.current);Zn(l,f),S=dc(null,l,g,o,S,f);var A=Ao();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Oi(g)?(A=!0,gl(l)):A=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,eh(l),S.updater=ep,l.stateNode=S,S._reactInternals=l,Lg(l,g,o,f),l=Mg(null,l,g,!0,A,f)):(l.tag=0,Be&&A&&Me(l),us(null,l,S,f),l=l.child),l;case 16:g=l.elementType;e:{switch(np(o,l),o=l.pendingProps,S=g._init,g=S(g._payload),l.type=g,S=l.tag=pE(g),o=ra(g,o),S){case 0:l=Og(null,l,g,o,f);break e;case 1:l=S2(null,l,g,o,f);break e;case 11:l=y2(null,l,g,o,f);break e;case 14:l=v2(null,l,g,ra(g.type,o),f);break e}throw Error(t(306,g,""))}return l;case 0:return g=l.type,S=l.pendingProps,S=l.elementType===g?S:ra(g,S),Og(o,l,g,S,f);case 1:return g=l.type,S=l.pendingProps,S=l.elementType===g?S:ra(g,S),S2(o,l,g,S,f);case 3:e:{if(x2(l),o===null)throw Error(t(387));g=l.pendingProps,A=l.memoizedState,S=A.element,mf(o,l),Zo(l,g,null,f);var $=l.memoizedState;if(g=$.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){S=ch(Error(t(423)),l),l=T2(o,l,g,f,S);break e}else if(g!==S){S=ch(Error(t(424)),l),l=T2(o,l,g,f,S);break e}else for(Ue=wi(l.stateNode.containerInfo.firstChild),ye=l,Be=!0,ze=null,f=xn(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(nn(),g===S){l=_l(o,l,f);break e}us(o,l,g,f)}l=l.child}return l;case 5:return Kd(l),o===null&&dt(l),g=l.type,S=l.pendingProps,A=o!==null?o.memoizedProps:null,$=S.children,cf(g,S)?$=null:A!==null&&cf(g,A)&&(l.flags|=32),b2(o,l),us(o,l,$,f),l.child;case 6:return o===null&&dt(l),null;case 13:return A2(o,l,f);case 4:return fu(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Tr(l,null,g,f):us(o,l,g,f),l.child;case 11:return g=l.type,S=l.pendingProps,S=l.elementType===g?S:ra(g,S),y2(o,l,g,S,f);case 7:return us(o,l,l.pendingProps,f),l.child;case 8:return us(o,l,l.pendingProps.children,f),l.child;case 12:return us(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,S=l.pendingProps,A=l.memoizedProps,$=S.value,Rn(si,g._currentValue),g._currentValue=$,A!==null)if(wn(A.value,$)){if(A.children===S.children&&!Di.current){l=_l(o,l,f);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var ae=A.dependencies;if(ae!==null){$=A.child;for(var pe=ae.firstContext;pe!==null;){if(pe.context===g){if(A.tag===1){pe=Ts(-1,f&-f),pe.tag=2;var Oe=A.updateQueue;if(Oe!==null){Oe=Oe.shared;var tt=Oe.pending;tt===null?pe.next=pe:(pe.next=tt.next,tt.next=pe),Oe.pending=pe}}A.lanes|=f,pe=A.alternate,pe!==null&&(pe.lanes|=f),xs(A.return,f,l),ae.lanes|=f;break}pe=pe.next}}else if(A.tag===10)$=A.type===l.type?null:A.child;else if(A.tag===18){if($=A.return,$===null)throw Error(t(341));$.lanes|=f,ae=$.alternate,ae!==null&&(ae.lanes|=f),xs($,f,l),$=A.sibling}else $=A.child;if($!==null)$.return=A;else for($=A;$!==null;){if($===l){$=null;break}if(A=$.sibling,A!==null){A.return=$.return,$=A;break}$=$.return}A=$}us(o,l,S.children,f),l=l.child}return l;case 9:return S=l.type,g=l.pendingProps.children,Zn(l,f),S=yr(S),g=g(S),l.flags|=1,us(o,l,g,f),l.child;case 14:return g=l.type,S=ra(g,l.pendingProps),S=ra(g.type,S),v2(o,l,g,S,f);case 15:return w2(o,l,l.type,l.pendingProps,f);case 17:return g=l.type,S=l.pendingProps,S=l.elementType===g?S:ra(g,S),np(o,l),l.tag=1,Oi(g)?(o=!0,gl(l)):o=!1,Zn(l,f),c2(l,g,S),Lg(l,g,S,f),Mg(null,l,g,!0,o,f);case 19:return I2(o,l,f);case 22:return _2(o,l,f)}throw Error(t(156,l.tag))};function X2(o,l){return Vs(o,l)}function dE(o,l,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Io(o,l,f,g){return new dE(o,l,f,g)}function n0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pE(o){if(typeof o=="function")return n0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===O)return 11;if(o===Le)return 14}return 2}function bu(o,l){var f=o.alternate;return f===null?(f=Io(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function dp(o,l,f,g,S,A){var $=2;if(g=o,typeof o=="function")n0(o)&&($=1);else if(typeof o=="string")$=5;else e:switch(o){case z:return _c(f.children,S,A,l);case N:$=8,S|=8;break;case U:return o=Io(12,f,l,S|2),o.elementType=U,o.lanes=A,o;case F:return o=Io(13,f,l,S),o.elementType=F,o.lanes=A,o;case ue:return o=Io(19,f,l,S),o.elementType=ue,o.lanes=A,o;case xe:return pp(f,S,A,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:$=10;break e;case R:$=9;break e;case O:$=11;break e;case Le:$=14;break e;case Ce:$=16,g=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=Io($,f,l,S),l.elementType=o,l.type=g,l.lanes=A,l}function _c(o,l,f,g){return o=Io(7,o,g,l),o.lanes=f,o}function pp(o,l,f,g){return o=Io(22,o,g,l),o.elementType=xe,o.lanes=f,o.stateNode={isHidden:!1},o}function r0(o,l,f){return o=Io(6,o,null,l),o.lanes=f,o}function i0(o,l,f){return l=Io(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function mE(o,l,f,g,S){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uo(0),this.expirationTimes=uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.identifierPrefix=g,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function s0(o,l,f,g,S,A,$,ae,pe){return o=new mE(o,l,f,ae,pe),l===1?(l=1,A===!0&&(l|=8)):l=0,A=Io(3,null,null,l),o.current=A,A.stateNode=o,A.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(A),o}function gE(o,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:g==null?null:""+g,children:o,containerInfo:l,implementation:f}}function J2(o){if(!o)return ka;o=o._reactInternals;e:{if(ar(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Oi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var f=o.type;if(Oi(f))return pf(o,f,l)}return l}function Z2(o,l,f,g,S,A,$,ae,pe){return o=s0(f,g,!0,o,S,A,$,ae,pe),o.context=J2(null),f=o.current,g=cs(),S=wu(f),A=Ts(g,S),A.callback=l??null,As(f,A,S),o.current.lanes=S,Us(o,S,g),Cs(o,g),o}function mp(o,l,f,g){var S=l.current,A=cs(),$=wu(S);return f=J2(f),l.context===null?l.context=f:l.pendingContext=f,l=Ts(A,$),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=As(S,l,$),o!==null&&(oa(o,S,$,A),yl(o,S,$)),$}function gp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function e5(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function o0(o,l){e5(o,l),(o=o.alternate)&&e5(o,l)}function yE(){return null}var t5=typeof reportError=="function"?reportError:function(o){console.error(o)};function a0(o){this._internalRoot=o}yp.prototype.render=a0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));mp(o,l,null,null)},yp.prototype.unmount=a0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;yc(function(){mp(null,o,null,null)}),l[ii]=null}};function yp(o){this._internalRoot=o}yp.prototype.unstable_scheduleHydration=function(o){if(o){var l=ms();o={blockedOn:null,target:o,priority:l};for(var f=0;f<gs.length&&l!==0&&l<gs[f].priority;f++);gs.splice(f,0,o),f===0&&ba(o)}};function l0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function vp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function n5(){}function vE(o,l,f,g,S){if(S){if(typeof g=="function"){var A=g;g=function(){var Oe=gp($);A.call(Oe)}}var $=Z2(l,g,o,0,null,!1,!1,"",n5);return o._reactRootContainer=$,o[ii]=$.current,hl(o.nodeType===8?o.parentNode:o),yc(),$}for(;S=o.lastChild;)o.removeChild(S);if(typeof g=="function"){var ae=g;g=function(){var Oe=gp(pe);ae.call(Oe)}}var pe=s0(o,0,!1,null,null,!1,!1,"",n5);return o._reactRootContainer=pe,o[ii]=pe.current,hl(o.nodeType===8?o.parentNode:o),yc(function(){mp(l,pe,f,g)}),pe}function wp(o,l,f,g,S){var A=f._reactRootContainer;if(A){var $=A;if(typeof S=="function"){var ae=S;S=function(){var pe=gp($);ae.call(pe)}}mp(l,$,o,S)}else $=vE(f,l,o,S,g);return gp($)}Hl=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=ao(l.pendingLanes);f!==0&&(zs(l,f|1),Cs(l,Ln()),(_n&6)===0&&(dh=Ln()+500,P()))}break;case 13:yc(function(){var g=Tn(o,1);if(g!==null){var S=cs();oa(g,o,1,S)}}),o0(o,1)}},wa=function(o){if(o.tag===13){var l=Tn(o,134217728);if(l!==null){var f=cs();oa(l,o,134217728,f)}o0(o,134217728)}},$l=function(o){if(o.tag===13){var l=wu(o),f=Tn(o,l);if(f!==null){var g=cs();oa(f,o,l,g)}o0(o,l)}},ms=function(){return on},Fo=function(o,l){var f=on;try{return on=o,l()}finally{on=f}},wt=function(o,l,f){switch(l){case"input":if(Mt(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==o&&g.form===o.form){var S=hc(g);if(!S)throw Error(t(90));ut(g),Mt(g,S)}}}break;case"textarea":Ot(o,f);break;case"select":l=f.value,l!=null&&lt(o,!!f.multiple,l,!1)}},xr=Zg,Vn=yc;var wE={usingClientEntryPoint:!1,Events:[lu,pl,hc,xt,Zt,Zg]},Ef={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_E={bundleType:Ef.bundleType,version:Ef.version,rendererPackageName:Ef.rendererPackageName,rendererConfig:Ef.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=js(o),o===null?null:o.stateNode},findFiberByHostInstance:Ef.findFiberByHostInstance||yE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{so=_p.inject(_E),hi=_p}catch{}}return Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wE,Ns.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l0(l))throw Error(t(200));return gE(o,l,null,f)},Ns.createRoot=function(o,l){if(!l0(o))throw Error(t(299));var f=!1,g="",S=t5;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=s0(o,1,!1,null,null,f,!1,g,S),o[ii]=l.current,hl(o.nodeType===8?o.parentNode:o),new a0(l)},Ns.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=js(l),o=o===null?null:o.stateNode,o},Ns.flushSync=function(o){return yc(o)},Ns.hydrate=function(o,l,f){if(!vp(l))throw Error(t(200));return wp(null,o,l,!0,f)},Ns.hydrateRoot=function(o,l,f){if(!l0(o))throw Error(t(405));var g=f!=null&&f.hydratedSources||null,S=!1,A="",$=t5;if(f!=null&&(f.unstable_strictMode===!0&&(S=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onRecoverableError!==void 0&&($=f.onRecoverableError)),l=Z2(l,null,o,1,f??null,S,!1,A,$),o[ii]=l.current,hl(o),g)for(o=0;o<g.length;o++)f=g[o],S=f._getVersion,S=S(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,S]:l.mutableSourceEagerHydrationData.push(f,S);return new yp(l)},Ns.render=function(o,l,f){if(!vp(l))throw Error(t(200));return wp(null,o,l,!1,f)},Ns.unmountComponentAtNode=function(o){if(!vp(o))throw Error(t(40));return o._reactRootContainer?(yc(function(){wp(null,null,o,!1,function(){o._reactRootContainer=null,o[ii]=null})}),!0):!1},Ns.unstable_batchedUpdates=Zg,Ns.unstable_renderSubtreeIntoContainer=function(o,l,f,g){if(!vp(f))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return wp(o,l,f,!1,g)},Ns.version="18.3.1-next-f1338f8080-20240426",Ns}var c5;function CE(){if(c5)return h0.exports;c5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),h0.exports=PE(),h0.exports}var h5;function NE(){if(h5)return bp;h5=1;var n=CE();return bp.createRoot=n.createRoot,bp.hydrateRoot=n.hydrateRoot,bp}var kE=NE(),Pf={},f5;function LE(){if(f5)return Pf;f5=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.parse=a,Pf.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function a(_,w){const E=new s,C=_.length;if(C<2)return E;const k=(w==null?void 0:w.decode)||m;let I=0;do{const j=_.indexOf("=",I);if(j===-1)break;const q=_.indexOf(";",I),ee=q===-1?C:q;if(j>ee){I=_.lastIndexOf(";",j-1)+1;continue}const ie=u(_,I,j),de=c(_,j,ie),z=_.slice(ie,de);if(E[z]===void 0){let N=u(_,j+1,ee),U=c(_,ee,N);const G=k(_.slice(N,U));E[z]=G}I=ee+1}while(I<C);return E}function u(_,w,E){do{const C=_.charCodeAt(w);if(C!==32&&C!==9)return w}while(++w<E);return E}function c(_,w,E){for(;w>E;){const C=_.charCodeAt(--w);if(C!==32&&C!==9)return w+1}return E}function h(_,w,E){const C=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const k=C(w);if(!e.test(k))throw new TypeError(`argument val is invalid: ${w}`);let I=_+"="+k;if(!E)return I;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);I+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);I+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);I+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);I+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(I+="; HttpOnly"),E.secure&&(I+="; Secure"),E.partitioned&&(I+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return I}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return i.call(_)==="[object Date]"}return Pf}LE();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d5="popstate";function RE(n={}){function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return n1("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ed(i)}return OE(e,t,null,n)}function hr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DE(){return Math.random().toString(36).substring(2,10)}function p5(n,e){return{usr:n.state,key:n.key,idx:e}}function n1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Jh(e):e,state:t,key:e&&e.key||r||DE()}}function ed({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Jh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function OE(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u="POP",c=null,h=m();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function m(){return(a.state||{idx:null}).idx}function y(){u="POP";let k=m(),I=k==null?null:k-h;h=k,c&&c({action:u,location:C.location,delta:I})}function _(k,I){u="PUSH";let j=n1(C.location,k,I);h=m()+1;let q=p5(j,h),ee=C.createHref(j);try{a.pushState(q,"",ee)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;i.location.assign(ee)}s&&c&&c({action:u,location:C.location,delta:1})}function w(k,I){u="REPLACE";let j=n1(C.location,k,I);h=m();let q=p5(j,h),ee=C.createHref(j);a.replaceState(q,"",ee),s&&c&&c({action:u,location:C.location,delta:0})}function E(k){let I=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof k=="string"?k:ed(k);return j=j.replace(/ $/,"%20"),hr(I,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,I)}let C={get action(){return u},get location(){return n(i,a)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(d5,y),c=k,()=>{i.removeEventListener(d5,y),c=null}},createHref(k){return e(i,k)},createURL:E,encodeLocation(k){let I=E(k);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:w,go(k){return a.go(k)}};return C}function i4(n,e,t="/"){return ME(n,e,t,!1)}function ME(n,e,t,r){let i=typeof e=="string"?Jh(e):e,s=kl(i.pathname||"/",t);if(s==null)return null;let a=s4(n);jE(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=KE(s);u=WE(a[c],h,r)}return u}function s4(n,e=[],t=[],r=""){let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(hr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=Pl([r,c.relativePath]),m=t.concat(c);s.children&&s.children.length>0&&(hr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),s4(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:HE(h,s.index),routesMeta:m})};return n.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of o4(s.path))i(s,a,c)}),e}function o4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=o4(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function jE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$E(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var FE=/^:[\w-]+$/,VE=3,BE=2,UE=1,zE=10,qE=-2,m5=n=>n==="*";function HE(n,e){let t=n.split("/"),r=t.length;return t.some(m5)&&(r+=qE),e&&(r+=BE),t.filter(i=>!m5(i)).reduce((i,s)=>i+(FE.test(s)?VE:s===""?UE:zE),r)}function $E(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function WE(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",y=nm({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),_=c.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=nm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),a.push({params:i,pathname:Pl([s,y.pathname]),pathnameBase:JE(Pl([s,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(s=Pl([s,y.pathnameBase]))}return a}function nm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=GE(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},_)=>{if(m==="*"){let E=u[_]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=u[_];return y&&!w?h[m]=void 0:h[m]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:n}}function GE(n,e=!1,t=!0){Wa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function kl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function YE(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Jh(n):n;return{pathname:t?t.startsWith("/")?t:QE(t,e):e,search:ZE(r),hash:eI(i)}}function QE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function p0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function a4(n){let e=XE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function l4(n,e,t,r=!1){let i;typeof n=="string"?i=Jh(n):(i={...n},hr(!i.pathname||!i.pathname.includes("?"),p0("?","pathname","search",i)),hr(!i.pathname||!i.pathname.includes("#"),p0("#","pathname","hash",i)),hr(!i.search||!i.search.includes("#"),p0("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=t;else{let y=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}u=y>=0?e[y]:"/"}let c=YE(i,u),h=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}var Pl=n=>n.join("/").replace(/\/\/+/g,"/"),JE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function tI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var u4=["POST","PUT","PATCH","DELETE"];new Set(u4);var nI=["GET",...u4];new Set(nI);var Zh=re.createContext(null);Zh.displayName="DataRouter";var Dm=re.createContext(null);Dm.displayName="DataRouterState";var c4=re.createContext({isTransitioning:!1});c4.displayName="ViewTransition";var rI=re.createContext(new Map);rI.displayName="Fetchers";var iI=re.createContext(null);iI.displayName="Await";var Ya=re.createContext(null);Ya.displayName="Navigation";var _d=re.createContext(null);_d.displayName="Location";var Vl=re.createContext({outlet:null,matches:[],isDataRoute:!1});Vl.displayName="Route";var vy=re.createContext(null);vy.displayName="RouteError";function sI(n,{relative:e}={}){hr(bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=re.useContext(Ya),{hash:i,pathname:s,search:a}=xd(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Pl([t,s])),r.createHref({pathname:u,search:a,hash:i})}function bd(){return re.useContext(_d)!=null}function Bc(){return hr(bd(),"useLocation() may be used only in the context of a <Router> component."),re.useContext(_d).location}var h4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f4(n){re.useContext(Ya).static||re.useLayoutEffect(n)}function Sd(){let{isDataRoute:n}=re.useContext(Vl);return n?vI():oI()}function oI(){hr(bd(),"useNavigate() may be used only in the context of a <Router> component.");let n=re.useContext(Zh),{basename:e,navigator:t}=re.useContext(Ya),{matches:r}=re.useContext(Vl),{pathname:i}=Bc(),s=JSON.stringify(a4(r)),a=re.useRef(!1);return f4(()=>{a.current=!0}),re.useCallback((c,h={})=>{if(Wa(a.current,h4),!a.current)return;if(typeof c=="number"){t.go(c);return}let m=l4(c,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Pl([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,s,i,n])}re.createContext(null);function xd(n,{relative:e}={}){let{matches:t}=re.useContext(Vl),{pathname:r}=Bc(),i=JSON.stringify(a4(t));return re.useMemo(()=>l4(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function aI(n,e){return d4(n,e)}function d4(n,e,t,r){var j;hr(bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=re.useContext(Ya),{matches:a}=re.useContext(Vl),u=a[a.length-1],c=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let q=y&&y.path||"";p4(h,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=Bc(),w;if(e){let q=typeof e=="string"?Jh(e):e;hr(m==="/"||((j=q.pathname)==null?void 0:j.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${q.pathname}" was given in the \`location\` prop.`),w=q}else w=_;let E=w.pathname||"/",C=E;if(m!=="/"){let q=m.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=!s&&t&&t.matches&&t.matches.length>0?t.matches:i4(n,{pathname:C});Wa(y||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Wa(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=fI(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},c,q.params),pathname:Pl([m,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?m:Pl([m,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),a,t,r);return e&&I?re.createElement(_d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},I):I}function lI(){let n=yI(),e=tI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=re.createElement(re.Fragment,null,re.createElement("p",null," Hey developer "),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:s},"ErrorBoundary")," or"," ",re.createElement("code",{style:s},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),t?re.createElement("pre",{style:i},t):null,a)}var uI=re.createElement(lI,null),cI=class extends re.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?re.createElement(Vl.Provider,{value:this.props.routeContext},re.createElement(vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hI({routeContext:n,match:e,children:t}){let r=re.useContext(Zh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),re.createElement(Vl.Provider,{value:n},t)}function fI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);hr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:m,errors:y}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||_){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,m)=>{let y,_=!1,w=null,E=null;t&&(y=s&&h.route.id?s[h.route.id]:void 0,w=h.route.errorElement||uI,a&&(u<0&&m===0?(p4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):u===m&&(_=!0,E=h.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,m+1)),k=()=>{let I;return y?I=w:_?I=E:h.route.Component?I=re.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=c,re.createElement(hI,{match:h,routeContext:{outlet:c,matches:C,isDataRoute:t!=null},children:I})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?re.createElement(cI,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):k()},null)}function wy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dI(n){let e=re.useContext(Zh);return hr(e,wy(n)),e}function pI(n){let e=re.useContext(Dm);return hr(e,wy(n)),e}function mI(n){let e=re.useContext(Vl);return hr(e,wy(n)),e}function _y(n){let e=mI(n),t=e.matches[e.matches.length-1];return hr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gI(){return _y("useRouteId")}function yI(){var r;let n=re.useContext(vy),e=pI("useRouteError"),t=_y("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function vI(){let{router:n}=dI("useNavigate"),e=_y("useNavigate"),t=re.useRef(!1);return f4(()=>{t.current=!0}),re.useCallback(async(i,s={})=>{Wa(t.current,h4),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var g5={};function p4(n,e,t){!e&&!g5[n]&&(g5[n]=!0,Wa(!1,t))}re.memo(wI);function wI({routes:n,future:e,state:t}){return d4(n,void 0,t,e)}function Rf(n){hr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _I({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){hr(!bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=re.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=Jh(t));let{pathname:c="/",search:h="",hash:m="",state:y=null,key:_="default"}=t,w=re.useMemo(()=>{let E=kl(c,a);return E==null?null:{location:{pathname:E,search:h,hash:m,state:y,key:_},navigationType:r}},[a,c,h,m,y,_,r]);return Wa(w!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:re.createElement(Ya.Provider,{value:u},re.createElement(_d.Provider,{children:e,value:w}))}function bI({children:n,location:e}){return aI(r1(n),e)}function r1(n,e=[]){let t=[];return re.Children.forEach(n,(r,i)=>{if(!re.isValidElement(r))return;let s=[...e,i];if(r.type===re.Fragment){t.push.apply(t,r1(r.props.children,s));return}hr(r.type===Rf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=r1(r.props.children,s)),t.push(a)}),t}var jp="get",Fp="application/x-www-form-urlencoded";function Om(n){return n!=null&&typeof n.tagName=="string"}function SI(n){return Om(n)&&n.tagName.toLowerCase()==="button"}function xI(n){return Om(n)&&n.tagName.toLowerCase()==="form"}function TI(n){return Om(n)&&n.tagName.toLowerCase()==="input"}function AI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function EI(n,e){return n.button===0&&(!e||e==="_self")&&!AI(n)}var Sp=null;function II(){if(Sp===null)try{new FormData(document.createElement("form"),0),Sp=!1}catch{Sp=!0}return Sp}var PI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function m0(n){return n!=null&&!PI.has(n)?(Wa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fp}"`),null):n}function CI(n,e){let t,r,i,s,a;if(xI(n)){let u=n.getAttribute("action");r=u?kl(u,e):null,t=n.getAttribute("method")||jp,i=m0(n.getAttribute("enctype"))||Fp,s=new FormData(n)}else if(SI(n)||TI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?kl(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||jp,i=m0(n.getAttribute("formenctype"))||m0(u.getAttribute("enctype"))||Fp,s=new FormData(u,n),!II()){let{name:h,type:m,value:y}=n;if(m==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,y)}}else{if(Om(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jp,r=null,i=Fp,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}function by(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function NI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LI(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await NI(s,t);return a.links?a.links():[]}return[]}));return MI(r.flat(1).filter(kI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function y5(n,e,t,r,i,s){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>{var m;return t[h].pathname!==c.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>a(c,h)||u(c,h)):s==="data"?e.filter((c,h)=>{var y;let m=r.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(a(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let _=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function RI(n,e,{includeHydrateFallback:t}={}){return DI(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function DI(n){return[...new Set(n)]}function OI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function MI(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(OI(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function jI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&kl(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function m4(){let n=re.useContext(Zh);return by(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function FI(){let n=re.useContext(Dm);return by(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Sy=re.createContext(void 0);Sy.displayName="FrameworkContext";function g4(){let n=re.useContext(Sy);return by(n,"You must render this element inside a <HydratedRouter> element"),n}function VI(n,e){let t=re.useContext(Sy),[r,i]=re.useState(!1),[s,a]=re.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,_=re.useRef(null);re.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let C=I=>{I.forEach(j=>{a(j.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[n]),re.useEffect(()=>{if(r){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[r]);let w=()=>{i(!0)},E=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:Cf(u,w),onBlur:Cf(c,E),onMouseEnter:Cf(h,w),onMouseLeave:Cf(m,E),onTouchStart:Cf(y,w)}]:[!1,_,{}]}function Cf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BI({page:n,...e}){let{router:t}=m4(),r=re.useMemo(()=>i4(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?re.createElement(zI,{page:n,matches:r,...e}):null}function UI(n){let{manifest:e,routeModules:t}=g4(),[r,i]=re.useState([]);return re.useEffect(()=>{let s=!1;return LI(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function zI({page:n,matches:e,...t}){let r=Bc(),{manifest:i,routeModules:s}=g4(),{basename:a}=m4(),{loaderData:u,matches:c}=FI(),h=re.useMemo(()=>y5(n,e,c,i,r,"data"),[n,e,c,i,r]),m=re.useMemo(()=>y5(n,e,c,i,r,"assets"),[n,e,c,i,r]),y=re.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,C=!1;if(e.forEach(I=>{var q;let j=i.routes[I.route.id];!j||!j.hasLoader||(!h.some(ee=>ee.route.id===I.route.id)&&I.route.id in u&&((q=s[I.route.id])!=null&&q.shouldRevalidate)||j.hasClientLoader?C=!0:E.add(I.route.id))}),E.size===0)return[];let k=jI(n,a);return C&&E.size>0&&k.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[k.pathname+k.search]},[a,u,r,i,h,e,n,s]),_=re.useMemo(()=>RI(m,i),[m,i]),w=UI(m);return re.createElement(re.Fragment,null,y.map(E=>re.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),_.map(E=>re.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),w.map(({key:E,link:C})=>re.createElement("link",{key:E,...C})))}function qI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y4&&(window.__reactRouterVersion="7.4.1")}catch{}function HI({basename:n,children:e,window:t}){let r=re.useRef();r.current==null&&(r.current=RE({window:t,v5Compat:!0}));let i=r.current,[s,a]=re.useState({action:i.action,location:i.location}),u=re.useCallback(c=>{re.startTransition(()=>a(c))},[a]);return re.useLayoutEffect(()=>i.listen(u),[i,u]),re.createElement(_I,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var v4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mm=re.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:u,target:c,to:h,preventScrollReset:m,viewTransition:y,..._},w){let{basename:E}=re.useContext(Ya),C=typeof h=="string"&&v4.test(h),k,I=!1;if(typeof h=="string"&&C&&(k=h,y4))try{let U=new URL(window.location.href),G=h.startsWith("//")?new URL(U.protocol+h):new URL(h),R=kl(G.pathname,E);G.origin===U.origin&&R!=null?h=R+G.search+G.hash:I=!0}catch{Wa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=sI(h,{relative:i}),[q,ee,ie]=VI(r,_),de=KI(h,{replace:a,state:u,target:c,preventScrollReset:m,relative:i,viewTransition:y});function z(U){e&&e(U),U.defaultPrevented||de(U)}let N=re.createElement("a",{..._,...ie,href:k||j,onClick:I||s?e:z,ref:qI(w,ee),target:c,"data-discover":!C&&t==="render"?"true":void 0});return q&&!C?re.createElement(re.Fragment,null,N,re.createElement(BI,{page:j})):N});Mm.displayName="Link";var $I=re.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:u,children:c,...h},m){let y=xd(a,{relative:h.relative}),_=Bc(),w=re.useContext(Dm),{navigator:E,basename:C}=re.useContext(Ya),k=w!=null&&ZI(y)&&u===!0,I=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,j=_.pathname,q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(j=j.toLowerCase(),q=q?q.toLowerCase():null,I=I.toLowerCase()),q&&C&&(q=kl(q,C)||q);const ee=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let ie=j===I||!i&&j.startsWith(I)&&j.charAt(ee)==="/",de=q!=null&&(q===I||!i&&q.startsWith(I)&&q.charAt(I.length)==="/"),z={isActive:ie,isPending:de,isTransitioning:k},N=ie?e:void 0,U;typeof r=="function"?U=r(z):U=[r,ie?"active":null,de?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(z):s;return re.createElement(Mm,{...h,"aria-current":N,className:U,ref:m,style:G,to:a,viewTransition:u},typeof c=="function"?c(z):c)});$I.displayName="NavLink";var WI=re.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=jp,action:u,onSubmit:c,relative:h,preventScrollReset:m,viewTransition:y,..._},w)=>{let E=XI(),C=JI(u,{relative:h}),k=a.toLowerCase()==="get"?"get":"post",I=typeof u=="string"&&v4.test(u),j=q=>{if(c&&c(q),q.defaultPrevented)return;q.preventDefault();let ee=q.nativeEvent.submitter,ie=(ee==null?void 0:ee.getAttribute("formmethod"))||a;E(ee||q.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:y})};return re.createElement("form",{ref:w,method:k,action:C,onSubmit:r?c:j,..._,"data-discover":!I&&n==="render"?"true":void 0})});WI.displayName="Form";function GI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w4(n){let e=re.useContext(Zh);return hr(e,GI(n)),e}function KI(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let u=Sd(),c=Bc(),h=xd(n,{relative:s});return re.useCallback(m=>{if(EI(m,e)){m.preventDefault();let y=t!==void 0?t:ed(c)===ed(h);u(n,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[c,u,h,t,r,e,n,i,s,a])}var YI=0,QI=()=>`__${String(++YI)}__`;function XI(){let{router:n}=w4("useSubmit"),{basename:e}=re.useContext(Ya),t=gI();return re.useCallback(async(r,i={})=>{let{action:s,method:a,encType:u,formData:c,body:h}=CI(r,e);if(i.navigate===!1){let m=i.fetcherKey||QI();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function JI(n,{relative:e}={}){let{basename:t}=re.useContext(Ya),r=re.useContext(Vl);hr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...xd(n||".",{relative:e})},a=Bc();if(n==null){s.search=a.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(m=>m==="")){u.delete("index"),c.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Pl([t,s.pathname])),ed(s)}function ZI(n,e={}){let t=re.useContext(c4);hr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=w4("useViewTransitionState"),i=xd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=kl(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=kl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return nm(i.pathname,a)!=null||nm(i.pathname,s)!=null}new TextEncoder;const eP=()=>{};var v5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],u=n[t++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},b4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,u=a?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,m=s>>2,y=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,w=h&63;c||(w=64,a||(_=64)),r.push(t[m],t[y],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||y==null)throw new nP;const _=s<<2|u>>4;if(r.push(_),h!==64){const w=u<<4&240|h>>2;if(r.push(w),y!==64){const E=h<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rP=function(n){const e=_4(n);return b4.encodeByteArray(e,!0)},rm=function(n){return rP(n).replace(/\./g,"")},S4=function(n){try{return b4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=()=>iP().__FIREBASE_DEFAULTS__,oP=()=>{if(typeof process>"u"||typeof v5>"u")return;const n=v5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&S4(n[1]);return e&&JSON.parse(e)},jm=()=>{try{return eP()||sP()||oP()||aP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},x4=n=>{var e,t;return(t=(e=jm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},lP=n=>{const e=x4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},T4=()=>{var n;return(n=jm())===null||n===void 0?void 0:n.config},A4=n=>{var e;return(e=jm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rm(JSON.stringify(t)),rm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qi())}function fP(){var n;const e=(n=jm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mP(){const n=Qi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gP(){return!fP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I4(){try{return typeof indexedDB=="object"}catch{return!1}}function P4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function yP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="FirebaseError";class ma extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vP,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uc.prototype.create)}}class Uc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?wP(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new ma(i,u,r)}}function wP(n,e){return n.replace(_P,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _P=/\{\$([^}]+)}/g;function bP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(w5(s)&&w5(a)){if(!Rc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function w5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Df(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Of(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SP(n,e){const t=new xP(n,e);return t.subscribe.bind(t)}class xP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");TP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=g0),i.error===void 0&&(i.error=g0),i.complete===void 0&&(i.complete=g0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function g0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=1e3,EP=2,IP=4*60*60*1e3,PP=.5;function _5(n,e=AP,t=EP){const r=e*Math.pow(t,n),i=Math.round(PP*r*(Math.random()-.5)*2);return Math.min(IP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n){return n&&n._delegate?n._delegate:n}class fa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new uP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kP(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NP(n){return n===Sc?void 0:n}function kP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(hn||(hn={}));const RP={debug:hn.DEBUG,verbose:hn.VERBOSE,info:hn.INFO,warn:hn.WARN,error:hn.ERROR,silent:hn.SILENT},DP=hn.INFO,OP={[hn.DEBUG]:"log",[hn.VERBOSE]:"log",[hn.INFO]:"info",[hn.WARN]:"warn",[hn.ERROR]:"error"},MP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=OP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=DP,this._logHandler=MP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hn.DEBUG,...e),this._logHandler(this,hn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hn.VERBOSE,...e),this._logHandler(this,hn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hn.INFO,...e),this._logHandler(this,hn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hn.WARN,...e),this._logHandler(this,hn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hn.ERROR,...e),this._logHandler(this,hn.ERROR,...e)}}const jP=(n,e)=>e.some(t=>n instanceof t);let b5,S5;function FP(){return b5||(b5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VP(){return S5||(S5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C4=new WeakMap,i1=new WeakMap,N4=new WeakMap,y0=new WeakMap,xy=new WeakMap;function BP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Du(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&C4.set(t,n)}).catch(()=>{}),xy.set(e,n),e}function UP(n){if(i1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});i1.set(n,e)}let s1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return i1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||N4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Du(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zP(n){s1=n(s1)}function qP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(v0(this),e,...t);return N4.set(r,e.sort?e.sort():[e]),Du(r)}:VP().includes(n)?function(...e){return n.apply(v0(this),e),Du(C4.get(this))}:function(...e){return Du(n.apply(v0(this),e))}}function HP(n){return typeof n=="function"?qP(n):(n instanceof IDBTransaction&&UP(n),jP(n,FP())?new Proxy(n,s1):n)}function Du(n){if(n instanceof IDBRequest)return BP(n);if(y0.has(n))return y0.get(n);const e=HP(n);return e!==n&&(y0.set(n,e),xy.set(e,n)),e}const v0=n=>xy.get(n);function k4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),u=Du(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Du(a.result),c.oldVersion,c.newVersion,Du(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const $P=["get","getKey","getAll","getAllKeys","count"],WP=["put","add","delete","clear"],w0=new Map;function x5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(w0.get(e))return w0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=WP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$P.includes(t)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return w0.set(e,s),s}zP(n=>({...n,get:(e,t,r)=>x5(e,t)||n.get(e,t,r),has:(e,t)=>!!x5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function KP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const o1="@firebase/app",T5="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new Fm("@firebase/app"),YP="@firebase/app-compat",QP="@firebase/analytics-compat",XP="@firebase/analytics",JP="@firebase/app-check-compat",ZP="@firebase/app-check",eC="@firebase/auth",tC="@firebase/auth-compat",nC="@firebase/database",rC="@firebase/data-connect",iC="@firebase/database-compat",sC="@firebase/functions",oC="@firebase/functions-compat",aC="@firebase/installations",lC="@firebase/installations-compat",uC="@firebase/messaging",cC="@firebase/messaging-compat",hC="@firebase/performance",fC="@firebase/performance-compat",dC="@firebase/remote-config",pC="@firebase/remote-config-compat",mC="@firebase/storage",gC="@firebase/storage-compat",yC="@firebase/firestore",vC="@firebase/vertexai",wC="@firebase/firestore-compat",_C="firebase",bC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="[DEFAULT]",SC={[o1]:"fire-core",[YP]:"fire-core-compat",[XP]:"fire-analytics",[QP]:"fire-analytics-compat",[ZP]:"fire-app-check",[JP]:"fire-app-check-compat",[eC]:"fire-auth",[tC]:"fire-auth-compat",[nC]:"fire-rtdb",[rC]:"fire-data-connect",[iC]:"fire-rtdb-compat",[sC]:"fire-fn",[oC]:"fire-fn-compat",[aC]:"fire-iid",[lC]:"fire-iid-compat",[uC]:"fire-fcm",[cC]:"fire-fcm-compat",[hC]:"fire-perf",[fC]:"fire-perf-compat",[dC]:"fire-rc",[pC]:"fire-rc-compat",[mC]:"fire-gcs",[gC]:"fire-gcs-compat",[yC]:"fire-fst",[wC]:"fire-fst-compat",[vC]:"fire-vertex","fire-js":"fire-js",[_C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map,xC=new Map,l1=new Map;function A5(n,e){try{n.container.addComponent(e)}catch(t){Ll.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ga(n){const e=n.name;if(l1.has(e))return Ll.debug(`There were multiple attempts to register component ${e}.`),!1;l1.set(e,n);for(const t of im.values())A5(t,n);for(const t of xC.values())A5(t,n);return!0}function Ad(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ha(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ou=new Uc("app","Firebase",TC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ou.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=bC;function L4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:a1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ou.create("bad-app-name",{appName:String(i)});if(t||(t=T4()),!t)throw Ou.create("no-options");const s=im.get(i);if(s){if(Rc(t,s.options)&&Rc(r,s.config))return s;throw Ou.create("duplicate-app",{appName:i})}const a=new LP(i);for(const c of l1.values())a.addComponent(c);const u=new AC(t,r,a);return im.set(i,u),u}function R4(n=a1){const e=im.get(n);if(!e&&n===a1&&T4())return L4();if(!e)throw Ou.create("no-app",{appName:n});return e}function No(n,e,t){var r;let i=(r=SC[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ll.warn(u.join(" "));return}Ga(new fa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebase-heartbeat-database",IC=1,td="firebase-heartbeat-store";let _0=null;function D4(){return _0||(_0=k4(EC,IC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(td)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ou.create("idb-open",{originalErrorMessage:n.message})})),_0}async function PC(n){try{const t=(await D4()).transaction(td),r=await t.objectStore(td).get(O4(n));return await t.done,r}catch(e){if(e instanceof ma)Ll.warn(e.message);else{const t=Ou.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ll.warn(t.message)}}}async function E5(n,e){try{const r=(await D4()).transaction(td,"readwrite");await r.objectStore(td).put(e,O4(n)),await r.done}catch(t){if(t instanceof ma)Ll.warn(t.message);else{const r=Ou.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ll.warn(r.message)}}}function O4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=1024,NC=30;class kC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=I5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>NC){const a=DC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ll.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=I5(),{heartbeatsToSend:r,unsentEntries:i}=LC(this._heartbeatsCache.heartbeats),s=rm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ll.warn(t),""}}}function I5(){return new Date().toISOString().substring(0,10)}function LC(n,e=CC){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),P5(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),P5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I4()?P4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return E5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return E5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P5(n){return rm(JSON.stringify({version:2,heartbeats:n})).length}function DC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n){Ga(new fa("platform-logger",e=>new GP(e),"PRIVATE")),Ga(new fa("heartbeat",e=>new kC(e),"PRIVATE")),No(o1,T5,n),No(o1,T5,"esm2017"),No("fire-js","")}OC("");function Ty(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function M4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MC=M4,j4=new Uc("auth","Firebase",M4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Fm("@firebase/auth");function jC(n,...e){sm.logLevel<=hn.WARN&&sm.warn(`Auth (${ef}): ${n}`,...e)}function Vp(n,...e){sm.logLevel<=hn.ERROR&&sm.error(`Auth (${ef}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(n,...e){throw Ay(n,...e)}function Va(n,...e){return Ay(n,...e)}function F4(n,e,t){const r=Object.assign(Object.assign({},MC()),{[e]:t});return new Uc("auth","Firebase",r).create(e,{appName:n.name})}function Mu(n){return F4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return j4.create(n,...e)}function $t(n,e,...t){if(!n)throw Ay(e,...t)}function Tl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vp(e),new Error(e)}function Rl(n,e){n||Tl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FC(){return C5()==="http:"||C5()==="https:"}function C5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FC()||E4()||"connection"in navigator)?navigator.onLine:!0}function BC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rl(t>e,"Short delay should be less than long delay!"),this.isMobile=hP()||pP()}get(){return VC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n,e){Rl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Ed(3e4,6e4);function zc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Bl(n,e,t,r,i={}){return B4(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=Td(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},s);return dP()||(h.referrerPolicy="no-referrer"),V4.fetch()(U4(n,n.config.apiHost,t,u),h)})}async function B4(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},UC),e);try{const i=new HC(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw xp(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xp(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw xp(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw xp(n,"user-disabled",a);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw F4(n,m,h);da(n,m)}}catch(i){if(i instanceof ma)throw i;da(n,"network-request-failed",{message:String(i)})}}async function Vm(n,e,t,r,i={}){const s=await Bl(n,e,t,r,i);return"mfaPendingCredential"in s&&da(n,"multi-factor-auth-required",{_serverResponse:s}),s}function U4(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Ey(n.config,i):`${n.config.apiScheme}://${i}`}function qC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Va(this.auth,"network-request-failed")),zC.get())})}}function xp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Va(n,e,r);return i.customData._tokenResponse=t,i}function N5(n){return n!==void 0&&n.enterprise!==void 0}class $C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WC(n,e){return Bl(n,"GET","/v2/recaptchaConfig",zc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n,e){return Bl(n,"POST","/v1/accounts:delete",e)}async function z4(n,e){return Bl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KC(n,e=!1){const t=Sr(n),r=await t.getIdToken(e),i=Iy(r);$t(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zf(b0(i.auth_time)),issuedAtTime:zf(b0(i.iat)),expirationTime:zf(b0(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function b0(n){return Number(n)*1e3}function Iy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vp("JWT malformed, contained fewer than 3 sections"),null;try{const i=S4(t);return i?JSON.parse(i):(Vp("Failed to decode base64 JWT payload"),null)}catch(i){return Vp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k5(n){const e=Iy(n);return $t(e,"internal-error"),$t(typeof e.exp<"u","internal-error"),$t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ma&&YC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function YC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zf(this.lastLoginAt),this.creationTime=zf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Bh(n,z4(t,{idToken:r}));$t(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?q4(s.providerUserInfo):[],u=JC(n.providerData,a),c=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=c?h:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new c1(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function XC(n){const e=Sr(n);await om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JC(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function q4(n){return n.map(e=>{var{providerId:t}=e,r=Ty(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(n,e){const t=await B4(n,{},async()=>{const r=Td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=U4(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",V4.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eN(n,e){return Bl(n,"POST","/v2/accounts:revokeToken",zc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$t(e.idToken,"internal-error"),$t(typeof e.idToken<"u","internal-error"),$t(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$t(e.length!==0,"internal-error");const t=k5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await ZC(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new kh;return r&&($t(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&($t(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&($t(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kh,this.toJSON())}_performRefresh(){return Tl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(n,e){$t(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Al{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new c1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Bh(this,this.stsTokenManager.getToken(this.auth,e));return $t(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KC(this,e)}reload(){return XC(this)}_assign(e){this!==e&&($t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Al(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await om(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ha(this.auth.app))return Promise.reject(Mu(this.auth));const e=await this.getIdToken();return await Bh(this,GC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,u,c,h,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,w=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,E=(a=t.photoURL)!==null&&a!==void 0?a:void 0,C=(u=t.tenantId)!==null&&u!==void 0?u:void 0,k=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(h=t.createdAt)!==null&&h!==void 0?h:void 0,j=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:q,emailVerified:ee,isAnonymous:ie,providerData:de,stsTokenManager:z}=t;$t(q&&z,e,"internal-error");const N=kh.fromJSON(this.name,z);$t(typeof q=="string",e,"internal-error"),xu(y,e.name),xu(_,e.name),$t(typeof ee=="boolean",e,"internal-error"),$t(typeof ie=="boolean",e,"internal-error"),xu(w,e.name),xu(E,e.name),xu(C,e.name),xu(k,e.name),xu(I,e.name),xu(j,e.name);const U=new Al({uid:q,auth:e,email:_,emailVerified:ee,displayName:y,isAnonymous:ie,photoURL:E,phoneNumber:w,tenantId:C,stsTokenManager:N,createdAt:I,lastLoginAt:j});return de&&Array.isArray(de)&&(U.providerData=de.map(G=>Object.assign({},G))),k&&(U._redirectEventId=k),U}static async _fromIdTokenResponse(e,t,r=!1){const i=new kh;i.updateFromServerResponse(t);const s=new Al({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await om(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];$t(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?q4(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new kh;u.updateFromIdToken(r);const c=new Al({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new c1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new Map;function El(n){Rl(n instanceof Function,"Expected a class definition");let e=L5.get(n);return e?(Rl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,L5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}H4.type="NONE";const R5=H4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n,e,t){return`firebase:${n}:${e}:${t}`}class Lh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Al._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Lh(El(R5),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||El(R5);const a=Bp(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(a);if(m){const y=Al._fromJSON(e,m);h!==s&&(u=y),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Lh(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Lh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q4(e))return"Blackberry";if(X4(e))return"Webos";if(W4(e))return"Safari";if((e.includes("chrome/")||G4(e))&&!e.includes("edge/"))return"Chrome";if(Y4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $4(n=Qi()){return/firefox\//i.test(n)}function W4(n=Qi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G4(n=Qi()){return/crios\//i.test(n)}function K4(n=Qi()){return/iemobile/i.test(n)}function Y4(n=Qi()){return/android/i.test(n)}function Q4(n=Qi()){return/blackberry/i.test(n)}function X4(n=Qi()){return/webos/i.test(n)}function Py(n=Qi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tN(n=Qi()){var e;return Py(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nN(){return mP()&&document.documentMode===10}function J4(n=Qi()){return Py(n)||Y4(n)||X4(n)||Q4(n)||/windows phone/i.test(n)||K4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n,e=[]){let t;switch(n){case"Browser":t=D5(Qi());break;case"Worker":t=`${D5(Qi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ef}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e={}){return Bl(n,"GET","/v2/passwordPolicy",zc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=6;class oN{constructor(e){var t,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:sN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O5(this),this.idTokenSubscription=new O5(this),this.beforeStateQueue=new rN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=El(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Lh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await z4(this,{idToken:e}),r=await Al._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ha(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await om(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ha(this.app))return Promise.reject(Mu(this));const t=e?Sr(e):null;return t&&$t(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ha(this.app)?Promise.reject(Mu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ha(this.app)?Promise.reject(Mu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(El(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iN(this),t=new oN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await eN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&El(e)||this._popupRedirectResolver;$t(t,this,"argument-error"),this.redirectPersistenceManager=await Lh.create(this,[El(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($t(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ha(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function tf(n){return Sr(n)}class O5{constructor(e){this.auth=e,this.observer=null,this.addObserver=SP(t=>this.observer=t)}get next(){return $t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lN(n){Bm=n}function eS(n){return Bm.loadJS(n)}function uN(){return Bm.recaptchaEnterpriseScript}function cN(){return Bm.gapiScript}function hN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fN{constructor(){this.enterprise=new dN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pN="recaptcha-enterprise",tS="NO_RECAPTCHA";class mN{constructor(e){this.type=pN,this.auth=tf(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{WC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new $C(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;N5(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(tS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fN().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(u=>{if(!t&&N5(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=uN();c.length!==0&&(c+=u),eS(c).then(()=>{i(u,s,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function M5(n,e,t,r=!1,i=!1){const s=new mN(n);let a;if(i)a=tS;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function j5(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await M5(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await M5(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n,e){const t=Ad(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Rc(s,e??{}))return i;da(i,"already-initialized")}return t.initialize({options:e})}function yN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(El);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vN(n,e,t){const r=tf(n);$t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=nS(e),{host:a,port:u}=wN(e),c=u===null?"":`:${u}`,h={url:`${s}//${a}${c}/`},m=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$t(Rc(h,r.config.emulator)&&Rc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,_N()}function nS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wN(n){const e=nS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:F5(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:F5(a)}}}function F5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _N(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tl("not implemented")}_getIdTokenResponse(e){return Tl("not implemented")}_linkToIdToken(e,t){return Tl("not implemented")}_getReauthenticationResolver(e){return Tl("not implemented")}}async function bN(n,e){return Bl(n,"POST","/v1/accounts:update",e)}async function SN(n,e){return Bl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e){return Vm(n,"POST","/v1/accounts:signInWithPassword",zc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e){return Vm(n,"POST","/v1/accounts:signInWithEmailLink",zc(n,e))}async function AN(n,e){return Vm(n,"POST","/v1/accounts:signInWithEmailLink",zc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Cy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new nd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new nd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j5(e,t,"signInWithPassword",xN);case"emailLink":return TN(e,{email:this._email,oobCode:this._password});default:da(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j5(e,r,"signUpPassword",SN);case"emailLink":return AN(e,{idToken:t,email:this._email,oobCode:this._password});default:da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(n,e){return Vm(n,"POST","/v1/accounts:signInWithIdp",zc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="http://localhost";class Dc extends Cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Dc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):da("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Ty(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Dc(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Rh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Rh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rh(e,t)}buildRequest(){const e={requestUri:EN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Td(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PN(n){const e=Df(Of(n)).link,t=e?Df(Of(e)).deep_link_id:null,r=Df(Of(n)).deep_link_id;return(r?Df(Of(r)).link:null)||r||t||e||n}class Ny{constructor(e){var t,r,i,s,a,u;const c=Df(Of(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,m=(r=c.oobCode)!==null&&r!==void 0?r:null,y=IN((i=c.mode)!==null&&i!==void 0?i:null);$t(h&&m&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=m,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=PN(e);try{return new Ny(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.providerId=Bu.PROVIDER_ID}static credential(e,t){return nd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ny.parseLink(t);return $t(r,"argument-error"),nd._fromEmailAndCode(e,r.code,r.tenantId)}}Bu.PROVIDER_ID="password";Bu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends rS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Id{constructor(){super("facebook.com")}static credential(e){return Dc._fromParams({providerId:Iu.PROVIDER_ID,signInMethod:Iu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Iu.credentialFromTaggedObject(e)}static credentialFromError(e){return Iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Iu.credential(e.oauthAccessToken)}catch{return null}}}Iu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Iu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Dc._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pu.credential(t,r)}catch{return null}}}Pu.GOOGLE_SIGN_IN_METHOD="google.com";Pu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Id{constructor(){super("github.com")}static credential(e){return Dc._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cu.credential(e.oauthAccessToken)}catch{return null}}}Cu.GITHUB_SIGN_IN_METHOD="github.com";Cu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Id{constructor(){super("twitter.com")}static credential(e,t){return Dc._fromParams({providerId:Nu.PROVIDER_ID,signInMethod:Nu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Nu.credentialFromTaggedObject(e)}static credentialFromError(e){return Nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Nu.credential(t,r)}catch{return null}}}Nu.TWITTER_SIGN_IN_METHOD="twitter.com";Nu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Al._fromIdTokenResponse(e,r,i),a=V5(r);return new Uh({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=V5(r);return new Uh({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function V5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends ma{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,am.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new am(e,t,r,i)}}function iS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(n,s,e,r):s})}async function CN(n,e,t=!1){const r=await Bh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Uh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(n,e,t=!1){const{auth:r}=n;if(ha(r.app))return Promise.reject(Mu(r));const i="reauthenticate";try{const s=await Bh(n,iS(r,i,e,n),t);$t(s.idToken,r,"internal-error");const a=Iy(s.idToken);$t(a,r,"internal-error");const{sub:u}=a;return $t(n.uid===u,r,"user-mismatch"),Uh._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&da(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(n,e,t=!1){if(ha(n.app))return Promise.reject(Mu(n));const r="signIn",i=await iS(n,r,e),s=await Uh._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function NN(n,e){return oS(tf(n),e)}async function B5(n,e){return sS(Sr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(n){const e=tf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function LN(n,e,t){return ha(n.app)?Promise.reject(Mu(n)):NN(Sr(n),Bu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kN(n),r})}function RN(n,e){return DN(Sr(n),null,e)}async function DN(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(s.password=t);const a=await Bh(n,bN(r,s));await n._updateTokensIfNecessary(a,!0)}function ON(n,e,t,r){return Sr(n).onIdTokenChanged(e,t,r)}function MN(n,e,t){return Sr(n).beforeAuthStateChanged(e,t)}function aS(n,e,t,r){return Sr(n).onAuthStateChanged(e,t,r)}function jN(n){return Sr(n).signOut()}const lm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=1e3,VN=10;class uS extends lS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);nN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uS.type="LOCAL";const BN=uS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends lS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cS.type="SESSION";const hS=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async h=>h(t.origin,s)),c=await UN(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const h=ky("",20);i.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(){return window}function qN(n){Ba().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){return typeof Ba().WorkerGlobalScope<"u"&&typeof Ba().importScripts=="function"}async function HN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $N(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WN(){return fS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firebaseLocalStorageDb",GN=1,um="firebaseLocalStorage",pS="fbase_key";class Pd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zm(n,e){return n.transaction([um],e?"readwrite":"readonly").objectStore(um)}function KN(){const n=indexedDB.deleteDatabase(dS);return new Pd(n).toPromise()}function h1(){const n=indexedDB.open(dS,GN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(um,{keyPath:pS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(um)?e(r):(r.close(),await KN(),e(await h1()))})})}async function U5(n,e,t){const r=zm(n,!0).put({[pS]:e,value:t});return new Pd(r).toPromise()}async function YN(n,e){const t=zm(n,!1).get(e),r=await new Pd(t).toPromise();return r===void 0?null:r.value}function z5(n,e){const t=zm(n,!0).delete(e);return new Pd(t).toPromise()}const QN=800,XN=3;class mS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>XN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Um._getInstance(WN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await HN(),!this.activeServiceWorker)return;this.sender=new zN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h1();return await U5(e,lm,"1"),await z5(e,lm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>U5(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>YN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>z5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=zm(i,!1).getAll();return new Pd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mS.type="LOCAL";const JN=mS;new Ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n,e){return e?El(e):($t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends Cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ek(n){return oS(n.auth,new Ly(n),n.bypassAuthState)}function tk(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),sS(t,new Ly(n),n.bypassAuthState)}async function nk(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),CN(t,new Ly(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ek;case"linkViaPopup":case"linkViaRedirect":return nk;case"reauthViaPopup":case"reauthViaRedirect":return tk;default:da(this.auth,"internal-error")}}resolve(e){Rl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new Ed(2e3,1e4);class xh extends gS{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xh.currentPopupAction&&xh.currentPopupAction.cancel(),xh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $t(e,this.auth,"internal-error"),e}async onExecution(){Rl(this.filter.length===1,"Popup operations only handle one event");const e=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rk.get())};e()}}xh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="pendingRedirect",Up=new Map;class sk extends gS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Up.get(this.auth._key());if(!e){try{const r=await ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Up.set(this.auth._key(),e)}return this.bypassAuthState||Up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ok(n,e){const t=uk(e),r=lk(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function ak(n,e){Up.set(n._key(),e)}function lk(n){return El(n._redirectPersistence)}function uk(n){return Bp(ik,n.config.apiKey,n.name)}async function ck(n,e,t=!1){if(ha(n.app))return Promise.reject(Mu(n));const r=tf(n),i=ZN(r,e),a=await new sk(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=10*60*1e3;class fk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!yS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Va(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hk&&this.cachedEventUids.clear(),this.cachedEventUids.has(q5(e))}saveEventToCache(e){this.cachedEventUids.add(q5(e)),this.lastProcessedEventTime=Date.now()}}function q5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(n,e={}){return Bl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gk=/^https?/;async function yk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pk(n);for(const t of e)try{if(vk(t))return}catch{}da(n,"unauthorized-domain")}function vk(n){const e=u1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!gk.test(t))return!1;if(mk.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new Ed(3e4,6e4);function H5(){const n=Ba().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _k(n){return new Promise((e,t)=>{var r,i,s;function a(){H5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H5(),t(Va(n,"network-request-failed"))},timeout:wk.get()})}if(!((i=(r=Ba().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ba().gapi)===null||s===void 0)&&s.load)a();else{const u=hN("iframefcb");return Ba()[u]=()=>{gapi.load?a():t(Va(n,"network-request-failed"))},eS(`${cN()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw zp=null,e})}let zp=null;function bk(n){return zp=zp||_k(n),zp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new Ed(5e3,15e3),xk="__/auth/iframe",Tk="emulator/auth/iframe",Ak={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ek=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ik(n){const e=n.config;$t(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ey(e,Tk):`https://${n.config.authDomain}/${xk}`,r={apiKey:e.apiKey,appName:n.name,v:ef},i=Ek.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Td(r).slice(1)}`}async function Pk(n){const e=await bk(n),t=Ba().gapi;return $t(t,n,"internal-error"),e.open({where:document.body,url:Ik(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ak,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Va(n,"network-request-failed"),u=Ba().setTimeout(()=>{s(a)},Sk.get());function c(){Ba().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nk=500,kk=600,Lk="_blank",Rk="http://localhost";class $5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dk(n,e,t,r=Nk,i=kk){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},Ck),{width:r.toString(),height:i.toString(),top:s,left:a}),h=Qi().toLowerCase();t&&(u=G4(h)?Lk:t),$4(h)&&(e=e||Rk,c.scrollbars="yes");const m=Object.entries(c).reduce((_,[w,E])=>`${_}${w}=${E},`,"");if(tN(h)&&u!=="_self")return Ok(e||"",u),new $5(null);const y=window.open(e||"",u,m);$t(y,n,"popup-blocked");try{y.focus()}catch{}return new $5(y)}function Ok(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="__/auth/handler",jk="emulator/auth/handler",Fk=encodeURIComponent("fac");async function W5(n,e,t,r,i,s){$t(n.config.authDomain,n,"auth-domain-config-required"),$t(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ef,eventId:i};if(e instanceof rS){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",bP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))a[m]=y}if(e instanceof Id){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await n._getAppCheckToken(),h=c?`#${Fk}=${encodeURIComponent(c)}`:"";return`${Vk(n)}?${Td(u).slice(1)}${h}`}function Vk({config:n}){return n.emulator?Ey(n,jk):`https://${n.authDomain}/${Mk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="webStorageSupport";class Bk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hS,this._completeRedirectFn=ck,this._overrideRedirectResult=ak}async _openPopup(e,t,r,i){var s;Rl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await W5(e,t,r,u1(),i);return Dk(e,a,ky())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await W5(e,t,r,u1(),i);return qN(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Rl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Pk(e),r=new fk(e);return t.register("authEvent",i=>($t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(S0,{type:S0},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[S0];a!==void 0&&t(!!a),da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return J4()||W4()||Py()}}const Uk=Bk;var G5="@firebase/auth",K5="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hk(n){Ga(new fa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;$t(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z4(n)},h=new aN(r,i,s,c);return yN(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new fa("auth-internal",e=>{const t=tf(e.getProvider("auth").getImmediate());return(r=>new zk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),No(G5,K5,qk(n)),No(G5,K5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=5*60,Wk=A4("authIdTokenMaxAge")||$k;let Y5=null;const Gk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Wk)return;const i=t==null?void 0:t.token;Y5!==i&&(Y5=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Kk(n=R4()){const e=Ad(n,"auth");if(e.isInitialized())return e.getImmediate();const t=gN(n,{popupRedirectResolver:Uk,persistence:[JN,BN,hS]}),r=A4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Gk(s.toString());MN(t,a,()=>a(t.currentUser)),ON(t,u=>a(u))}}const i=x4("auth");return i&&vN(t,`http://${i}`),t}function Yk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Va("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Yk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hk("Browser");var Q5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ju,vS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,N){function U(){}U.prototype=N.prototype,z.D=N.prototype,z.prototype=new U,z.prototype.constructor=z,z.C=function(G,R,O){for(var F=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)F[ue-2]=arguments[ue];return N.prototype[R].apply(G,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(z,N,U){U||(U=0);var G=Array(16);if(typeof N=="string")for(var R=0;16>R;++R)G[R]=N.charCodeAt(U++)|N.charCodeAt(U++)<<8|N.charCodeAt(U++)<<16|N.charCodeAt(U++)<<24;else for(R=0;16>R;++R)G[R]=N[U++]|N[U++]<<8|N[U++]<<16|N[U++]<<24;N=z.g[0],U=z.g[1],R=z.g[2];var O=z.g[3],F=N+(O^U&(R^O))+G[0]+3614090360&4294967295;N=U+(F<<7&4294967295|F>>>25),F=O+(R^N&(U^R))+G[1]+3905402710&4294967295,O=N+(F<<12&4294967295|F>>>20),F=R+(U^O&(N^U))+G[2]+606105819&4294967295,R=O+(F<<17&4294967295|F>>>15),F=U+(N^R&(O^N))+G[3]+3250441966&4294967295,U=R+(F<<22&4294967295|F>>>10),F=N+(O^U&(R^O))+G[4]+4118548399&4294967295,N=U+(F<<7&4294967295|F>>>25),F=O+(R^N&(U^R))+G[5]+1200080426&4294967295,O=N+(F<<12&4294967295|F>>>20),F=R+(U^O&(N^U))+G[6]+2821735955&4294967295,R=O+(F<<17&4294967295|F>>>15),F=U+(N^R&(O^N))+G[7]+4249261313&4294967295,U=R+(F<<22&4294967295|F>>>10),F=N+(O^U&(R^O))+G[8]+1770035416&4294967295,N=U+(F<<7&4294967295|F>>>25),F=O+(R^N&(U^R))+G[9]+2336552879&4294967295,O=N+(F<<12&4294967295|F>>>20),F=R+(U^O&(N^U))+G[10]+4294925233&4294967295,R=O+(F<<17&4294967295|F>>>15),F=U+(N^R&(O^N))+G[11]+2304563134&4294967295,U=R+(F<<22&4294967295|F>>>10),F=N+(O^U&(R^O))+G[12]+1804603682&4294967295,N=U+(F<<7&4294967295|F>>>25),F=O+(R^N&(U^R))+G[13]+4254626195&4294967295,O=N+(F<<12&4294967295|F>>>20),F=R+(U^O&(N^U))+G[14]+2792965006&4294967295,R=O+(F<<17&4294967295|F>>>15),F=U+(N^R&(O^N))+G[15]+1236535329&4294967295,U=R+(F<<22&4294967295|F>>>10),F=N+(R^O&(U^R))+G[1]+4129170786&4294967295,N=U+(F<<5&4294967295|F>>>27),F=O+(U^R&(N^U))+G[6]+3225465664&4294967295,O=N+(F<<9&4294967295|F>>>23),F=R+(N^U&(O^N))+G[11]+643717713&4294967295,R=O+(F<<14&4294967295|F>>>18),F=U+(O^N&(R^O))+G[0]+3921069994&4294967295,U=R+(F<<20&4294967295|F>>>12),F=N+(R^O&(U^R))+G[5]+3593408605&4294967295,N=U+(F<<5&4294967295|F>>>27),F=O+(U^R&(N^U))+G[10]+38016083&4294967295,O=N+(F<<9&4294967295|F>>>23),F=R+(N^U&(O^N))+G[15]+3634488961&4294967295,R=O+(F<<14&4294967295|F>>>18),F=U+(O^N&(R^O))+G[4]+3889429448&4294967295,U=R+(F<<20&4294967295|F>>>12),F=N+(R^O&(U^R))+G[9]+568446438&4294967295,N=U+(F<<5&4294967295|F>>>27),F=O+(U^R&(N^U))+G[14]+3275163606&4294967295,O=N+(F<<9&4294967295|F>>>23),F=R+(N^U&(O^N))+G[3]+4107603335&4294967295,R=O+(F<<14&4294967295|F>>>18),F=U+(O^N&(R^O))+G[8]+1163531501&4294967295,U=R+(F<<20&4294967295|F>>>12),F=N+(R^O&(U^R))+G[13]+2850285829&4294967295,N=U+(F<<5&4294967295|F>>>27),F=O+(U^R&(N^U))+G[2]+4243563512&4294967295,O=N+(F<<9&4294967295|F>>>23),F=R+(N^U&(O^N))+G[7]+1735328473&4294967295,R=O+(F<<14&4294967295|F>>>18),F=U+(O^N&(R^O))+G[12]+2368359562&4294967295,U=R+(F<<20&4294967295|F>>>12),F=N+(U^R^O)+G[5]+4294588738&4294967295,N=U+(F<<4&4294967295|F>>>28),F=O+(N^U^R)+G[8]+2272392833&4294967295,O=N+(F<<11&4294967295|F>>>21),F=R+(O^N^U)+G[11]+1839030562&4294967295,R=O+(F<<16&4294967295|F>>>16),F=U+(R^O^N)+G[14]+4259657740&4294967295,U=R+(F<<23&4294967295|F>>>9),F=N+(U^R^O)+G[1]+2763975236&4294967295,N=U+(F<<4&4294967295|F>>>28),F=O+(N^U^R)+G[4]+1272893353&4294967295,O=N+(F<<11&4294967295|F>>>21),F=R+(O^N^U)+G[7]+4139469664&4294967295,R=O+(F<<16&4294967295|F>>>16),F=U+(R^O^N)+G[10]+3200236656&4294967295,U=R+(F<<23&4294967295|F>>>9),F=N+(U^R^O)+G[13]+681279174&4294967295,N=U+(F<<4&4294967295|F>>>28),F=O+(N^U^R)+G[0]+3936430074&4294967295,O=N+(F<<11&4294967295|F>>>21),F=R+(O^N^U)+G[3]+3572445317&4294967295,R=O+(F<<16&4294967295|F>>>16),F=U+(R^O^N)+G[6]+76029189&4294967295,U=R+(F<<23&4294967295|F>>>9),F=N+(U^R^O)+G[9]+3654602809&4294967295,N=U+(F<<4&4294967295|F>>>28),F=O+(N^U^R)+G[12]+3873151461&4294967295,O=N+(F<<11&4294967295|F>>>21),F=R+(O^N^U)+G[15]+530742520&4294967295,R=O+(F<<16&4294967295|F>>>16),F=U+(R^O^N)+G[2]+3299628645&4294967295,U=R+(F<<23&4294967295|F>>>9),F=N+(R^(U|~O))+G[0]+4096336452&4294967295,N=U+(F<<6&4294967295|F>>>26),F=O+(U^(N|~R))+G[7]+1126891415&4294967295,O=N+(F<<10&4294967295|F>>>22),F=R+(N^(O|~U))+G[14]+2878612391&4294967295,R=O+(F<<15&4294967295|F>>>17),F=U+(O^(R|~N))+G[5]+4237533241&4294967295,U=R+(F<<21&4294967295|F>>>11),F=N+(R^(U|~O))+G[12]+1700485571&4294967295,N=U+(F<<6&4294967295|F>>>26),F=O+(U^(N|~R))+G[3]+2399980690&4294967295,O=N+(F<<10&4294967295|F>>>22),F=R+(N^(O|~U))+G[10]+4293915773&4294967295,R=O+(F<<15&4294967295|F>>>17),F=U+(O^(R|~N))+G[1]+2240044497&4294967295,U=R+(F<<21&4294967295|F>>>11),F=N+(R^(U|~O))+G[8]+1873313359&4294967295,N=U+(F<<6&4294967295|F>>>26),F=O+(U^(N|~R))+G[15]+4264355552&4294967295,O=N+(F<<10&4294967295|F>>>22),F=R+(N^(O|~U))+G[6]+2734768916&4294967295,R=O+(F<<15&4294967295|F>>>17),F=U+(O^(R|~N))+G[13]+1309151649&4294967295,U=R+(F<<21&4294967295|F>>>11),F=N+(R^(U|~O))+G[4]+4149444226&4294967295,N=U+(F<<6&4294967295|F>>>26),F=O+(U^(N|~R))+G[11]+3174756917&4294967295,O=N+(F<<10&4294967295|F>>>22),F=R+(N^(O|~U))+G[2]+718787259&4294967295,R=O+(F<<15&4294967295|F>>>17),F=U+(O^(R|~N))+G[9]+3951481745&4294967295,z.g[0]=z.g[0]+N&4294967295,z.g[1]=z.g[1]+(R+(F<<21&4294967295|F>>>11))&4294967295,z.g[2]=z.g[2]+R&4294967295,z.g[3]=z.g[3]+O&4294967295}r.prototype.u=function(z,N){N===void 0&&(N=z.length);for(var U=N-this.blockSize,G=this.B,R=this.h,O=0;O<N;){if(R==0)for(;O<=U;)i(this,z,O),O+=this.blockSize;if(typeof z=="string"){for(;O<N;)if(G[R++]=z.charCodeAt(O++),R==this.blockSize){i(this,G),R=0;break}}else for(;O<N;)if(G[R++]=z[O++],R==this.blockSize){i(this,G),R=0;break}}this.h=R,this.o+=N},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var N=1;N<z.length-8;++N)z[N]=0;var U=8*this.o;for(N=z.length-8;N<z.length;++N)z[N]=U&255,U/=256;for(this.u(z),z=Array(16),N=U=0;4>N;++N)for(var G=0;32>G;G+=8)z[U++]=this.g[N]>>>G&255;return z};function s(z,N){var U=u;return Object.prototype.hasOwnProperty.call(U,z)?U[z]:U[z]=N(z)}function a(z,N){this.h=N;for(var U=[],G=!0,R=z.length-1;0<=R;R--){var O=z[R]|0;G&&O==N||(U[R]=O,G=!1)}this.g=U}var u={};function c(z){return-128<=z&&128>z?s(z,function(N){return new a([N|0],0>N?-1:0)}):new a([z|0],0>z?-1:0)}function h(z){if(isNaN(z)||!isFinite(z))return y;if(0>z)return k(h(-z));for(var N=[],U=1,G=0;z>=U;G++)N[G]=z/U|0,U*=4294967296;return new a(N,0)}function m(z,N){if(z.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(z.charAt(0)=="-")return k(m(z.substring(1),N));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=h(Math.pow(N,8)),G=y,R=0;R<z.length;R+=8){var O=Math.min(8,z.length-R),F=parseInt(z.substring(R,R+O),N);8>O?(O=h(Math.pow(N,O)),G=G.j(O).add(h(F))):(G=G.j(U),G=G.add(h(F)))}return G}var y=c(0),_=c(1),w=c(16777216);n=a.prototype,n.m=function(){if(C(this))return-k(this).m();for(var z=0,N=1,U=0;U<this.g.length;U++){var G=this.i(U);z+=(0<=G?G:4294967296+G)*N,N*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(E(this))return"0";if(C(this))return"-"+k(this).toString(z);for(var N=h(Math.pow(z,6)),U=this,G="";;){var R=ee(U,N).g;U=I(U,R.j(N));var O=((0<U.g.length?U.g[0]:U.h)>>>0).toString(z);if(U=R,E(U))return O+G;for(;6>O.length;)O="0"+O;G=O+G}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function E(z){if(z.h!=0)return!1;for(var N=0;N<z.g.length;N++)if(z.g[N]!=0)return!1;return!0}function C(z){return z.h==-1}n.l=function(z){return z=I(this,z),C(z)?-1:E(z)?0:1};function k(z){for(var N=z.g.length,U=[],G=0;G<N;G++)U[G]=~z.g[G];return new a(U,~z.h).add(_)}n.abs=function(){return C(this)?k(this):this},n.add=function(z){for(var N=Math.max(this.g.length,z.g.length),U=[],G=0,R=0;R<=N;R++){var O=G+(this.i(R)&65535)+(z.i(R)&65535),F=(O>>>16)+(this.i(R)>>>16)+(z.i(R)>>>16);G=F>>>16,O&=65535,F&=65535,U[R]=F<<16|O}return new a(U,U[U.length-1]&-2147483648?-1:0)};function I(z,N){return z.add(k(N))}n.j=function(z){if(E(this)||E(z))return y;if(C(this))return C(z)?k(this).j(k(z)):k(k(this).j(z));if(C(z))return k(this.j(k(z)));if(0>this.l(w)&&0>z.l(w))return h(this.m()*z.m());for(var N=this.g.length+z.g.length,U=[],G=0;G<2*N;G++)U[G]=0;for(G=0;G<this.g.length;G++)for(var R=0;R<z.g.length;R++){var O=this.i(G)>>>16,F=this.i(G)&65535,ue=z.i(R)>>>16,Le=z.i(R)&65535;U[2*G+2*R]+=F*Le,j(U,2*G+2*R),U[2*G+2*R+1]+=O*Le,j(U,2*G+2*R+1),U[2*G+2*R+1]+=F*ue,j(U,2*G+2*R+1),U[2*G+2*R+2]+=O*ue,j(U,2*G+2*R+2)}for(G=0;G<N;G++)U[G]=U[2*G+1]<<16|U[2*G];for(G=N;G<2*N;G++)U[G]=0;return new a(U,0)};function j(z,N){for(;(z[N]&65535)!=z[N];)z[N+1]+=z[N]>>>16,z[N]&=65535,N++}function q(z,N){this.g=z,this.h=N}function ee(z,N){if(E(N))throw Error("division by zero");if(E(z))return new q(y,y);if(C(z))return N=ee(k(z),N),new q(k(N.g),k(N.h));if(C(N))return N=ee(z,k(N)),new q(k(N.g),N.h);if(30<z.g.length){if(C(z)||C(N))throw Error("slowDivide_ only works with positive integers.");for(var U=_,G=N;0>=G.l(z);)U=ie(U),G=ie(G);var R=de(U,1),O=de(G,1);for(G=de(G,2),U=de(U,2);!E(G);){var F=O.add(G);0>=F.l(z)&&(R=R.add(U),O=F),G=de(G,1),U=de(U,1)}return N=I(z,R.j(N)),new q(R,N)}for(R=y;0<=z.l(N);){for(U=Math.max(1,Math.floor(z.m()/N.m())),G=Math.ceil(Math.log(U)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),O=h(U),F=O.j(N);C(F)||0<F.l(z);)U-=G,O=h(U),F=O.j(N);E(O)&&(O=_),R=R.add(O),z=I(z,F)}return new q(R,z)}n.A=function(z){return ee(this,z).h},n.and=function(z){for(var N=Math.max(this.g.length,z.g.length),U=[],G=0;G<N;G++)U[G]=this.i(G)&z.i(G);return new a(U,this.h&z.h)},n.or=function(z){for(var N=Math.max(this.g.length,z.g.length),U=[],G=0;G<N;G++)U[G]=this.i(G)|z.i(G);return new a(U,this.h|z.h)},n.xor=function(z){for(var N=Math.max(this.g.length,z.g.length),U=[],G=0;G<N;G++)U[G]=this.i(G)^z.i(G);return new a(U,this.h^z.h)};function ie(z){for(var N=z.g.length+1,U=[],G=0;G<N;G++)U[G]=z.i(G)<<1|z.i(G-1)>>>31;return new a(U,z.h)}function de(z,N){var U=N>>5;N%=32;for(var G=z.g.length-U,R=[],O=0;O<G;O++)R[O]=0<N?z.i(O+U)>>>N|z.i(O+U+1)<<32-N:z.i(O+U);return new a(R,z.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vS=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,ju=a}).apply(typeof Q5<"u"?Q5:typeof self<"u"?self:typeof window<"u"?window:{});var Tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wS,Mf,_S,qp,f1,bS,SS,xS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,T,L){return p==Array.prototype||p==Object.prototype||(p[T]=L.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tp=="object"&&Tp];for(var T=0;T<p.length;++T){var L=p[T];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function i(p,T){if(T)e:{var L=r;p=p.split(".");for(var Y=0;Y<p.length-1;Y++){var be=p[Y];if(!(be in L))break e;L=L[be]}p=p[p.length-1],Y=L[p],T=T(Y),T!=Y&&T!=null&&e(L,p,{configurable:!0,writable:!0,value:T})}}function s(p,T){p instanceof String&&(p+="");var L=0,Y=!1,be={next:function(){if(!Y&&L<p.length){var ke=L++;return{value:T(ke,p[ke]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(p){return p||function(){return s(this,function(T,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(p){var T=typeof p;return T=T!="object"?T:p?Array.isArray(p)?"array":T:"null",T=="array"||T=="object"&&typeof p.length=="number"}function h(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function m(p,T,L){return p.call.apply(p.bind,arguments)}function y(p,T,L){if(!p)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,Y),p.apply(T,be)}}return function(){return p.apply(T,arguments)}}function _(p,T,L){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function w(p,T){var L=Array.prototype.slice.call(arguments,1);return function(){var Y=L.slice();return Y.push.apply(Y,arguments),p.apply(this,Y)}}function E(p,T){function L(){}L.prototype=T.prototype,p.aa=T.prototype,p.prototype=new L,p.prototype.constructor=p,p.Qb=function(Y,be,ke){for(var Ze=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)Ze[Qt-2]=arguments[Qt];return T.prototype[be].apply(Y,Ze)}}function C(p){const T=p.length;if(0<T){const L=Array(T);for(let Y=0;Y<T;Y++)L[Y]=p[Y];return L}return[]}function k(p,T){for(let L=1;L<arguments.length;L++){const Y=arguments[L];if(c(Y)){const be=p.length||0,ke=Y.length||0;p.length=be+ke;for(let Ze=0;Ze<ke;Ze++)p[be+Ze]=Y[Ze]}else p.push(Y)}}class I{constructor(T,L){this.i=T,this.j=L,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function j(p){return/^[\s\xa0]*$/.test(p)}function q(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function ee(p){return ee[" "](p),p}ee[" "]=function(){};var ie=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function de(p,T,L){for(const Y in p)T.call(L,p[Y],Y,p)}function z(p,T){for(const L in p)T.call(void 0,p[L],L,p)}function N(p){const T={};for(const L in p)T[L]=p[L];return T}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(p,T){let L,Y;for(let be=1;be<arguments.length;be++){Y=arguments[be];for(L in Y)p[L]=Y[L];for(let ke=0;ke<U.length;ke++)L=U[ke],Object.prototype.hasOwnProperty.call(Y,L)&&(p[L]=Y[L])}}function R(p){var T=1;p=p.split(":");const L=[];for(;0<T&&p.length;)L.push(p.shift()),T--;return p.length&&L.push(p.join(":")),L}function O(p){u.setTimeout(()=>{throw p},0)}function F(){var p=we;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class ue{constructor(){this.h=this.g=null}add(T,L){const Y=Le.get();Y.set(T,L),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var Le=new I(()=>new Ce,p=>p.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(T,L){this.h=T,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,ne=!1,we=new ue,ge=()=>{const p=u.Promise.resolve(void 0);xe=()=>{p.then(oe)}};var oe=()=>{for(var p;p=F();){try{p.h.call(p.g)}catch(L){O(L)}var T=Le;T.j(p),100>T.h&&(T.h++,p.next=T.g,T.g=p)}ne=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const L=()=>{};u.addEventListener("test",L,T),u.removeEventListener("test",L,T)}catch{}return p}();function se(p,T){if(X.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var L=this.type=p.type,Y=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget){if(ie){e:{try{ee(T.nodeName);var be=!0;break e}catch{}be=!1}be||(T=null)}}else L=="mouseover"?T=p.fromElement:L=="mouseout"&&(T=p.toElement);this.relatedTarget=T,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ce[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&se.aa.h.call(this)}}E(se,X);var ce={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Ee(p,T,L,Y,be){this.listener=p,this.proxy=null,this.src=T,this.type=L,this.capture=!!Y,this.ha=be,this.key=++Ae,this.da=this.fa=!1}function Ke(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ye(p){this.src=p,this.g={},this.h=0}Ye.prototype.add=function(p,T,L,Y,be){var ke=p.toString();p=this.g[ke],p||(p=this.g[ke]=[],this.h++);var Ze=st(p,T,Y,be);return-1<Ze?(T=p[Ze],L||(T.fa=!1)):(T=new Ee(T,this.src,ke,!!Y,be),T.fa=L,p.push(T)),T};function ut(p,T){var L=T.type;if(L in p.g){var Y=p.g[L],be=Array.prototype.indexOf.call(Y,T,void 0),ke;(ke=0<=be)&&Array.prototype.splice.call(Y,be,1),ke&&(Ke(T),p.g[L].length==0&&(delete p.g[L],p.h--))}}function st(p,T,L,Y){for(var be=0;be<p.length;++be){var ke=p[be];if(!ke.da&&ke.listener==T&&ke.capture==!!L&&ke.ha==Y)return be}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),je={};function le(p,T,L,Y,be){if(Array.isArray(T)){for(var ke=0;ke<T.length;ke++)le(p,T[ke],L,Y,be);return null}return L=De(L),p&&p[_e]?p.K(T,L,h(Y)?!!Y.capture:!1,be):Mt(p,T,L,!1,Y,be)}function Mt(p,T,L,Y,be,ke){if(!T)throw Error("Invalid event type");var Ze=h(be)?!!be.capture:!!be,Qt=St(p);if(Qt||(p[Ct]=Qt=new Ye(p)),L=Qt.add(T,L,Y,Ze,ke),L.proxy)return L;if(Y=gt(),L.proxy=Y,Y.src=p,Y.listener=L,p.addEventListener)Z||(be=Ze),be===void 0&&(be=!1),p.addEventListener(T.toString(),Y,be);else if(p.attachEvent)p.attachEvent(lt(T.toString()),Y);else if(p.addListener&&p.removeListener)p.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return L}function gt(){function p(L){return T.call(p.src,p.listener,L)}const T=ct;return p}function Je(p,T,L,Y,be){if(Array.isArray(T))for(var ke=0;ke<T.length;ke++)Je(p,T[ke],L,Y,be);else Y=h(Y)?!!Y.capture:!!Y,L=De(L),p&&p[_e]?(p=p.i,T=String(T).toString(),T in p.g&&(ke=p.g[T],L=st(ke,L,Y,be),-1<L&&(Ke(ke[L]),Array.prototype.splice.call(ke,L,1),ke.length==0&&(delete p.g[T],p.h--)))):p&&(p=St(p))&&(T=p.g[T.toString()],p=-1,T&&(p=st(T,L,Y,be)),(L=-1<p?T[p]:null)&&nt(L))}function nt(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[_e])ut(T.i,p);else{var L=p.type,Y=p.proxy;T.removeEventListener?T.removeEventListener(L,Y,p.capture):T.detachEvent?T.detachEvent(lt(L),Y):T.addListener&&T.removeListener&&T.removeListener(Y),(L=St(T))?(ut(L,p),L.h==0&&(L.src=null,T[Ct]=null)):Ke(p)}}}function lt(p){return p in je?je[p]:je[p]="on"+p}function ct(p,T){if(p.da)p=!0;else{T=new se(T,this);var L=p.listener,Y=p.ha||p.src;p.fa&&nt(p),p=L.call(Y,T)}return p}function St(p){return p=p[Ct],p instanceof Ye?p:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(p){return typeof p=="function"?p:(p[Ot]||(p[Ot]=function(T){return p.handleEvent(T)}),p[Ot])}function qe(){M.call(this),this.i=new Ye(this),this.M=this,this.F=null}E(qe,M),qe.prototype[_e]=!0,qe.prototype.removeEventListener=function(p,T,L,Y){Je(this,p,T,L,Y)};function Qe(p,T){var L,Y=p.F;if(Y)for(L=[];Y;Y=Y.F)L.push(Y);if(p=p.M,Y=T.type||T,typeof T=="string")T=new X(T,p);else if(T instanceof X)T.target=T.target||p;else{var be=T;T=new X(Y,p),G(T,be)}if(be=!0,L)for(var ke=L.length-1;0<=ke;ke--){var Ze=T.g=L[ke];be=mt(Ze,Y,!0,T)&&be}if(Ze=T.g=p,be=mt(Ze,Y,!0,T)&&be,be=mt(Ze,Y,!1,T)&&be,L)for(ke=0;ke<L.length;ke++)Ze=T.g=L[ke],be=mt(Ze,Y,!1,T)&&be}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var p=this.i,T;for(T in p.g){for(var L=p.g[T],Y=0;Y<L.length;Y++)Ke(L[Y]);delete p.g[T],p.h--}}this.F=null},qe.prototype.K=function(p,T,L,Y){return this.i.add(String(p),T,!1,L,Y)},qe.prototype.L=function(p,T,L,Y){return this.i.add(String(p),T,!0,L,Y)};function mt(p,T,L,Y){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();for(var be=!0,ke=0;ke<T.length;++ke){var Ze=T[ke];if(Ze&&!Ze.da&&Ze.capture==L){var Qt=Ze.listener,ln=Ze.ha||Ze.src;Ze.fa&&ut(p.i,Ze),be=Qt.call(ln,Y)!==!1&&be}}return be&&!Y.defaultPrevented}function pt(p,T,L){if(typeof p=="function")L&&(p=_(p,L));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(p,T||0)}function kt(p){p.g=pt(()=>{p.g=null,p.i&&(p.i=!1,kt(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class at extends M{constructor(T,L){super(),this.m=T,this.l=L,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(p){M.call(this),this.h=p,this.g={}}E($n,M);var rn=[];function Mr(p){de(p.g,function(T,L){this.g.hasOwnProperty(L)&&nt(T)},p),p.g={}}$n.prototype.N=function(){$n.aa.N.call(this),Mr(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=u.JSON.stringify,Ve=u.JSON.parse,it=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function $e(){}$e.prototype.h=null;function Pt(p){return p.h||(p.h=p.i())}function wt(){}var Ut={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vn(){X.call(this,"d")}E(vn,X);function sn(){X.call(this,"c")}E(sn,X);var xt={},Zt=null;function xr(){return Zt=Zt||new qe}xt.La="serverreachability";function Vn(p){X.call(this,xt.La,p)}E(Vn,X);function Kn(p){const T=xr();Qe(T,new Vn(T))}xt.STAT_EVENT="statevent";function Yr(p,T){X.call(this,xt.STAT_EVENT,p),this.stat=T}E(Yr,X);function vt(p){const T=xr();Qe(T,new Yr(T,p))}xt.Ma="timingevent";function Qr(p,T){X.call(this,xt.Ma,p),this.size=T}E(Qr,X);function dr(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},T)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function Bn(p,T,L,Y,be,ke){p.info(function(){if(p.g)if(ke)for(var Ze="",Qt=ke.split("&"),ln=0;ln<Qt.length;ln++){var Xt=Qt[ln].split("=");if(1<Xt.length){var Sn=Xt[0];Xt=Xt[1];var Pn=Sn.split("_");Ze=2<=Pn.length&&Pn[1]=="type"?Ze+(Sn+"="+Xt+"&"):Ze+(Sn+"=redacted&")}}else Ze=null;else Ze=ke;return"XMLHTTP REQ ("+Y+") [attempt "+be+"]: "+T+`
`+L+`
`+Ze})}function Un(p,T,L,Y,be,ke,Ze){p.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+be+"]: "+T+`
`+L+`
`+ke+" "+Ze})}function Yn(p,T,L,Y){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+Ms(p,L)+(Y?" "+Y:"")})}function ro(p,T){p.info(function(){return"TIMEOUT: "+T})}pr.prototype.info=function(){};function Ms(p,T){if(!p.g)return T;if(!T)return null;try{var L=JSON.parse(T);if(L){for(p=0;p<L.length;p++)if(Array.isArray(L[p])){var Y=L[p];if(!(2>Y.length)){var be=Y[1];if(Array.isArray(be)&&!(1>be.length)){var ke=be[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var Ze=1;Ze<be.length;Ze++)be[Ze]=""}}}}return dn(L)}catch{return T}}var Xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function Jr(){}E(Jr,$e),Jr.prototype.g=function(){return new XMLHttpRequest},Jr.prototype.i=function(){return{}},ar=new Jr;function nr(p,T,L,Y){this.j=p,this.i=T,this.l=L,this.R=Y||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}var js={},Fs={};function Vs(p,T,L){p.L=1,p.v=zs(Vr(T)),p.m=L,p.P=!0,io(p,null)}function io(p,T){p.F=Date.now(),Ln(p),p.A=Vr(p.v);var L=p.A,Y=p.R;Array.isArray(Y)||(Y=[String(Y)]),jt(L.i,"t",Y),p.C=0,L=p.j.J,p.h=new Xi,p.g=B(p.j,L?T:null,!p.m),0<p.O&&(p.M=new at(_(p.Y,p,p.g),p.O)),T=p.U,L=p.g,Y=p.ca;var be="readystatechange";Array.isArray(be)||(be&&(rn[0]=be.toString()),be=rn);for(var ke=0;ke<be.length;ke++){var Ze=le(L,be[ke],Y||T.handleEvent,!1,T.h||T);if(!Ze)break;T.g[Ze.key]=Ze}T=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,T)):(p.u="GET",p.g.ea(p.A,p.u,null,T)),Kn(),Bn(p.i,p.u,p.A,p.l,p.R,p.m)}nr.prototype.ca=function(p){p=p.target;const T=this.M;T&&ir(p)==3?T.j():this.Y(p)},nr.prototype.Y=function(p){try{if(p==this.g)e:{const Pn=ir(this.g);var T=this.g.Ba();const pi=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||nl(this.g)))){this.J||Pn!=4||T==7||(T==8||0>=pi?Kn(3):Kn(2)),ds(this);var L=this.g.Z();this.X=L;t:if(Do(this)){var Y=nl(this.g);p="";var be=Y.length,ke=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),Bs(this);var Ze="";break t}this.h.i=new u.TextDecoder}for(T=0;T<be;T++)this.h.h=!0,p+=this.h.i.decode(Y[T],{stream:!(ke&&T==be-1)});Y.length=0,this.h.g+=p,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=L==200,Un(this.i,this.u,this.A,this.l,this.R,Pn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,ln=this.g;if((Qt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Qt)){var Xt=Qt;break t}}Xt=null}if(L=Xt)Yn(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,L);else{this.o=!1,this.s=3,vt(12),Pi(this),Bs(this);break e}}if(this.P){L=!0;let zr;for(;!this.J&&this.C<Ze.length;)if(zr=Ul(this,Ze),zr==Fs){Pn==4&&(this.s=4,vt(14),L=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(zr==js){this.s=4,vt(15),Yn(this.i,this.l,Ze,"[Invalid Chunk]"),L=!1;break}else Yn(this.i,this.l,zr,null),Oo(this,zr);if(Do(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||Ze.length!=0||this.h.h||(this.s=1,vt(16),L=!1),this.o=this.o&&L,!L)Yn(this.i,this.l,Ze,"[Invalid Chunked Response]"),Pi(this),Bs(this);else if(0<Ze.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),xa(Sn),Sn.M=!0,vt(11))}}else Yn(this.i,this.l,Ze,null),Oo(this,Ze);Pn==4&&Pi(this),this.o&&!this.J&&(Pn==4?_s(this.j,this):(this.o=!1,Ln(this)))}else es(this.g),L==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Pi(this),Bs(this)}}}catch{}finally{}};function Do(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ul(p,T){var L=p.C,Y=T.indexOf(`
`,L);return Y==-1?Fs:(L=Number(T.substring(L,Y)),isNaN(L)?js:(Y+=1,Y+L>T.length?Fs:(T=T.slice(Y,Y+L),p.C=Y+L,T)))}nr.prototype.cancel=function(){this.J=!0,Pi(this)};function Ln(p){p.S=Date.now()+p.I,zl(p,p.I)}function zl(p,T){if(p.B!=null)throw Error("WatchDog timer not null");p.B=dr(_(p.ba,p),T)}function ds(p){p.B&&(u.clearTimeout(p.B),p.B=null)}nr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ro(this.i,this.A),this.L!=2&&(Kn(),vt(17)),Pi(this),this.s=2,Bs(this)):zl(this,this.S-p)};function Bs(p){p.j.G==0||p.J||_s(p.j,p)}function Pi(p){ds(p);var T=p.M;T&&typeof T.ma=="function"&&T.ma(),p.M=null,Mr(p.U),p.g&&(T=p.g,p.g=null,T.abort(),T.ma())}function Oo(p,T){try{var L=p.j;if(L.G!=0&&(L.g==p||jr(L.h,p))){if(!p.K&&jr(L.h,p)&&L.G==3){try{var Y=L.Da.g.parse(T)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var be=Y;if(be[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<p.F)Ws(L),ts(L);else break e;go(L),vt(18)}}else L.za=be[1],0<L.za-L.T&&37500>be[2]&&L.F&&L.v==0&&!L.C&&(L.C=dr(_(L.Za,L),6e3));if(1>=Mo(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else ti(L,11)}else if((p.K||L.g==p)&&Ws(L),!j(T))for(be=L.Da.g.parse(T),T=0;T<be.length;T++){let Xt=be[T];if(L.T=Xt[0],Xt=Xt[1],L.G==2)if(Xt[0]=="c"){L.K=Xt[1],L.ia=Xt[2];const Sn=Xt[3];Sn!=null&&(L.la=Sn,L.j.info("VER="+L.la));const Pn=Xt[4];Pn!=null&&(L.Aa=Pn,L.j.info("SVER="+L.Aa));const pi=Xt[5];pi!=null&&typeof pi=="number"&&0<pi&&(Y=1.5*pi,L.L=Y,L.j.info("backChannelRequestTimeoutMs_="+Y)),Y=L;const zr=p.g;if(zr){const Gs=zr.g?zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var ke=Y.h;ke.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(zn(ke,ke.h),ke.h=null))}if(Y.D){const Ks=zr.g?zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(Y.ya=Ks,In(Y.I,Y.D,Ks))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-p.F,L.j.info("Handshake RTT: "+L.R+"ms")),Y=L;var Ze=p;if(Y.qa=b(Y,Y.J?Y.ia:null,Y.W),Ze.K){Ja(Y.h,Ze);var Qt=Ze,ln=Y.L;ln&&(Qt.I=ln),Qt.B&&(ds(Qt),Ln(Qt)),Y.g=Ze}else $s(Y);0<L.i.length&&vs(L)}else Xt[0]!="stop"&&Xt[0]!="close"||ti(L,7);else L.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?ti(L,7):Qn(L):Xt[0]!="noop"&&L.l&&L.l.ta(Xt),L.v=0)}}Kn(4)}catch{}}var ql=class{constructor(p,T){this.g=p,this.map=T}};function so(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hi(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Mo(p){return p.h?1:p.g?p.g.size:0}function jr(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function zn(p,T){p.g?p.g.add(T):p.h=T}function Ja(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}so.prototype.cancel=function(){if(this.i=Za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Za(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const L of p.g.values())T=T.concat(L.D);return T}return C(p.i)}function jo(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var T=[],L=p.length,Y=0;Y<L;Y++)T.push(p[Y]);return T}T=[],L=0;for(Y in p)T[L++]=p[Y];return T}function oo(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var T=[];p=p.length;for(var L=0;L<p;L++)T.push(L);return T}T=[],L=0;for(const Y in p)T[L++]=Y;return T}}}function ao(p,T){if(p.forEach&&typeof p.forEach=="function")p.forEach(T,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,T,void 0);else for(var L=oo(p),Y=jo(p),be=Y.length,ke=0;ke<be;ke++)T.call(void 0,Y[ke],L&&L[ke],p)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(p,T){if(p){p=p.split("&");for(var L=0;L<p.length;L++){var Y=p[L].indexOf("="),be=null;if(0<=Y){var ke=p[L].substring(0,Y);be=p[L].substring(Y+1)}else ke=p[L];T(ke,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function rr(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof rr){this.h=p.h,lo(this,p.j),this.o=p.o,this.g=p.g,uo(this,p.s),this.l=p.l;var T=p.i,L=new Ji;L.i=T.i,T.g&&(L.g=new Map(T.g),L.h=T.h),Us(this,L),this.m=p.m}else p&&(T=String(p).match(Fr))?(this.h=!1,lo(this,T[1]||"",!0),this.o=on(T[2]||""),this.g=on(T[3]||"",!0),uo(this,T[4]),this.l=on(T[5]||"",!0),Us(this,T[6]||"",!0),this.m=on(T[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}rr.prototype.toString=function(){var p=[],T=this.j;T&&p.push(ps(T,wa,!0),":");var L=this.g;return(L||T=="file")&&(p.push("//"),(T=this.o)&&p.push(ps(T,wa,!0),"@"),p.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&p.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&p.push("/"),p.push(ps(L,L.charAt(0)=="/"?ms:$l,!0))),(L=this.i.toString())&&p.push("?",L),(L=this.m)&&p.push("#",ps(L,co)),p.join("")};function Vr(p){return new rr(p)}function lo(p,T,L){p.j=L?on(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function uo(p,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);p.s=T}else p.s=null}function Us(p,T,L){T instanceof Ji?(p.i=T,gs(p.i,p.h)):(L||(T=ps(T,Fo)),p.i=new Ji(T,p.h))}function In(p,T,L){p.i.set(T,L)}function zs(p){return In(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function on(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ps(p,T,L){return typeof p=="string"?(p=encodeURI(p).replace(T,Hl),L&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Hl(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var wa=/[#\/\?@]/g,$l=/[#\?:]/g,ms=/[#\?]/g,Fo=/[#\?@]/g,co=/#/g;function Ji(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function pn(p){p.g||(p.g=new Map,p.h=0,p.i&&va(p.i,function(T,L){p.add(decodeURIComponent(T.replace(/\+/g," ")),L)}))}n=Ji.prototype,n.add=function(p,T){pn(this),this.i=null,p=Ni(this,p);var L=this.g.get(p);return L||this.g.set(p,L=[]),L.push(T),this.h+=1,this};function Zi(p,T){pn(p),T=Ni(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function Ci(p,T){return pn(p),T=Ni(p,T),p.g.has(T)}n.forEach=function(p,T){pn(this),this.g.forEach(function(L,Y){L.forEach(function(be){p.call(T,be,Y,this)},this)},this)},n.na=function(){pn(this);const p=Array.from(this.g.values()),T=Array.from(this.g.keys()),L=[];for(let Y=0;Y<T.length;Y++){const be=p[Y];for(let ke=0;ke<be.length;ke++)L.push(T[Y])}return L},n.V=function(p){pn(this);let T=[];if(typeof p=="string")Ci(this,p)&&(T=T.concat(this.g.get(Ni(this,p))));else{p=Array.from(this.g.values());for(let L=0;L<p.length;L++)T=T.concat(p[L])}return T},n.set=function(p,T){return pn(this),this.i=null,p=Ni(this,p),Ci(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},n.get=function(p,T){return p?(p=this.V(p),0<p.length?String(p[0]):T):T};function jt(p,T,L){Zi(p,T),0<L.length&&(p.i=null,p.g.set(Ni(p,T),C(L)),p.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(var L=0;L<T.length;L++){var Y=T[L];const ke=encodeURIComponent(String(Y)),Ze=this.V(Y);for(Y=0;Y<Ze.length;Y++){var be=ke;Ze[Y]!==""&&(be+="="+encodeURIComponent(String(Ze[Y]))),p.push(be)}}return this.i=p.join("&")};function Ni(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function gs(p,T){T&&!p.j&&(pn(p),p.i=null,p.g.forEach(function(L,Y){var be=Y.toLowerCase();Y!=be&&(Zi(this,Y),jt(this,be,L))},p)),p.j=T}function ys(p,T){const L=new pr;if(u.Image){const Y=new Image;Y.onload=w(Br,L,"TestLoadImage: loaded",!0,T,Y),Y.onerror=w(Br,L,"TestLoadImage: error",!1,T,Y),Y.onabort=w(Br,L,"TestLoadImage: abort",!1,T,Y),Y.ontimeout=w(Br,L,"TestLoadImage: timeout",!1,T,Y),u.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=p}else T(!1)}function el(p,T){const L=new pr,Y=new AbortController,be=setTimeout(()=>{Y.abort(),Br(L,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:Y.signal}).then(ke=>{clearTimeout(be),ke.ok?Br(L,"TestPingServer: ok",!0,T):Br(L,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(be),Br(L,"TestPingServer: error",!1,T)})}function Br(p,T,L,Y,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),Y(L)}catch{}}function _a(){this.g=new it}function ba(p,T,L){const Y=L||"";try{ao(p,function(be,ke){let Ze=be;h(be)&&(Ze=dn(be)),T.push(Y+ke+"="+encodeURIComponent(Ze))})}catch(be){throw T.push(Y+"type="+encodeURIComponent("_badmap")),be}}function qs(p){this.l=p.Ub||null,this.j=p.eb||!1}E(qs,$e),qs.prototype.g=function(){return new Vo(this.l,this.j)},qs.prototype.i=function(p){return function(){return p}}({});function Vo(p,T){qe.call(this),this.D=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Vo,qe),n=Vo.prototype,n.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=T,this.readyState=1,Ur(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(T.body=p),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wl(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wl(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?fi(this):Ur(this),this.readyState==3&&Wl(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,fi(this))},n.Qa=function(p){this.g&&(this.response=p,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ur(p)}n.setRequestHeader=function(p,T){this.u.append(p,T)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var L=T.next();!L.done;)L=L.value,p.push(L[0]+": "+L[1]),L=T.next();return p.join(`\r
`)};function Ur(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Zr(p){let T="";return de(p,function(L,Y){T+=Y,T+=":",T+=L,T+=`\r
`}),T}function ho(p,T,L){e:{for(Y in L){var Y=!1;break e}Y=!0}Y||(L=Zr(L),typeof p=="string"?L!=null&&encodeURIComponent(String(L)):In(p,T,L))}function bn(p){qe.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(bn,qe);var tl=/^https?$/i,fo=["POST","PUT"];n=bn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,T,L,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?Pt(this.o):Pt(ar),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(ke){po(this,ke);return}if(p=L||"",L=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var be in Y)L.set(be,Y[be]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const ke of Y.keys())L.set(ke,Y.get(ke));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(L.keys()).find(ke=>ke.toLowerCase()=="content-type"),be=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(fo,T,void 0))||Y||be||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Ze]of L)this.g.setRequestHeader(ke,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{di(this),this.u=!0,this.g.send(p),this.u=!1}catch(ke){po(this,ke)}};function po(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.m=5,Bo(p),ei(p)}function Bo(p){p.A||(p.A=!0,Qe(p,"complete"),Qe(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Qe(this,"complete"),Qe(this,"abort"),ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),bn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},n.bb=function(){Sa(this)};function Sa(p){if(p.h&&typeof a<"u"&&(!p.v[1]||ir(p)!=4||p.Z()!=2)){if(p.u&&ir(p)==4)pt(p.Ea,0,p);else if(Qe(p,"readystatechange"),ir(p)==4){p.h=!1;try{const Ze=p.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var L;if(!(L=T)){var Y;if(Y=Ze===0){var be=String(p.D).match(Fr)[1]||null;!be&&u.self&&u.self.location&&(be=u.self.location.protocol.slice(0,-1)),Y=!tl.test(be?be.toLowerCase():"")}L=Y}if(L)Qe(p,"complete"),Qe(p,"success");else{p.m=6;try{var ke=2<ir(p)?p.g.statusText:""}catch{ke=""}p.l=ke+" ["+p.Z()+"]",Bo(p)}}finally{ei(p)}}}}function ei(p,T){if(p.g){di(p);const L=p.g,Y=p.v[0]?()=>{}:null;p.g=null,p.v=null,T||Qe(p,"ready");try{L.onreadystatechange=Y}catch{}}}function di(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function ir(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),Ve(T)}};function nl(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function es(p){const T={};p=(p.g&&2<=ir(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<p.length;Y++){if(j(p[Y]))continue;var L=R(p[Y]);const be=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const ke=T[be]||[];T[be]=ke,ke.push(L)}z(T,function(Y){return Y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mr(p,T,L){return L&&L.internalChannelParams&&L.internalChannelParams[p]||T}function Uo(p){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mr("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mr("baseRetryDelayMs",5e3,p),this.cb=mr("retryDelaySeedMs",1e4,p),this.Wa=mr("forwardChannelMaxRetries",2,p),this.wa=mr("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new so(p&&p.concurrentRequestLimit),this.Da=new _a,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Uo.prototype,n.la=8,n.G=1,n.connect=function(p,T,L,Y){vt(0),this.W=p,this.H=T||{},L&&Y!==void 0&&(this.H.OSID=L,this.H.OAID=Y),this.F=this.X,this.I=b(this,null,this.W),vs(this)};function Qn(p){if(Hs(p),p.G==3){var T=p.U++,L=Vr(p.I);if(In(L,"SID",p.K),In(L,"RID",T),In(L,"TYPE","terminate"),ws(p,L),T=new nr(p,p.j,T),T.L=2,T.v=zs(Vr(L)),L=!1,u.navigator&&u.navigator.sendBeacon)try{L=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!L&&u.Image&&(new Image().src=T.v,L=!0),L||(T.g=B(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Ln(T)}Aa(p)}function ts(p){p.g&&(xa(p),p.g.cancel(),p.g=null)}function Hs(p){ts(p),p.u&&(u.clearTimeout(p.u),p.u=null),Ws(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function vs(p){if(!hi(p.h)&&!p.s){p.s=!0;var T=p.Ga;xe||ge(),ne||(xe(),ne=!0),we.add(T,p),p.B=0}}function rl(p,T){return Mo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=T.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=dr(_(p.Ga,p,T),Ta(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const be=new nr(this,this.j,p);let ke=this.o;if(this.S&&(ke?(ke=N(ke),G(ke,this.S)):ke=this.S),this.m!==null||this.O||(be.H=ke,ke=null),this.P)e:{for(var T=0,L=0;L<this.i.length;L++){t:{var Y=this.i[L];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(T+=Y,4096<T){T=L;break e}if(T===4096||L===this.i.length-1){T=L+1;break e}}T=1e3}else T=1e3;T=ns(this,be,T),L=Vr(this.I),In(L,"RID",p),In(L,"CVER",22),this.D&&In(L,"X-HTTP-Session-Id",this.D),ws(this,L),ke&&(this.O?T="headers="+encodeURIComponent(String(Zr(ke)))+"&"+T:this.m&&ho(L,this.m,ke)),zn(this.h,be),this.Ua&&In(L,"TYPE","init"),this.P?(In(L,"$req",T),In(L,"SID","null"),be.T=!0,Vs(be,L,null)):Vs(be,L,T),this.G=2}}else this.G==3&&(p?mo(this,p):this.i.length==0||hi(this.h)||mo(this))};function mo(p,T){var L;T?L=T.l:L=p.U++;const Y=Vr(p.I);In(Y,"SID",p.K),In(Y,"RID",L),In(Y,"AID",p.T),ws(p,Y),p.m&&p.o&&ho(Y,p.m,p.o),L=new nr(p,p.j,L,p.B+1),p.m===null&&(L.H=p.o),T&&(p.i=T.D.concat(p.i)),T=ns(p,L,1e3),L.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),zn(p.h,L),Vs(L,Y,T)}function ws(p,T){p.H&&de(p.H,function(L,Y){In(T,Y,L)}),p.l&&ao({},function(L,Y){In(T,Y,L)})}function ns(p,T,L){L=Math.min(p.i.length,L);var Y=p.l?_(p.l.Na,p.l,p):null;e:{var be=p.i;let ke=-1;for(;;){const Ze=["count="+L];ke==-1?0<L?(ke=be[0].g,Ze.push("ofs="+ke)):ke=0:Ze.push("ofs="+ke);let Qt=!0;for(let ln=0;ln<L;ln++){let Xt=be[ln].g;const Sn=be[ln].map;if(Xt-=ke,0>Xt)ke=Math.max(0,be[ln].g-100),Qt=!1;else try{ba(Sn,Ze,"req"+Xt+"_")}catch{Y&&Y(Sn)}}if(Qt){Y=Ze.join("&");break e}}}return p=p.i.splice(0,L),T.D=p,Y}function $s(p){if(!p.g&&!p.u){p.Y=1;var T=p.Fa;xe||ge(),ne||(xe(),ne=!0),we.add(T,p),p.v=0}}function go(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=dr(_(p.Fa,p),Ta(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=dr(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ts(this),Gl(this))};function xa(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Gl(p){p.g=new nr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var T=Vr(p.qa);In(T,"RID","rpc"),In(T,"SID",p.K),In(T,"AID",p.T),In(T,"CI",p.F?"0":"1"),!p.F&&p.ja&&In(T,"TO",p.ja),In(T,"TYPE","xmlhttp"),ws(p,T),p.m&&p.o&&ho(T,p.m,p.o),p.L&&(p.g.I=p.L);var L=p.g;p=p.ia,L.L=1,L.v=zs(Vr(T)),L.m=null,L.P=!0,io(L,p)}n.Za=function(){this.C!=null&&(this.C=null,ts(this),go(this),vt(19))};function Ws(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function _s(p,T){var L=null;if(p.g==T){Ws(p),xa(p),p.g=null;var Y=2}else if(jr(p.h,T))L=T.D,Ja(p.h,T),Y=1;else return;if(p.G!=0){if(T.o)if(Y==1){L=T.m?T.m.length:0,T=Date.now()-T.F;var be=p.B;Y=xr(),Qe(Y,new Qr(Y,L)),vs(p)}else $s(p);else if(be=T.s,be==3||be==0&&0<T.X||!(Y==1&&rl(p,T)||Y==2&&go(p)))switch(L&&0<L.length&&(T=p.h,T.i=T.i.concat(L)),be){case 1:ti(p,5);break;case 4:ti(p,10);break;case 3:ti(p,6);break;default:ti(p,2)}}}function Ta(p,T){let L=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(L*=2),L*T}function ti(p,T){if(p.j.info("Error code "+T),T==2){var L=_(p.fb,p),Y=p.Xa;const be=!Y;Y=new rr(Y||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||lo(Y,"https"),zs(Y),be?ys(Y.toString(),L):el(Y.toString(),L)}else vt(2);p.G=0,p.l&&p.l.sa(T),Aa(p),Hs(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Aa(p){if(p.G=0,p.ka=[],p.l){const T=Za(p.h);(T.length!=0||p.i.length!=0)&&(k(p.ka,T),k(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function b(p,T,L){var Y=L instanceof rr?Vr(L):new rr(L);if(Y.g!="")T&&(Y.g=T+"."+Y.g),uo(Y,Y.s);else{var be=u.location;Y=be.protocol,T=T?T+"."+be.hostname:be.hostname,be=+be.port;var ke=new rr(null);Y&&lo(ke,Y),T&&(ke.g=T),be&&uo(ke,be),L&&(ke.l=L),Y=ke}return L=p.D,T=p.ya,L&&T&&In(Y,L,T),In(Y,"VER",p.la),ws(p,Y),Y}function B(p,T,L){if(T&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Ca&&!p.pa?new bn(new qs({eb:L})):new bn(p.pa),T.Ha(p.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function te(){}n=te.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function he(){}he.prototype.g=function(p,T){return new Te(p,T)};function Te(p,T){qe.call(this),this.g=new Uo(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(p?p["X-WebChannel-Client-Profile"]=T.va:p={"X-WebChannel-Client-Profile":T.va}),this.g.S=p,(p=T&&T.Sb)&&!j(p)&&(this.g.m=p),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.D=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new ht(this)}E(Te,qe),Te.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Te.prototype.close=function(){Qn(this.g)},Te.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var L={};L.__data__=p,p=L}else this.u&&(L={},L.__data__=dn(p),p=L);T.i.push(new ql(T.Ya++,p)),T.G==3&&vs(T)},Te.prototype.N=function(){this.g.l=null,delete this.j,Qn(this.g),delete this.g,Te.aa.N.call(this)};function Fe(p){vn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const L in T){p=L;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}E(Fe,vn);function Xe(){sn.call(this),this.status=1}E(Xe,sn);function ht(p){this.g=p}E(ht,te),ht.prototype.ua=function(){Qe(this.g,"a")},ht.prototype.ta=function(p){Qe(this.g,new Fe(p))},ht.prototype.sa=function(p){Qe(this.g,new Xe)},ht.prototype.ra=function(){Qe(this.g,"b")},he.prototype.createWebChannel=he.prototype.g,Te.prototype.send=Te.prototype.o,Te.prototype.open=Te.prototype.m,Te.prototype.close=Te.prototype.close,xS=function(){return new he},SS=function(){return xr()},bS=xt,f1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,qp=Xr,Ii.COMPLETE="complete",_S=Ii,wt.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",qe.prototype.listen=qe.prototype.K,Mf=wt,bn.prototype.listenOnce=bn.prototype.L,bn.prototype.getLastError=bn.prototype.Ka,bn.prototype.getLastErrorCode=bn.prototype.Ba,bn.prototype.getStatus=bn.prototype.Z,bn.prototype.getResponseJson=bn.prototype.Oa,bn.prototype.getResponseText=bn.prototype.oa,bn.prototype.send=bn.prototype.ea,bn.prototype.setWithCredentials=bn.prototype.Ha,wS=bn}).apply(typeof Tp<"u"?Tp:typeof self<"u"?self:typeof window<"u"?window:{});const X5="@firebase/firestore",J5="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Fm("@firebase/firestore");function yh(){return Oc.logLevel}function bt(n,...e){if(Oc.logLevel<=hn.DEBUG){const t=e.map(Ry);Oc.debug(`Firestore (${nf}): ${n}`,...t)}}function Dl(n,...e){if(Oc.logLevel<=hn.ERROR){const t=e.map(Ry);Oc.error(`Firestore (${nf}): ${n}`,...t)}}function zh(n,...e){if(Oc.logLevel<=hn.WARN){const t=e.map(Ry);Oc.warn(`Firestore (${nf}): ${n}`,...t)}}function Ry(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n="Unexpected state"){const e=`FIRESTORE (${nf}) INTERNAL ASSERTION FAILED: `+n;throw Dl(e),new Error(e)}function On(n,e){n||Kt()}function tn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends ma{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($i.UNAUTHENTICATED))}shutdown(){}}class Xk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jk{constructor(e){this.t=e,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){On(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new Fu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fu,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fu)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(On(typeof r.accessToken=="string"),new TS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return On(e===null||typeof e=="string"),new $i(e)}}class Zk{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class e6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Zk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t6{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ha(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){On(this.o===void 0);const r=s=>{s.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,bt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Z5(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(On(typeof t.token=="string"),this.R=t.token,new Z5(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=n6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function an(n,e){return n<e?-1:n>e?1:0}function d1(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return an(r,i);{const s=AS(),a=r6(s.encode(ew(n,t)),s.encode(ew(e,t)));return a!==0?a:an(r,i)}}t+=r>65535?2:1}return an(n.length,e.length)}function ew(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function r6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return an(n[t],e[t]);return an(n.length,e.length)}function qh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=-62135596800,nw=1e6;class Gr{static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nw);return new Gr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Tt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Tt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tw)throw new Tt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nw}_compareTo(e){return this.seconds===e.seconds?an(this.nanoseconds,e.nanoseconds):an(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new Gr(0,0))}static max(){return new Jt(new Gr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__name__";class ja{constructor(e,t,r){t===void 0?t=0:t>e.length&&Kt(),r===void 0?r=e.length-t:r>e.length-t&&Kt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=ja.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return an(e.length,t.length)}static compareSegments(e,t){const r=ja.isNumericId(e),i=ja.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ja.extractNumericId(e).compare(ja.extractNumericId(t)):d1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ju.fromString(e.substring(4,e.length-2))}}class er extends ja{construct(e,t,r){return new er(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Tt(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new er(t)}static emptyPath(){return new er([])}}const i6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends ja{construct(e,t,r){return new Ai(e,t,r)}static isValidIdentifier(e){return i6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rw}static keyField(){return new Ai([rw])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Tt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Tt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Tt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new Tt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(t)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(er.fromString(e))}static fromName(e){return new Ft(er.fromString(e).popFirst(5))}static empty(){return new Ft(er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&er.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return er.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new er(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function s6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Jt.fromTimestamp(r===1e9?new Gr(t+1,0):new Gr(t,r));return new Uu(i,Ft.empty(),e)}function o6(n){return new Uu(n.readTime,n.key,rd)}class Uu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Uu(Jt.min(),Ft.empty(),rd)}static max(){return new Uu(Jt.max(),Ft.empty(),rd)}}function a6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ft.comparator(n.documentKey,e.documentKey),t!==0?t:an(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(n){if(n.code!==We.FAILED_PRECONDITION||n.message!==l6)throw n;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ge((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ge?t:Ge.resolve(t)}catch(t){return Ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ge.reject(t)}static resolve(e){return new Ge((t,r)=>{t(e)})}static reject(e){return new Ge((t,r)=>{r(e)})}static waitFor(e){return new Ge((t,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&t()},c=>r(c))}),a=!0,s===i&&t()})}static or(e){let t=Ge.resolve(!1);for(const r of e)t=t.next(i=>i?Ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Ge((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const h=c;t(e[h]).next(m=>{a[h]=m,++u,u===s&&r(a)},m=>i(m))}})}static doWhile(e,t){return new Ge((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function c6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=-1;function Hm(n){return n==null}function cm(n){return n===0&&1/n==-1/0}function h6(n){return typeof n=="number"&&Number.isInteger(n)&&!cm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="";function f6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iw(e)),e=d6(n.get(t),e);return iw(e)}function d6(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case IS:t+="";break;default:t+=s}}return t}function iw(n){return n+IS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ju(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.comparator=e,this.root=t||Ti.EMPTY}insert(e,t){return new fr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ap(this.root,e,this.comparator,!0)}}class Ap{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ti.RED,this.left=i??Ti.EMPTY,this.right=s??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ti(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ti(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.comparator=e,this.data=new fr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ow(this.data.getIterator())}getIteratorFrom(e){return new ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kr(this.comparator);return t.data=e,t}}class ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new eo([])}unionWith(e){let t=new Kr(Ai.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new eo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CS("Invalid base64 string: "+s):s}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return an(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const p6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zu(n){if(On(!!n),typeof n=="string"){let e=0;const t=p6.exec(n);if(On(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qu(n){return typeof n=="string"?Ei.fromBase64String(n):Ei.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="server_timestamp",kS="__type__",LS="__previous_value__",RS="__local_write_time__";function Oy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kS])===null||t===void 0?void 0:t.stringValue)===NS}function $m(n){const e=n.mapValue.fields[LS];return Oy(e)?$m(e):e}function id(n){const e=zu(n.mapValue.fields[RS].timestampValue);return new Gr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,t,r,i,s,a,u,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}}const hm="(default)";class sd{constructor(e,t){this.projectId=e,this.database=t||hm}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database===hm}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="__type__",g6="__max__",Ep={mapValue:{}},OS="__vector__",fm="value";function Hu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Oy(n)?4:v6(n)?9007199254740991:y6(n)?10:11:Kt()}function Ka(n,e){if(n===e)return!0;const t=Hu(n);if(t!==Hu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return id(n).isEqual(id(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=zu(i.timestampValue),u=zu(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return qu(i.bytesValue).isEqual(qu(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Cr(i.geoPointValue.latitude)===Cr(s.geoPointValue.latitude)&&Cr(i.geoPointValue.longitude)===Cr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Cr(i.integerValue)===Cr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Cr(i.doubleValue),u=Cr(s.doubleValue);return a===u?cm(a)===cm(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return qh(n.arrayValue.values||[],e.arrayValue.values||[],Ka);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(sw(a)!==sw(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Ka(a[c],u[c])))return!1;return!0}(n,e);default:return Kt()}}function od(n,e){return(n.values||[]).find(t=>Ka(t,e))!==void 0}function Hh(n,e){if(n===e)return 0;const t=Hu(n),r=Hu(e);if(t!==r)return an(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return an(n.booleanValue,e.booleanValue);case 2:return function(s,a){const u=Cr(s.integerValue||s.doubleValue),c=Cr(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return aw(n.timestampValue,e.timestampValue);case 4:return aw(id(n),id(e));case 5:return d1(n.stringValue,e.stringValue);case 6:return function(s,a){const u=qu(s),c=qu(a);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let h=0;h<u.length&&h<c.length;h++){const m=an(u[h],c[h]);if(m!==0)return m}return an(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const u=an(Cr(s.latitude),Cr(a.latitude));return u!==0?u:an(Cr(s.longitude),Cr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return lw(n.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,h,m;const y=s.fields||{},_=a.fields||{},w=(u=y[fm])===null||u===void 0?void 0:u.arrayValue,E=(c=_[fm])===null||c===void 0?void 0:c.arrayValue,C=an(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:lw(w,E)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ep.mapValue&&a===Ep.mapValue)return 0;if(s===Ep.mapValue)return 1;if(a===Ep.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),h=a.fields||{},m=Object.keys(h);c.sort(),m.sort();for(let y=0;y<c.length&&y<m.length;++y){const _=d1(c[y],m[y]);if(_!==0)return _;const w=Hh(u[c[y]],h[m[y]]);if(w!==0)return w}return an(c.length,m.length)}(n.mapValue,e.mapValue);default:throw Kt()}}function aw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return an(n,e);const t=zu(n),r=zu(e),i=an(t.seconds,r.seconds);return i!==0?i:an(t.nanos,r.nanos)}function lw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Hh(t[i],r[i]);if(s)return s}return an(t.length,r.length)}function $h(n){return p1(n)}function p1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=zu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ft.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=p1(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${p1(t.fields[a])}`;return i+"}"}(n.mapValue):Kt()}function Hp(n){switch(Hu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$m(n);return e?16+Hp(e):16;case 5:return 2*n.stringValue.length;case 6:return qu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Hp(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ju(r.fields,(s,a)=>{i+=s.length+Hp(a)}),i}(n.mapValue);default:throw Kt()}}function uw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function m1(n){return!!n&&"integerValue"in n}function My(n){return!!n&&"arrayValue"in n}function cw(n){return!!n&&"nullValue"in n}function hw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $p(n){return!!n&&"mapValue"in n}function y6(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[DS])===null||t===void 0?void 0:t.stringValue)===OS}function qf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ju(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function v6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===g6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.value=e}static empty(){return new Rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$p(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qf(t)}setAll(e){let t=Ai.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}a?r[u.lastSegment()]=qf(a):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());$p(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$p(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ju(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rs(qf(this.value))}}function MS(n){const e=[];return Ju(n.fields,(t,r)=>{const i=new Ai([t]);if($p(r)){const s=MS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new eo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,r,i,s,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Wi(e,0,Jt.min(),Jt.min(),Jt.min(),Rs.empty(),0)}static newFoundDocument(e,t,r,i){return new Wi(e,1,t,Jt.min(),r,i,0)}static newNoDocument(e,t){return new Wi(e,2,t,Jt.min(),Jt.min(),Rs.empty(),0)}static newUnknownDocument(e,t){return new Wi(e,3,t,Jt.min(),Jt.min(),Rs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t){this.position=e,this.inclusive=t}}function fw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=Ft.comparator(Ft.fromName(a.referenceValue),t.key):r=Hh(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ka(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t="asc"){this.field=e,this.dir=t}}function w6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class Or extends jS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new b6(e,t,r):t==="array-contains"?new T6(e,r):t==="in"?new A6(e,r):t==="not-in"?new E6(e,r):t==="array-contains-any"?new I6(e,r):new Or(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new S6(e,r):new x6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Hh(t,this.value)):t!==null&&Hu(this.value)===Hu(t)&&this.matchesComparison(Hh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pa extends jS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new pa(e,t)}matches(e){return FS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function FS(n){return n.op==="and"}function VS(n){return _6(n)&&FS(n)}function _6(n){for(const e of n.filters)if(e instanceof pa)return!1;return!0}function g1(n){if(n instanceof Or)return n.field.canonicalString()+n.op.toString()+$h(n.value);if(VS(n))return n.filters.map(e=>g1(e)).join(",");{const e=n.filters.map(t=>g1(t)).join(",");return`${n.op}(${e})`}}function BS(n,e){return n instanceof Or?function(r,i){return i instanceof Or&&r.op===i.op&&r.field.isEqual(i.field)&&Ka(r.value,i.value)}(n,e):n instanceof pa?function(r,i){return i instanceof pa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&BS(a,i.filters[u]),!0):!1}(n,e):void Kt()}function US(n){return n instanceof Or?function(t){return`${t.field.canonicalString()} ${t.op} ${$h(t.value)}`}(n):n instanceof pa?function(t){return t.op.toString()+" {"+t.getFilters().map(US).join(" ,")+"}"}(n):"Filter"}class b6 extends Or{constructor(e,t,r){super(e,t,r),this.key=Ft.fromName(r.referenceValue)}matches(e){const t=Ft.comparator(e.key,this.key);return this.matchesComparison(t)}}class S6 extends Or{constructor(e,t){super(e,"in",t),this.keys=zS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class x6 extends Or{constructor(e,t){super(e,"not-in",t),this.keys=zS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ft.fromName(r.referenceValue))}class T6 extends Or{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return My(t)&&od(t.arrayValue,this.value)}}class A6 extends Or{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&od(this.value.arrayValue,t)}}class E6 extends Or{constructor(e,t){super(e,"not-in",t)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!od(this.value.arrayValue,t)}}class I6 extends Or{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!My(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,t=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.le=null}}function pw(n,e=null,t=[],r=[],i=null,s=null,a=null){return new P6(n,e,t,r,i,s,a)}function jy(n){const e=tn(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>g1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Hm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$h(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$h(r)).join(",")),e.le=t}return e.le}function Fy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!w6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dw(n.startAt,e.startAt)&&dw(n.endAt,e.endAt)}function y1(n){return Ft.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function C6(n,e,t,r,i,s,a,u){return new of(n,e,t,r,i,s,a,u)}function Wm(n){return new of(n)}function mw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qS(n){return n.collectionGroup!==null}function Hf(n){const e=tn(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Kr(Ai.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new ad(s,r))}),t.has(Ai.keyField().canonicalString())||e.he.push(new ad(Ai.keyField(),r))}return e.he}function Ua(n){const e=tn(n);return e.Pe||(e.Pe=N6(e,Hf(n))),e.Pe}function N6(n,e){if(n.limitType==="F")return pw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ad(i.field,s)});const t=n.endAt?new dm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new dm(n.startAt.position,n.startAt.inclusive):null;return pw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function v1(n,e){const t=n.filters.concat([e]);return new of(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function w1(n,e,t){return new of(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gm(n,e){return Fy(Ua(n),Ua(e))&&n.limitType===e.limitType}function HS(n){return`${jy(Ua(n))}|lt:${n.limitType}`}function vh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>US(i)).join(", ")}]`),Hm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$h(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$h(i)).join(",")),`Target(${r})`}(Ua(n))}; limitType=${n.limitType})`}function Km(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Hf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const h=fw(a,u,c);return a.inclusive?h<=0:h<0}(r.startAt,Hf(r),i)||r.endAt&&!function(a,u,c){const h=fw(a,u,c);return a.inclusive?h>=0:h>0}(r.endAt,Hf(r),i))}(n,e)}function k6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $S(n){return(e,t)=>{let r=!1;for(const i of Hf(n)){const s=L6(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function L6(n,e,t){const r=n.field.isKeyField()?Ft.comparator(e.key,t.key):function(s,a,u){const c=a.data.field(s),h=u.data.field(s);return c!==null&&h!==null?Hh(c,h):Kt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Kt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ju(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new fr(Ft.comparator);function Ol(){return R6}const WS=new fr(Ft.comparator);function jf(...n){let e=WS;for(const t of n)e=e.insert(t.key,t);return e}function GS(n){let e=WS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ec(){return $f()}function KS(){return $f()}function $f(){return new qc(n=>n.toString(),(n,e)=>n.isEqual(e))}const D6=new fr(Ft.comparator),O6=new Kr(Ft.comparator);function fn(...n){let e=O6;for(const t of n)e=e.add(t);return e}const M6=new Kr(an);function j6(){return M6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cm(e)?"-0":e}}function YS(n){return{integerValue:""+n}}function F6(n,e){return h6(e)?YS(e):Vy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this._=void 0}}function V6(n,e,t){return n instanceof pm?function(i,s){const a={fields:{[kS]:{stringValue:NS},[RS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Oy(s)&&(s=$m(s)),s&&(a.fields[LS]=s),{mapValue:a}}(t,e):n instanceof ld?XS(n,e):n instanceof ud?JS(n,e):function(i,s){const a=QS(i,s),u=gw(a)+gw(i.Ie);return m1(a)&&m1(i.Ie)?YS(u):Vy(i.serializer,u)}(n,e)}function B6(n,e,t){return n instanceof ld?XS(n,e):n instanceof ud?JS(n,e):t}function QS(n,e){return n instanceof mm?function(r){return m1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class pm extends Ym{}class ld extends Ym{constructor(e){super(),this.elements=e}}function XS(n,e){const t=ZS(e);for(const r of n.elements)t.some(i=>Ka(i,r))||t.push(r);return{arrayValue:{values:t}}}class ud extends Ym{constructor(e){super(),this.elements=e}}function JS(n,e){let t=ZS(e);for(const r of n.elements)t=t.filter(i=>!Ka(i,r));return{arrayValue:{values:t}}}class mm extends Ym{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function gw(n){return Cr(n.integerValue||n.doubleValue)}function ZS(n){return My(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function U6(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ld&&i instanceof ld||r instanceof ud&&i instanceof ud?qh(r.elements,i.elements,Ka):r instanceof mm&&i instanceof mm?Ka(r.Ie,i.Ie):r instanceof pm&&i instanceof pm}(n.transform,e.transform)}class z6{constructor(e,t){this.version=e,this.transformResults=t}}class ko{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ko}static exists(e){return new ko(void 0,e)}static updateTime(e){return new ko(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qm{}function ex(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new By(n.key,ko.none()):new Cd(n.key,n.data,ko.none());{const t=n.data,r=Rs.empty();let i=new Kr(Ai.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Zu(n.key,r,new eo(i.toArray()),ko.none())}}function q6(n,e,t){n instanceof Cd?function(i,s,a){const u=i.value.clone(),c=vw(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Zu?function(i,s,a){if(!Wp(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=vw(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(tx(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Wf(n,e,t,r){return n instanceof Cd?function(s,a,u,c){if(!Wp(s.precondition,a))return u;const h=s.value.clone(),m=ww(s.fieldTransforms,c,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zu?function(s,a,u,c){if(!Wp(s.precondition,a))return u;const h=ww(s.fieldTransforms,c,a),m=a.data;return m.setAll(tx(s)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(s,a,u){return Wp(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(n,e,t)}function H6(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=QS(r.transform,i||null);s!=null&&(t===null&&(t=Rs.empty()),t.set(r.field,s))}return t||null}function yw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qh(r,i,(s,a)=>U6(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cd extends Qm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zu extends Qm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function vw(n,e,t){const r=new Map;On(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,B6(a,u,t[i]))}return r}function ww(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,V6(s,a,e))}return r}class By extends Qm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $6 extends Qm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q6(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=KS();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=t.has(i.key)?null:u;const c=ex(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Jt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&qh(this.mutations,e.mutations,(t,r)=>yw(t,r))&&qh(this.baseMutations,e.baseMutations,(t,r)=>yw(t,r))}}class Uy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){On(e.mutations.length===r.length);let i=function(){return D6}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Uy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr,yn;function Y6(n){switch(n){case We.OK:return Kt();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return Kt()}}function nx(n){if(n===void 0)return Dl("GRPC error has no .code"),We.UNKNOWN;switch(n){case Dr.OK:return We.OK;case Dr.CANCELLED:return We.CANCELLED;case Dr.UNKNOWN:return We.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return We.INTERNAL;case Dr.UNAVAILABLE:return We.UNAVAILABLE;case Dr.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Dr.NOT_FOUND:return We.NOT_FOUND;case Dr.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Dr.ABORTED:return We.ABORTED;case Dr.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Dr.DATA_LOSS:return We.DATA_LOSS;default:return Kt()}}(yn=Dr||(Dr={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=new ju([4294967295,4294967295],0);function _w(n){const e=AS().encode(n),t=new vS;return t.update(e),new Uint8Array(t.digest())}function bw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ju([t,r],0),new ju([i,s],0)]}class zy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ff(`Invalid padding: ${t}`);if(r<0)throw new Ff(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ff(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ff(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ju.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(ju.fromNumber(r)));return i.compare(Q6)===1&&(i=new ju([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=_w(e),[r,i]=bw(t);for(let s=0;s<this.hashCount;s++){const a=this.Ae(r,i,s);if(!this.Re(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new zy(s,i,t);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ee===0)return;const t=_w(e),[r,i]=bw(t);for(let s=0;s<this.hashCount;s++){const a=this.Ae(r,i,s);this.Ve(a)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ff extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Xm(Jt.min(),i,new fr(an),Ol(),fn())}}class Nd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nd(r,t,fn(),fn(),fn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class rx{constructor(e,t){this.targetId=e,this.ge=t}}class ix{constructor(e,t,r=Ei.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Sw{constructor(){this.pe=0,this.ye=xw(),this.we=Ei.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=fn(),t=fn(),r=fn();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Kt()}}),new Nd(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=xw()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,On(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class X6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ol(),this.$e=Ip(),this.Ue=Ip(),this.Ke=new fr(an)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Kt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(y1(s))if(r===0){const a=new Ft(s.path);this.ze(t,a,Wi.newNoDocument(a,Jt.min()))}else On(r===1);else{const a=this.et(t);if(a!==r){const u=this.tt(e),c=u?this.nt(u,e,a):1;if(c!==0){this.Ye(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,u;try{a=qu(r).toUint8Array()}catch(c){if(c instanceof CS)return zh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new zy(a,i,s)}catch(c){return zh(c instanceof Ff?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const a=this.ke.it(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,a)=>{const u=this.Xe(a);if(u){if(s.current&&y1(u.target)){const c=new Ft(u.target.path);this._t(c).has(a)||this.ut(a,c)||this.ze(a,c,Wi.newNoDocument(c,e))}s.ve&&(t.set(a,s.Fe()),s.Me())}});let r=fn();this.Ue.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const h=this.Xe(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qe.forEach((s,a)=>a.setReadTime(e));const i=new Xm(e,t,this.Ke,this.Qe,r);return this.Qe=Ol(),this.$e=Ip(),this.Ue=Ip(),this.Ke=new fr(an),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Sw,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Kr(an),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Kr(an),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||bt("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Sw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ip(){return new fr(Ft.comparator)}function xw(){return new fr(Ft.comparator)}const J6={asc:"ASCENDING",desc:"DESCENDING"},Z6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eL={and:"AND",or:"OR"};class tL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _1(n,e){return n.useProto3Json||Hm(e)?e:{value:e}}function gm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nL(n,e){return gm(n,e.toTimestamp())}function za(n){return On(!!n),Jt.fromTimestamp(function(t){const r=zu(t);return new Gr(r.seconds,r.nanos)}(n))}function qy(n,e){return b1(n,e).canonicalString()}function b1(n,e){const t=function(i){return new er(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ox(n){const e=er.fromString(n);return On(hx(e)),e}function S1(n,e){return qy(n.databaseId,e.path)}function x0(n,e){const t=ox(e);if(t.get(1)!==n.databaseId.projectId)throw new Tt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Tt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ft(lx(t))}function ax(n,e){return qy(n.databaseId,e)}function rL(n){const e=ox(n);return e.length===4?er.emptyPath():lx(e)}function x1(n){return new er(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lx(n){return On(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Tw(n,e,t){return{name:S1(n,e),fields:t.value.mapValue.fields}}function iL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Kt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(On(m===void 0||typeof m=="string"),Ei.fromBase64String(m||"")):(On(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ei.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(h){const m=h.code===void 0?We.UNKNOWN:nx(h.code);return new Tt(m,h.message||"")}(a);t=new ix(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=x0(n,r.document.name),s=za(r.document.updateTime),a=r.document.createTime?za(r.document.createTime):Jt.min(),u=new Rs({mapValue:{fields:r.document.fields}}),c=Wi.newFoundDocument(i,s,a,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new Gp(h,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=x0(n,r.document),s=r.readTime?za(r.readTime):Jt.min(),a=Wi.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Gp([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=x0(n,r.document),s=r.removedTargetIds||[];t=new Gp([],s,i,null)}else{if(!("filter"in e))return Kt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new K6(i,s),u=r.targetId;t=new rx(u,a)}}return t}function sL(n,e){let t;if(e instanceof Cd)t={update:Tw(n,e.key,e.value)};else if(e instanceof By)t={delete:S1(n,e.key)};else if(e instanceof Zu)t={update:Tw(n,e.key,e.data),updateMask:pL(e.fieldMask)};else{if(!(e instanceof $6))return Kt();t={verify:S1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof pm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ld)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ud)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof mm)return{fieldPath:a.field.canonicalString(),increment:u.Ie};throw Kt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Kt()}(n,e.precondition)),t}function oL(n,e){return n&&n.length>0?(On(e!==void 0),n.map(t=>function(i,s){let a=i.updateTime?za(i.updateTime):za(s);return a.isEqual(Jt.min())&&(a=za(s)),new z6(a,i.transformResults||[])}(t,e))):[]}function aL(n,e){return{documents:[ax(n,e.path)]}}function lL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ax(n,i);const s=function(h){if(h.length!==0)return cx(pa.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:wh(_.field),direction:hL(_.dir)}}(m))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=_1(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function uL(n){let e=rL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){On(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(y){const _=ux(y);return _ instanceof pa&&VS(_)?_.getFilters():[_]}(t.where));let a=[];t.orderBy&&(a=function(y){return y.map(_=>function(E){return new ad(_h(E.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(y){let _;return _=typeof y=="object"?y.value:y,Hm(_)?null:_}(t.limit));let c=null;t.startAt&&(c=function(y){const _=!!y.before,w=y.values||[];return new dm(w,_)}(t.startAt));let h=null;return t.endAt&&(h=function(y){const _=!y.before,w=y.values||[];return new dm(w,_)}(t.endAt)),C6(e,i,a,s,u,"F",c,h)}function cL(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ux(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_h(t.unaryFilter.field);return Or.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_h(t.unaryFilter.field);return Or.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_h(t.unaryFilter.field);return Or.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_h(t.unaryFilter.field);return Or.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(n):n.fieldFilter!==void 0?function(t){return Or.create(_h(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pa.create(t.compositeFilter.filters.map(r=>ux(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Kt()}}(t.compositeFilter.op))}(n):Kt()}function hL(n){return J6[n]}function fL(n){return Z6[n]}function dL(n){return eL[n]}function wh(n){return{fieldPath:n.canonicalString()}}function _h(n){return Ai.fromServerFormat(n.fieldPath)}function cx(n){return n instanceof Or?function(t){if(t.op==="=="){if(hw(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NAN"}};if(cw(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hw(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NOT_NAN"}};if(cw(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wh(t.field),op:fL(t.op),value:t.value}}}(n):n instanceof pa?function(t){const r=t.getFilters().map(i=>cx(i));return r.length===1?r[0]:{compositeFilter:{op:dL(t.op),filters:r}}}(n):Kt()}function pL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t,r,i,s=Jt.min(),a=Jt.min(),u=Ei.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Lu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.Tt=e}}function gL(n){const e=uL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?w1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.Tn=new vL}addToCollectionParentIndex(e,t){return this.Tn.add(t),Ge.resolve()}getCollectionParents(e,t){return Ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Ge.resolve()}deleteFieldIndex(e,t){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,t){return Ge.resolve()}getDocumentsMatchingTarget(e,t){return Ge.resolve(null)}getIndexType(e,t){return Ge.resolve(0)}getFieldIndexes(e,t){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,t){return Ge.resolve(Uu.min())}getMinOffsetFromCollectionGroup(e,t){return Ge.resolve(Uu.min())}updateCollectionGroup(e,t,r){return Ge.resolve()}updateIndexEntries(e,t){return Ge.resolve()}}class vL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Kr(er.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kr(er.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fx=41943040;class Ls{static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(fx,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Wh(0)}static Kn(){return new Wh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="LruGarbageCollector",wL=1048576;function Iw([n,e],[t,r]){const i=an(n,t);return i===0?an(e,r):i}class _L{constructor(e){this.Hn=e,this.buffer=new Kr(Iw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Iw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){bt(Ew,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sf(t)?bt(Ew,"Ignoring IndexedDB error during garbage collection: ",t):await rf(t)}await this.er(3e5)})}}class SL{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Ge.resolve(qm.ae);const r=new _L(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(Aw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Aw):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,a,u,c,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(s=y,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),yh()<=hn.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${y} documents in `+(h-c)+`ms
Total Duration: ${h-m}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}function xL(n,e){return new SL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.changes=new qc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Wf(r.mutation,i,eo.empty(),Gr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fn()){const i=Ec();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=jf();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=Ec();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{t.set(a,u)})})}computeViews(e,t,r,i){let s=Ol();const a=$f(),u=function(){return $f()}();return t.forEach((c,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Zu)?s=s.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Wf(m.mutation,h,m.mutation.getFieldMask(),Gr.now())):a.set(h.key,eo.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,m)=>a.set(h,m)),t.forEach((h,m)=>{var y;return u.set(h,new AL(m,(y=a.get(h))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=$f();let i=new fr((a,u)=>a-u),s=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const u of a)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let m=r.get(c)||eo.empty();m=u.applyToLocalView(h,m),r.set(c,m);const y=(i.get(u.batchId)||fn()).add(c);i=i.insert(u.batchId,y)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,m=c.value,y=KS();m.forEach(_=>{if(!s.has(_)){const w=ex(t.get(_),r.get(_));w!==null&&y.set(_,w),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,y))}return Ge.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return Ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Ge.resolve(Ec());let u=rd,c=s;return a.next(h=>Ge.forEach(h,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),s.get(m)?Ge.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{c=c.insert(m,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,fn())).next(m=>({batchId:u,changes:GS(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ft(t)).next(r=>{let i=jf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=jf();return this.indexManager.getCollectionParents(e,s).next(u=>Ge.forEach(u,c=>{const h=function(y,_){return new of(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((y,_)=>{a=a.insert(y,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((c,h)=>{const m=h.getKey();a.get(m)===null&&(a=a.insert(m,Wi.newInvalidDocument(m)))});let u=jf();return a.forEach((c,h)=>{const m=s.get(c);m!==void 0&&Wf(m.mutation,h,eo.empty(),Gr.now()),Km(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:za(i.createTime)}}(t)),Ge.resolve()}getNamedQuery(e,t){return Ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:gL(i.bundledQuery),readTime:za(i.readTime)}}(t)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.overlays=new fr(Ft.comparator),this.Rr=new Map}getOverlay(e,t){return Ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ec();return Ge.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),Ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),Ge.resolve()}getOverlaysForCollection(e,t,r){const i=Ec(),s=t.length+1,a=new Ft(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new fr((h,m)=>h-m);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=Ec(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Ec(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return Ge.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new G6(t,r));let s=this.Rr.get(t);s===void 0&&(s=fn(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.sessionToken=Ei.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Vr=new Kr(ui.mr),this.gr=new Kr(ui.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new ui(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new ui(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ft(new er([])),r=new ui(t,e),i=new ui(t,e+1),s=[];return this.gr.forEachInRange([r,i],a=>{this.wr(a),s.push(a.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ft(new er([])),r=new ui(t,e),i=new ui(t,e+1);let s=fn();return this.gr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new ui(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ui{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ft.comparator(e.key,t.key)||an(e.Cr,t.Cr)}static pr(e,t){return an(e.Cr,t.Cr)||Ft.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Kr(ui.mr)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new W6(s,t,r,i);this.mutationQueue.push(a);for(const u of i)this.Mr=this.Mr.add(new ui(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ge.resolve(a)}lookupMutationBatch(e,t){return Ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return Ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?Dy:this.Fr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ui(t,0),i=new ui(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],a=>{const u=this.Or(a.Cr);s.push(u)}),Ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kr(an);return t.forEach(i=>{const s=new ui(i,0),a=new ui(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,a],u=>{r=r.add(u.Cr)})}),Ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ft.isDocumentKey(s)||(s=s.child(""));const a=new ui(new Ft(s),0);let u=new Kr(an);return this.Mr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Cr)),!0)},a),Ge.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){On(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Ge.forEach(t.mutations,i=>{const s=new ui(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new ui(t,0),i=this.Mr.firstAfterOrEqual(r);return Ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.kr=e,this.docs=function(){return new fr(Ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ge.resolve(r?r.document.mutableCopy():Wi.newInvalidDocument(t))}getEntries(e,t){let r=Ol();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wi.newInvalidDocument(i))}),Ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ol();const a=t.path,u=new Ft(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||a6(o6(m),r)<=0||(i.has(m.key)||Km(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Ge.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Kt()}qr(e,t){return Ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new LL(this)}getSize(e){return Ge.resolve(this.size)}}class LL extends TL{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.persistence=e,this.Qr=new qc(t=>jy(t),Fy),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Hy,this.targetCount=0,this.Kr=Wh.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Wh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Ge.resolve()}updateTargetData(e,t){return this.zn(t),Ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((a,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Ge.waitFor(s).next(()=>i)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),Ge.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ge.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return Ge.resolve(r)}containsKey(e,t){return Ge.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new qm(0),this.zr=!1,this.zr=!0,this.jr=new CL,this.referenceDelegate=e(this),this.Hr=new RL(this),this.indexManager=new yL,this.remoteDocumentCache=function(i){return new kL(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new mL(t),this.Yr=new IL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new NL(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){bt("MemoryPersistence","Starting transaction:",e);const i=new DL(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return Ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class DL extends u6{constructor(e){super(),this.currentSequenceNumber=e}}class $y{constructor(e){this.persistence=e,this.ti=new Hy,this.ni=null}static ri(e){return new $y(e)}get ii(){if(this.ni)return this.ni;throw Kt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.ii,r=>{const i=Ft.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,Jt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Ge.or([()=>Ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ym{constructor(e,t){this.persistence=e,this.oi=new qc(r=>f6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=xL(this,t)}static ri(e,t){return new ym(e,t)}Zr(){}Xr(e){return Ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Ge.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?Ge.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,a=>this.ar(e,a,t).next(u=>{u||(r++,s.removeEntry(a,Jt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hp(e.data.value)),t}ar(e,t,r){return Ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=fn(),i=fn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Wy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gP()?8:c6(Qi())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new OL;return this._s(e,t,a).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,a,u.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(yh()<=hn.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",vh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ge.resolve()):(yh()<=hn.DEBUG&&bt("QueryEngine","Query:",vh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(yh()<=hn.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",vh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ua(t))):Ge.resolve())}rs(e,t){if(mw(t))return Ge.resolve(null);let r=Ua(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=w1(t,null,"F"),r=Ua(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=fn(...s);return this.ns.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.cs(t,u);return this.ls(t,h,a,c.readTime)?this.rs(e,w1(t,null,"F")):this.hs(e,h,t,c)}))})))}ss(e,t,r,i){return mw(t)||i.isEqual(Jt.min())?Ge.resolve(null):this.ns.getDocuments(e,r).next(s=>{const a=this.cs(t,s);return this.ls(t,a,r,i)?Ge.resolve(null):(yh()<=hn.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vh(t)),this.hs(e,a,t,s6(i,rd)).next(u=>u))})}cs(e,t){let r=new Kr($S(e));return t.forEach((i,s)=>{Km(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return yh()<=hn.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",vh(t)),this.ns.getDocumentsMatchingQuery(e,t,Uu.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="LocalStore",jL=3e8;class FL{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new fr(an),this.Is=new qc(s=>jy(s),Fy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EL(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function VL(n,e,t,r){return new FL(n,e,t,r)}async function px(n,e){const t=tn(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=fn();for(const h of i){a.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}return t.localDocuments.getDocuments(r,c).next(h=>({Rs:h,removedBatchIds:a,addedBatchIds:u}))})})}function BL(n,e){const t=tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,c,h,m){const y=h.batch,_=y.keys();let w=Ge.resolve();return _.forEach(E=>{w=w.next(()=>m.getEntry(c,E)).next(C=>{const k=h.docVersions.get(E);On(k!==null),C.version.compareTo(k)<0&&(y.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),m.addEntry(C)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(c,y))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=fn();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function mx(n){const e=tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function UL(n,e){const t=tn(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,y)=>{const _=i.get(y);if(!_)return;u.push(t.Hr.removeMatchingKeys(s,m.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(s,m.addedDocuments,y)));let w=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(Ei.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),i=i.insert(y,w),function(C,k,I){return C.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=jL?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(_,w,m)&&u.push(t.Hr.updateTargetData(s,w))});let c=Ol(),h=fn();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(zL(s,a,e.documentUpdates).next(m=>{c=m.Vs,h=m.fs})),!r.isEqual(Jt.min())){const m=t.Hr.getLastRemoteSnapshotVersion(s).next(y=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return Ge.waitFor(u).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(t.Ts=i,s))}function zL(n,e,t){let r=fn(),i=fn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=Ol();return t.forEach((u,c)=>{const h=s.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Jt.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):bt(Gy,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{Vs:a,fs:i}})}function qL(n,e){const t=tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HL(n,e){const t=tn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,Ge.resolve(i)):t.Hr.allocateTargetId(r).next(a=>(i=new Lu(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function T1(n,e,t){const r=tn(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!sf(a))throw a;bt(Gy,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Pw(n,e,t){const r=tn(n);let i=Jt.min(),s=fn();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,m){const y=tn(c),_=y.Is.get(m);return _!==void 0?Ge.resolve(y.Ts.get(_)):y.Hr.getTargetData(h,m)}(r,a,Ua(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(a,e,t?i:Jt.min(),t?s:fn())).next(u=>($L(r,k6(e),u),{documents:u,gs:s})))}function $L(n,e,t){let r=n.Es.get(e)||Jt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class Cw{constructor(){this.activeTargetIds=j6()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WL{constructor(){this.ho=new Cw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Cw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="ConnectivityMonitor";class kw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){bt(Nw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){bt(Nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp=null;function A1(){return Pp===null?Pp=function(){return 268435456+Math.round(2147483648*Math.random())}():Pp++,"0x"+Pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="RestConnection",KL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YL{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===hm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,s){const a=A1(),u=this.bo(e,t.toUriEncodedString());bt(T0,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(e,u,c,r).then(h=>(bt(T0,`Received RPC '${e}' ${a}: `,h),h),h=>{throw zh(T0,`RPC '${e}' ${a} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,s,a){return this.So(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,t){const r=KL[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="WebChannelConnection";class XL extends YL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=A1();return new Promise((a,u)=>{const c=new wS;c.setWithCredentials(!0),c.listenOnce(_S.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case qp.NO_ERROR:const m=c.getResponseJson();bt(Vi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),a(m);break;case qp.TIMEOUT:bt(Vi,`RPC '${e}' ${s} timed out`),u(new Tt(We.DEADLINE_EXCEEDED,"Request time out"));break;case qp.HTTP_ERROR:const y=c.getStatus();if(bt(Vi,`RPC '${e}' ${s} failed with status:`,y,"response text:",c.getResponseText()),y>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const E=function(k){const I=k.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(I)>=0?I:We.UNKNOWN}(w.status);u(new Tt(E,w.message))}else u(new Tt(We.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Tt(We.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{bt(Vi,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);bt(Vi,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=A1(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=xS(),u=SS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const m=s.join("");bt(Vi,`Creating RPC '${e}' stream ${i}: ${m}`,c);const y=a.createWebChannel(m,c);let _=!1,w=!1;const E=new QL({Fo:k=>{w?bt(Vi,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(bt(Vi,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),bt(Vi,`RPC '${e}' stream ${i} sending:`,k),y.send(k))},Mo:()=>y.close()}),C=(k,I,j)=>{k.listen(I,q=>{try{j(q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return C(y,Mf.EventType.OPEN,()=>{w||(bt(Vi,`RPC '${e}' stream ${i} transport opened.`),E.Qo())}),C(y,Mf.EventType.CLOSE,()=>{w||(w=!0,bt(Vi,`RPC '${e}' stream ${i} transport closed`),E.Uo())}),C(y,Mf.EventType.ERROR,k=>{w||(w=!0,zh(Vi,`RPC '${e}' stream ${i} transport errored:`,k),E.Uo(new Tt(We.UNAVAILABLE,"The operation could not be completed")))}),C(y,Mf.EventType.MESSAGE,k=>{var I;if(!w){const j=k.data[0];On(!!j);const q=j,ee=(q==null?void 0:q.error)||((I=q[0])===null||I===void 0?void 0:I.error);if(ee){bt(Vi,`RPC '${e}' stream ${i} received error:`,ee);const ie=ee.status;let de=function(U){const G=Dr[U];if(G!==void 0)return nx(G)}(ie),z=ee.message;de===void 0&&(de=We.INTERNAL,z="Unknown error status: "+ie+" with message "+ee.message),w=!0,E.Uo(new Tt(de,z)),y.close()}else bt(Vi,`RPC '${e}' stream ${i} received:`,j),E.Ko(j)}}),C(u,bS.STAT_EVENT,k=>{k.stat===f1.PROXY?bt(Vi,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===f1.NOPROXY&&bt(Vi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function A0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n){return new tL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&bt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="PersistentStream";class yx{constructor(e,t,r,i,s,a,u,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gx(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===We.RESOURCE_EXHAUSTED?(Dl(t.toString()),Dl("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new Tt(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return bt(Lw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(bt(Lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JL extends yx{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=iL(this.serializer,e),r=function(s){if(!("targetChange"in s))return Jt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Jt.min():a.readTime?za(a.readTime):Jt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=x1(this.serializer),t.addTarget=function(s,a){let u;const c=a.target;if(u=y1(c)?{documents:aL(s,c)}:{query:lL(s,c).ht},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=sx(s,a.resumeToken);const h=_1(s,a.expectedCount);h!==null&&(u.expectedCount=h)}else if(a.snapshotVersion.compareTo(Jt.min())>0){u.readTime=gm(s,a.snapshotVersion.toTimestamp());const h=_1(s,a.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=cL(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=x1(this.serializer),t.removeTarget=e,this.I_(t)}}class ZL extends yx{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return On(!!e.streamToken),this.lastStreamToken=e.streamToken,On(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){On(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=oL(e.writeResults,e.commitTime),r=za(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=x1(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>sL(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{}class tR extends eR{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Tt(We.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,b1(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Tt(We.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Co(e,b1(t,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Tt(We.UNKNOWN,a.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Dl(t),this.N_=!1):bt("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc="RemoteStore";class rR{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(a=>{r.enqueueAndForget(async()=>{Hc(this)&&(bt(Mc,"Restarting streams for network reachability change."),await async function(c){const h=tn(c);h.W_.add(4),await kd(h),h.j_.set("Unknown"),h.W_.delete(4),await Zm(h)}(this))})}),this.j_=new nR(r,i)}}async function Zm(n){if(Hc(n))for(const e of n.G_)await e(!0)}async function kd(n){for(const e of n.G_)await e(!1)}function vx(n,e){const t=tn(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Xy(t)?Qy(t):af(t).c_()&&Yy(t,e))}function Ky(n,e){const t=tn(n),r=af(t);t.K_.delete(e),r.c_()&&wx(t,e),t.K_.size===0&&(r.c_()?r.P_():Hc(t)&&t.j_.set("Unknown"))}function Yy(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}af(n).y_(e)}function wx(n,e){n.H_.Ne(e),af(n).w_(e)}function Qy(n){n.H_=new X6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),af(n).start(),n.j_.B_()}function Xy(n){return Hc(n)&&!af(n).u_()&&n.K_.size>0}function Hc(n){return tn(n).W_.size===0}function _x(n){n.H_=void 0}async function iR(n){n.j_.set("Online")}async function sR(n){n.K_.forEach((e,t)=>{Yy(n,e)})}async function oR(n,e){_x(n),Xy(n)?(n.j_.q_(e),Qy(n)):n.j_.set("Unknown")}async function aR(n,e,t){if(n.j_.set("Online"),e instanceof ix&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.K_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.K_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){bt(Mc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vm(n,r)}else if(e instanceof Gp?n.H_.We(e):e instanceof rx?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Jt.min()))try{const r=await mx(n.localStore);t.compareTo(r)>=0&&await function(s,a){const u=s.H_.ot(a);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const m=s.K_.get(h);m&&s.K_.set(h,m.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,h)=>{const m=s.K_.get(c);if(!m)return;s.K_.set(c,m.withResumeToken(Ei.EMPTY_BYTE_STRING,m.snapshotVersion)),wx(s,c);const y=new Lu(m.target,c,h,m.sequenceNumber);Yy(s,y)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){bt(Mc,"Failed to raise snapshot:",r),await vm(n,r)}}async function vm(n,e,t){if(!sf(e))throw e;n.W_.add(1),await kd(n),n.j_.set("Offline"),t||(t=()=>mx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{bt(Mc,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Zm(n)})}function bx(n,e){return e().catch(t=>vm(n,t,e))}async function eg(n){const e=tn(n),t=$u(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Dy;for(;lR(e);)try{const i=await qL(e.localStore,r);if(i===null){e.U_.length===0&&t.P_();break}r=i.batchId,uR(e,i)}catch(i){await vm(e,i)}Sx(e)&&xx(e)}function lR(n){return Hc(n)&&n.U_.length<10}function uR(n,e){n.U_.push(e);const t=$u(n);t.c_()&&t.S_&&t.b_(e.mutations)}function Sx(n){return Hc(n)&&!$u(n).u_()&&n.U_.length>0}function xx(n){$u(n).start()}async function cR(n){$u(n).C_()}async function hR(n){const e=$u(n);for(const t of n.U_)e.b_(t.mutations)}async function fR(n,e,t){const r=n.U_.shift(),i=Uy.from(r,e,t);await bx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await eg(n)}async function dR(n,e){e&&$u(n).S_&&await async function(r,i){if(function(a){return Y6(a)&&a!==We.ABORTED}(i.code)){const s=r.U_.shift();$u(r).h_(),await bx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await eg(r)}}(n,e),Sx(n)&&xx(n)}async function Rw(n,e){const t=tn(n);t.asyncQueue.verifyOperationInProgress(),bt(Mc,"RemoteStore received new credentials");const r=Hc(t);t.W_.add(3),await kd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Zm(t)}async function pR(n,e){const t=tn(n);e?(t.W_.delete(2),await Zm(t)):e||(t.W_.add(2),await kd(t),t.j_.set("Unknown"))}function af(n){return n.J_||(n.J_=function(t,r,i){const s=tn(t);return s.M_(),new JL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:iR.bind(null,n),No:sR.bind(null,n),Lo:oR.bind(null,n),p_:aR.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Xy(n)?Qy(n):n.j_.set("Unknown")):(await n.J_.stop(),_x(n))})),n.J_}function $u(n){return n.Y_||(n.Y_=function(t,r,i){const s=tn(t);return s.M_(),new ZL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:cR.bind(null,n),Lo:dR.bind(null,n),D_:hR.bind(null,n),v_:fR.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await eg(n)):(await n.Y_.stop(),n.U_.length>0&&(bt(Mc,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,u=new Jy(e,t,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(n,e){if(Dl("AsyncQueue",`${e}: ${n}`),sf(n))return new Tt(We.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{static emptySet(e){return new Dh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ft.comparator(t.key,r.key):(t,r)=>Ft.comparator(t.key,r.key),this.keyedMap=jf(),this.sortedSet=new fr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Dh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.Z_=new fr(Ft.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Kt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Gh{constructor(e,t,r,i,s,a,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Gh(e,t,Dh.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gR{constructor(){this.queries=Ow(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=tn(t),s=i.queries;i.queries=Ow(),s.forEach((a,u)=>{for(const c of u.ta)c.onError(r)})})(this,new Tt(We.ABORTED,"Firestore shutting down"))}}function Ow(){return new qc(n=>HS(n),Gm)}async function Tx(n,e){const t=tn(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new mR,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const u=Zy(a,`Initialization of query '${vh(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&ev(t)}async function Ax(n,e){const t=tn(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.ta.indexOf(e);a>=0&&(s.ta.splice(a,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function yR(n,e){const t=tn(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const u of a.ta)u.oa(i)&&(r=!0);a.ea=i}}r&&ev(t)}function vR(n,e,t){const r=tn(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function ev(n){n.ia.forEach(e=>{e.next()})}var E1,Mw;(Mw=E1||(E1={}))._a="default",Mw.Cache="cache";class Ex{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==E1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.key=e}}class Px{constructor(e){this.key=e}}class wR{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=fn(),this.mutatedKeys=fn(),this.ya=$S(e),this.wa=new Dh(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new Dw,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const _=i.get(m),w=Km(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;_&&w?_.data.isEqual(w.data)?E!==C&&(r.track({type:3,doc:w}),k=!0):this.va(_,w)||(r.track({type:2,doc:w}),k=!0,(c&&this.ya(w,c)>0||h&&this.ya(w,h)<0)&&(u=!0)):!_&&w?(r.track({type:0,doc:w}),k=!0):_&&!w&&(r.track({type:1,doc:_}),k=!0,(c||h)&&(u=!0)),k&&(w?(a=a.add(w),s=C?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{wa:a,Da:r,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort((m,y)=>function(w,E){const C=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return C(w)-C(E)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,h=c!==this.ga;return this.ga=c,a.length!==0||h?{snapshot:new Gh(this.query,e.wa,s,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Dw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=fn(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Px(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Ix(r))}),t}Oa(e){this.fa=e.gs,this.pa=fn();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Gh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const tv="SyncEngine";class _R{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bR{constructor(e){this.key=e,this.Ba=!1}}class SR{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new qc(u=>HS(u),Gm),this.qa=new Map,this.Qa=new Set,this.$a=new fr(Ft.comparator),this.Ua=new Map,this.Ka=new Hy,this.Wa={},this.Ga=new Map,this.za=Wh.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function xR(n,e,t=!0){const r=Dx(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Cx(r,e,t,!0),i}async function TR(n,e){const t=Dx(n);await Cx(t,e,!0,!1)}async function Cx(n,e,t,r){const i=await HL(n.localStore,Ua(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await AR(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&vx(n.remoteStore,i),u}async function AR(n,e,t,r,i){n.Ha=(y,_,w)=>async function(C,k,I,j){let q=k.view.ba(I);q.ls&&(q=await Pw(C.localStore,k.query,!1).then(({documents:z})=>k.view.ba(z,q)));const ee=j&&j.targetChanges.get(k.targetId),ie=j&&j.targetMismatches.get(k.targetId)!=null,de=k.view.applyChanges(q,C.isPrimaryClient,ee,ie);return Fw(C,k.targetId,de.Ma),de.snapshot}(n,y,_,w);const s=await Pw(n.localStore,e,!0),a=new wR(e,s.gs),u=a.ba(s.documents),c=Nd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=a.applyChanges(u,n.isPrimaryClient,c);Fw(n,t,h.Ma);const m=new _R(e,t,a);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function ER(n,e,t){const r=tn(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(a=>!Gm(a,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await T1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ky(r.remoteStore,i.targetId),I1(r,i.targetId)}).catch(rf)):(I1(r,i.targetId),await T1(r.localStore,i.targetId,!0))}async function IR(n,e){const t=tn(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ky(t.remoteStore,r.targetId))}async function PR(n,e,t){const r=OR(n);try{const i=await function(a,u){const c=tn(a),h=Gr.now(),m=u.reduce((w,E)=>w.add(E.key),fn());let y,_;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=Ol(),C=fn();return c.ds.getEntries(w,m).next(k=>{E=k,E.forEach((I,j)=>{j.isValidDocument()||(C=C.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,E)).next(k=>{y=k;const I=[];for(const j of u){const q=H6(j,y.get(j.key).overlayedDocument);q!=null&&I.push(new Zu(j.key,q,MS(q.value.mapValue),ko.exists(!0)))}return c.mutationQueue.addMutationBatch(w,h,I,u)}).next(k=>{_=k;const I=k.applyToLocalDocumentSet(y,C);return c.documentOverlayCache.saveOverlays(w,k.batchId,I)})}).then(()=>({batchId:_.batchId,changes:GS(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let h=a.Wa[a.currentUser.toKey()];h||(h=new fr(an)),h=h.insert(u,c),a.Wa[a.currentUser.toKey()]=h}(r,i.batchId,t),await Ld(r,i.changes),await eg(r.remoteStore)}catch(i){const s=Zy(i,"Failed to persist write");t.reject(s)}}async function Nx(n,e){const t=tn(n);try{const r=await UL(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.Ua.get(s);a&&(On(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Ba=!0:i.modifiedDocuments.size>0?On(a.Ba):i.removedDocuments.size>0&&(On(a.Ba),a.Ba=!1))}),await Ld(t,r,e)}catch(r){await rf(r)}}function jw(n,e,t){const r=tn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,a)=>{const u=a.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=tn(a);c.onlineState=u;let h=!1;c.queries.forEach((m,y)=>{for(const _ of y.ta)_.sa(u)&&(h=!0)}),h&&ev(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CR(n,e,t){const r=tn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ua.get(e),s=i&&i.key;if(s){let a=new fr(Ft.comparator);a=a.insert(s,Wi.newNoDocument(s,Jt.min()));const u=fn().add(s),c=new Xm(Jt.min(),new Map,new fr(an),a,u);await Nx(r,c),r.$a=r.$a.remove(s),r.Ua.delete(e),nv(r)}else await T1(r.localStore,e,!1).then(()=>I1(r,e,t)).catch(rf)}async function NR(n,e){const t=tn(n),r=e.batch.batchId;try{const i=await BL(t.localStore,e);Lx(t,r,null),kx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ld(t,i)}catch(i){await rf(i)}}async function kR(n,e,t){const r=tn(n);try{const i=await function(a,u){const c=tn(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return c.mutationQueue.lookupMutationBatch(h,u).next(y=>(On(y!==null),m=y.keys(),c.mutationQueue.removeMutationBatch(h,y))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>c.localDocuments.getDocuments(h,m))})}(r.localStore,e);Lx(r,e,t),kx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ld(r,i)}catch(i){await rf(i)}}function kx(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Lx(n,e,t){const r=tn(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function I1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||Rx(n,r)})}function Rx(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ky(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),nv(n))}function Fw(n,e,t){for(const r of t)r instanceof Ix?(n.Ka.addReference(r.key,e),LR(n,r)):r instanceof Px?(bt(tv,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||Rx(n,r.key)):Kt()}function LR(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(bt(tv,"New document in limbo: "+t),n.Qa.add(r),nv(n))}function nv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ft(er.fromString(e)),r=n.za.next();n.Ua.set(r,new bR(t)),n.$a=n.$a.insert(t,r),vx(n.remoteStore,new Lu(Ua(Wm(t.path)),r,"TargetPurposeLimboResolution",qm.ae))}}async function Ld(n,e,t){const r=tn(n),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach((u,c)=>{a.push(r.Ha(c,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const y=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(c.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(h){i.push(h);const y=Wy.Yi(c.targetId,h);s.push(y)}}))}),await Promise.all(a),r.La.p_(i),await async function(c,h){const m=tn(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Ge.forEach(h,_=>Ge.forEach(_.Hi,w=>m.persistence.referenceDelegate.addReference(y,_.targetId,w)).next(()=>Ge.forEach(_.Ji,w=>m.persistence.referenceDelegate.removeReference(y,_.targetId,w)))))}catch(y){if(!sf(y))throw y;bt(Gy,"Failed to update sequence numbers: "+y)}for(const y of h){const _=y.targetId;if(!y.fromCache){const w=m.Ts.get(_),E=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(E);m.Ts=m.Ts.insert(_,C)}}}(r.localStore,s))}async function RR(n,e){const t=tn(n);if(!t.currentUser.isEqual(e)){bt(tv,"User change. New user:",e.toKey());const r=await px(t.localStore,e);t.currentUser=e,function(s,a){s.Ga.forEach(u=>{u.forEach(c=>{c.reject(new Tt(We.CANCELLED,a))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ld(t,r.Rs)}}function DR(n,e){const t=tn(n),r=t.Ua.get(e);if(r&&r.Ba)return fn().add(r.key);{let i=fn();const s=t.qa.get(e);if(!s)return i;for(const a of s){const u=t.ka.get(a);i=i.unionWith(u.view.Sa)}return i}}function Dx(n){const e=tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CR.bind(null,e),e.La.p_=yR.bind(null,e.eventManager),e.La.Ja=vR.bind(null,e.eventManager),e}function OR(n){const e=tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kR.bind(null,e),e}class wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return VL(this.persistence,new ML,e.initialUser,this.serializer)}Xa(e){return new dx($y.ri,this.serializer)}Za(e){return new WL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wm.provider={build:()=>new wm};class MR extends wm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){On(this.persistence.referenceDelegate instanceof ym);const r=this.persistence.referenceDelegate.garbageCollector;return new bL(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new dx(r=>ym.ri(r,t),this.serializer)}}class P1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RR.bind(null,this.syncEngine),await pR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gR}()}createDatastore(e){const t=Jm(e.databaseInfo.databaseId),r=function(s){return new XL(s)}(e.databaseInfo);return function(s,a,u,c){return new tR(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,u){return new rR(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,t=>jw(this.syncEngine,t,0),function(){return kw.D()?new kw:new GL}())}createSyncEngine(e,t){return function(i,s,a,u,c,h,m){const y=new SR(i,s,a,u,c,h);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=tn(i);bt(Mc,"RemoteStore shutting down."),s.W_.add(5),await kd(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}P1.provider={build:()=>new P1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Dl("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="FirestoreClient";class jR{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$i.UNAUTHENTICATED,this.clientId=ES.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{bt(Wu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(bt(Wu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Zy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function E0(n,e){n.asyncQueue.verifyOperationInProgress(),bt(Wu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await px(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Vw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await FR(n);bt(Wu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Rw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Rw(e.remoteStore,i)),n._onlineComponents=e}async function FR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){bt(Wu,"Using user provided OfflineComponentProvider");try{await E0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;zh("Error using user provided cache. Falling back to memory cache: "+t),await E0(n,new wm)}}else bt(Wu,"Using default OfflineComponentProvider"),await E0(n,new MR(void 0));return n._offlineComponents}async function Mx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(bt(Wu,"Using user provided OnlineComponentProvider"),await Vw(n,n._uninitializedComponentsProvider._online)):(bt(Wu,"Using default OnlineComponentProvider"),await Vw(n,new P1))),n._onlineComponents}function VR(n){return Mx(n).then(e=>e.syncEngine)}async function C1(n){const e=await Mx(n),t=e.eventManager;return t.onListen=xR.bind(null,e.syncEngine),t.onUnlisten=ER.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IR.bind(null,e.syncEngine),t}function BR(n,e,t={}){const r=new Fu;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,h){const m=new Ox({next:_=>{m.su(),a.enqueueAndForget(()=>Ax(s,y));const w=_.docs.has(u);!w&&_.fromCache?h.reject(new Tt(We.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&c&&c.source==="server"?h.reject(new Tt(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),y=new Ex(Wm(u.path),m,{includeMetadataChanges:!0,Ta:!0});return Tx(s,y)}(await C1(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n,e,t){if(!t)throw new Tt(We.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function UR(n,e,t,r){if(e===!0&&r===!0)throw new Tt(We.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Uw(n){if(!Ft.isDocumentKey(n))throw new Tt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zw(n){if(Ft.isDocumentKey(n))throw new Tt(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Kt()}function Lo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Tt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tg(n);throw new Tt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firestore.googleapis.com",qw=!0;class Hw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Tt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vx,this.ssl=qw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:qw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wL)throw new Tt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Tt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Tt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Tt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ng{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Tt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qk;switch(r.type){case"firstParty":return new e6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Tt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Bw.get(t);r&&(bt("ComponentProvider","Removing Datastore"),Bw.delete(t),r.terminate())}(this),Promise.resolve()}}function zR(n,e,t,r={}){var i;const s=(n=Lo(n,ng))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==Vx&&s.host!==u&&zh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:r});if(!Rc(c,a)&&(n._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=$i.MOCK_USER;else{h=cP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Tt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new $i(y)}n._authCredentials=new Xk(new TS(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $c(this.firestore,e,this._query)}}class Yi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yi(this.firestore,e,this._key)}}class Vu extends $c{constructor(e,t,r){super(e,t,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yi(this.firestore,null,new Ft(e))}withConverter(e){return new Vu(this.firestore,e,this._path)}}function xl(n,e,...t){if(n=Sr(n),Fx("collection","path",e),n instanceof ng){const r=er.fromString(e,...t);return zw(r),new Vu(n,null,r)}{if(!(n instanceof Yi||n instanceof Vu))throw new Tt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(er.fromString(e,...t));return zw(r),new Vu(n.firestore,null,r)}}function ku(n,e,...t){if(n=Sr(n),arguments.length===1&&(e=ES.newId()),Fx("doc","path",e),n instanceof ng){const r=er.fromString(e,...t);return Uw(r),new Yi(n,null,new Ft(r))}{if(!(n instanceof Yi||n instanceof Vu))throw new Tt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(er.fromString(e,...t));return Uw(r),new Yi(n.firestore,n instanceof Vu?n.converter:null,new Ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="AsyncQueue";class Ww{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gx(this,"async_queue_retry"),this.Su=()=>{const r=A0();r&&bt($w,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=A0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=A0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Fu;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!sf(e))throw e;bt($w,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Dl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Jy.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Kt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Gw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Gu extends ng{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ww,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ww(e),this._firestoreClient=void 0,await e}}}function qR(n,e){const t=typeof n=="object"?n:R4(),r=typeof n=="string"?n:hm,i=Ad(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lP("firestore");s&&zR(i,...s)}return i}function rv(n){if(n._terminated)throw new Tt(We.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HR(n),n._firestoreClient}function HR(n){var e,t,r;const i=n._freezeSettings(),s=function(u,c,h,m){return new m6(u,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,jx(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new jR(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kh(Ei.fromBase64String(e))}catch(t){throw new Tt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kh(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Tt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Tt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Tt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return an(this._lat,e._lat)||an(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^__.*__$/;class WR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cd(e,this.data,t,this.fieldTransforms)}}class Bx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ux(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class av{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new av(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _m(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ux(this.Lu)&&$R.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class GR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Jm(e)}ju(e,t,r,i=!1){return new av({Lu:e,methodName:t,zu:r,path:Ai.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ig(n){const e=n._freezeSettings(),t=Jm(n._databaseId);return new GR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zx(n,e,t,r,i,s={}){const a=n.ju(s.merge||s.mergeFields?2:0,e,t,i);lv("Data must be an object, but it was:",a,r);const u=qx(r,a);let c,h;if(s.merge)c=new eo(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const y of s.mergeFields){const _=N1(e,y,t);if(!a.contains(_))throw new Tt(We.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);$x(m,_)||m.push(_)}c=new eo(m),h=a.fieldTransforms.filter(y=>c.covers(y.field))}else c=null,h=a.fieldTransforms;return new WR(new Rs(u),c,h)}class sg extends iv{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sg}}function KR(n,e,t,r){const i=n.ju(1,e,t);lv("Data must be an object, but it was:",i,r);const s=[],a=Rs.empty();Ju(r,(c,h)=>{const m=uv(e,c,t);h=Sr(h);const y=i.Uu(m);if(h instanceof sg)s.push(m);else{const _=Rd(h,y);_!=null&&(s.push(m),a.set(m,_))}});const u=new eo(s);return new Bx(a,u,i.fieldTransforms)}function YR(n,e,t,r,i,s){const a=n.ju(1,e,t),u=[N1(e,r,t)],c=[i];if(s.length%2!=0)throw new Tt(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(N1(e,s[_])),c.push(s[_+1]);const h=[],m=Rs.empty();for(let _=u.length-1;_>=0;--_)if(!$x(h,u[_])){const w=u[_];let E=c[_];E=Sr(E);const C=a.Uu(w);if(E instanceof sg)h.push(w);else{const k=Rd(E,C);k!=null&&(h.push(w),m.set(w,k))}}const y=new eo(h);return new Bx(m,y,a.fieldTransforms)}function QR(n,e,t,r=!1){return Rd(t,n.ju(r?4:3,e))}function Rd(n,e){if(Hx(n=Sr(n)))return lv("Unsupported field value:",e,n),qx(n,e);if(n instanceof iv)return function(r,i){if(!Ux(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=Rd(u,i.Ku(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Gr.fromDate(r);return{timestampValue:gm(i.serializer,s)}}if(r instanceof Gr){const s=new Gr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gm(i.serializer,s)}}if(r instanceof sv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kh)return{bytesValue:sx(i.serializer,r._byteString)};if(r instanceof Yi){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ov)return function(a,u){return{mapValue:{fields:{[DS]:{stringValue:OS},[fm]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return Vy(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${tg(r)}`)}(n,e)}function qx(n,e){const t={};return PS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ju(n,(r,i)=>{const s=Rd(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Hx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Gr||n instanceof sv||n instanceof Kh||n instanceof Yi||n instanceof iv||n instanceof ov)}function lv(n,e,t){if(!Hx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=tg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function N1(n,e,t){if((e=Sr(e))instanceof rg)return e._internalPath;if(typeof e=="string")return uv(n,e);throw _m("Field path arguments must be of type string or ",n,!1,void 0,t)}const XR=new RegExp("[~\\*/\\[\\]]");function uv(n,e,t){if(e.search(XR)>=0)throw _m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rg(...e.split("."))._internalPath}catch{throw _m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _m(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Tt(We.INVALID_ARGUMENT,u+n+c)}function $x(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(og("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class JR extends Wx{data(){return super.data()}}function og(n,e){return typeof e=="string"?uv(n,e):e instanceof rg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Tt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cv{}class Gx extends cv{}function e8(n,e,...t){let r=[];e instanceof cv&&r.push(e),r=r.concat(t),function(s){const a=s.filter(c=>c instanceof hv).length,u=s.filter(c=>c instanceof ag).length;if(a>1||a>0&&u>0)throw new Tt(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ag extends Gx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ag(e,t,r)}_apply(e){const t=this._parse(e);return Kx(e._query,t),new $c(e.firestore,e.converter,v1(e._query,t))}_parse(e){const t=ig(e.firestore);return function(s,a,u,c,h,m,y){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Tt(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Yw(y,m);const E=[];for(const C of y)E.push(Kw(c,s,C));_={arrayValue:{values:E}}}else _=Kw(c,s,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Yw(y,m),_=QR(u,a,y,m==="in"||m==="not-in");return Or.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function t8(n,e,t){const r=e,i=og("where",n);return ag._create(i,r,t)}class hv extends cv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:pa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)Kx(a,c),a=v1(a,c)}(e._query,t),new $c(e.firestore,e.converter,v1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fv extends Gx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fv(e,t)}_apply(e){const t=function(i,s,a){if(i.startAt!==null)throw new Tt(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Tt(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ad(s,a)}(e._query,this._field,this._direction);return new $c(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new of(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function n8(n,e="asc"){const t=e,r=og("orderBy",n);return fv._create(r,t)}function Kw(n,e,t){if(typeof(t=Sr(t))=="string"){if(t==="")throw new Tt(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qS(e)&&t.indexOf("/")!==-1)throw new Tt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(er.fromString(t));if(!Ft.isDocumentKey(r))throw new Tt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uw(n,new Ft(r))}if(t instanceof Yi)return uw(n,t._key);throw new Tt(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(t)}.`)}function Yw(n,e){if(!Array.isArray(n)||n.length===0)throw new Tt(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kx(n,e){const t=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Tt(We.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Tt(We.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class r8{convertValue(e,t="none"){switch(Hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Kt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ju(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[fm].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Cr(a.doubleValue));return new ov(s)}convertGeoPoint(e){return new sv(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$m(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const t=zu(e);return new Gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=er.fromString(e);On(hx(r));const i=new sd(r.get(1),r.get(3)),s=new Ft(r.popFirst(5));return i.isEqual(t)||Dl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qx extends Wx{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Kp extends Qx{data(e={}){return super.data(e)}}class i8{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Kp(this._firestore,this._userDataWriter,r.key,r,new Vf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new Kp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Kp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:s8(u.type),doc:c,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function s8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(n){n=Lo(n,Yi);const e=Lo(n.firestore,Gu);return BR(rv(e),n._key).then(t=>Jx(e,n,t))}class Xx extends r8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yi(this.firestore,null,t)}}function k1(n,e,t){n=Lo(n,Yi);const r=Lo(n.firestore,Gu),i=Yx(n.converter,e);return lg(r,[zx(ig(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ko.none())])}function Qw(n,e,t,...r){n=Lo(n,Yi);const i=Lo(n.firestore,Gu),s=ig(i);let a;return a=typeof(e=Sr(e))=="string"||e instanceof rg?YR(s,"updateDoc",n._key,e,t,r):KR(s,"updateDoc",n._key,e),lg(i,[a.toMutation(n._key,ko.exists(!0))])}function I0(n){return lg(Lo(n.firestore,Gu),[new By(n._key,ko.none())])}function a8(n,e){const t=Lo(n.firestore,Gu),r=ku(n),i=Yx(n.converter,e);return lg(t,[zx(ig(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ko.exists(!1))]).then(()=>r)}function Th(n,...e){var t,r,i;n=Sr(n);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Gw(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Gw(e[a])){const y=e[a];e[a]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[a+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[a+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let c,h,m;if(n instanceof Yi)h=Lo(n.firestore,Gu),m=Wm(n._key.path),c={next:y=>{e[a]&&e[a](Jx(h,n,y))},error:e[a+1],complete:e[a+2]};else{const y=Lo(n,$c);h=Lo(y.firestore,Gu),m=y._query;const _=new Xx(h);c={next:w=>{e[a]&&e[a](new i8(h,_,y,w))},error:e[a+1],complete:e[a+2]},ZR(n._query)}return function(_,w,E,C){const k=new Ox(C),I=new Ex(w,k,E);return _.asyncQueue.enqueueAndForget(async()=>Tx(await C1(_),I)),()=>{k.su(),_.asyncQueue.enqueueAndForget(async()=>Ax(await C1(_),I))}}(rv(h),m,u,c)}function lg(n,e){return function(r,i){const s=new Fu;return r.asyncQueue.enqueueAndForget(async()=>PR(await VR(r),i,s)),s.promise}(rv(n),e)}function Jx(n,e,t){const r=t.docs.get(e._key),i=new Xx(n);return new Qx(n,i,e._key,r,new Vf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){nf=i})(ef),Ga(new fa("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new Gu(new Jk(r.getProvider("auth-internal")),new t6(a,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Tt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(h.options.projectId,m)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),No(X5,J5,e),No(X5,J5,"esm2017")})();var l8="firebase",u8="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */No(l8,u8,"app");const Zx="@firebase/installations",dv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=1e4,tT=`w:${dv}`,nT="FIS_v2",c8="https://firebaseinstallations.googleapis.com/v1",h8=60*60*1e3,f8="installations",d8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jc=new Uc(f8,d8,p8);function rT(n){return n instanceof ma&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT({projectId:n}){return`${c8}/projects/${n}/installations`}function sT(n){return{token:n.token,requestStatus:2,expiresIn:g8(n.expiresIn),creationTime:Date.now()}}async function oT(n,e){const r=(await e.json()).error;return jc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function aT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function m8(n,{refreshToken:e}){const t=aT(n);return t.append("Authorization",y8(e)),t}async function lT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function g8(n){return Number(n.replace("s","000"))}function y8(n){return`${nT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=iT(n),i=aT(n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={fid:t,authVersion:nT,appId:n.appId,sdkVersion:tT},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await lT(()=>fetch(r,u));if(c.ok){const h=await c.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:sT(h.authToken)}}else throw await oT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=/^[cdef][\w-]{21}$/,L1="";function b8(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=S8(n);return _8.test(t)?t:L1}catch{return L1}}function S8(n){return w8(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;function hT(n,e){const t=ug(n);fT(t,e),x8(t,e)}function fT(n,e){const t=cT.get(n);if(t)for(const r of t)r(e)}function x8(n,e){const t=T8();t&&t.postMessage({key:n,fid:e}),A8()}let Ic=null;function T8(){return!Ic&&"BroadcastChannel"in self&&(Ic=new BroadcastChannel("[Firebase] FID Change"),Ic.onmessage=n=>{fT(n.data.key,n.data.fid)}),Ic}function A8(){cT.size===0&&Ic&&(Ic.close(),Ic=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="firebase-installations-database",I8=1,Fc="firebase-installations-store";let P0=null;function pv(){return P0||(P0=k4(E8,I8,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Fc)}}})),P0}async function bm(n,e){const t=ug(n),i=(await pv()).transaction(Fc,"readwrite"),s=i.objectStore(Fc),a=await s.get(t);return await s.put(e,t),await i.done,(!a||a.fid!==e.fid)&&hT(n,e.fid),e}async function dT(n){const e=ug(n),r=(await pv()).transaction(Fc,"readwrite");await r.objectStore(Fc).delete(e),await r.done}async function cg(n,e){const t=ug(n),i=(await pv()).transaction(Fc,"readwrite"),s=i.objectStore(Fc),a=await s.get(t),u=e(a);return u===void 0?await s.delete(t):await s.put(u,t),await i.done,u&&(!a||a.fid!==u.fid)&&hT(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(n){let e;const t=await cg(n.appConfig,r=>{const i=P8(r),s=C8(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===L1?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function P8(n){const e=n||{fid:b8(),registrationStatus:0};return pT(e)}function C8(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(jc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=N8(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:k8(n)}:{installationEntry:e}}async function N8(n,e){try{const t=await v8(n,e);return bm(n.appConfig,t)}catch(t){throw rT(t)&&t.customData.serverCode===409?await dT(n.appConfig):await bm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function k8(n){let e=await Xw(n.appConfig);for(;e.registrationStatus===1;)await uT(100),e=await Xw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await mv(n);return r||t}return e}function Xw(n){return cg(n,e=>{if(!e)throw jc.create("installation-not-found");return pT(e)})}function pT(n){return L8(n)?{fid:n.fid,registrationStatus:0}:n}function L8(n){return n.registrationStatus===1&&n.registrationTime+eT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8({appConfig:n,heartbeatServiceProvider:e},t){const r=D8(n,t),i=m8(n,t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={installation:{sdkVersion:tT,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await lT(()=>fetch(r,u));if(c.ok){const h=await c.json();return sT(h)}else throw await oT("Generate Auth Token",c)}function D8(n,{fid:e}){return`${iT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gv(n,e=!1){let t;const r=await cg(n.appConfig,s=>{if(!mT(s))throw jc.create("not-registered");const a=s.authToken;if(!e&&j8(a))return s;if(a.requestStatus===1)return t=O8(n,e),s;{if(!navigator.onLine)throw jc.create("app-offline");const u=V8(s);return t=M8(n,u),u}});return t?await t:r.authToken}async function O8(n,e){let t=await Jw(n.appConfig);for(;t.authToken.requestStatus===1;)await uT(100),t=await Jw(n.appConfig);const r=t.authToken;return r.requestStatus===0?gv(n,e):r}function Jw(n){return cg(n,e=>{if(!mT(e))throw jc.create("not-registered");const t=e.authToken;return B8(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function M8(n,e){try{const t=await R8(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await bm(n.appConfig,r),t}catch(t){if(rT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await dT(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bm(n.appConfig,r)}throw t}}function mT(n){return n!==void 0&&n.registrationStatus===2}function j8(n){return n.requestStatus===2&&!F8(n)}function F8(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+h8}function V8(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function B8(n){return n.requestStatus===1&&n.requestTime+eT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(n){const e=n,{installationEntry:t,registrationPromise:r}=await mv(e);return r?r.catch(console.error):gv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(n,e=!1){const t=n;return await q8(t),(await gv(t,e)).token}async function q8(n){const{registrationPromise:e}=await mv(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(n){if(!n||!n.options)throw C0("App Configuration");if(!n.name)throw C0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw C0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function C0(n){return jc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="installations",$8="installations-internal",W8=n=>{const e=n.getProvider("app").getImmediate(),t=H8(e),r=Ad(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},G8=n=>{const e=n.getProvider("app").getImmediate(),t=Ad(e,gT).getImmediate();return{getId:()=>U8(t),getToken:i=>z8(t,i)}};function K8(){Ga(new fa(gT,W8,"PUBLIC")),Ga(new fa($8,G8,"PRIVATE"))}K8();No(Zx,dv);No(Zx,dv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="analytics",Y8="firebase_id",Q8="origin",X8=60*1e3,J8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Fm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ro=new Uc("analytics","Analytics",Z8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(n){if(!n.startsWith(yv)){const e=Ro.create("invalid-gtag-resource",{gtagURL:n});return Ds.warn(e.message),""}return n}function yT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function t7(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function n7(n,e){const t=t7("firebase-js-sdk-policy",{createScriptURL:e7}),r=document.createElement("script"),i=`${yv}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function r7(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function i7(n,e,t,r,i,s){const a=r[i];try{if(a)await e[a];else{const c=(await yT(t)).find(h=>h.measurementId===i);c&&await e[c.appId]}}catch(u){Ds.error(u)}n("config",i,s)}async function s7(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const u=await yT(t);for(const c of a){const h=u.find(y=>y.measurementId===c),m=h&&e[h.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Ds.error(s)}}function o7(n,e,t,r){async function i(s,...a){try{if(s==="event"){const[u,c]=a;await s7(n,e,t,u,c)}else if(s==="config"){const[u,c]=a;await i7(n,e,t,r,u,c)}else if(s==="consent"){const[u,c]=a;n("consent",u,c)}else if(s==="get"){const[u,c,h]=a;n("get",u,c,h)}else if(s==="set"){const[u]=a;n("set",u)}else n(s,...a)}catch(u){Ds.error(u)}}return i}function a7(n,e,t,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=o7(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function l7(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(yv)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=30,c7=1e3;class h7{constructor(e={},t=c7){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vT=new h7;function f7(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function d7(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:f7(r)},s=J8.replace("{app-id}",t),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message)}catch{}throw Ro.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function p7(n,e=vT,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Ro.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ro.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new y7;return setTimeout(async()=>{u.abort()},X8),wT({appId:r,apiKey:i,measurementId:s},a,u,e)}async function wT(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=vT){var s;const{appId:a,measurementId:u}=n;try{await m7(r,e)}catch(c){if(u)return Ds.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await d7(n);return i.deleteThrottleMetadata(a),c}catch(c){const h=c;if(!g7(h)){if(i.deleteThrottleMetadata(a),u)return Ds.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw c}const m=Number((s=h==null?void 0:h.customData)===null||s===void 0?void 0:s.httpStatus)===503?_5(t,i.intervalMillis,u7):_5(t,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(a,y),Ds.debug(`Calling attemptFetch again in ${m} millis`),wT(n,y,r,i)}}function m7(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Ro.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function g7(n){if(!(n instanceof ma)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class y7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function v7(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});n("event",t,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(){if(I4())try{await P4()}catch(n){return Ds.warn(Ro.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ds.warn(Ro.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _7(n,e,t,r,i,s,a){var u;const c=p7(n);c.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&Ds.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Ds.error(w)),e.push(c);const h=w7().then(w=>{if(w)return r.getId()}),[m,y]=await Promise.all([c,h]);l7(s)||n7(s,m.measurementId),i("js",new Date);const _=(u=a==null?void 0:a.config)!==null&&u!==void 0?u:{};return _[Q8]="firebase",_.update=!0,y!=null&&(_[Y8]=y),i("config",m.measurementId,_),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.app=e}_delete(){return delete Gf[this.app.options.appId],Promise.resolve()}}let Gf={},e_=[];const t_={};let N0="dataLayer",S7="gtag",n_,_T,r_=!1;function x7(){const n=[];if(E4()&&n.push("This is a browser extension environment."),yP()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Ro.create("invalid-analytics-context",{errorInfo:e});Ds.warn(t.message)}}function T7(n,e,t){x7();const r=n.options.appId;if(!r)throw Ro.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ds.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ro.create("no-api-key");if(Gf[r]!=null)throw Ro.create("already-exists",{id:r});if(!r_){r7(N0);const{wrappedGtag:s,gtagCore:a}=a7(Gf,e_,t_,N0,S7);_T=s,n_=a,r_=!0}return Gf[r]=_7(n,e_,t_,e,n_,N0,t),new b7(n)}function A7(n,e,t,r){n=Sr(n),v7(_T,Gf[n.app.options.appId],e,t,r).catch(i=>Ds.error(i))}const i_="@firebase/analytics",s_="0.10.12";function E7(){Ga(new fa(Zw,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return T7(r,i,t)},"PUBLIC")),Ga(new fa("analytics-internal",n,"PRIVATE")),No(i_,s_),No(i_,s_,"esm2017");function n(e){try{const t=e.getProvider(Zw).getImmediate();return{logEvent:(r,i,s)=>A7(t,r,i,s)}}catch(t){throw Ro.create("interop-component-reg-failed",{reason:t})}}}E7();function bT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=bT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Nc(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=bT(n))&&(r&&(r+=" "),r+=e);return r}function I7(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}I7(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Dd=n=>typeof n=="number"&&!isNaN(n),Vc=n=>typeof n=="string",Ml=n=>typeof n=="function",P7=n=>Vc(n)||Dd(n),R1=n=>Vc(n)||Ml(n)?n:null,C7=(n,e)=>n===!1||Dd(n)&&n>0?n:e,D1=n=>re.isValidElement(n)||Vc(n)||Ml(n)||Dd(n);function N7(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function k7({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:a,preventExitTransition:u,done:c,nodeRef:h,isIn:m,playToast:y}){let _=t?`${n}--${a}`:n,w=t?`${e}--${a}`:e,E=re.useRef(0);return re.useLayoutEffect(()=>{let C=h.current,k=_.split(" "),I=j=>{j.target===h.current&&(y(),C.removeEventListener("animationend",I),C.removeEventListener("animationcancel",I),E.current===0&&j.type!=="animationcancel"&&C.classList.remove(...k))};C.classList.add(...k),C.addEventListener("animationend",I),C.addEventListener("animationcancel",I)},[]),re.useEffect(()=>{let C=h.current,k=()=>{C.removeEventListener("animationend",k),r?N7(C,c,i):c()};m||(u?k():(E.current=1,C.className+=` ${w}`,C.addEventListener("animationend",k)))},[m]),En.createElement(En.Fragment,null,s)}}function o_(n,e){return{content:ST(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function ST(n,e,t=!1){return re.isValidElement(n)&&!Vc(n.type)?re.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ml(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function L7({closeToast:n,theme:e,ariaLabel:t="close"}){return En.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},En.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},En.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function R7({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:s,controlledProgress:a,progress:u,rtl:c,isIn:h,theme:m}){let y=i||a&&u===0,_={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};a&&(_.transform=`scaleX(${u})`);let w=Nc("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),E=Ml(s)?s({rtl:c,type:r,defaultClassName:w}):Nc(w,s),C={[a&&u>=1?"onTransitionEnd":"onAnimationEnd"]:a&&u<1?null:()=>{h&&t()}};return En.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},En.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),En.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:E,style:_,...C}))}var D7=1,xT=()=>`${D7++}`;function O7(n,e,t){let r=1,i=0,s=[],a=[],u=e,c=new Map,h=new Set,m=j=>(h.add(j),()=>h.delete(j)),y=()=>{a=Array.from(c.values()),h.forEach(j=>j())},_=({containerId:j,toastId:q,updateId:ee})=>{let ie=j?j!==n:n!==1,de=c.has(q)&&ee==null;return ie||de},w=(j,q)=>{c.forEach(ee=>{var ie;(q==null||q===ee.props.toastId)&&((ie=ee.toggle)==null||ie.call(ee,j))})},E=j=>{var q,ee;(ee=(q=j.props)==null?void 0:q.onClose)==null||ee.call(q,j.removalReason),j.isActive=!1},C=j=>{if(j==null)c.forEach(E);else{let q=c.get(j);q&&E(q)}y()},k=()=>{i-=s.length,s=[]},I=j=>{var q,ee;let{toastId:ie,updateId:de}=j.props,z=de==null;j.staleId&&c.delete(j.staleId),j.isActive=!0,c.set(ie,j),y(),t(o_(j,z?"added":"updated")),z&&((ee=(q=j.props).onOpen)==null||ee.call(q))};return{id:n,props:u,observe:m,toggle:w,removeToast:C,toasts:c,clearQueue:k,buildToast:(j,q)=>{if(_(q))return;let{toastId:ee,updateId:ie,data:de,staleId:z,delay:N}=q,U=ie==null;U&&i++;let G={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(q).filter(([O,F])=>F!=null)),toastId:ee,updateId:ie,data:de,isIn:!1,className:R1(q.className||u.toastClassName),progressClassName:R1(q.progressClassName||u.progressClassName),autoClose:q.isLoading?!1:C7(q.autoClose,u.autoClose),closeToast(O){c.get(ee).removalReason=O,C(ee)},deleteToast(){let O=c.get(ee);if(O!=null){if(t(o_(O,"removed")),c.delete(ee),i--,i<0&&(i=0),s.length>0){I(s.shift());return}y()}}};G.closeButton=u.closeButton,q.closeButton===!1||D1(q.closeButton)?G.closeButton=q.closeButton:q.closeButton===!0&&(G.closeButton=D1(u.closeButton)?u.closeButton:!0);let R={content:j,props:G,staleId:z};u.limit&&u.limit>0&&i>u.limit&&U?s.push(R):Dd(N)?setTimeout(()=>{I(R)},N):I(R)},setProps(j){u=j},setToggle:(j,q)=>{let ee=c.get(j);ee&&(ee.toggle=q)},isToastActive:j=>{var q;return(q=c.get(j))==null?void 0:q.isActive},getSnapshot:()=>a}}var hs=new Map,cd=[],O1=new Set,M7=n=>O1.forEach(e=>e(n)),TT=()=>hs.size>0;function j7(){cd.forEach(n=>ET(n.content,n.options)),cd=[]}var F7=(n,{containerId:e})=>{var t;return(t=hs.get(e||1))==null?void 0:t.toasts.get(n)};function AT(n,e){var t;if(e)return!!((t=hs.get(e))!=null&&t.isToastActive(n));let r=!1;return hs.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function V7(n){if(!TT()){cd=cd.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||P7(n))hs.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=hs.get(n.containerId);e?e.removeToast(n.id):hs.forEach(t=>{t.removeToast(n.id)})}}var B7=(n={})=>{hs.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function ET(n,e){D1(n)&&(TT()||cd.push({content:n,options:e}),hs.forEach(t=>{t.buildToast(n,e)}))}function U7(n){var e;(e=hs.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function IT(n,e){hs.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function z7(n){let e=n.containerId||1;return{subscribe(t){let r=O7(e,n,M7);hs.set(e,r);let i=r.observe(t);return j7(),()=>{i(),hs.delete(e)}},setProps(t){var r;(r=hs.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=hs.get(e))==null?void 0:t.getSnapshot()}}}function q7(n){return O1.add(n),()=>{O1.delete(n)}}function H7(n){return n&&(Vc(n.toastId)||Dd(n.toastId))?n.toastId:xT()}function Od(n,e){return ET(n,e),e.toastId}function hg(n,e){return{...e,type:e&&e.type||n,toastId:H7(e)}}function fg(n){return(e,t)=>Od(e,hg(n,t))}function Rt(n,e){return Od(n,hg("default",e))}Rt.loading=(n,e)=>Od(n,hg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function $7(n,{pending:e,error:t,success:r},i){let s;e&&(s=Vc(e)?Rt.loading(e,i):Rt.loading(e.render,{...i,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,m,y)=>{if(m==null){Rt.dismiss(s);return}let _={type:h,...a,...i,data:y},w=Vc(m)?{render:m}:m;return s?Rt.update(s,{..._,...w}):Rt(w.render,{..._,...w}),y},c=Ml(n)?n():n;return c.then(h=>u("success",r,h)).catch(h=>u("error",t,h)),c}Rt.promise=$7;Rt.success=fg("success");Rt.info=fg("info");Rt.error=fg("error");Rt.warning=fg("warning");Rt.warn=Rt.warning;Rt.dark=(n,e)=>Od(n,hg("default",{theme:"dark",...e}));function W7(n){V7(n)}Rt.dismiss=W7;Rt.clearWaitingQueue=B7;Rt.isActive=AT;Rt.update=(n,e={})=>{let t=F7(n,e);if(t){let{props:r,content:i}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:xT()};s.toastId!==n&&(s.staleId=n);let a=s.render||i;delete s.render,Od(a,s)}};Rt.done=n=>{Rt.update(n,{progress:1})};Rt.onChange=q7;Rt.play=n=>IT(!0,n);Rt.pause=n=>IT(!1,n);function G7(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=re.useRef(z7(n)).current;i(n);let s=(e=re.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function a(u){if(!s)return[];let c=new Map;return n.newestOnTop&&s.reverse(),s.forEach(h=>{let{position:m}=h.props;c.has(m)||c.set(m,[]),c.get(m).push(h)}),Array.from(c,h=>u(h[0],h[1]))}return{getToastToRender:a,isToastActive:AT,count:s==null?void 0:s.length}}function K7(n){let[e,t]=re.useState(!1),[r,i]=re.useState(!1),s=re.useRef(null),a=re.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:c,closeToast:h,onClick:m,closeOnClick:y}=n;U7({id:n.toastId,containerId:n.containerId,fn:t}),re.useEffect(()=>{if(n.pauseOnFocusLoss)return _(),()=>{w()}},[n.pauseOnFocusLoss]);function _(){document.hasFocus()||I(),window.addEventListener("focus",k),window.addEventListener("blur",I)}function w(){window.removeEventListener("focus",k),window.removeEventListener("blur",I)}function E(z){if(n.draggable===!0||n.draggable===z.pointerType){j();let N=s.current;a.canCloseOnClick=!0,a.canDrag=!0,N.style.transition="none",n.draggableDirection==="x"?(a.start=z.clientX,a.removalDistance=N.offsetWidth*(n.draggablePercent/100)):(a.start=z.clientY,a.removalDistance=N.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function C(z){let{top:N,bottom:U,left:G,right:R}=s.current.getBoundingClientRect();z.nativeEvent.type!=="touchend"&&n.pauseOnHover&&z.clientX>=G&&z.clientX<=R&&z.clientY>=N&&z.clientY<=U?I():k()}function k(){t(!0)}function I(){t(!1)}function j(){a.didMove=!1,document.addEventListener("pointermove",ee),document.addEventListener("pointerup",ie)}function q(){document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",ie)}function ee(z){let N=s.current;if(a.canDrag&&N){a.didMove=!0,e&&I(),n.draggableDirection==="x"?a.delta=z.clientX-a.start:a.delta=z.clientY-a.start,a.start!==z.clientX&&(a.canCloseOnClick=!1);let U=n.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;N.style.transform=`translate3d(${U},0)`,N.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function ie(){q();let z=s.current;if(a.canDrag&&a.didMove&&z){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}z.style.transition="transform 0.2s, opacity 0.2s",z.style.removeProperty("transform"),z.style.removeProperty("opacity")}}let de={onPointerDown:E,onPointerUp:C};return u&&c&&(de.onMouseEnter=I,n.stacked||(de.onMouseLeave=k)),y&&(de.onClick=z=>{m&&m(z),a.canCloseOnClick&&h(!0)}),{playToast:k,pauseToast:I,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:de}}var Y7=typeof window<"u"?re.useLayoutEffect:re.useEffect,dg=({theme:n,type:e,isLoading:t,...r})=>En.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function Q7(n){return En.createElement(dg,{...n},En.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function X7(n){return En.createElement(dg,{...n},En.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function J7(n){return En.createElement(dg,{...n},En.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Z7(n){return En.createElement(dg,{...n},En.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function eD(){return En.createElement("div",{className:"Toastify__spinner"})}var M1={info:X7,warning:Q7,success:J7,error:Z7,spinner:eD},tD=n=>n in M1;function nD({theme:n,type:e,isLoading:t,icon:r}){let i=null,s={theme:n,type:e};return r===!1||(Ml(r)?i=r({...s,isLoading:t}):re.isValidElement(r)?i=re.cloneElement(r,s):t?i=M1.spinner():tD(e)&&(i=M1[e](s))),i}var rD=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:s}=K7(n),{closeButton:a,children:u,autoClose:c,onClick:h,type:m,hideProgressBar:y,closeToast:_,transition:w,position:E,className:C,style:k,progressClassName:I,updateId:j,role:q,progress:ee,rtl:ie,toastId:de,deleteToast:z,isIn:N,isLoading:U,closeOnClick:G,theme:R,ariaLabel:O}=n,F=Nc("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":ie},{"Toastify__toast--close-on-click":G}),ue=Ml(C)?C({rtl:ie,position:E,type:m,defaultClassName:F}):Nc(F,C),Le=nD(n),Ce=!!ee||!c,xe={closeToast:_,type:m,theme:R},ne=null;return a===!1||(Ml(a)?ne=a(xe):re.isValidElement(a)?ne=re.cloneElement(a,xe):ne=L7(xe)),En.createElement(w,{isIn:N,done:z,position:E,preventExitTransition:t,nodeRef:r,playToast:s},En.createElement("div",{id:de,tabIndex:0,onClick:h,"data-in":N,className:ue,...i,style:k,ref:r,...N&&{role:q,"aria-label":O}},Le!=null&&En.createElement("div",{className:Nc("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},Le),ST(u,n,!e),ne,!n.customProgressBar&&En.createElement(R7,{...j&&!Ce?{key:`p-${j}`}:{},rtl:ie,theme:R,delay:c,isRunning:e,isIn:N,closeToast:_,hide:y,type:m,className:I,controlledProgress:Ce,progress:ee||0})))},iD=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),sD=k7(iD("bounce",!0)),oD={position:"top-right",transition:sD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function PT(n){let e={...oD,...n},t=n.stacked,[r,i]=re.useState(!0),s=re.useRef(null),{getToastToRender:a,isToastActive:u,count:c}=G7(e),{className:h,style:m,rtl:y,containerId:_,hotKeys:w}=e;function E(k){let I=Nc("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":y});return Ml(h)?h({position:k,rtl:y,defaultClassName:I}):Nc(I,R1(h))}function C(){t&&(i(!0),Rt.play())}return Y7(()=>{var k;if(t){let I=s.current.querySelectorAll('[data-in="true"]'),j=12,q=(k=e.position)==null?void 0:k.includes("top"),ee=0,ie=0;Array.from(I).reverse().forEach((de,z)=>{let N=de;N.classList.add("Toastify__toast--stacked"),z>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=q?"top":"bot");let U=ee*(r?.2:1)+(r?0:j*z);N.style.setProperty("--y",`${q?U:U*-1}px`),N.style.setProperty("--g",`${j}`),N.style.setProperty("--s",`${1-(r?ie:0)}`),ee+=N.offsetHeight,ie+=.025})}},[r,c,t]),re.useEffect(()=>{function k(I){var j;let q=s.current;w(I)&&((j=q.querySelector('[tabIndex="0"]'))==null||j.focus(),i(!1),Rt.pause()),I.key==="Escape"&&(document.activeElement===q||q!=null&&q.contains(document.activeElement))&&(i(!0),Rt.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[w]),En.createElement("section",{ref:s,className:"Toastify",id:_,onMouseEnter:()=>{t&&(i(!1),Rt.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((k,I)=>{let j=I.length?{...m}:{...m,pointerEvents:"none"};return En.createElement("div",{tabIndex:-1,className:E(k),"data-stacked":t,style:j,key:`c-${k}`},I.map(({content:q,props:ee})=>En.createElement(rD,{...ee,stacked:t,collapseAll:C,isIn:u(ee.toastId,ee.containerId),key:`t-${ee.key}`},q)))}))}const aD={apiKey:"AIzaSyBc8RjtuaZOMWn4AA9ovmw1OOLDbwlSwWM",authDomain:"wildcats-express-pos.firebaseapp.com",databaseURL:"https://wildcats-express-pos-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wildcats-express-pos",storageBucket:"wildcats-express-pos.firebasestorage.app",messagingSenderId:"908404798026",appId:"1:908404798026:web:c14da08358320310f5ecb3",measurementId:"G-30FN1V543L"},CT=L4(aD),Md=Kk(CT),ks=qR(CT),lD=async(n,e)=>{try{const t=await LN(Md,n,e);return console.log("User logged in:",t.user),Rt.success("Login successful!"),t.user}catch(t){throw console.error("Error during login:",t.message),new Error("Error during login: Invalid Credentials")}},NT=n=>{const[e,t]=re.useState(!0);return re.useEffect(()=>{const r=aS(Md,i=>{i?t(!1):(Rt.warn("Unauthorized access! Please log in."),setTimeout(()=>{n("/")},100))});return()=>r()},[n]),e},a_=async n=>{try{await jN(Md),localStorage.removeItem("token"),n("/")}catch(e){console.error("Error during logout:",e)}},uD=n=>{const[e,t]=re.useState(!0);return re.useEffect(()=>{const r=aS(Md,i=>{i?(console.log("Trying to access login/signup page while logged in."),n("/admin-page")):t(!1)});return()=>r()},[n]),e},cD="/assets/new-mainlogo-DdxHqH-1.svg",hD=()=>{const n=Sd(),[e,t]=re.useState(!1),[r,i]=re.useState(!1),s=()=>{n("/login-page")};return r?D.jsx("p",{children:"Loading..."}):D.jsx(D.Fragment,{children:D.jsxs("main",{className:"main-content",children:[D.jsxs("div",{className:"text-container",children:[D.jsx("div",{className:"hide-mobile",children:D.jsxs("h1",{className:"wildcats-desktop",children:["Wildcats ",D.jsx("span",{className:"express-mobile",children:"Express"})]})}),D.jsx("div",{className:"hide-title"}),D.jsx("h3",{className:"typing-text",children:"Fast. Fresh. Fierce."}),D.jsx("h3",{className:"typing-text-mobile",children:"Fast. Fresh. Fierce."}),D.jsx("div",{className:"order-button",children:D.jsx("button",{onClick:s,className:"primary-cta",children:"Order Here"})})]}),D.jsx("div",{className:"cat",children:D.jsx("img",{src:cD,alt:"Photo of Wildcat chef"})})]})})},vv=re.createContext({});function wv(n){const e=re.useRef(null);return e.current===null&&(e.current=n()),e.current}const _v=typeof window<"u",kT=_v?re.useLayoutEffect:re.useEffect,pg=re.createContext(null),bv=re.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class fD extends re.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dD({children:n,isPresent:e,anchorX:t}){const r=re.useId(),i=re.useRef(null),s=re.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=re.useContext(bv);return re.useInsertionEffect(()=>{const{width:u,height:c,top:h,left:m,right:y}=s.current;if(e||!i.current||!u||!c)return;const _=t==="left"?`left: ${m}`:`right: ${y}`;i.current.dataset.motionPopId=r;const w=document.createElement("style");return a&&(w.nonce=a),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${_}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),D.jsx(fD,{isPresent:e,childRef:i,sizeRef:s,children:re.cloneElement(n,{ref:i})})}const pD=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:u})=>{const c=wv(mD),h=re.useId(),m=re.useCallback(_=>{c.set(_,!0);for(const w of c.values())if(!w)return;r&&r()},[c,r]),y=re.useMemo(()=>({id:h,initial:e,isPresent:t,custom:i,onExitComplete:m,register:_=>(c.set(_,!1),()=>c.delete(_))}),s?[Math.random(),m]:[t,m]);return re.useMemo(()=>{c.forEach((_,w)=>c.set(w,!1))},[t]),re.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),a==="popLayout"&&(n=D.jsx(dD,{isPresent:t,anchorX:u,children:n})),D.jsx(pg.Provider,{value:y,children:n})};function mD(){return new Map}function LT(n=!0){const e=re.useContext(pg);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=re.useId();re.useEffect(()=>{if(n)return i(s)},[n]);const a=re.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,a]:[!0]}const Cp=n=>n.key||"";function l_(n){const e=[];return re.Children.forEach(n,t=>{re.isValidElement(t)&&e.push(t)}),e}const hd=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:u="left"})=>{const[c,h]=LT(a),m=re.useMemo(()=>l_(n),[n]),y=a&&!c?[]:m.map(Cp),_=re.useRef(!0),w=re.useRef(m),E=wv(()=>new Map),[C,k]=re.useState(m),[I,j]=re.useState(m);kT(()=>{_.current=!1,w.current=m;for(let ie=0;ie<I.length;ie++){const de=Cp(I[ie]);y.includes(de)?E.delete(de):E.get(de)!==!0&&E.set(de,!1)}},[I,y.length,y.join("-")]);const q=[];if(m!==C){let ie=[...m];for(let de=0;de<I.length;de++){const z=I[de],N=Cp(z);y.includes(N)||(ie.splice(de,0,z),q.push(z))}return s==="wait"&&q.length&&(ie=q),j(l_(ie)),k(m),null}const{forceRender:ee}=re.useContext(vv);return D.jsx(D.Fragment,{children:I.map(ie=>{const de=Cp(ie),z=a&&!c?!1:m===I||y.includes(de),N=()=>{if(E.has(de))E.set(de,!0);else return;let U=!0;E.forEach(G=>{G||(U=!1)}),U&&(ee==null||ee(),j(w.current),a&&(h==null||h()),r&&r())};return D.jsx(pD,{isPresent:z,initial:!_.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:z?void 0:N,anchorX:u,children:ie},de)})})};function Sv(n,e){n.indexOf(e)===-1&&n.push(e)}function xv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const no=n=>n;let RT=no;const gD={useManualTiming:!1};function Tv(n){let e;return()=>(e===void 0&&(e=n()),e)}const Yh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Av{constructor(){this.subscriptions=[]}add(e){return Sv(this.subscriptions,e),()=>xv(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cl=n=>n*1e3,Nl=n=>n/1e3;function DT(n,e){return e?n*(1e3/e):0}const yD=Tv(()=>window.ScrollTimeline!==void 0);class vD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(yD()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wD extends vD{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Ev(n,e){return n?n[e]||n.default||n:void 0}const j1=2e4;function OT(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<j1;)e+=t,r=n.next(e);return e>=j1?1/0:e}function Iv(n){return typeof n=="function"}function u_(n,e){n.timeline=e,n.onfinish=null}const Pv=n=>Array.isArray(n)&&typeof n[0]=="number",_D={linearEasing:void 0};function bD(n,e){const t=Tv(n);return()=>{var r;return(r=_D[e])!==null&&r!==void 0?r:t()}}const Sm=bD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),MT=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(Yh(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function jT(n){return!!(typeof n=="function"&&Sm()||!n||typeof n=="string"&&(n in F1||Sm())||Pv(n)||Array.isArray(n)&&n.every(jT))}const Bf=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,F1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bf([0,.65,.55,1]),circOut:Bf([.55,0,1,.45]),backIn:Bf([.31,.01,.66,-.59]),backOut:Bf([.33,1.53,.69,.99])};function FT(n,e){if(n)return typeof n=="function"&&Sm()?MT(n,e):Pv(n)?Bf(n):Array.isArray(n)?n.map(t=>FT(t,e)||F1.easeOut):F1[n]}const Np=["read","resolveKeyframes","update","preRender","render","postRender"],c_={value:null};function SD(n,e){let t=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},c=0;function h(y){a.has(y)&&(m.schedule(y),n()),c++,y(u)}const m={schedule:(y,_=!1,w=!1)=>{const C=w&&i?t:r;return _&&a.add(y),C.has(y)||C.add(y),y},cancel:y=>{r.delete(y),a.delete(y)},process:y=>{if(u=y,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(h),e&&c_.value&&c_.value.frameloop[e].push(c),c=0,t.clear(),i=!1,s&&(s=!1,m.process(y))}};return m}const xD=40;function VT(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=Np.reduce((I,j)=>(I[j]=SD(s,e?j:void 0),I),{}),{read:u,resolveKeyframes:c,update:h,preRender:m,render:y,postRender:_}=a,w=()=>{const I=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(I-i.timestamp,xD),1),i.timestamp=I,i.isProcessing=!0,u.process(i),c.process(i),h.process(i),m.process(i),y.process(i),_.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(w))},E=()=>{t=!0,r=!0,i.isProcessing||n(w)};return{schedule:Np.reduce((I,j)=>{const q=a[j];return I[j]=(ee,ie=!1,de=!1)=>(t||E(),q.schedule(ee,ie,de)),I},{}),cancel:I=>{for(let j=0;j<Np.length;j++)a[Np[j]].cancel(I)},state:i,steps:a}}const{schedule:Gn,cancel:Ku,state:xi,steps:k0}=VT(typeof requestAnimationFrame<"u"?requestAnimationFrame:no,!0),{schedule:Cv}=VT(queueMicrotask,!1);let Yp;function TD(){Yp=void 0}const qa={now:()=>(Yp===void 0&&qa.set(xi.isProcessing||gD.useManualTiming?xi.timestamp:performance.now()),Yp),set:n=>{Yp=n,queueMicrotask(TD)}},ua={x:!1,y:!1};function BT(){return ua.x||ua.y}function AD(n){return n==="x"||n==="y"?ua[n]?null:(ua[n]=!0,()=>{ua[n]=!1}):ua.x||ua.y?null:(ua.x=ua.y=!0,()=>{ua.x=ua.y=!1})}function ED(n,e,t){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function UT(n,e){const t=ED(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function h_(n){return!(n.pointerType==="touch"||BT())}function ID(n,e,t={}){const[r,i,s]=UT(n,t),a=u=>{if(!h_(u))return;const{target:c}=u,h=e(c,u);if(typeof h!="function"||!c)return;const m=y=>{h_(y)&&(h(y),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,i)};return r.forEach(u=>{u.addEventListener("pointerenter",a,i)}),s}const zT=(n,e)=>e?n===e?!0:zT(n,e.parentElement):!1,Nv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,PD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CD(n){return PD.has(n.tagName)||n.tabIndex!==-1}const Uf=new WeakSet;function f_(n){return e=>{e.key==="Enter"&&n(e)}}function L0(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ND=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=f_(()=>{if(Uf.has(t))return;L0(t,"down");const i=f_(()=>{L0(t,"up")}),s=()=>L0(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function d_(n){return Nv(n)&&!BT()}function kD(n,e,t={}){const[r,i,s]=UT(n,t),a=u=>{const c=u.currentTarget;if(!d_(u)||Uf.has(c))return;Uf.add(c);const h=e(c,u),m=(w,E)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!d_(w)||!Uf.has(c))&&(Uf.delete(c),typeof h=="function"&&h(w,{success:E}))},y=w=>{m(w,c===window||c===document||t.useGlobalTarget||zT(c,w.target))},_=w=>{m(w,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",_,i)};return r.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",a,i),u instanceof HTMLElement&&(u.addEventListener("focus",h=>ND(h,i)),!CD(u)&&u.tabIndex===null&&(u.tabIndex=0))}),s}const p_=30,LD=n=>!isNaN(parseFloat(n));class RD{constructor(e,t={}){this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=qa.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=qa.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=LD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Av);const r=this.events[e].add(t);return e==="change"?()=>{r(),Gn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>p_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,p_);return DT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fd(n,e){return new RD(n,e)}const qT=re.createContext({strict:!1}),m_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qh={};for(const n in m_)Qh[n]={isEnabled:e=>m_[n].some(t=>!!e[t])};function DD(n){for(const e in n)Qh[e]={...Qh[e],...n[e]}}const OD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||OD.has(n)}let HT=n=>!xm(n);function MD(n){n&&(HT=e=>e.startsWith("on")?!xm(e):n(e))}try{MD(require("@emotion/is-prop-valid").default)}catch{}function jD(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(HT(i)||t===!0&&xm(i)||!e&&!xm(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function FD(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const mg=re.createContext({});function gg(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function dd(n){return typeof n=="string"||Array.isArray(n)}const kv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lv=["initial",...kv];function yg(n){return gg(n.animate)||Lv.some(e=>dd(n[e]))}function $T(n){return!!(yg(n)||n.variants)}function VD(n,e){if(yg(n)){const{initial:t,animate:r}=n;return{initial:t===!1||dd(t)?t:void 0,animate:dd(r)?r:void 0}}return n.inherit!==!1?e:{}}function BD(n){const{initial:e,animate:t}=VD(n,re.useContext(mg));return re.useMemo(()=>({initial:e,animate:t}),[g_(e),g_(t)])}function g_(n){return Array.isArray(n)?n.join(" "):n}const UD=Symbol.for("motionComponentSymbol");function Ah(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function zD(n,e,t){return re.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ah(t)&&(t.current=r))},[e])}const Rv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qD="framerAppearId",WT="data-"+Rv(qD),GT=re.createContext({});function HD(n,e,t,r,i){var s,a;const{visualElement:u}=re.useContext(mg),c=re.useContext(qT),h=re.useContext(pg),m=re.useContext(bv).reducedMotion,y=re.useRef(null);r=r||c.renderer,!y.current&&r&&(y.current=r(n,{visualState:e,parent:u,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const _=y.current,w=re.useContext(GT);_&&!_.projection&&i&&(_.type==="html"||_.type==="svg")&&$D(y.current,t,i,w);const E=re.useRef(!1);re.useInsertionEffect(()=>{_&&E.current&&_.update(t,h)});const C=t[WT],k=re.useRef(!!C&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,C))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,C)));return kT(()=>{_&&(E.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),Cv.render(_.render),k.current&&_.animationState&&_.animationState.animateChanges())}),re.useEffect(()=>{_&&(!k.current&&_.animationState&&_.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)===null||I===void 0||I.call(window,C)}),k.current=!1))}),_}function $D(n,e,t,r){const{layoutId:i,layout:s,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:KT(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||u&&Ah(u),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:h})}function KT(n){if(n)return n.options.allowProjection!==!1?n.projection:KT(n.parent)}function WD({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var s,a;n&&DD(n);function u(h,m){let y;const _={...re.useContext(bv),...h,layoutId:GD(h)},{isStatic:w}=_,E=BD(h),C=r(h,w);if(!w&&_v){KD();const k=YD(_);y=k.MeasureLayout,E.visualElement=HD(i,C,_,e,k.ProjectionNode)}return D.jsxs(mg.Provider,{value:E,children:[y&&E.visualElement?D.jsx(y,{visualElement:E.visualElement,..._}):null,t(i,h,zD(C,E.visualElement,m),C,w,E.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const c=re.forwardRef(u);return c[UD]=i,c}function GD({layoutId:n}){const e=re.useContext(vv).id;return e&&n!==void 0?e+"-"+n:n}function KD(n,e){re.useContext(qT).strict}function YD(n){const{drag:e,layout:t}=Qh;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const YT=n=>e=>typeof e=="string"&&e.startsWith(n),Dv=YT("--"),QD=YT("var(--"),Ov=n=>QD(n)?XD.test(n.split("/*")[0].trim()):!1,XD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pd={};function JD(n){for(const e in n)pd[e]=n[e],Dv(e)&&(pd[e].isCSSVariable=!0)}const lf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wc=new Set(lf);function QT(n,{layout:e,layoutId:t}){return Wc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!pd[n]||n==="opacity")}const Ki=n=>!!(n&&n.getVelocity),XT=(n,e)=>e&&typeof n=="number"?e.transform(n):n,jl=(n,e,t)=>t>e?e:t<n?n:t,uf={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},md={...uf,transform:n=>jl(0,1,n)},kp={...uf,default:1},jd=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Eu=jd("deg"),Ha=jd("%"),qt=jd("px"),ZD=jd("vh"),eO=jd("vw"),y_={...Ha,parse:n=>Ha.parse(n)/100,transform:n=>Ha.transform(n*100)},tO={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,backgroundPositionX:qt,backgroundPositionY:qt},nO={rotate:Eu,rotateX:Eu,rotateY:Eu,rotateZ:Eu,scale:kp,scaleX:kp,scaleY:kp,scaleZ:kp,skew:Eu,skewX:Eu,skewY:Eu,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:md,originX:y_,originY:y_,originZ:qt},v_={...uf,transform:Math.round},Mv={...tO,...nO,zIndex:v_,size:qt,fillOpacity:md,strokeOpacity:md,numOctaves:v_},rO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iO=lf.length;function sO(n,e,t){let r="",i=!0;for(let s=0;s<iO;s++){const a=lf[s],u=n[a];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(a.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||t){const h=XT(u,Mv[a]);if(!c){i=!1;const m=rO[a]||a;r+=`${m}(${h}) `}t&&(e[a]=h)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function jv(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let a=!1,u=!1;for(const c in e){const h=e[c];if(Wc.has(c)){a=!0;continue}else if(Dv(c)){i[c]=h;continue}else{const m=XT(h,Mv[c]);c.startsWith("origin")?(u=!0,s[c]=m):r[c]=m}}if(e.transform||(a||t?r.transform=sO(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:h="50%",originZ:m=0}=s;r.transformOrigin=`${c} ${h} ${m}`}}const Fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JT(n,e,t){for(const r in e)!Ki(e[r])&&!QT(r,t)&&(n[r]=e[r])}function oO({transformTemplate:n},e){return re.useMemo(()=>{const t=Fv();return jv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function aO(n,e){const t=n.style||{},r={};return JT(r,t,n),Object.assign(r,oO(n,e)),r}function lO(n,e){const t={},r=aO(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const uO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vv(n){return typeof n!="string"||n.includes("-")?!1:!!(uO.indexOf(n)>-1||/[A-Z]/u.test(n))}const cO={offset:"stroke-dashoffset",array:"stroke-dasharray"},hO={offset:"strokeDashoffset",array:"strokeDasharray"};function fO(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?cO:hO;n[s.offset]=qt.transform(-r);const a=qt.transform(e),u=qt.transform(t);n[s.array]=`${a} ${u}`}function w_(n,e,t){return typeof n=="string"?n:qt.transform(e+t*n)}function dO(n,e,t){const r=w_(e,n.x,n.width),i=w_(t,n.y,n.height);return`${r} ${i}`}function Bv(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:u=1,pathOffset:c=0,...h},m,y){if(jv(n,h,y),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:w,dimensions:E}=n;_.transform&&(E&&(w.transform=_.transform),delete _.transform),E&&(i!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=dO(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),r!==void 0&&(_.scale=r),a!==void 0&&fO(_,a,u,c,!1)}const ZT=()=>({...Fv(),attrs:{}}),Uv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function pO(n,e,t,r){const i=re.useMemo(()=>{const s=ZT();return Bv(s,e,Uv(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};JT(s,n.style,n),i.style={...s,...i.style}}return i}function mO(n=!1){return(t,r,i,{latestValues:s},a)=>{const c=(Vv(t)?pO:lO)(r,s,a,t),h=jD(r,typeof t=="string",n),m=t!==re.Fragment?{...h,...c,ref:i}:{},{children:y}=r,_=re.useMemo(()=>Ki(y)?y.get():y,[y]);return re.createElement(t,{...m,children:_})}}function __(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function zv(n,e,t,r){if(typeof e=="function"){const[i,s]=__(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=__(r);e=e(t!==void 0?t:n.custom,i,s)}return e}const V1=n=>Array.isArray(n),gO=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),yO=n=>V1(n)?n[n.length-1]||0:n;function Qp(n){const e=Ki(n)?n.get():n;return gO(e)?e.toValue():e}function vO({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,s){const a={latestValues:wO(r,i,s,n),renderState:e()};return t&&(a.onMount=u=>t({props:r,current:u,...a}),a.onUpdate=u=>t(u)),a}const e3=n=>(e,t)=>{const r=re.useContext(mg),i=re.useContext(pg),s=()=>vO(n,e,r,i);return t?s():wv(s)};function wO(n,e,t,r){const i={},s=r(n,{});for(const _ in s)i[_]=Qp(s[_]);let{initial:a,animate:u}=n;const c=yg(n),h=$T(n);e&&h&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const y=m?u:a;if(y&&typeof y!="boolean"&&!gg(y)){const _=Array.isArray(y)?y:[y];for(let w=0;w<_.length;w++){const E=zv(n,_[w]);if(E){const{transitionEnd:C,transition:k,...I}=E;for(const j in I){let q=I[j];if(Array.isArray(q)){const ee=m?q.length-1:0;q=q[ee]}q!==null&&(i[j]=q)}for(const j in C)i[j]=C[j]}}}return i}function qv(n,e,t){var r;const{style:i}=n,s={};for(const a in i)(Ki(i[a])||e.style&&Ki(e.style[a])||QT(a,n)||((r=t==null?void 0:t.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const _O={useVisualState:e3({scrapeMotionValuesFromProps:qv,createRenderState:Fv})};function t3(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function n3(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const r3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i3(n,e,t,r){n3(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(r3.has(i)?i:Rv(i),e.attrs[i])}function s3(n,e,t){const r=qv(n,e,t);for(const i in n)if(Ki(n[i])||Ki(e[i])){const s=lf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const b_=["x","y","width","height","cx","cy","r"],bO={useVisualState:e3({scrapeMotionValuesFromProps:s3,createRenderState:ZT,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let s=!!n.drag;if(!s){for(const u in i)if(Wc.has(u)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let u=0;u<b_.length;u++){const c=b_[u];n[c]!==e[c]&&(a=!0)}a&&Gn.read(()=>{t3(t,r),Gn.render(()=>{Bv(r,i,Uv(t.tagName),n.transformTemplate),i3(t,r)})})}})};function SO(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...Vv(r)?bO:_O,preloadedFeatures:n,useRender:mO(i),createVisualElement:e,Component:r};return WD(a)}}function gd(n,e,t){const r=n.getProps();return zv(r,e,t!==void 0?t:r.custom,n)}const o3=new Set(["width","height","top","left","right","bottom",...lf]);function xO(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,fd(t))}function TO(n,e){const t=gd(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const a in s){const u=yO(s[a]);xO(n,a,u)}}function AO(n){return!!(Ki(n)&&n.add)}function B1(n,e){const t=n.getValue("willChange");if(AO(t))return t.add(e)}function a3(n){return n.props[WT]}const l3=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,EO=1e-7,IO=12;function PO(n,e,t,r,i){let s,a,u=0;do a=e+(t-e)/2,s=l3(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>EO&&++u<IO);return a}function Fd(n,e,t,r){if(n===e&&t===r)return no;const i=s=>PO(s,0,1,n,t);return s=>s===0||s===1?s:l3(i(s),e,r)}const u3=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,c3=n=>e=>1-n(1-e),h3=Fd(.33,1.53,.69,.99),Hv=c3(h3),f3=u3(Hv),d3=n=>(n*=2)<1?.5*Hv(n):.5*(2-Math.pow(2,-10*(n-1))),$v=n=>1-Math.sin(Math.acos(n)),p3=c3($v),m3=u3($v),g3=n=>/^0[^.\s]+$/u.test(n);function CO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||g3(n):!0}const Kf=n=>Math.round(n*1e5)/1e5,Wv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NO(n){return n==null}const kO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gv=(n,e)=>t=>!!(typeof t=="string"&&kO.test(t)&&t.startsWith(n)||e&&!NO(t)&&Object.prototype.hasOwnProperty.call(t,e)),y3=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,a,u]=r.match(Wv);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},LO=n=>jl(0,255,n),R0={...uf,transform:n=>Math.round(LO(n))},Pc={test:Gv("rgb","red"),parse:y3("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+R0.transform(n)+", "+R0.transform(e)+", "+R0.transform(t)+", "+Kf(md.transform(r))+")"};function RO(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const U1={test:Gv("#"),parse:RO,transform:Pc.transform},Eh={test:Gv("hsl","hue"),parse:y3("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ha.transform(Kf(e))+", "+Ha.transform(Kf(t))+", "+Kf(md.transform(r))+")"},Hi={test:n=>Pc.test(n)||U1.test(n)||Eh.test(n),parse:n=>Pc.test(n)?Pc.parse(n):Eh.test(n)?Eh.parse(n):U1.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Pc.transform(n):Eh.transform(n)},DO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OO(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Wv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(DO))===null||t===void 0?void 0:t.length)||0)>0}const v3="number",w3="color",MO="var",jO="var(",S_="${}",FO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yd(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const u=e.replace(FO,c=>(Hi.test(c)?(r.color.push(s),i.push(w3),t.push(Hi.parse(c))):c.startsWith(jO)?(r.var.push(s),i.push(MO),t.push(c)):(r.number.push(s),i.push(v3),t.push(parseFloat(c))),++s,S_)).split(S_);return{values:t,split:u,indexes:r,types:i}}function _3(n){return yd(n).values}function b3(n){const{split:e,types:t}=yd(n),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const u=t[a];u===v3?s+=Kf(i[a]):u===w3?s+=Hi.transform(i[a]):s+=i[a]}return s}}const VO=n=>typeof n=="number"?0:n;function BO(n){const e=_3(n);return b3(n)(e.map(VO))}const Yu={test:OO,parse:_3,createTransformer:b3,getAnimatableNone:BO},UO=new Set(["brightness","contrast","saturate","opacity"]);function zO(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Wv)||[];if(!r)return n;const i=t.replace(r,"");let s=UO.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const qO=/\b([a-z-]*)\(.*?\)/gu,z1={...Yu,getAnimatableNone:n=>{const e=n.match(qO);return e?e.map(zO).join(" "):n}},HO={...Mv,color:Hi,backgroundColor:Hi,outlineColor:Hi,fill:Hi,stroke:Hi,borderColor:Hi,borderTopColor:Hi,borderRightColor:Hi,borderBottomColor:Hi,borderLeftColor:Hi,filter:z1,WebkitFilter:z1},S3=n=>HO[n];function x3(n,e){let t=S3(n);return t!==z1&&(t=Yu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const $O=new Set(["auto","none","0"]);function WO(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!$O.has(s)&&yd(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=x3(t,i)}const Cc=n=>n*180/Math.PI,q1=n=>{const e=Cc(Math.atan2(n[1],n[0]));return H1(e)},GO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:q1,rotateZ:q1,skewX:n=>Cc(Math.atan(n[1])),skewY:n=>Cc(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},H1=n=>(n=n%360,n<0&&(n+=360),n),x_=q1,T_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),A_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),KO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:T_,scaleY:A_,scale:n=>(T_(n)+A_(n))/2,rotateX:n=>H1(Cc(Math.atan2(n[6],n[5]))),rotateY:n=>H1(Cc(Math.atan2(-n[2],n[0]))),rotateZ:x_,rotate:x_,skewX:n=>Cc(Math.atan(n[4])),skewY:n=>Cc(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function E_(n){return n.includes("scale")?1:0}function $1(n,e){if(!n||n==="none")return E_(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=KO,i=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=GO,i=u}if(!i)return E_(e);const s=r[e],a=i[1].split(",").map(QO);return typeof s=="function"?s(a):a[s]}const YO=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return $1(t,e)};function QO(n){return parseFloat(n.trim())}const I_=n=>n===uf||n===qt,XO=new Set(["x","y","z"]),JO=lf.filter(n=>!XO.has(n));function ZO(n){const e=[];return JO.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Xh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>$1(e,"x"),y:(n,{transform:e})=>$1(e,"y")};Xh.translateX=Xh.x;Xh.translateY=Xh.y;const kc=new Set;let W1=!1,G1=!1;function T3(){if(G1){const n=Array.from(kc).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=ZO(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,a])=>{var u;(u=r.getValue(s))===null||u===void 0||u.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}G1=!1,W1=!1,kc.forEach(n=>n.complete()),kc.clear()}function A3(){kc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(G1=!0)})}function eM(){A3(),T3()}class Kv{constructor(e,t,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(kc.add(this),W1||(W1=!0,Gn.read(A3),Gn.resolveKeyframes(T3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const c=r.readValue(t,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),kc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,kc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const E3=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),tM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nM(n){const e=tM.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function I3(n,e,t=1){const[r,i]=nM(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return E3(a)?parseFloat(a):a}return Ov(i)?I3(i,e,t+1):i}const P3=n=>e=>e.test(n),rM={test:n=>n==="auto",parse:n=>n},C3=[uf,qt,Ha,Eu,eO,ZD,rM],P_=n=>C3.find(P3(n));class N3 extends Kv{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),Ov(h))){const m=I3(h,t.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!o3.has(r)||e.length!==2)return;const[i,s]=e,a=P_(i),u=P_(s);if(a!==u)if(I_(a)&&I_(u))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)CO(e[i])&&r.push(i);r.length&&WO(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Xh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,h])=>{t.getValue(c).set(h)}),this.resolveNoneKeyframes()}}const C_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Yu.test(n)||n==="0")&&!n.startsWith("url("));function iM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function sM(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=C_(i,e),u=C_(s,e);return!a||!u?!1:iM(n)||(t==="spring"||Iv(t))&&r}const oM=n=>n!==null;function vg(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(oM),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const aM=40;class k3{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qa.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:a,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&eM(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=qa.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:u,onUpdate:c,isGenerator:h}=this.options;if(!h&&!sM(e,r,i,s))if(a)this.options.duration=0;else{c&&c(vg(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const cr=(n,e,t)=>n+(e-n)*t;function D0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function lM({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const u=t<.5?t*(1+e):t+e-t*e,c=2*t-u;i=D0(c,u,n+1/3),s=D0(c,u,n),a=D0(c,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Tm(n,e){return t=>t>0?e:n}const O0=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},uM=[U1,Pc,Eh],cM=n=>uM.find(e=>e.test(n));function N_(n){const e=cM(n);if(!e)return!1;let t=e.parse(n);return e===Eh&&(t=lM(t)),t}const k_=(n,e)=>{const t=N_(n),r=N_(e);if(!t||!r)return Tm(n,e);const i={...t};return s=>(i.red=O0(t.red,r.red,s),i.green=O0(t.green,r.green,s),i.blue=O0(t.blue,r.blue,s),i.alpha=cr(t.alpha,r.alpha,s),Pc.transform(i))},hM=(n,e)=>t=>e(n(t)),Vd=(...n)=>n.reduce(hM),K1=new Set(["none","hidden"]);function fM(n,e){return K1.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function dM(n,e){return t=>cr(n,e,t)}function Yv(n){return typeof n=="number"?dM:typeof n=="string"?Ov(n)?Tm:Hi.test(n)?k_:gM:Array.isArray(n)?L3:typeof n=="object"?Hi.test(n)?k_:pM:Tm}function L3(n,e){const t=[...n],r=t.length,i=n.map((s,a)=>Yv(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}}function pM(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Yv(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function mM(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=n.indexes[a][i[a]],c=(t=n.values[u])!==null&&t!==void 0?t:0;r[s]=c,i[a]++}return r}const gM=(n,e)=>{const t=Yu.createTransformer(e),r=yd(n),i=yd(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?K1.has(n)&&!i.values.length||K1.has(e)&&!r.values.length?fM(n,e):Vd(L3(mM(r,i),i.values),t):Tm(n,e)};function R3(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?cr(n,e,t):Yv(n)(n,e)}const yM=5;function D3(n,e,t){const r=Math.max(e-yM,0);return DT(t-n(r),e-r)}const br={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},L_=.001;function vM({duration:n=br.duration,bounce:e=br.bounce,velocity:t=br.velocity,mass:r=br.mass}){let i,s,a=1-e;a=jl(br.minDamping,br.maxDamping,a),n=jl(br.minDuration,br.maxDuration,Nl(n)),a<1?(i=h=>{const m=h*a,y=m*n,_=m-t,w=Y1(h,a),E=Math.exp(-y);return L_-_/w*E},s=h=>{const y=h*a*n,_=y*t+t,w=Math.pow(a,2)*Math.pow(h,2)*n,E=Math.exp(-y),C=Y1(Math.pow(h,2),a);return(-i(h)+L_>0?-1:1)*((_-w)*E)/C}):(i=h=>{const m=Math.exp(-h*n),y=(h-t)*n+1;return-.001+m*y},s=h=>{const m=Math.exp(-h*n),y=(t-h)*(n*n);return m*y});const u=5/n,c=_M(i,s,u);if(n=Cl(n),isNaN(c))return{stiffness:br.stiffness,damping:br.damping,duration:n};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:n}}}const wM=12;function _M(n,e,t){let r=t;for(let i=1;i<wM;i++)r=r-n(r)/e(r);return r}function Y1(n,e){return n*Math.sqrt(1-e*e)}const bM=["duration","bounce"],SM=["stiffness","damping","mass"];function R_(n,e){return e.some(t=>n[t]!==void 0)}function xM(n){let e={velocity:br.velocity,stiffness:br.stiffness,damping:br.damping,mass:br.mass,isResolvedFromDuration:!1,...n};if(!R_(n,SM)&&R_(n,bM))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*jl(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:br.mass,stiffness:i,damping:s}}else{const t=vM(n);e={...e,...t,mass:br.mass},e.isResolvedFromDuration=!0}return e}function O3(n=br.visualDuration,e=br.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],u={done:!1,value:s},{stiffness:c,damping:h,mass:m,duration:y,velocity:_,isResolvedFromDuration:w}=xM({...t,velocity:-Nl(t.velocity||0)}),E=_||0,C=h/(2*Math.sqrt(c*m)),k=a-s,I=Nl(Math.sqrt(c/m)),j=Math.abs(k)<5;r||(r=j?br.restSpeed.granular:br.restSpeed.default),i||(i=j?br.restDelta.granular:br.restDelta.default);let q;if(C<1){const ie=Y1(I,C);q=de=>{const z=Math.exp(-C*I*de);return a-z*((E+C*I*k)/ie*Math.sin(ie*de)+k*Math.cos(ie*de))}}else if(C===1)q=ie=>a-Math.exp(-I*ie)*(k+(E+I*k)*ie);else{const ie=I*Math.sqrt(C*C-1);q=de=>{const z=Math.exp(-C*I*de),N=Math.min(ie*de,300);return a-z*((E+C*I*k)*Math.sinh(N)+ie*k*Math.cosh(N))/ie}}const ee={calculatedDuration:w&&y||null,next:ie=>{const de=q(ie);if(w)u.done=ie>=y;else{let z=0;C<1&&(z=ie===0?Cl(E):D3(q,ie,de));const N=Math.abs(z)<=r,U=Math.abs(a-de)<=i;u.done=N&&U}return u.value=u.done?a:de,u},toString:()=>{const ie=Math.min(OT(ee),j1),de=MT(z=>ee.next(ie*z).value,ie,30);return ie+"ms "+de}};return ee}function D_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:u,max:c,restDelta:h=.5,restSpeed:m}){const y=n[0],_={done:!1,value:y},w=N=>u!==void 0&&N<u||c!==void 0&&N>c,E=N=>u===void 0?c:c===void 0||Math.abs(u-N)<Math.abs(c-N)?u:c;let C=t*e;const k=y+C,I=a===void 0?k:a(k);I!==k&&(C=I-y);const j=N=>-C*Math.exp(-N/r),q=N=>I+j(N),ee=N=>{const U=j(N),G=q(N);_.done=Math.abs(U)<=h,_.value=_.done?I:G};let ie,de;const z=N=>{w(_.value)&&(ie=N,de=O3({keyframes:[_.value,E(_.value)],velocity:D3(q,N,_.value),damping:i,stiffness:s,restDelta:h,restSpeed:m}))};return z(0),{calculatedDuration:null,next:N=>{let U=!1;return!de&&ie===void 0&&(U=!0,ee(N),z(N)),ie!==void 0&&N>=ie?de.next(N-ie):(!U&&ee(N),_)}}}const TM=Fd(.42,0,1,1),AM=Fd(0,0,.58,1),M3=Fd(.42,0,.58,1),EM=n=>Array.isArray(n)&&typeof n[0]!="number",IM={linear:no,easeIn:TM,easeInOut:M3,easeOut:AM,circIn:$v,circInOut:m3,circOut:p3,backIn:Hv,backInOut:f3,backOut:h3,anticipate:d3},O_=n=>{if(Pv(n)){RT(n.length===4);const[e,t,r,i]=n;return Fd(e,t,r,i)}else if(typeof n=="string")return IM[n];return n};function PM(n,e,t){const r=[],i=t||R3,s=n.length-1;for(let a=0;a<s;a++){let u=i(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||no:e;u=Vd(c,u)}r.push(u)}return r}function CM(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(RT(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=PM(e,r,i),c=u.length,h=m=>{if(a&&m<n[0])return e[0];let y=0;if(c>1)for(;y<n.length-2&&!(m<n[y+1]);y++);const _=Yh(n[y],n[y+1],m);return u[y](_)};return t?m=>h(jl(n[0],n[s-1],m)):h}function NM(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Yh(0,e,r);n.push(cr(t,1,i))}}function kM(n){const e=[0];return NM(e,n.length-1),e}function LM(n,e){return n.map(t=>t*e)}function RM(n,e){return n.map(()=>e||M3).splice(0,n.length-1)}function Am({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=EM(r)?r.map(O_):O_(r),s={done:!1,value:e[0]},a=LM(t&&t.length===e.length?t:kM(e),n),u=CM(a,e,{ease:Array.isArray(i)?i:RM(e,i)});return{calculatedDuration:n,next:c=>(s.value=u(c),s.done=c>=n,s)}}const DM=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Gn.update(e,!0),stop:()=>Ku(e),now:()=>xi.isProcessing?xi.timestamp:qa.now()}},OM={decay:D_,inertia:D_,tween:Am,keyframes:Am,spring:O3},MM=n=>n/100;class Qv extends k3{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||Kv,u=(c,h)=>this.onKeyframesResolved(c,h);this.resolver=new a(s,u,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,u=Iv(t)?t:OM[t]||Am;let c,h;u!==Am&&typeof e[0]!="number"&&(c=Vd(MM,R3(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});s==="mirror"&&(h=u({...this.options,keyframes:[...e].reverse(),velocity:-a})),m.calculatedDuration===null&&(m.calculatedDuration=OT(m));const{calculatedDuration:y}=m,_=y+i,w=_*(r+1)-i;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:c,calculatedDuration:y,resolvedDuration:_,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:u,keyframes:c,calculatedDuration:h,totalDuration:m,resolvedDuration:y}=r;if(this.startTime===null)return s.next(0);const{delay:_,repeat:w,repeatType:E,repeatDelay:C,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const I=this.currentTime-_*(this.speed>=0?1:-1),j=this.speed>=0?I<0:I>m;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let q=this.currentTime,ee=s;if(w){const N=Math.min(this.currentTime,m)/y;let U=Math.floor(N),G=N%1;!G&&N>=1&&(G=1),G===1&&U--,U=Math.min(U,w+1),!!(U%2)&&(E==="reverse"?(G=1-G,C&&(G-=C/y)):E==="mirror"&&(ee=a)),q=jl(0,1,G)*y}const ie=j?{done:!1,value:c[0]}:ee.next(q);u&&(ie.value=u(ie.value));let{done:de}=ie;!j&&h!==null&&(de=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return z&&i!==void 0&&(ie.value=vg(c,this.options,i)),k&&k(ie.value),z&&this.finish(),ie}get duration(){const{resolved:e}=this;return e?Nl(e.calculatedDuration):0}get time(){return Nl(this.currentTime)}set time(e){e=Cl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Nl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=DM,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const jM=new Set(["opacity","clipPath","filter","transform"]);function FM(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:u="easeInOut",times:c}={}){const h={[e]:t};c&&(h.offset=c);const m=FT(u,i);return Array.isArray(m)&&(h.easing=m),n.animate(h,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const VM=Tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Em=10,BM=2e4;function UM(n){return Iv(n.type)||n.type==="spring"||!jT(n.ease)}function zM(n,e){const t=new Qv({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let s=0;for(;!r.done&&s<BM;)r=t.sample(s),i.push(r.value),s+=Em;return{times:void 0,keyframes:i,duration:s-Em,ease:"linear"}}const j3={anticipate:d3,backInOut:f3,circInOut:m3};function qM(n){return n in j3}class M_ extends k3{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new N3(s,(a,u)=>this.onKeyframesResolved(a,u),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:s,type:a,motionValue:u,name:c,startTime:h}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof s=="string"&&Sm()&&qM(s)&&(s=j3[s]),UM(this.options)){const{onComplete:y,onUpdate:_,motionValue:w,element:E,...C}=this.options,k=zM(e,C);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,i=k.times,s=k.ease,a="keyframes"}const m=FM(u.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return m.startTime=h??this.calcStartTime(),this.pendingTimeline?(u_(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;u.set(vg(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Nl(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Nl(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Cl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return no;const{animation:r}=t;u_(r,e)}return no}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:s,ease:a,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:y,element:_,...w}=this.options,E=new Qv({...w,keyframes:r,duration:i,type:s,ease:a,times:u,isGenerator:!0}),C=Cl(this.time);h.setWithVelocity(E.sample(C-Em).value,E.sample(C).value,Em)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:a,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=t.owner.getProps();return VM()&&r&&jM.has(r)&&(r!=="transform"||!h)&&!c&&!i&&s!=="mirror"&&a!==0&&u!=="inertia"}}const HM={type:"spring",stiffness:500,damping:25,restSpeed:10},$M=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),WM={type:"keyframes",duration:.8},GM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KM=(n,{keyframes:e})=>e.length>2?WM:Wc.has(n)?n.startsWith("scale")?$M(e[1]):HM:GM;function YM({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:u,from:c,elapsed:h,...m}){return!!Object.keys(m).length}const Xv=(n,e,t,r={},i,s)=>a=>{const u=Ev(r,n)||{},c=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Cl(c);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:_=>{e.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:s?void 0:i};YM(u)||(m={...m,...KM(n,m)}),m.duration&&(m.duration=Cl(m.duration)),m.repeatDelay&&(m.repeatDelay=Cl(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),m.allowFlatten=!u.type&&!u.ease,y&&!s&&e.get()!==void 0){const _=vg(m.keyframes,u);if(_!==void 0)return Gn.update(()=>{m.onUpdate(_),m.onComplete()}),new wD([])}return!s&&M_.supports(m)?new M_(m):new Qv(m)};function QM({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function F3(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:a=n.getDefaultTransition(),transitionEnd:u,...c}=e;r&&(a=r);const h=[],m=i&&n.animationState&&n.animationState.getState()[i];for(const y in c){const _=n.getValue(y,(s=n.latestValues[y])!==null&&s!==void 0?s:null),w=c[y];if(w===void 0||m&&QM(m,y))continue;const E={delay:t,...Ev(a||{},y)};let C=!1;if(window.MotionHandoffAnimation){const I=a3(n);if(I){const j=window.MotionHandoffAnimation(I,y,Gn);j!==null&&(E.startTime=j,C=!0)}}B1(n,y),_.start(Xv(y,_,w,n.shouldReduceMotion&&o3.has(y)?{type:!1}:E,n,C));const k=_.animation;k&&h.push(k)}return u&&Promise.all(h).then(()=>{Gn.update(()=>{u&&TO(n,u)})}),h}function Q1(n,e,t={}){var r;const i=gd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const a=i?()=>Promise.all(F3(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=s;return XM(n,e,m+h,y,_,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,m]=c==="beforeChildren"?[a,u]:[u,a];return h().then(()=>m())}else return Promise.all([a(),u(t.delay)])}function XM(n,e,t=0,r=0,i=1,s){const a=[],u=(n.variantChildren.size-1)*r,c=i===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(n.variantChildren).sort(JM).forEach((h,m)=>{h.notify("AnimationStart",e),a.push(Q1(h,e,{...s,delay:t+c(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function JM(n,e){return n.sortNodePosition(e)}function ZM(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Q1(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=Q1(n,e,t);else{const i=typeof e=="function"?gd(n,e,t.custom):e;r=Promise.all(F3(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function V3(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const ej=Lv.length;function B3(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?B3(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<ej;t++){const r=Lv[t],i=n.props[r];(dd(i)||i===!1)&&(e[r]=i)}return e}const tj=[...kv].reverse(),nj=kv.length;function rj(n){return e=>Promise.all(e.map(({animation:t,options:r})=>ZM(n,t,r)))}function ij(n){let e=rj(n),t=j_(),r=!0;const i=c=>(h,m)=>{var y;const _=gd(n,m,c==="exit"?(y=n.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(_){const{transition:w,transitionEnd:E,...C}=_;h={...h,...C,...E}}return h};function s(c){e=c(n)}function a(c){const{props:h}=n,m=B3(n.parent)||{},y=[],_=new Set;let w={},E=1/0;for(let k=0;k<nj;k++){const I=tj[k],j=t[I],q=h[I]!==void 0?h[I]:m[I],ee=dd(q),ie=I===c?j.isActive:null;ie===!1&&(E=k);let de=q===m[I]&&q!==h[I]&&ee;if(de&&r&&n.manuallyAnimateOnMount&&(de=!1),j.protectedKeys={...w},!j.isActive&&ie===null||!q&&!j.prevProp||gg(q)||typeof q=="boolean")continue;const z=sj(j.prevProp,q);let N=z||I===c&&j.isActive&&!de&&ee||k>E&&ee,U=!1;const G=Array.isArray(q)?q:[q];let R=G.reduce(i(I),{});ie===!1&&(R={});const{prevResolvedValues:O={}}=j,F={...O,...R},ue=xe=>{N=!0,_.has(xe)&&(U=!0,_.delete(xe)),j.needsAnimating[xe]=!0;const ne=n.getValue(xe);ne&&(ne.liveStyle=!1)};for(const xe in F){const ne=R[xe],we=O[xe];if(w.hasOwnProperty(xe))continue;let ge=!1;V1(ne)&&V1(we)?ge=!V3(ne,we):ge=ne!==we,ge?ne!=null?ue(xe):_.add(xe):ne!==void 0&&_.has(xe)?ue(xe):j.protectedKeys[xe]=!0}j.prevProp=q,j.prevResolvedValues=R,j.isActive&&(w={...w,...R}),r&&n.blockInitialAnimation&&(N=!1),N&&(!(de&&z)||U)&&y.push(...G.map(xe=>({animation:xe,options:{type:I}})))}if(_.size){const k={};if(typeof h.initial!="boolean"){const I=gd(n,Array.isArray(h.initial)?h.initial[0]:h.initial);I&&I.transition&&(k.transition=I.transition)}_.forEach(I=>{const j=n.getBaseTarget(I),q=n.getValue(I);q&&(q.liveStyle=!0),k[I]=j??null}),y.push({animation:k})}let C=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(y):Promise.resolve()}function u(c,h){var m;if(t[c].isActive===h)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(_=>{var w;return(w=_.animationState)===null||w===void 0?void 0:w.setActive(c,h)}),t[c].isActive=h;const y=a(c);for(const _ in t)t[_].protectedKeys={};return y}return{animateChanges:a,setActive:u,setAnimateFunction:s,getState:()=>t,reset:()=>{t=j_(),r=!0}}}function sj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!V3(e,n):!1}function bc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j_(){return{animate:bc(!0),whileInView:bc(),whileHover:bc(),whileTap:bc(),whileDrag:bc(),whileFocus:bc(),exit:bc()}}class ec{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oj extends ec{constructor(e){super(e),e.animationState||(e.animationState=ij(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let aj=0;class lj extends ec{constructor(){super(...arguments),this.id=aj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const uj={animation:{Feature:oj},exit:{Feature:lj}};function vd(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Bd(n){return{point:{x:n.pageX,y:n.pageY}}}const cj=n=>e=>Nv(e)&&n(e,Bd(e));function Yf(n,e,t,r){return vd(n,e,cj(t),r)}function U3({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function hj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function fj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const z3=1e-4,dj=1-z3,pj=1+z3,q3=.01,mj=0-q3,gj=0+q3;function fs(n){return n.max-n.min}function yj(n,e,t){return Math.abs(n-e)<=t}function F_(n,e,t,r=.5){n.origin=r,n.originPoint=cr(e.min,e.max,n.origin),n.scale=fs(t)/fs(e),n.translate=cr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=dj&&n.scale<=pj||isNaN(n.scale))&&(n.scale=1),(n.translate>=mj&&n.translate<=gj||isNaN(n.translate))&&(n.translate=0)}function Qf(n,e,t,r){F_(n.x,e.x,t.x,r?r.originX:void 0),F_(n.y,e.y,t.y,r?r.originY:void 0)}function V_(n,e,t){n.min=t.min+e.min,n.max=n.min+fs(e)}function vj(n,e,t){V_(n.x,e.x,t.x),V_(n.y,e.y,t.y)}function B_(n,e,t){n.min=e.min-t.min,n.max=n.min+fs(e)}function Xf(n,e,t){B_(n.x,e.x,t.x),B_(n.y,e.y,t.y)}const U_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ih=()=>({x:U_(),y:U_()}),z_=()=>({min:0,max:0}),Pr=()=>({x:z_(),y:z_()});function Co(n){return[n("x"),n("y")]}function M0(n){return n===void 0||n===1}function X1({scale:n,scaleX:e,scaleY:t}){return!M0(n)||!M0(e)||!M0(t)}function xc(n){return X1(n)||H3(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function H3(n){return q_(n.x)||q_(n.y)}function q_(n){return n&&n!=="0%"}function Im(n,e,t){const r=n-t,i=e*r;return t+i}function H_(n,e,t,r,i){return i!==void 0&&(n=Im(n,i,r)),Im(n,t,r)+e}function J1(n,e=0,t=1,r,i){n.min=H_(n.min,e,t,r,i),n.max=H_(n.max,e,t,r,i)}function $3(n,{x:e,y:t}){J1(n.x,e.translate,e.scale,e.originPoint),J1(n.y,t.translate,t.scale,t.originPoint)}const $_=.999999999999,W_=1.0000000000001;function wj(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let u=0;u<i;u++){s=t[u],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ch(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,$3(n,a)),r&&xc(s.latestValues)&&Ch(n,s.latestValues))}e.x<W_&&e.x>$_&&(e.x=1),e.y<W_&&e.y>$_&&(e.y=1)}function Ph(n,e){n.min=n.min+e,n.max=n.max+e}function G_(n,e,t,r,i=.5){const s=cr(n.min,n.max,i);J1(n,e,t,s,r)}function Ch(n,e){G_(n.x,e.x,e.scaleX,e.scale,e.originX),G_(n.y,e.y,e.scaleY,e.scale,e.originY)}function W3(n,e){return U3(fj(n.getBoundingClientRect(),e))}function _j(n,e,t){const r=W3(n,t),{scroll:i}=e;return i&&(Ph(r.x,i.offset.x),Ph(r.y,i.offset.y)),r}const G3=({current:n})=>n?n.ownerDocument.defaultView:null,K_=(n,e)=>Math.abs(n-e);function bj(n,e){const t=K_(n.x,e.x),r=K_(n.y,e.y);return Math.sqrt(t**2+r**2)}class K3{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=F0(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,w=bj(y.offset,{x:0,y:0})>=3;if(!_&&!w)return;const{point:E}=y,{timestamp:C}=xi;this.history.push({...E,timestamp:C});const{onStart:k,onMove:I}=this.handlers;_||(k&&k(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=j0(_,this.transformPagePoint),Gn.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=F0(y.type==="pointercancel"?this.lastMoveEventInfo:j0(_,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,k),E&&E(y,k)},!Nv(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const a=Bd(e),u=j0(a,this.transformPagePoint),{point:c}=u,{timestamp:h}=xi;this.history=[{...c,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,F0(u,this.history)),this.removeListeners=Vd(Yf(this.contextWindow,"pointermove",this.handlePointerMove),Yf(this.contextWindow,"pointerup",this.handlePointerUp),Yf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ku(this.updatePoint)}}function j0(n,e){return e?{point:e(n.point)}:n}function Y_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function F0({point:n},e){return{point:n,delta:Y_(n,Y3(e)),offset:Y_(n,Sj(e)),velocity:xj(e,.1)}}function Sj(n){return n[0]}function Y3(n){return n[n.length-1]}function xj(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Y3(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Cl(e)));)t--;if(!r)return{x:0,y:0};const s=Nl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Tj(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?cr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?cr(t,n,r.max):Math.min(n,t)),n}function Q_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Aj(n,{top:e,left:t,bottom:r,right:i}){return{x:Q_(n.x,t,i),y:Q_(n.y,e,r)}}function X_(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Ej(n,e){return{x:X_(n.x,e.x),y:X_(n.y,e.y)}}function Ij(n,e){let t=.5;const r=fs(n),i=fs(e);return i>r?t=Yh(e.min,e.max-r,n.min):r>i&&(t=Yh(n.min,n.max-i,e.min)),jl(0,1,t)}function Pj(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Z1=.35;function Cj(n=Z1){return n===!1?n=0:n===!0&&(n=Z1),{x:J_(n,"left","right"),y:J_(n,"top","bottom")}}function J_(n,e,t){return{min:Z_(n,e),max:Z_(n,t)}}function Z_(n,e){return typeof n=="number"?n:n[e]||0}const Nj=new WeakMap;class kj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Bd(m).point)},s=(m,y)=>{const{drag:_,dragPropagation:w,onDragStart:E}=this.getProps();if(_&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AD(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Co(k=>{let I=this.getAxisMotionValue(k).get()||0;if(Ha.test(I)){const{projection:j}=this.visualElement;if(j&&j.layout){const q=j.layout.layoutBox[k];q&&(I=fs(q)*(parseFloat(I)/100))}}this.originPoint[k]=I}),E&&Gn.postRender(()=>E(m,y)),B1(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},a=(m,y)=>{const{dragPropagation:_,dragDirectionLock:w,onDirectionLock:E,onDrag:C}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:k}=y;if(w&&this.currentDirection===null){this.currentDirection=Lj(k),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,k),this.updateAxis("y",y.point,k),this.visualElement.render(),C&&C(m,y)},u=(m,y)=>this.stop(m,y),c=()=>Co(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new K3(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:G3(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Gn.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Lp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Tj(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Ah(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Aj(i.layoutBox,t):this.constraints=!1,this.elastic=Cj(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Co(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Pj(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ah(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_j(r,i.root,this.visualElement.getTransformPagePoint());let a=Ej(i.layout.layoutBox,s);if(t){const u=t(hj(a));this.hasMutatedConstraints=!!u,u&&(a=U3(u))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},h=Co(m=>{if(!Lp(m,t,this.currentDirection))return;let y=c&&c[m]||{};a&&(y={min:0,max:0});const _=i?200:1e6,w=i?40:1e7,E={type:"inertia",velocity:r?e[m]:0,bounceStiffness:_,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...s,...y};return this.startAxisValueAnimation(m,E)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return B1(this.visualElement,e),r.start(Xv(e,r,0,t,this.visualElement,!1))}stopAnimation(){Co(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Co(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Co(t=>{const{drag:r}=this.getProps();if(!Lp(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:u}=i.layout.layoutBox[t];s.set(e[t]-cr(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ah(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Co(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();i[a]=Ij({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Co(a=>{if(!Lp(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];u.set(cr(c,h,i[a]))})}addListeners(){if(!this.visualElement.current)return;Nj.set(this.visualElement,this);const e=this.visualElement.current,t=Yf(e,"pointerdown",c=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ah(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gn.read(r);const a=vd(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Co(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=c[m].translate,y.set(y.get()+c[m].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Z1,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:u}}}function Lp(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Lj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Rj extends ec{constructor(e){super(e),this.removeGroupControls=no,this.removeListeners=no,this.controls=new kj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||no}unmount(){this.removeGroupControls(),this.removeListeners()}}const eb=n=>(e,t)=>{n&&Gn.postRender(()=>n(e,t))};class Dj extends ec{constructor(){super(...arguments),this.removePointerDownListener=no}onPointerDown(e){this.session=new K3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:eb(e),onStart:eb(t),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Gn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Yf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tb(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Nf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(qt.test(n))n=parseFloat(n);else return n;const t=tb(n,e.target.x),r=tb(n,e.target.y);return`${t}% ${r}%`}},Oj={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Yu.parse(n);if(i.length>5)return r;const s=Yu.createTransformer(n),a=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,c=t.y.scale*e.y;i[0+a]/=u,i[1+a]/=c;const h=cr(u,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=h),typeof i[3+a]=="number"&&(i[3+a]/=h),s(i)}};class Mj extends re.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;JD(jj),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Xp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Gn.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Q3(n){const[e,t]=LT(),r=re.useContext(vv);return D.jsx(Mj,{...n,layoutGroup:r,switchLayoutGroup:re.useContext(GT),isPresent:e,safeToRemove:t})}const jj={borderRadius:{...Nf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nf,borderTopRightRadius:Nf,borderBottomLeftRadius:Nf,borderBottomRightRadius:Nf,boxShadow:Oj};function Fj(n,e,t){const r=Ki(n)?n:fd(n);return r.start(Xv("",r,e,t)),r.animation}function Vj(n){return n instanceof SVGElement&&n.tagName!=="svg"}const Bj=(n,e)=>n.depth-e.depth;class Uj{constructor(){this.children=[],this.isDirty=!1}add(e){Sv(this.children,e),this.isDirty=!0}remove(e){xv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Bj),this.isDirty=!1,this.children.forEach(e)}}function zj(n,e){const t=qa.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Ku(r),n(s-e))};return Gn.read(r,!0),()=>Ku(r)}const X3=["TopLeft","TopRight","BottomLeft","BottomRight"],qj=X3.length,nb=n=>typeof n=="string"?parseFloat(n):n,rb=n=>typeof n=="number"||qt.test(n);function Hj(n,e,t,r,i,s){i?(n.opacity=cr(0,t.opacity!==void 0?t.opacity:1,$j(r)),n.opacityExit=cr(e.opacity!==void 0?e.opacity:1,0,Wj(r))):s&&(n.opacity=cr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let a=0;a<qj;a++){const u=`border${X3[a]}Radius`;let c=ib(e,u),h=ib(t,u);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||rb(c)===rb(h)?(n[u]=Math.max(cr(nb(c),nb(h),r),0),(Ha.test(h)||Ha.test(c))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=cr(e.rotate||0,t.rotate||0,r))}function ib(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const $j=J3(0,.5,p3),Wj=J3(.5,.95,no);function J3(n,e,t){return r=>r<n?0:r>e?1:t(Yh(n,e,r))}function sb(n,e){n.min=e.min,n.max=e.max}function Po(n,e){sb(n.x,e.x),sb(n.y,e.y)}function ob(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ab(n,e,t,r,i){return n-=e,n=Im(n,1/t,r),i!==void 0&&(n=Im(n,1/i,r)),n}function Gj(n,e=0,t=1,r=.5,i,s=n,a=n){if(Ha.test(e)&&(e=parseFloat(e),e=cr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=cr(s.min,s.max,r);n===s&&(u-=e),n.min=ab(n.min,e,t,u,i),n.max=ab(n.max,e,t,u,i)}function lb(n,e,[t,r,i],s,a){Gj(n,e[t],e[r],e[i],e.scale,s,a)}const Kj=["x","scaleX","originX"],Yj=["y","scaleY","originY"];function ub(n,e,t,r){lb(n.x,e,Kj,t?t.x:void 0,r?r.x:void 0),lb(n.y,e,Yj,t?t.y:void 0,r?r.y:void 0)}function cb(n){return n.translate===0&&n.scale===1}function Z3(n){return cb(n.x)&&cb(n.y)}function hb(n,e){return n.min===e.min&&n.max===e.max}function Qj(n,e){return hb(n.x,e.x)&&hb(n.y,e.y)}function fb(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function eA(n,e){return fb(n.x,e.x)&&fb(n.y,e.y)}function db(n){return fs(n.x)/fs(n.y)}function pb(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Xj{constructor(){this.members=[]}add(e){Sv(this.members,e),e.scheduleRender()}remove(e){if(xv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Jj(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:m,rotateX:y,rotateY:_,skewX:w,skewY:E}=t;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),w&&(r+=`skewX(${w}deg) `),E&&(r+=`skewY(${E}deg) `)}const u=n.x.scale*e.x,c=n.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const V0=["","X","Y","Z"],Zj={visibility:"hidden"},mb=1e3;let eF=0;function B0(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function tA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=a3(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Gn,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&tA(r)}function nA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},u=e==null?void 0:e()){this.id=eF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rF),this.nodes.forEach(lF),this.nodes.forEach(uF),this.nodes.forEach(iF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uj)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Av),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const c=this.eventHandlers.get(a);c&&c.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Vj(a),this.instance=a;const{layoutId:c,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||c)&&(this.isLayoutDirty=!0),n){let y;const _=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=zj(_,250),Xp.hasAnimatedSinceResize&&(Xp.hasAnimatedSinceResize=!1,this.nodes.forEach(yb))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||pF,{onLayoutAnimationStart:k,onLayoutAnimationComplete:I}=m.getProps(),j=!this.targetLayout||!eA(this.targetLayout,E),q=!_&&w;if(this.options.layoutRoot||this.resumeFrom||q||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,q);const ee={...Ev(C,"layout"),onPlay:k,onComplete:I};(m.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee)}else _||yb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ku(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gb);return}this.isUpdating||this.nodes.forEach(oF),this.isUpdating=!1,this.nodes.forEach(aF),this.nodes.forEach(tF),this.nodes.forEach(nF),this.clearAllSnapshots();const u=qa.now();xi.delta=jl(0,1e3/60,u-xi.timestamp),xi.timestamp=u,xi.isProcessing=!0,k0.update.process(xi),k0.preRender.process(xi),k0.render.process(xi),xi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sF),this.sharedNodes.forEach(hF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fs(this.snapshot.measuredBox.x)&&!fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Z3(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&(u||xc(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return a&&(c=this.removeTransform(c)),mF(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:u}=this.options;if(!u)return Pr();const c=u.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(gF))){const{scroll:m}=this.root;m&&(Ph(c.x,m.offset.x),Ph(c.y,m.offset.y))}return c}removeElementScroll(a){var u;const c=Pr();if(Po(c,a),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Po(c,a),Ph(c.x,y.offset.x),Ph(c.y,y.offset.y))}return c}applyTransform(a,u=!1){const c=Pr();Po(c,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ch(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),xc(m.latestValues)&&Ch(c,m.latestValues)}return xc(this.latestValues)&&Ch(c,this.latestValues),c}removeTransform(a){const u=Pr();Po(u,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!xc(h.latestValues))continue;X1(h.latestValues)&&h.updateSnapshot();const m=Pr(),y=h.measurePageBox();Po(m,y),ub(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return xc(this.latestValues)&&ub(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var u;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=xi.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),Xf(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Po(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pr(),this.targetWithTransforms=Pr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Po(this.target,this.layout.layoutBox),$3(this.target,this.targetDelta)):Po(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),Xf(this.relativeTargetOrigin,this.target,w.target),Po(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||X1(this.parent.latestValues)||H3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===xi.timestamp&&(h=!1),h)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Po(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;wj(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Pr());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ob(this.prevProjectionDelta.x,this.projectionDelta.x),ob(this.prevProjectionDelta.y,this.projectionDelta.y)),Qf(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!pb(this.projectionDelta.x,this.prevProjectionDelta.x)||!pb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ih(),this.projectionDelta=Ih(),this.projectionDeltaWithTransform=Ih()}setAnimationOrigin(a,u=!1){const c=this.snapshot,h=c?c.latestValues:{},m={...this.latestValues},y=Ih();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=Pr(),w=c?c.source:void 0,E=this.layout?this.layout.source:void 0,C=w!==E,k=this.getStack(),I=!k||k.members.length<=1,j=!!(C&&!I&&this.options.crossfade===!0&&!this.path.some(dF));this.animationProgress=0;let q;this.mixTargetDelta=ee=>{const ie=ee/1e3;vb(y.x,a.x,ie),vb(y.y,a.y,ie),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xf(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fF(this.relativeTarget,this.relativeTargetOrigin,_,ie),q&&Qj(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Pr()),Po(q,this.relativeTarget)),C&&(this.animationValues=m,Hj(m,h,this.latestValues,ie,j,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ku(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gn.update(()=>{Xp.hasAnimatedSinceResize=!0,this.currentAnimation=Fj(0,mb,{...a,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:c,layout:h,latestValues:m}=a;if(!(!u||!c||!h)){if(this!==a&&this.layout&&h&&rA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Pr();const y=fs(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+y;const _=fs(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+_}Po(u,c),Ch(u,m),Qf(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Xj),this.sharedNodes.get(a).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:u}=this.options;return u?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:u}=this.options;return u?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const h={};c.z&&B0("z",a,h,this.animationValues);for(let m=0;m<V0.length;m++)B0(`rotate${V0[m]}`,a,h,this.animationValues),B0(`skew${V0[m]}`,a,h,this.animationValues);a.render();for(const m in h)a.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);a.scheduleRender()}getProjectionStyles(a){var u,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Zj;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Qp(a==null?void 0:a.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Qp(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!xc(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),h.transform=Jj(this.projectionDeltaWithTransform,this.treeScale,_),m&&(h.transform=m(_,h.transform));const{x:w,y:E}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,y.animationValues?h.opacity=y===this?(c=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:h.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const C in pd){if(_[C]===void 0)continue;const{correct:k,applyTo:I,isCSSVariable:j}=pd[C],q=h.transform==="none"?_[C]:k(_[C],y);if(I){const ee=I.length;for(let ie=0;ie<ee;ie++)h[I[ie]]=q}else j?this.options.visualElement.renderState.vars[C]=q:h[C]=q}return this.options.layoutId&&(h.pointerEvents=y===this?Qp(a==null?void 0:a.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(gb),this.root.sharedNodes.clear()}}}function tF(n){n.updateLayout()}function nF(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?Co(y=>{const _=a?t.measuredBox[y]:t.layoutBox[y],w=fs(_);_.min=r[y].min,_.max=_.min+w}):rA(s,t.layoutBox,r)&&Co(y=>{const _=a?t.measuredBox[y]:t.layoutBox[y],w=fs(r[y]);_.max=_.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const u=Ih();Qf(u,r,t.layoutBox);const c=Ih();a?Qf(c,n.applyTransform(i,!0),t.measuredBox):Qf(c,r,t.layoutBox);const h=!Z3(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:w}=y;if(_&&w){const E=Pr();Xf(E,t.layoutBox,_.layoutBox);const C=Pr();Xf(C,r,w.layoutBox),eA(E,C)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=E,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function rF(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function iF(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function sF(n){n.clearSnapshot()}function gb(n){n.clearMeasurements()}function oF(n){n.isLayoutDirty=!1}function aF(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function yb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function lF(n){n.resolveTargetDelta()}function uF(n){n.calcProjection()}function cF(n){n.resetSkewAndRotation()}function hF(n){n.removeLeadSnapshot()}function vb(n,e,t){n.translate=cr(e.translate,0,t),n.scale=cr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function wb(n,e,t,r){n.min=cr(e.min,t.min,r),n.max=cr(e.max,t.max,r)}function fF(n,e,t,r){wb(n.x,e.x,t.x,r),wb(n.y,e.y,t.y,r)}function dF(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const pF={duration:.45,ease:[.4,0,.1,1]},_b=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),bb=_b("applewebkit/")&&!_b("chrome/")?Math.round:no;function Sb(n){n.min=bb(n.min),n.max=bb(n.max)}function mF(n){Sb(n.x),Sb(n.y)}function rA(n,e,t){return n==="position"||n==="preserve-aspect"&&!yj(db(e),db(t),.2)}function gF(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const yF=nA({attachResizeListener:(n,e)=>vd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),U0={current:void 0},iA=nA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!U0.current){const n=new yF({});n.mount(window),n.setOptions({layoutScroll:!0}),U0.current=n}return U0.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),vF={pan:{Feature:Dj},drag:{Feature:Rj,ProjectionNode:iA,MeasureLayout:Q3}};function xb(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&Gn.postRender(()=>s(e,Bd(e)))}class wF extends ec{mount(){const{current:e}=this.node;e&&(this.unmount=ID(e,(t,r)=>(xb(this.node,r,"Start"),i=>xb(this.node,i,"End"))))}unmount(){}}class _F extends ec{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vd(vd(this.node.current,"focus",()=>this.onFocus()),vd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tb(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&Gn.postRender(()=>s(e,Bd(e)))}class bF extends ec{mount(){const{current:e}=this.node;e&&(this.unmount=kD(e,(t,r)=>(Tb(this.node,r,"Start"),(i,{success:s})=>Tb(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ey=new WeakMap,z0=new WeakMap,SF=n=>{const e=ey.get(n.target);e&&e(n)},xF=n=>{n.forEach(SF)};function TF({root:n,...e}){const t=n||document;z0.has(t)||z0.set(t,{});const r=z0.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(xF,{root:n,...e})),r[i]}function AF(n,e,t){const r=TF(e);return ey.set(n,t),r.observe(n),()=>{ey.delete(n),r.unobserve(n)}}const EF={some:0,all:1};class IF extends ec{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:EF[i]},u=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),_=h?m:y;_&&_(c)};return AF(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(PF(e,t))&&this.startObserver()}unmount(){}}function PF({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const CF={inView:{Feature:IF},tap:{Feature:bF},focus:{Feature:_F},hover:{Feature:wF}},NF={layout:{ProjectionNode:iA,MeasureLayout:Q3}},ty={current:null},sA={current:!1};function kF(){if(sA.current=!0,!!_v)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ty.current=n.matches;n.addListener(e),e()}else ty.current=!1}const LF=[...C3,Hi,Yu],RF=n=>LF.find(P3(n)),DF=new WeakMap;function OF(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Ki(i))n.addValue(r,i);else if(Ki(s))n.addValue(r,fd(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(r);n.addValue(r,fd(a!==void 0?a:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Ab=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MF{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=qa.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Gn.render(this.render,!1,!0))};const{latestValues:c,renderState:h,onUpdate:m}=a;this.onUpdate=m,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=yg(t),this.isVariantNode=$T(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in _){const E=_[w];c[w]!==void 0&&Ki(E)&&E.set(c[w],!1)}}mount(e){this.current=e,DF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),sA.current||kF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ty.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ku(this.notifyUpdate),Ku(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Gn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qh){const t=Qh[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Ab.length;r++){const i=Ab[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=OF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=fd(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(E3(i)||g3(i))?i=parseFloat(i):!RF(i)&&Yu.test(t)&&(i=x3(e,t)),this.setBaseTarget(e,Ki(i)?i.get():i)),Ki(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=zv(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ki(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Av),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class oA extends MF{constructor(){super(...arguments),this.KeyframeResolver=N3}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ki(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function jF(n){return window.getComputedStyle(n)}class FF extends oA{constructor(){super(...arguments),this.type="html",this.renderInstance=n3}readValueFromInstance(e,t){if(Wc.has(t))return YO(e,t);{const r=jF(e),i=(Dv(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return W3(e,t)}build(e,t,r){jv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return qv(e,t,r)}}class VF extends oA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&t3(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Wc.has(t)){const r=S3(t);return r&&r.default||0}return t=r3.has(t)?t:Rv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return s3(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Gn.postRender(this.updateDimensions)}build(e,t,r){Bv(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){i3(e,t,r,i)}mount(e){this.isSVGTag=Uv(e.tagName),super.mount(e)}}const BF=(n,e)=>Vv(n)?new VF(e):new FF(e,{allowProjection:n!==re.Fragment}),UF=SO({...uj,...CF,...vF,...NF},BF),Gt=FD(UF);var aA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Eb=En.createContext&&En.createContext(aA),zF=["attr","size","title"];function qF(n,e){if(n==null)return{};var t=HF(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function HF(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Pm(){return Pm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pm.apply(this,arguments)}function Ib(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ib(Object(t),!0).forEach(function(r){$F(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ib(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $F(n,e,t){return e=WF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WF(n){var e=GF(n,"string");return typeof e=="symbol"?e:e+""}function GF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lA(n){return n&&n.map((e,t)=>En.createElement(e.tag,Cm({key:t},e.attr),lA(e.child)))}function Qa(n){return e=>En.createElement(KF,Pm({attr:Cm({},n.attr)},e),lA(n.child))}function KF(n){var e=t=>{var{attr:r,size:i,title:s}=n,a=qF(n,zF),u=i||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),En.createElement("svg",Pm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:c,style:Cm(Cm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&En.createElement("title",null,s),n.children)};return Eb!==void 0?En.createElement(Eb.Consumer,null,t=>e(t)):e(aA)}function YF(n){return Qa({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function QF(n){return Qa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function XF(n){return Qa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function JF(n){return Qa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function ZF(n){return Qa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"},child:[]}]})(n)}function e9(n){return Qa({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3V2"},child:[]},{tag:"path",attr:{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5"},child:[]},{tag:"path",attr:{d:"M2 14h12a2 2 0 0 1 0 4h-2"},child:[]},{tag:"path",attr:{d:"M4 10h16"},child:[]},{tag:"path",attr:{d:"M5 10a7 7 0 0 1 14 0"},child:[]},{tag:"path",attr:{d:"M5 14v6a1 1 0 0 1-1 1H2"},child:[]}]})(n)}function t9(n){return Qa({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(n)}function n9(n){return Qa({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{width:"3",height:"9",x:"7",y:"7"},child:[]},{tag:"rect",attr:{width:"3",height:"5",x:"14",y:"7"},child:[]}]})(n)}function Pb(n){return Qa({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Image_Off"},child:[{tag:"path",attr:{d:"M19.937,14.218l0,-8.654c0,-0.829 -0.672,-1.5 -1.5,-1.5l-10.628,-0c-0.276,-0 -0.5,-0.225 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l10.628,-0c1.38,-0 2.5,1.118 2.5,2.5l0,10.624c0,0.276 -0.224,0.5 -0.5,0.501c-0.276,-0 -0.5,-0.225 -0.5,-0.5l0,-0.556l-4.583,-4.584c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.162,0.162 2.37,2.37 3.876,3.876Zm-0.121,6.304c-0.395,0.262 -0.869,0.415 -1.379,0.415l-12.874,-0c-1.381,-0 -2.5,-1.119 -2.5,-2.5l0,-12.873c0,-0.51 0.153,-0.984 0.414,-1.38l-0.263,-0.263c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.088,0.088 0.176,0.176 0.263,0.263c0.245,0.245 16.095,16.094 16.339,16.338l0.263,0.263c0.455,0.456 -0.252,1.163 -0.707,0.707c-0.088,-0.087 -0.175,-0.175 -0.263,-0.263Zm-11.104,-11.103l-2.001,-2.001c-0.094,0.196 -0.146,0.415 -0.146,0.647c-0,0.829 0.672,1.5 1.5,1.5c0.232,-0 0.451,-0.052 0.647,-0.146Zm-2.733,-2.733l-1.77,-1.77c-0.093,0.196 -0.146,0.416 -0.146,0.648l0,10.717l1.926,-1.926c0.587,-0.586 1.536,-0.586 2.122,-0l0.555,0.554c0.195,0.196 0.511,0.196 0.706,0l2.415,-2.415l-2.343,-2.343c-0.395,0.262 -0.869,0.414 -1.379,0.414c-1.38,-0 -2.5,-1.119 -2.5,-2.5c-0,-0.509 0.152,-0.983 0.414,-1.379Zm-1.916,11.009l0,0.741c0,0.829 0.671,1.5 1.5,1.5l12.874,0c0.232,0 0.451,-0.052 0.647,-0.145c-0.165,-0.165 -3.264,-3.263 -6.59,-6.59l-2.414,2.415c-0.585,0.586 -1.537,0.586 -2.122,0l-0.554,-0.554c-0.195,-0.196 -0.512,-0.196 -0.708,0l-2.633,2.633Z"},child:[]}]}]})(n)}const r9="/new-mainlogo.svg",i9="/cat_profile.svg",s9="modulepreload",o9=function(n){return"/"+n},Cb={},ny=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=o9(c),c in Cb)return;Cb[c]=!0;const h=c.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":s9,h||(y.as="script"),y.crossOrigin="",y.href=c,u&&y.setAttribute("nonce",u),document.head.appendChild(y),h)return new Promise((_,w)=>{y.addEventListener("load",_),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function Fn(n){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(n)}var Gi=Uint8Array,to=Uint16Array,Jv=Int32Array,wg=new Gi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_g=new Gi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ry=new Gi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uA=function(n,e){for(var t=new to(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Jv(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},cA=uA(wg,2),hA=cA.b,iy=cA.r;hA[28]=258,iy[258]=28;var fA=uA(_g,0),a9=fA.b,Nb=fA.r,sy=new to(32768);for(var tr=0;tr<32768;++tr){var Tu=(tr&43690)>>1|(tr&21845)<<1;Tu=(Tu&52428)>>2|(Tu&13107)<<2,Tu=(Tu&61680)>>4|(Tu&3855)<<4,sy[tr]=((Tu&65280)>>8|(Tu&255)<<8)>>1}var $a=function(n,e,t){for(var r=n.length,i=0,s=new to(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new to(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var u;if(t){u=new to(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],m=e-n[i],y=a[n[i]-1]++<<m,_=y|(1<<m)-1;y<=_;++y)u[sy[y]>>c]=h}else for(u=new to(r),i=0;i<r;++i)n[i]&&(u[i]=sy[a[n[i]-1]++]>>15-n[i]);return u},Qu=new Gi(288);for(var tr=0;tr<144;++tr)Qu[tr]=8;for(var tr=144;tr<256;++tr)Qu[tr]=9;for(var tr=256;tr<280;++tr)Qu[tr]=7;for(var tr=280;tr<288;++tr)Qu[tr]=8;var wd=new Gi(32);for(var tr=0;tr<32;++tr)wd[tr]=5;var l9=$a(Qu,9,0),u9=$a(Qu,9,1),c9=$a(wd,5,0),h9=$a(wd,5,1),q0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},aa=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},H0=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Zv=function(n){return(n+7)/8|0},dA=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Gi(n.subarray(e,t))},f9=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ca=function(n,e,t){var r=new Error(e||f9[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,ca),!t)throw r;return r},d9=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new Gi(0);var a=!t,u=a||e.i!=2,c=e.i;a&&(t=new Gi(i*3));var h=function(Ye){var ut=t.length;if(Ye>ut){var st=new Gi(Math.max(ut*2,Ye));st.set(t),t=st}},m=e.f||0,y=e.p||0,_=e.b||0,w=e.l,E=e.d,C=e.m,k=e.n,I=i*8;do{if(!w){m=aa(n,y,1);var j=aa(n,y+1,3);if(y+=3,j)if(j==1)w=u9,E=h9,C=9,k=5;else if(j==2){var de=aa(n,y,31)+257,z=aa(n,y+10,15)+4,N=de+aa(n,y+5,31)+1;y+=14;for(var U=new Gi(N),G=new Gi(19),R=0;R<z;++R)G[ry[R]]=aa(n,y+R*3,7);y+=z*3;for(var O=q0(G),F=(1<<O)-1,ue=$a(G,O,1),R=0;R<N;){var Le=ue[aa(n,y,F)];y+=Le&15;var q=Le>>4;if(q<16)U[R++]=q;else{var Ce=0,xe=0;for(q==16?(xe=3+aa(n,y,3),y+=2,Ce=U[R-1]):q==17?(xe=3+aa(n,y,7),y+=3):q==18&&(xe=11+aa(n,y,127),y+=7);xe--;)U[R++]=Ce}}var ne=U.subarray(0,de),we=U.subarray(de);C=q0(ne),k=q0(we),w=$a(ne,C,1),E=$a(we,k,1)}else ca(1);else{var q=Zv(y)+4,ee=n[q-4]|n[q-3]<<8,ie=q+ee;if(ie>i){c&&ca(0);break}u&&h(_+ee),t.set(n.subarray(q,ie),_),e.b=_+=ee,e.p=y=ie*8,e.f=m;continue}if(y>I){c&&ca(0);break}}u&&h(_+131072);for(var ge=(1<<C)-1,oe=(1<<k)-1,M=y;;M=y){var Ce=w[H0(n,y)&ge],X=Ce>>4;if(y+=Ce&15,y>I){c&&ca(0);break}if(Ce||ca(2),X<256)t[_++]=X;else if(X==256){M=y,w=null;break}else{var Z=X-254;if(X>264){var R=X-257,se=wg[R];Z=aa(n,y,(1<<se)-1)+hA[R],y+=se}var ce=E[H0(n,y)&oe],_e=ce>>4;ce||ca(3),y+=ce&15;var we=a9[_e];if(_e>3){var se=_g[_e];we+=H0(n,y)&(1<<se)-1,y+=se}if(y>I){c&&ca(0);break}u&&h(_+131072);var Ae=_+Z;if(_<we){var Ee=s-we,Ke=Math.min(we,Ae);for(Ee+_<0&&ca(3);_<Ke;++_)t[_]=r[Ee+_]}for(;_<Ae;++_)t[_]=t[_-we]}}e.l=w,e.p=M,e.b=_,e.f=m,w&&(m=1,e.m=C,e.d=E,e.n=k)}while(!m);return _!=t.length&&a?dA(t,0,_):t.subarray(0,_)},Sl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},kf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},$0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:mA,l:0};if(i==1){var a=new Gi(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(ie,de){return ie.f-de.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],h=0,m=1,y=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};m!=i-1;)u=t[t[h].f<t[y].f?h++:y++],c=t[h!=m&&t[h].f<t[y].f?h++:y++],t[m++]={s:-1,f:u.f+c.f,l:u,r:c};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var w=new to(_+1),E=oy(t[m-1],w,0);if(E>e){var r=0,C=0,k=E-e,I=1<<k;for(s.sort(function(de,z){return w[z.s]-w[de.s]||de.f-z.f});r<i;++r){var j=s[r].s;if(w[j]>e)C+=I-(1<<E-w[j]),w[j]=e;else break}for(C>>=k;C>0;){var q=s[r].s;w[q]<e?C-=1<<e-w[q]++-1:++r}for(;r>=0&&C;--r){var ee=s[r].s;w[ee]==e&&(--w[ee],++C)}E=e}return{t:new Gi(w),l:E}},oy=function(n,e,t){return n.s==-1?Math.max(oy(n.l,e,t+1),oy(n.r,e,t+1)):e[n.s]=t},kb=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new to(++e),r=0,i=n[0],s=1,a=function(c){t[r++]=c},u=1;u<=e;++u)if(n[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[u]}return{c:t.subarray(0,r),n:e}},Lf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},pA=function(n,e,t){var r=t.length,i=Zv(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},Lb=function(n,e,t,r,i,s,a,u,c,h,m){Sl(e,m++,t),++i[256];for(var y=$0(i,15),_=y.t,w=y.l,E=$0(s,15),C=E.t,k=E.l,I=kb(_),j=I.c,q=I.n,ee=kb(C),ie=ee.c,de=ee.n,z=new to(19),N=0;N<j.length;++N)++z[j[N]&31];for(var N=0;N<ie.length;++N)++z[ie[N]&31];for(var U=$0(z,7),G=U.t,R=U.l,O=19;O>4&&!G[ry[O-1]];--O);var F=h+5<<3,ue=Lf(i,Qu)+Lf(s,wd)+a,Le=Lf(i,_)+Lf(s,C)+a+14+3*O+Lf(z,G)+2*z[16]+3*z[17]+7*z[18];if(c>=0&&F<=ue&&F<=Le)return pA(e,m,n.subarray(c,c+h));var Ce,xe,ne,we;if(Sl(e,m,1+(Le<ue)),m+=2,Le<ue){Ce=$a(_,w,0),xe=_,ne=$a(C,k,0),we=C;var ge=$a(G,R,0);Sl(e,m,q-257),Sl(e,m+5,de-1),Sl(e,m+10,O-4),m+=14;for(var N=0;N<O;++N)Sl(e,m+3*N,G[ry[N]]);m+=3*O;for(var oe=[j,ie],M=0;M<2;++M)for(var X=oe[M],N=0;N<X.length;++N){var Z=X[N]&31;Sl(e,m,ge[Z]),m+=G[Z],Z>15&&(Sl(e,m,X[N]>>5&127),m+=X[N]>>12)}}else Ce=l9,xe=Qu,ne=c9,we=wd;for(var N=0;N<u;++N){var se=r[N];if(se>255){var Z=se>>18&31;kf(e,m,Ce[Z+257]),m+=xe[Z+257],Z>7&&(Sl(e,m,se>>23&31),m+=wg[Z]);var ce=se&31;kf(e,m,ne[ce]),m+=we[ce],ce>3&&(kf(e,m,se>>5&8191),m+=_g[ce])}else kf(e,m,Ce[se]),m+=xe[se]}return kf(e,m,Ce[256]),m+xe[256]},p9=new Jv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mA=new Gi(0),m9=function(n,e,t,r,i,s){var a=s.z||n.length,u=new Gi(r+a+5*(1+Math.ceil(a/7e3))+i),c=u.subarray(r,u.length-i),h=s.l,m=(s.r||0)&7;if(e){m&&(c[0]=s.r>>3);for(var y=p9[e-1],_=y>>13,w=y&8191,E=(1<<t)-1,C=s.p||new to(32768),k=s.h||new to(E+1),I=Math.ceil(t/3),j=2*I,q=function(Ct){return(n[Ct]^n[Ct+1]<<I^n[Ct+2]<<j)&E},ee=new Jv(25e3),ie=new to(288),de=new to(32),z=0,N=0,U=s.i||0,G=0,R=s.w||0,O=0;U+2<a;++U){var F=q(U),ue=U&32767,Le=k[F];if(C[ue]=Le,k[F]=ue,R<=U){var Ce=a-U;if((z>7e3||G>24576)&&(Ce>423||!h)){m=Lb(n,c,0,ee,ie,de,N,G,O,U-O,m),G=z=N=0,O=U;for(var xe=0;xe<286;++xe)ie[xe]=0;for(var xe=0;xe<30;++xe)de[xe]=0}var ne=2,we=0,ge=w,oe=ue-Le&32767;if(Ce>2&&F==q(U-oe))for(var M=Math.min(_,Ce)-1,X=Math.min(32767,U),Z=Math.min(258,Ce);oe<=X&&--ge&&ue!=Le;){if(n[U+ne]==n[U+ne-oe]){for(var se=0;se<Z&&n[U+se]==n[U+se-oe];++se);if(se>ne){if(ne=se,we=oe,se>M)break;for(var ce=Math.min(oe,se-2),_e=0,xe=0;xe<ce;++xe){var Ae=U-oe+xe&32767,Ee=C[Ae],Ke=Ae-Ee&32767;Ke>_e&&(_e=Ke,Le=Ae)}}}ue=Le,Le=C[ue],oe+=ue-Le&32767}if(we){ee[G++]=268435456|iy[ne]<<18|Nb[we];var Ye=iy[ne]&31,ut=Nb[we]&31;N+=wg[Ye]+_g[ut],++ie[257+Ye],++de[ut],R=U+ne,++z}else ee[G++]=n[U],++ie[n[U]]}}for(U=Math.max(U,R);U<a;++U)ee[G++]=n[U],++ie[n[U]];m=Lb(n,c,h,ee,ie,de,N,G,O,U-O,m),h||(s.r=m&7|c[m/8|0]<<3,m-=7,s.h=k,s.p=C,s.i=U,s.w=R)}else{for(var U=s.w||0;U<a+h;U+=65535){var st=U+65535;st>=a&&(c[m/8|0]=h,st=a),m=pA(c,m+1,n.subarray(U,st))}s.i=a}return dA(u,0,r+Zv(m)+i)},gA=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var u=Math.min(a+2655,s);a<u;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},g9=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Gi(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return m9(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},yA=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},y9=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=gA();i.p(e.dictionary),yA(n,2,i.d())}},v9=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ca(6,"invalid zlib data"),(n[1]>>5&1)==1&&ca(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function ay(n,e){e||(e={});var t=gA();t.p(n);var r=g9(n,e,e.dictionary?6:2,4);return y9(r,e),yA(r,r.length-4,t.d()),r}function w9(n,e){return d9(n.subarray(v9(n),-4),{i:2},e,e)}var _9=typeof TextDecoder<"u"&&new TextDecoder,b9=0;try{_9.decode(mA,{stream:!0}),b9=1}catch{}var Ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function W0(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var Hn={log:W0,warn:function(n){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):W0.call(null,arguments))},error:function(n){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):W0(n))}};function G0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Tc(r.response,e,t)},r.onerror=function(){Hn.error("could not download file")},r.send()}function Rb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Rp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Jf,ly,Tc=Ht.saveAs||((typeof window>"u"?"undefined":Fn(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ht.URL||Ht.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Rb(i.href)?G0(n,e,t):Rp(i,i.target="_blank"):Rp(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Rp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Rb(n))G0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Rp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Fn(s)!=="object"&&(Hn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return G0(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Ht.HTMLElement)||Ht.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Fn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var m=u.result;m=a?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},u.readAsDataURL(n)}else{var c=Ht.URL||Ht.webkitURL,h=c.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vA(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+u+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function K0(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Bi(t,r,i,s,e[0],7,-680876936),s=Bi(s,t,r,i,e[1],12,-389564586),i=Bi(i,s,t,r,e[2],17,606105819),r=Bi(r,i,s,t,e[3],22,-1044525330),t=Bi(t,r,i,s,e[4],7,-176418897),s=Bi(s,t,r,i,e[5],12,1200080426),i=Bi(i,s,t,r,e[6],17,-1473231341),r=Bi(r,i,s,t,e[7],22,-45705983),t=Bi(t,r,i,s,e[8],7,1770035416),s=Bi(s,t,r,i,e[9],12,-1958414417),i=Bi(i,s,t,r,e[10],17,-42063),r=Bi(r,i,s,t,e[11],22,-1990404162),t=Bi(t,r,i,s,e[12],7,1804603682),s=Bi(s,t,r,i,e[13],12,-40341101),i=Bi(i,s,t,r,e[14],17,-1502002290),t=Ui(t,r=Bi(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ui(s,t,r,i,e[6],9,-1069501632),i=Ui(i,s,t,r,e[11],14,643717713),r=Ui(r,i,s,t,e[0],20,-373897302),t=Ui(t,r,i,s,e[5],5,-701558691),s=Ui(s,t,r,i,e[10],9,38016083),i=Ui(i,s,t,r,e[15],14,-660478335),r=Ui(r,i,s,t,e[4],20,-405537848),t=Ui(t,r,i,s,e[9],5,568446438),s=Ui(s,t,r,i,e[14],9,-1019803690),i=Ui(i,s,t,r,e[3],14,-187363961),r=Ui(r,i,s,t,e[8],20,1163531501),t=Ui(t,r,i,s,e[13],5,-1444681467),s=Ui(s,t,r,i,e[2],9,-51403784),i=Ui(i,s,t,r,e[7],14,1735328473),t=zi(t,r=Ui(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=zi(s,t,r,i,e[8],11,-2022574463),i=zi(i,s,t,r,e[11],16,1839030562),r=zi(r,i,s,t,e[14],23,-35309556),t=zi(t,r,i,s,e[1],4,-1530992060),s=zi(s,t,r,i,e[4],11,1272893353),i=zi(i,s,t,r,e[7],16,-155497632),r=zi(r,i,s,t,e[10],23,-1094730640),t=zi(t,r,i,s,e[13],4,681279174),s=zi(s,t,r,i,e[0],11,-358537222),i=zi(i,s,t,r,e[3],16,-722521979),r=zi(r,i,s,t,e[6],23,76029189),t=zi(t,r,i,s,e[9],4,-640364487),s=zi(s,t,r,i,e[12],11,-421815835),i=zi(i,s,t,r,e[15],16,530742520),t=qi(t,r=zi(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=qi(s,t,r,i,e[7],10,1126891415),i=qi(i,s,t,r,e[14],15,-1416354905),r=qi(r,i,s,t,e[5],21,-57434055),t=qi(t,r,i,s,e[12],6,1700485571),s=qi(s,t,r,i,e[3],10,-1894986606),i=qi(i,s,t,r,e[10],15,-1051523),r=qi(r,i,s,t,e[1],21,-2054922799),t=qi(t,r,i,s,e[8],6,1873313359),s=qi(s,t,r,i,e[15],10,-30611744),i=qi(i,s,t,r,e[6],15,-1560198380),r=qi(r,i,s,t,e[13],21,1309151649),t=qi(t,r,i,s,e[4],6,-145523070),s=qi(s,t,r,i,e[11],10,-1120210379),i=qi(i,s,t,r,e[2],15,718787259),r=qi(r,i,s,t,e[9],21,-343485551),n[0]=Ru(t,n[0]),n[1]=Ru(r,n[1]),n[2]=Ru(i,n[2]),n[3]=Ru(s,n[3])}function bg(n,e,t,r,i,s){return e=Ru(Ru(e,n),Ru(r,s)),Ru(e<<i|e>>>32-i,t)}function Bi(n,e,t,r,i,s,a){return bg(e&t|~e&r,n,e,i,s,a)}function Ui(n,e,t,r,i,s,a){return bg(e&r|t&~r,n,e,i,s,a)}function zi(n,e,t,r,i,s,a){return bg(e^t^r,n,e,i,s,a)}function qi(n,e,t,r,i,s,a){return bg(t^(e|~r),n,e,i,s,a)}function wA(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)K0(r,S9(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(K0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,K0(r,i),r}function S9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Jf=Ht.atob.bind(Ht),ly=Ht.btoa.bind(Ht);var Db="0123456789abcdef".split("");function x9(n){for(var e="",t=0;t<4;t++)e+=Db[n>>8*t+4&15]+Db[n>>8*t&15];return e}function T9(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function uy(n){return wA(n).map(T9).join("")}var A9=function(n){for(var e=0;e<n.length;e++)n[e]=x9(n[e]);return n.join("")}(wA("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ru(n,e){if(A9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cy(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),u=[],c=0;c<256;c++)u[c]=c;var h=0;for(c=0;c<256;c++){var m=u[c];h=(h+m+a.charCodeAt(c))%256,u[c]=u[h],u[h]=m}t=n,r=u}else u=r;var y=e.length,_=0,w=0,E="";for(c=0;c<y;c++)w=(w+(m=u[_=(_+1)%256]))%256,u[_]=u[w],u[w]=m,a=u[(u[_]+u[w])%256],E+=String.fromCharCode(e.charCodeAt(c)^a);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ob={print:4,modify:8,copy:16,"annot-forms":32};function bh(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(Ob.perm!==void 0)throw new Error("Invalid permission: "+u);i+=Ob[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=uy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=cy(this.encryptionKey,this.padding)}function Sh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function Mb(n){if(Fn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(u){Ht.console&&Hn.error("jsPDF PubSub Error",u.message,u)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Nm(n){if(!(this instanceof Nm))return new Nm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function _A(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ac(n,e,t,r,i){if(!(this instanceof Ac))return new Ac(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,_A.call(this,r,i)}function Nh(n,e,t,r,i){if(!(this instanceof Nh))return new Nh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,_A.call(this,r,i)}function zt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],u=1,c=16,h="S",m=null;Fn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(m=n.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,_={},w={internal:{},__private__:{}};w.__private__.PubSub=Mb;var E="1.3",C=w.__private__.getPdfVersion=function(){return E};w.__private__.setPdfVersion=function(b){E=b};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return k};var I=w.__private__.getPageFormat=function(b){return k[b]};i=i||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},q=j.COMPAT;function ee(){this.saveGraphicsState(),le(new vt(at,0,0,-at,0,ti()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),h="n",q=j.ADVANCED}function ie(){this.restoreGraphicsState(),h="S",q=j.COMPAT}var de=w.__private__.combineFontStyleAndFontWeight=function(b,B){if(b=="bold"&&B=="normal"||b=="bold"&&B==400||b=="normal"&&B=="italic"||b=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(b=B==400||B==="normal"?b==="italic"?"italic":"normal":B!=700&&B!=="bold"||b!=="normal"?(B==700?"bold":B)+""+b:"bold"),b};w.advancedAPI=function(b){var B=q===j.COMPAT;return B&&ee.call(this),typeof b!="function"||(b(this),B&&ie.call(this)),this},w.compatAPI=function(b){var B=q===j.ADVANCED;return B&&ie.call(this),typeof b!="function"||(b(this),B&&ee.call(this)),this},w.isAdvancedAPI=function(){return q===j.ADVANCED};var z,N=function(b){if(q!==j.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=w.roundToPrecision=w.__private__.roundToPrecision=function(b,B){var te=e||B;if(isNaN(b)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(te).replace(/0+$/,"")};z=w.hpf=w.__private__.hpf=typeof c=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,c)}:c==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,16)};var G=w.f2=w.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return U(b,2)},R=w.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return U(b,3)},O=w.scale=w.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return q===j.COMPAT?b*at:q===j.ADVANCED?b:void 0},F=function(b){return q===j.COMPAT?ti()-b:q===j.ADVANCED?b:void 0},ue=function(b){return O(F(b))};w.__private__.setPrecision=w.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var Le,Ce="00000000000000000000000000000000",xe=w.__private__.getFileId=function(){return Ce},ne=w.__private__.setFileId=function(b){return Ce=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():Ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(pn=new bh(m.userPermissions,m.userPassword,m.ownerPassword,Ce)),Ce};w.setFileId=function(b){return ne(b),this},w.getFileId=function(){return xe()};var we=w.__private__.convertDateToPDFDate=function(b){var B=b.getTimezoneOffset(),te=B<0?"+":"-",he=Math.floor(Math.abs(B/60)),Te=Math.abs(B%60),Fe=[te,Z(he),"'",Z(Te),"'"].join("");return["D:",b.getFullYear(),Z(b.getMonth()+1),Z(b.getDate()),Z(b.getHours()),Z(b.getMinutes()),Z(b.getSeconds()),Fe].join("")},ge=w.__private__.convertPDFDateToDate=function(b){var B=parseInt(b.substr(2,4),10),te=parseInt(b.substr(6,2),10)-1,he=parseInt(b.substr(8,2),10),Te=parseInt(b.substr(10,2),10),Fe=parseInt(b.substr(12,2),10),Xe=parseInt(b.substr(14,2),10);return new Date(B,te,he,Te,Fe,Xe,0)},oe=w.__private__.setCreationDate=function(b){var B;if(b===void 0&&(b=new Date),b instanceof Date)B=we(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=b}return Le=B},M=w.__private__.getCreationDate=function(b){var B=Le;return b==="jsDate"&&(B=ge(Le)),B};w.setCreationDate=function(b){return oe(b),this},w.getCreationDate=function(b){return M(b)};var X,Z=w.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},se=w.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},ce=0,_e=[],Ae=[],Ee=0,Ke=[],Ye=[],ut=!1,st=Ae,Ct=function(){ce=0,Ee=0,Ae=[],_e=[],Ke=[],Ms=Un(),Xr=Un()};w.__private__.setCustomOutputDestination=function(b){ut=!0,st=b};var je=function(b){ut||(st=b)};w.__private__.resetCustomOutputDestination=function(){ut=!1,st=Ae};var le=w.__private__.out=function(b){return b=b.toString(),Ee+=b.length+1,st.push(b),st},Mt=w.__private__.write=function(b){return le(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},gt=w.__private__.getArrayBuffer=function(b){for(var B=b.length,te=new ArrayBuffer(B),he=new Uint8Array(te);B--;)he[B]=b.charCodeAt(B);return te},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Je};var nt=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(b){return nt=q===j.ADVANCED?b/at:b,this};var lt,ct=w.__private__.getFontSize=w.getFontSize=function(){return q===j.COMPAT?nt:nt*at},St=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(b){return St=b,this},w.__private__.getR2L=w.getR2L=function(){return St};var Ot,De=w.__private__.setZoomMode=function(b){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))lt=b;else if(isNaN(b)){if(B.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');lt=b}else lt=parseInt(b,10)};w.__private__.getZoomMode=function(){return lt};var qe,Qe=w.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');Ot=b};w.__private__.getPageMode=function(){return Ot};var mt=w.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');qe=b};w.__private__.getLayoutMode=function(){return qe},w.__private__.setDisplayMode=w.setDisplayMode=function(b,B,te){return De(b),mt(B),Qe(te),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(b){if(Object.keys(pt).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[b]},w.__private__.getDocumentProperties=function(){return pt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(b){for(var B in pt)pt.hasOwnProperty(B)&&b[B]&&(pt[B]=b[B]);return this},w.__private__.setDocumentProperty=function(b,B){if(Object.keys(pt).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[b]=B};var kt,at,$n,rn,Mr,dn={},Ve={},it=[],$e={},Pt={},wt={},Ut={},vn=null,sn=0,xt=[],Zt=new Mb(w),xr=n.hotfixes||[],Vn={},Kn={},Yr=[],vt=function b(B,te,he,Te,Fe,Xe){if(!(this instanceof b))return new b(B,te,he,Te,Fe,Xe);isNaN(B)&&(B=1),isNaN(te)&&(te=0),isNaN(he)&&(he=0),isNaN(Te)&&(Te=1),isNaN(Fe)&&(Fe=0),isNaN(Xe)&&(Xe=0),this._matrix=[B,te,he,Te,Fe,Xe]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(b)},vt.prototype.multiply=function(b){var B=b.sx*this.sx+b.shy*this.shx,te=b.sx*this.shy+b.shy*this.sy,he=b.shx*this.sx+b.sy*this.shx,Te=b.shx*this.shy+b.sy*this.sy,Fe=b.tx*this.sx+b.ty*this.shx+this.tx,Xe=b.tx*this.shy+b.ty*this.sy+this.ty;return new vt(B,te,he,Te,Fe,Xe)},vt.prototype.decompose=function(){var b=this.sx,B=this.shy,te=this.shx,he=this.sy,Te=this.tx,Fe=this.ty,Xe=Math.sqrt(b*b+B*B),ht=(b/=Xe)*te+(B/=Xe)*he;te-=b*ht,he-=B*ht;var p=Math.sqrt(te*te+he*he);return ht/=p,b*(he/=p)<B*(te/=p)&&(b=-b,B=-B,ht=-ht,Xe=-Xe),{scale:new vt(Xe,0,0,p,0,0),translate:new vt(1,0,0,1,Te,Fe),rotate:new vt(b,B,-B,b,0,0),skew:new vt(1,0,ht,1,0,0)}},vt.prototype.toString=function(b){return this.join(" ")},vt.prototype.inversed=function(){var b=this.sx,B=this.shy,te=this.shx,he=this.sy,Te=this.tx,Fe=this.ty,Xe=1/(b*he-B*te),ht=he*Xe,p=-B*Xe,T=-te*Xe,L=b*Xe;return new vt(ht,p,T,L,-ht*Te-T*Fe,-p*Te-L*Fe)},vt.prototype.applyToPoint=function(b){var B=b.x*this.sx+b.y*this.shx+this.tx,te=b.x*this.shy+b.y*this.sy+this.ty;return new ns(B,te)},vt.prototype.applyToRectangle=function(b){var B=this.applyToPoint(b),te=this.applyToPoint(new ns(b.x+b.w,b.y+b.h));return new $s(B.x,B.y,te.x-B.x,te.y-B.y)},vt.prototype.clone=function(){var b=this.sx,B=this.shy,te=this.shx,he=this.sy,Te=this.tx,Fe=this.ty;return new vt(b,B,te,he,Te,Fe)},w.Matrix=vt;var Qr=w.matrixMult=function(b,B){return B.multiply(b)},dr=new vt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=dr;var pr=function(b,B){if(!Pt[b]){var te=(B instanceof Ac?"Sh":"P")+(Object.keys($e).length+1).toString(10);B.id=te,Pt[b]=te,$e[te]=B,Zt.publish("addPattern",B)}};w.ShadingPattern=Ac,w.TilingPattern=Nh,w.addShadingPattern=function(b,B){return N("addShadingPattern()"),pr(b,B),this},w.beginTilingPattern=function(b){N("beginTilingPattern()"),xa(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},w.endTilingPattern=function(b,B){N("endTilingPattern()"),B.stream=Ye[X].join(`
`),pr(b,B),Zt.publish("endTilingPattern",B),Yr.pop().restore()};var Bn=w.__private__.newObject=function(){var b=Un();return Yn(b,!0),b},Un=w.__private__.newObjectDeferred=function(){return ce++,_e[ce]=function(){return Ee},ce},Yn=function(b,B){return B=typeof B=="boolean"&&B,_e[b]=Ee,B&&le(b+" 0 obj"),b},ro=w.__private__.newAdditionalObject=function(){var b={objId:Un(),content:""};return Ke.push(b),b},Ms=Un(),Xr=Un(),Ii=w.__private__.decodeColorString=function(b){var B=b.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var te=parseFloat(B[0]);B=[te,te,te,"r"]}for(var he="#",Te=0;Te<3;Te++)he+=("0"+Math.floor(255*parseFloat(B[Te])).toString(16)).slice(-2);return he},ar=w.__private__.encodeColorString=function(b){var B;typeof b=="string"&&(b={ch1:b});var te=b.ch1,he=b.ch2,Te=b.ch3,Fe=b.ch4,Xe=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var ht=new vA(te);if(ht.ok)te=ht.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var p=parseInt(te.substr(1),16);te=p>>16&255,he=p>>8&255,Te=255&p}if(he===void 0||Fe===void 0&&te===he&&he===Te)if(typeof te=="string")B=te+" "+Xe[0];else switch(b.precision){case 2:B=G(te/255)+" "+Xe[0];break;case 3:default:B=R(te/255)+" "+Xe[0]}else if(Fe===void 0||Fn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return B=["1.","1.","1.",Xe[1]].join(" ");if(typeof te=="string")B=[te,he,Te,Xe[1]].join(" ");else switch(b.precision){case 2:B=[G(te/255),G(he/255),G(Te/255),Xe[1]].join(" ");break;default:case 3:B=[R(te/255),R(he/255),R(Te/255),Xe[1]].join(" ")}}else if(typeof te=="string")B=[te,he,Te,Fe,Xe[2]].join(" ");else switch(b.precision){case 2:B=[G(te),G(he),G(Te),G(Fe),Xe[2]].join(" ");break;case 3:default:B=[R(te),R(he),R(Te),R(Fe),Xe[2]].join(" ")}return B},Jr=w.__private__.getFilters=function(){return a},nr=w.__private__.putStream=function(b){var B=(b=b||{}).data||"",te=b.filters||Jr(),he=b.alreadyAppliedFilters||[],Te=b.addLength1||!1,Fe=B.length,Xe=b.objectId,ht=function(Qt){return Qt};if(m!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(ht=pn.encryptor(Xe,0));var p={};te===!0&&(te=["FlateEncode"]);var T=b.additionalKeyValues||[],L=(p=zt.API.processDataByFilters!==void 0?zt.API.processDataByFilters(B,te):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(p.data.length!==0&&(T.push({key:"Length",value:p.data.length}),Te===!0&&T.push({key:"Length1",value:Fe})),L.length!=0)if(L.split("/").length-1==1)T.push({key:"Filter",value:L});else{T.push({key:"Filter",value:"["+L+"]"});for(var Y=0;Y<T.length;Y+=1)if(T[Y].key==="DecodeParms"){for(var be=[],ke=0;ke<p.reverseChain.split("/").length-1;ke+=1)be.push("null");be.push(T[Y].value),T[Y].value="["+be.join(" ")+"]"}}le("<<");for(var Ze=0;Ze<T.length;Ze++)le("/"+T[Ze].key+" "+T[Ze].value);le(">>"),p.data.length!==0&&(le("stream"),le(ht(p.data)),le("endstream"))},Xi=w.__private__.putPage=function(b){var B=b.number,te=b.data,he=b.objId,Te=b.contentsObjId;Yn(he,!0),le("<</Type /Page"),le("/Parent "+b.rootDictionaryObjId+" 0 R"),le("/Resources "+b.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(z(b.mediaBox.bottomLeftX))+" "+parseFloat(z(b.mediaBox.bottomLeftY))+" "+z(b.mediaBox.topRightX)+" "+z(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&le("/CropBox ["+z(b.cropBox.bottomLeftX)+" "+z(b.cropBox.bottomLeftY)+" "+z(b.cropBox.topRightX)+" "+z(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&le("/BleedBox ["+z(b.bleedBox.bottomLeftX)+" "+z(b.bleedBox.bottomLeftY)+" "+z(b.bleedBox.topRightX)+" "+z(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&le("/TrimBox ["+z(b.trimBox.bottomLeftX)+" "+z(b.trimBox.bottomLeftY)+" "+z(b.trimBox.topRightX)+" "+z(b.trimBox.topRightY)+"]"),b.artBox!==null&&le("/ArtBox ["+z(b.artBox.bottomLeftX)+" "+z(b.artBox.bottomLeftY)+" "+z(b.artBox.topRightX)+" "+z(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&le("/UserUnit "+b.userUnit),Zt.publish("putPage",{objId:he,pageContext:xt[B],pageNumber:B,page:te}),le("/Contents "+Te+" 0 R"),le(">>"),le("endobj");var Fe=te.join(`
`);return q===j.ADVANCED&&(Fe+=`
Q`),Yn(Te,!0),nr({data:Fe,filters:Jr(),objectId:Te}),le("endobj"),he},js=w.__private__.putPages=function(){var b,B,te=[];for(b=1;b<=sn;b++)xt[b].objId=Un(),xt[b].contentsObjId=Un();for(b=1;b<=sn;b++)te.push(Xi({number:b,data:Ye[b],objId:xt[b].objId,contentsObjId:xt[b].contentsObjId,mediaBox:xt[b].mediaBox,cropBox:xt[b].cropBox,bleedBox:xt[b].bleedBox,trimBox:xt[b].trimBox,artBox:xt[b].artBox,userUnit:xt[b].userUnit,rootDictionaryObjId:Ms,resourceDictionaryObjId:Xr}));Yn(Ms,!0),le("<</Type /Pages");var he="/Kids [";for(B=0;B<sn;B++)he+=te[B]+" 0 R ";le(he+"]"),le("/Count "+sn),le(">>"),le("endobj"),Zt.publish("postPutPages")},Fs=function(b){Zt.publish("putFont",{font:b,out:le,newObject:Bn,putStream:nr}),b.isAlreadyPutted!==!0&&(b.objectNumber=Bn(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Sh(b.postScriptName)),le("/Subtype /Type1"),typeof b.encoding=="string"&&le("/Encoding /"+b.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Vs=function(){for(var b in dn)dn.hasOwnProperty(b)&&(y===!1||y===!0&&_.hasOwnProperty(b))&&Fs(dn[b])},io=function(b){b.objectNumber=Bn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[z(b.x),z(b.y),z(b.x+b.width),z(b.y+b.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var te=b.pages[1].join(`
`);nr({data:te,additionalKeyValues:B,objectId:b.objectNumber}),le("endobj")},Do=function(){for(var b in Vn)Vn.hasOwnProperty(b)&&io(Vn[b])},Ul=function(b,B){var te,he=[],Te=1/(B-1);for(te=0;te<1;te+=Te)he.push(te);if(he.push(1),b[0].offset!=0){var Fe={offset:0,color:b[0].color};b.unshift(Fe)}if(b[b.length-1].offset!=1){var Xe={offset:1,color:b[b.length-1].color};b.push(Xe)}for(var ht="",p=0,T=0;T<he.length;T++){for(te=he[T];te>b[p+1].offset;)p++;var L=b[p].offset,Y=(te-L)/(b[p+1].offset-L),be=b[p].color,ke=b[p+1].color;ht+=se(Math.round((1-Y)*be[0]+Y*ke[0]).toString(16))+se(Math.round((1-Y)*be[1]+Y*ke[1]).toString(16))+se(Math.round((1-Y)*be[2]+Y*ke[2]).toString(16))}return ht.trim()},Ln=function(b,B){B||(B=21);var te=Bn(),he=Ul(b.colors,B),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+B+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nr({data:he,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),le("endobj"),b.objectNumber=Bn(),le("<< /ShadingType "+b.type),le("/ColorSpace /DeviceRGB");var Fe="/Coords ["+z(parseFloat(b.coords[0]))+" "+z(parseFloat(b.coords[1]))+" ";b.type===2?Fe+=z(parseFloat(b.coords[2]))+" "+z(parseFloat(b.coords[3])):Fe+=z(parseFloat(b.coords[2]))+" "+z(parseFloat(b.coords[3]))+" "+z(parseFloat(b.coords[4]))+" "+z(parseFloat(b.coords[5])),le(Fe+="]"),b.matrix&&le("/Matrix ["+b.matrix.toString()+"]"),le("/Function "+te+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},zl=function(b,B){var te=Un(),he=Bn();B.push({resourcesOid:te,objectOid:he}),b.objectNumber=he;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+b.boundingBox.map(z).join(" ")+"]"}),Te.push({key:"XStep",value:z(b.xStep)}),Te.push({key:"YStep",value:z(b.yStep)}),Te.push({key:"Resources",value:te+" 0 R"}),b.matrix&&Te.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),nr({data:b.stream,additionalKeyValues:Te,objectId:b.objectNumber}),le("endobj")},ds=function(b){var B;for(B in $e)$e.hasOwnProperty(B)&&($e[B]instanceof Ac?Ln($e[B]):$e[B]instanceof Nh&&zl($e[B],b))},Bs=function(b){for(var B in b.objectNumber=Bn(),le("<<"),b)switch(B){case"opacity":le("/ca "+G(b[B]));break;case"stroke-opacity":le("/CA "+G(b[B]))}le(">>"),le("endobj")},Pi=function(){var b;for(b in wt)wt.hasOwnProperty(b)&&Bs(wt[b])},Oo=function(){for(var b in le("/XObject <<"),Vn)Vn.hasOwnProperty(b)&&Vn[b].objectNumber>=0&&le("/"+b+" "+Vn[b].objectNumber+" 0 R");Zt.publish("putXobjectDict"),le(">>")},ql=function(){pn.oid=Bn(),le("<<"),le("/Filter /Standard"),le("/V "+pn.v),le("/R "+pn.r),le("/U <"+pn.toHexString(pn.U)+">"),le("/O <"+pn.toHexString(pn.O)+">"),le("/P "+pn.P),le(">>"),le("endobj")},so=function(){for(var b in le("/Font <<"),dn)dn.hasOwnProperty(b)&&(y===!1||y===!0&&_.hasOwnProperty(b))&&le("/"+b+" "+dn[b].objectNumber+" 0 R");le(">>")},hi=function(){if(Object.keys($e).length>0){for(var b in le("/Shading <<"),$e)$e.hasOwnProperty(b)&&$e[b]instanceof Ac&&$e[b].objectNumber>=0&&le("/"+b+" "+$e[b].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),le(">>")}},Mo=function(b){if(Object.keys($e).length>0){for(var B in le("/Pattern <<"),$e)$e.hasOwnProperty(B)&&$e[B]instanceof w.TilingPattern&&$e[B].objectNumber>=0&&$e[B].objectNumber<b&&le("/"+B+" "+$e[B].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),le(">>")}},jr=function(){if(Object.keys(wt).length>0){var b;for(b in le("/ExtGState <<"),wt)wt.hasOwnProperty(b)&&wt[b].objectNumber>=0&&le("/"+b+" "+wt[b].objectNumber+" 0 R");Zt.publish("putGStateDict"),le(">>")}},zn=function(b){Yn(b.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),so(),hi(),Mo(b.objectOid),jr(),Oo(),le(">>"),le("endobj")},Ja=function(){var b=[];Vs(),Pi(),Do(),ds(b),Zt.publish("putResources"),b.forEach(zn),zn({resourcesOid:Xr,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources")},Za=function(){Zt.publish("putAdditionalObjects");for(var b=0;b<Ke.length;b++){var B=Ke[b];Yn(B.objId,!0),le(B.content),le("endobj")}Zt.publish("postPutAdditionalObjects")},jo=function(b){Ve[b.fontName]=Ve[b.fontName]||{},Ve[b.fontName][b.fontStyle]=b.id},oo=function(b,B,te,he,Te){var Fe={id:"F"+(Object.keys(dn).length+1).toString(10),postScriptName:b,fontName:B,fontStyle:te,encoding:he,isStandardFont:Te||!1,metadata:{}};return Zt.publish("addFont",{font:Fe,instance:this}),dn[Fe.id]=Fe,jo(Fe),Fe.id},ao=function(b){for(var B=0,te=Je.length;B<te;B++){var he=oo.call(this,b[B][0],b[B][1],b[B][2],Je[B][3],!0);y===!1&&(_[he]=!0);var Te=b[B][0].split("-");jo({id:he,fontName:Te[0],fontStyle:Te[1]||""})}Zt.publish("addFonts",{fonts:dn,dictionary:Ve})},Fr=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(he){var B=he.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var te="Error in function "+B.split(`
`)[0].split("<")[0]+": "+he.message;if(!Ht.console)throw new Error(te);Ht.console.error(te,he),Ht.alert&&alert(te)}},b.foo.bar=b,b.foo},va=function(b,B){var te,he,Te,Fe,Xe,ht,p,T,L;if(Te=(B=B||{}).sourceEncoding||"Unicode",Xe=B.outputEncoding,(B.autoencode||Xe)&&dn[kt].metadata&&dn[kt].metadata[Te]&&dn[kt].metadata[Te].encoding&&(Fe=dn[kt].metadata[Te].encoding,!Xe&&dn[kt].encoding&&(Xe=dn[kt].encoding),!Xe&&Fe.codePages&&(Xe=Fe.codePages[0]),typeof Xe=="string"&&(Xe=Fe[Xe]),Xe)){for(p=!1,ht=[],te=0,he=b.length;te<he;te++)(T=Xe[b.charCodeAt(te)])?ht.push(String.fromCharCode(T)):ht.push(b[te]),ht[te].charCodeAt(0)>>8&&(p=!0);b=ht.join("")}for(te=b.length;p===void 0&&te!==0;)b.charCodeAt(te-1)>>8&&(p=!0),te--;if(!p)return b;for(ht=B.noBOM?[]:[254,255],te=0,he=b.length;te<he;te++){if((L=(T=b.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(L),ht.push(T-(L<<8))}return String.fromCharCode.apply(void 0,ht)},rr=w.__private__.pdfEscape=w.pdfEscape=function(b,B){return va(b,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vr=w.__private__.beginPage=function(b){Ye[++sn]=[],xt[sn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},Us(sn),je(Ye[X])},lo=function(b,B){var te,he,Te;switch(t=B||t,typeof b=="string"&&(te=I(b.toLowerCase()),Array.isArray(te)&&(he=te[0],Te=te[1])),Array.isArray(b)&&(he=b[0]*at,Te=b[1]*at),isNaN(he)&&(he=i[0],Te=i[1]),(he>14400||Te>14400)&&(Hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),Te=Math.min(14400,Te)),i=[he,Te],t.substr(0,1)){case"l":Te>he&&(i=[Te,he]);break;case"p":he>Te&&(i=[Te,he])}Vr(i),po(tl),le(mr),rl!==0&&le(rl+" J"),mo!==0&&le(mo+" j"),Zt.publish("addPage",{pageNumber:sn})},uo=function(b){b>0&&b<=sn&&(Ye.splice(b,1),xt.splice(b,1),sn--,X>sn&&(X=sn),this.setPage(X))},Us=function(b){b>0&&b<=sn&&(X=b)},In=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ye.length-1},zs=function(b,B,te){var he,Te=void 0;return te=te||{},b=b!==void 0?b:dn[kt].fontName,B=B!==void 0?B:dn[kt].fontStyle,he=b.toLowerCase(),Ve[he]!==void 0&&Ve[he][B]!==void 0?Te=Ve[he][B]:Ve[b]!==void 0&&Ve[b][B]!==void 0?Te=Ve[b][B]:te.disableWarning===!1&&Hn.warn("Unable to look up font label for font '"+b+"', '"+B+"'. Refer to getFontList() for available fonts."),Te||te.noFallback||(Te=Ve.times[B])==null&&(Te=Ve.times.normal),Te},on=w.__private__.putInfo=function(){var b=Bn(),B=function(he){return he};for(var te in m!==null&&(B=pn.encryptor(b,0)),le("<<"),le("/Producer ("+rr(B("jsPDF "+zt.version))+")"),pt)pt.hasOwnProperty(te)&&pt[te]&&le("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+rr(B(pt[te]))+")");le("/CreationDate ("+rr(B(Le))+")"),le(">>"),le("endobj")},ps=w.__private__.putCatalog=function(b){var B=(b=b||{}).rootDictionaryObjId||Ms;switch(Bn(),le("<<"),le("/Type /Catalog"),le("/Pages "+B+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+lt;te.substr(te.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&le("/OpenAction [3 0 R /XYZ null null "+G(lt)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Ot&&le("/PageMode /"+Ot),Zt.publish("putCatalog"),le(">>"),le("endobj")},Hl=w.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(ce+1)),le("/Root "+ce+" 0 R"),le("/Info "+(ce-1)+" 0 R"),m!==null&&le("/Encrypt "+pn.oid+" 0 R"),le("/ID [ <"+Ce+"> <"+Ce+"> ]"),le(">>")},wa=w.__private__.putHeader=function(){le("%PDF-"+E),le("%")},$l=w.__private__.putXRef=function(){var b="0000000000";le("xref"),le("0 "+(ce+1)),le("0000000000 65535 f ");for(var B=1;B<=ce;B++)typeof _e[B]=="function"?le((b+_e[B]()).slice(-10)+" 00000 n "):_e[B]!==void 0?le((b+_e[B]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},ms=w.__private__.buildDocument=function(){Ct(),je(Ae),Zt.publish("buildDocument"),wa(),js(),Za(),Ja(),m!==null&&ql(),on(),ps();var b=Ee;return $l(),Hl(),le("startxref"),le(""+b),le("%%EOF"),je(Ye[X]),Ae.join(`
`)},Fo=w.__private__.getBlob=function(b){return new Blob([gt(b)],{type:"application/pdf"})},co=w.output=w.__private__.output=Fr(function(b,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",b){case void 0:return ms();case"save":w.save(B.filename);break;case"arraybuffer":return gt(ms());case"blob":return Fo(ms());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(Fo(ms()))||void 0;Hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",he=ms();try{te=ly(he)}catch{te=ly(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+B.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(Te=B.pdfObjectUrl,Fe="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",ht=Ht.open();return ht!==null&&ht.document.write(Xe),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var p='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',T=Ht.open();if(T!==null){T.document.write(p);var L=this;T.document.documentElement.querySelector("#pdfViewer").onload=function(){T.document.title=B.filename,T.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(L.output("bloburl"))}}return T}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Y='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',be=Ht.open();if(be!==null&&(be.document.write(Y),be.document.title=B.filename),be||typeof safari>"u")return be;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",B);default:return null}}),Ji=function(b){return Array.isArray(xr)===!0&&xr.indexOf(b)>-1};switch(r){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=Ji("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);at=r}var pn=null;oe(),ne();var Zi=function(b){return m!==null?pn.encryptor(b,0):function(B){return B}},Ci=w.__private__.getPageInfo=w.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[b].objId,pageNumber:b,pageContext:xt[b]}},jt=w.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in xt)if(xt[B].objId===b)break;return Ci(B)},Ni=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:xt[X].objId,pageNumber:X,pageContext:xt[X]}};w.addPage=function(){return lo.apply(this,arguments),this},w.setPage=function(){return Us.apply(this,arguments),je.call(this,Ye[X]),this},w.insertPage=function(b){return this.addPage(),this.movePage(X,b),this},w.movePage=function(b,B){var te,he;if(b>B){te=Ye[b],he=xt[b];for(var Te=b;Te>B;Te--)Ye[Te]=Ye[Te-1],xt[Te]=xt[Te-1];Ye[B]=te,xt[B]=he,this.setPage(B)}else if(b<B){te=Ye[b],he=xt[b];for(var Fe=b;Fe<B;Fe++)Ye[Fe]=Ye[Fe+1],xt[Fe]=xt[Fe+1];Ye[B]=te,xt[B]=he,this.setPage(B)}return this},w.deletePage=function(){return uo.apply(this,arguments),this},w.__private__.text=w.text=function(b,B,te,he,Te){var Fe,Xe,ht,p,T,L,Y,be,ke,Ze=(he=he||{}).scope||this;if(typeof b=="number"&&typeof B=="number"&&(typeof te=="string"||Array.isArray(te))){var Qt=te;te=B,B=b,b=Qt}if(arguments[3]instanceof vt?(N("The transform parameter of text() with a Matrix value"),ke=Te):(ht=arguments[4],p=arguments[5],Fn(Y=arguments[3])==="object"&&Y!==null||(typeof ht=="string"&&(p=ht,ht=null),typeof Y=="string"&&(p=Y,Y=null),typeof Y=="number"&&(ht=Y,Y=null),he={flags:Y,angle:ht,align:p})),isNaN(B)||isNaN(te)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Ze;var ln="",Xt=!1,Sn=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:bn,Pn=Ze.internal.scaleFactor;function pi(Mn){return Mn=Mn.split("	").join(Array(he.TabLen||9).join(" ")),rr(Mn,Y)}function zr(Mn){for(var Cn,or=Mn.concat(),gr=[],wo=or.length;wo--;)typeof(Cn=or.shift())=="string"?gr.push(Cn):Array.isArray(Mn)&&(Cn.length===1||Cn[1]===void 0&&Cn[2]===void 0)?gr.push(Cn[0]):gr.push([Cn[0],Cn[1],Cn[2]]);return gr}function Gs(Mn,Cn){var or;if(typeof Mn=="string")or=Cn(Mn)[0];else if(Array.isArray(Mn)){for(var gr,wo,ru=Mn.concat(),cl=[],ic=ru.length;ic--;)typeof(gr=ru.shift())=="string"?cl.push(Cn(gr)[0]):Array.isArray(gr)&&typeof gr[0]=="string"&&(wo=Cn(gr[0],gr[1],gr[2]),cl.push([wo[0],wo[1],wo[2]]));or=cl}return or}var Ks=!1,Kl=!0;if(typeof b=="string")Ks=!0;else if(Array.isArray(b)){var Yl=b.concat();Xe=[];for(var il,sr=Yl.length;sr--;)(typeof(il=Yl.shift())!="string"||Array.isArray(il)&&typeof il[0]!="string")&&(Kl=!1);Ks=Kl}if(Ks===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Ql=nt/Ze.internal.scaleFactor,Xl=Ql*(Sn-1);switch(he.baseline){case"bottom":te-=Xl;break;case"top":te+=Ql-Xl;break;case"hanging":te+=Ql-2*Xl;break;case"middle":te+=Ql/2-Xl}if((L=he.maxWidth||0)>0&&(typeof b=="string"?b=Ze.splitTextToSize(b,L):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(Mn,Cn){return Mn.concat(Ze.splitTextToSize(Cn,L))},[]))),Fe={text:b,x:B,y:te,options:he,mutex:{pdfEscape:rr,activeFontKey:kt,fonts:dn,activeFontSize:nt}},Zt.publish("preProcessText",Fe),b=Fe.text,ht=(he=Fe.options).angle,!(ke instanceof vt)&&ht&&typeof ht=="number"){ht*=Math.PI/180,he.rotationDirection===0&&(ht=-ht),q===j.ADVANCED&&(ht=-ht);var Jl=Math.cos(ht),Zl=Math.sin(ht);ke=new vt(Jl,Zl,-Zl,Jl,0,0)}else ht&&ht instanceof vt&&(ke=ht);q!==j.ADVANCED||ke||(ke=dr),(T=he.charSpace||Hs)!==void 0&&(ln+=z(O(T))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(be=he.horizontalScale)!==void 0&&(ln+=z(100*be)+` Tz
`),he.lang;var mi=-1,sl=he.renderingMode!==void 0?he.renderingMode:he.stroke,zo=Ze.internal.getCurrentPageInfo().pageContext;switch(sl){case 0:case!1:case"fill":mi=0;break;case 1:case!0:case"stroke":mi=1;break;case 2:case"fillThenStroke":mi=2;break;case 3:case"invisible":mi=3;break;case 4:case"fillAndAddForClipping":mi=4;break;case 5:case"strokeAndAddPathForClipping":mi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mi=6;break;case 7:case"addToPathForClipping":mi=7}var Kc=zo.usedRenderingMode!==void 0?zo.usedRenderingMode:-1;mi!==-1?ln+=mi+` Tr
`:Kc!==-1&&(ln+=`0 Tr
`),mi!==-1&&(zo.usedRenderingMode=mi),p=he.align||"left";var gi,eu=nt*Sn,nc=Ze.internal.pageSize.getWidth(),tu=dn[kt];T=he.charSpace||Hs,L=he.maxWidth||0,Y=Object.assign({autoencode:!0,noBOM:!0},he.flags);var yo=[],Ea=function(Mn){return Ze.getStringUnitWidth(Mn,{font:tu,charSpace:T,fontSize:nt,doKerning:!1})*nt/Pn};if(Object.prototype.toString.call(b)==="[object Array]"){var yi;Xe=zr(b),p!=="left"&&(gi=Xe.map(Ea));var ni,Ia=0;if(p==="right"){B-=gi[0],b=[],sr=Xe.length;for(var qo=0;qo<sr;qo++)qo===0?(ni=di(B),yi=ir(te)):(ni=O(Ia-gi[qo]),yi=-eu),b.push([Xe[qo],ni,yi]),Ia=gi[qo]}else if(p==="center"){B-=gi[0]/2,b=[],sr=Xe.length;for(var Ho=0;Ho<sr;Ho++)Ho===0?(ni=di(B),yi=ir(te)):(ni=O((Ia-gi[Ho])/2),yi=-eu),b.push([Xe[Ho],ni,yi]),Ia=gi[Ho]}else if(p==="left"){b=[],sr=Xe.length;for(var nu=0;nu<sr;nu++)b.push(Xe[nu])}else if(p==="justify"&&tu.encoding==="Identity-H"){b=[],sr=Xe.length,L=L!==0?L:nc;for(var $o=0,wn=0;wn<sr;wn++)if(yi=wn===0?ir(te):-eu,ni=wn===0?di(B):$o,wn<sr-1){var Wo=O((L-gi[wn])/(Xe[wn].split(" ").length-1)),ri=Xe[wn].split(" ");b.push([ri[0]+" ",ni,yi]),$o=0;for(var rs=1;rs<ri.length;rs++){var ol=(Ea(ri[rs-1]+" "+ri[rs])-Ea(ri[rs]))*Pn+Wo;rs==ri.length-1?b.push([ri[rs],ol,0]):b.push([ri[rs]+" ",ol,0]),$o-=ol}}else b.push([Xe[wn],ni,yi]);b.push(["",$o,0])}else{if(p!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],sr=Xe.length,L=L!==0?L:nc,wn=0;wn<sr;wn++)yi=wn===0?ir(te):-eu,ni=wn===0?di(B):0,wn<sr-1?yo.push(z(O((L-gi[wn])/(Xe[wn].split(" ").length-1)))):yo.push(0),b.push([Xe[wn],ni,yi])}}var rc=typeof he.R2L=="boolean"?he.R2L:St;rc===!0&&(b=Gs(b,function(Mn,Cn,or){return[Mn.split("").reverse().join(""),Cn,or]})),Fe={text:b,x:B,y:te,options:he,mutex:{pdfEscape:rr,activeFontKey:kt,fonts:dn,activeFontSize:nt}},Zt.publish("postProcessText",Fe),b=Fe.text,Xt=Fe.mutex.isHex||!1;var al=dn[kt].encoding;al!=="WinAnsiEncoding"&&al!=="StandardEncoding"||(b=Gs(b,function(Mn,Cn,or){return[pi(Mn),Cn,or]})),Xe=zr(b),b=[];for(var ll,ul,is,Go=0,vo=1,Ko=Array.isArray(Xe[0])?vo:Go,Yo="",Pa=function(Mn,Cn,or){var gr="";return or instanceof vt?(or=typeof he.angle=="number"?Qr(or,new vt(1,0,0,1,Mn,Cn)):Qr(new vt(1,0,0,1,Mn,Cn),or),q===j.ADVANCED&&(or=Qr(new vt(1,0,0,-1,0,0),or)),gr=or.join(" ")+` Tm
`):gr=z(Mn)+" "+z(Cn)+` Td
`,gr},qr=0;qr<Xe.length;qr++){switch(Yo="",Ko){case vo:is=(Xt?"<":"(")+Xe[qr][0]+(Xt?">":")"),ll=parseFloat(Xe[qr][1]),ul=parseFloat(Xe[qr][2]);break;case Go:is=(Xt?"<":"(")+Xe[qr]+(Xt?">":")"),ll=di(B),ul=ir(te)}yo!==void 0&&yo[qr]!==void 0&&(Yo=yo[qr]+` Tw
`),qr===0?b.push(Yo+Pa(ll,ul,ke)+is):Ko===Go?b.push(Yo+is):Ko===vo&&b.push(Yo+Pa(ll,ul,ke)+is)}b=Ko===Go?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var ki=`BT
/`;return ki+=kt+" "+nt+` Tf
`,ki+=z(nt*Sn)+` TL
`,ki+=Qn+`
`,ki+=ln,ki+=b,le(ki+="ET"),_[kt]=!0,Ze};var gs=w.__private__.clip=w.clip=function(b){return le(b==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return gs("evenodd")},w.__private__.discardPath=w.discardPath=function(){return le("n"),this};var ys=w.__private__.isValidStyle=function(b){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(B=!0),B};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(b){return ys(b)&&(h=b),this};var el=w.__private__.getStyle=w.getStyle=function(b){var B=h;switch(b){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=b}return B},Br=w.close=function(){return le("h"),this};w.stroke=function(){return le("S"),this},w.fill=function(b){return _a("f",b),this},w.fillEvenOdd=function(b){return _a("f*",b),this},w.fillStroke=function(b){return _a("B",b),this},w.fillStrokeEvenOdd=function(b){return _a("B*",b),this};var _a=function(b,B){Fn(B)==="object"?Vo(B,b):le(b)},ba=function(b){b===null||q===j.ADVANCED&&b===void 0||(b=el(b),le(b))};function qs(b,B,te,he,Te){var Fe=new Nh(B||this.boundingBox,te||this.xStep,he||this.yStep,this.gState,Te||this.matrix);Fe.stream=this.stream;var Xe=b+"$$"+this.cloneIndex+++"$$";return pr(Xe,Fe),Fe}var Vo=function(b,B){var te=Pt[b.key],he=$e[te];if(he instanceof Ac)le("q"),le(Wl(B)),he.gState&&w.setGState(he.gState),le(b.matrix.toString()+" cm"),le("/"+te+" sh"),le("Q");else if(he instanceof Nh){var Te=new vt(1,0,0,-1,0,ti());b.matrix&&(Te=Te.multiply(b.matrix||dr),te=qs.call(he,b.key,b.boundingBox,b.xStep,b.yStep,Te).id),le("q"),le("/Pattern cs"),le("/"+te+" scn"),he.gState&&w.setGState(he.gState),le(B),le("Q")}},Wl=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},fi=w.moveTo=function(b,B){return le(z(O(b))+" "+z(ue(B))+" m"),this},Ur=w.lineTo=function(b,B){return le(z(O(b))+" "+z(ue(B))+" l"),this},Zr=w.curveTo=function(b,B,te,he,Te,Fe){return le([z(O(b)),z(ue(B)),z(O(te)),z(ue(he)),z(O(Te)),z(ue(Fe)),"c"].join(" ")),this};w.__private__.line=w.line=function(b,B,te,he,Te){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||!ys(Te))throw new Error("Invalid arguments passed to jsPDF.line");return q===j.COMPAT?this.lines([[te-b,he-B]],b,B,[1,1],Te||"S"):this.lines([[te-b,he-B]],b,B,[1,1]).stroke()},w.__private__.lines=w.lines=function(b,B,te,he,Te,Fe){var Xe,ht,p,T,L,Y,be,ke,Ze,Qt,ln,Xt;if(typeof b=="number"&&(Xt=te,te=B,B=b,b=Xt),he=he||[1,1],Fe=Fe||!1,isNaN(B)||isNaN(te)||!Array.isArray(b)||!Array.isArray(he)||!ys(Te)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(fi(B,te),Xe=he[0],ht=he[1],T=b.length,Qt=B,ln=te,p=0;p<T;p++)(L=b[p]).length===2?(Qt=L[0]*Xe+Qt,ln=L[1]*ht+ln,Ur(Qt,ln)):(Y=L[0]*Xe+Qt,be=L[1]*ht+ln,ke=L[2]*Xe+Qt,Ze=L[3]*ht+ln,Qt=L[4]*Xe+Qt,ln=L[5]*ht+ln,Zr(Y,be,ke,Ze,Qt,ln));return Fe&&Br(),ba(Te),this},w.path=function(b){for(var B=0;B<b.length;B++){var te=b[B],he=te.c;switch(te.op){case"m":fi(he[0],he[1]);break;case"l":Ur(he[0],he[1]);break;case"c":Zr.apply(this,he);break;case"h":Br()}}return this},w.__private__.rect=w.rect=function(b,B,te,he,Te){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||!ys(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return q===j.COMPAT&&(he=-he),le([z(O(b)),z(ue(B)),z(O(te)),z(O(he)),"re"].join(" ")),ba(Te),this},w.__private__.triangle=w.triangle=function(b,B,te,he,Te,Fe,Xe){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||isNaN(Te)||isNaN(Fe)||!ys(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-b,he-B],[Te-te,Fe-he],[b-Te,B-Fe]],b,B,[1,1],Xe,!0),this},w.__private__.roundedRect=w.roundedRect=function(b,B,te,he,Te,Fe,Xe){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||isNaN(Te)||isNaN(Fe)||!ys(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*te),Fe=Math.min(Fe,.5*he),this.lines([[te-2*Te,0],[Te*ht,0,Te,Fe-Fe*ht,Te,Fe],[0,he-2*Fe],[0,Fe*ht,-Te*ht,Fe,-Te,Fe],[2*Te-te,0],[-Te*ht,0,-Te,-Fe*ht,-Te,-Fe],[0,2*Fe-he],[0,-Fe*ht,Te*ht,-Fe,Te,-Fe]],b+Te,B,[1,1],Xe,!0),this},w.__private__.ellipse=w.ellipse=function(b,B,te,he,Te){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||!ys(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*te,Xe=4/3*(Math.SQRT2-1)*he;return fi(b+te,B),Zr(b+te,B-Xe,b+Fe,B-he,b,B-he),Zr(b-Fe,B-he,b-te,B-Xe,b-te,B),Zr(b-te,B+Xe,b-Fe,B+he,b,B+he),Zr(b+Fe,B+he,b+te,B+Xe,b+te,B),ba(Te),this},w.__private__.circle=w.circle=function(b,B,te,he){if(isNaN(b)||isNaN(B)||isNaN(te)||!ys(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,B,te,te,he)},w.setFont=function(b,B,te){return te&&(B=de(B,te)),kt=zs(b,B,{disableWarning:!1}),this};var ho=w.__private__.getFont=w.getFont=function(){return dn[zs.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var b,B,te={};for(b in Ve)if(Ve.hasOwnProperty(b))for(B in te[b]=[],Ve[b])Ve[b].hasOwnProperty(B)&&te[b].push(B);return te},w.addFont=function(b,B,te,he,Te){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(te=de(te,he)),Te=Te||"Identity-H",oo.call(this,b,B,te,Te)};var bn,tl=n.lineWidth||.200025,fo=w.__private__.getLineWidth=w.getLineWidth=function(){return tl},po=w.__private__.setLineWidth=w.setLineWidth=function(b){return tl=b,le(z(O(b))+" w"),this};w.__private__.setLineDash=zt.API.setLineDash=zt.API.setLineDashPattern=function(b,B){if(b=b||[],B=B||0,isNaN(B)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(te){return z(O(te))}).join(" "),B=z(O(B)),le("["+b+"] "+B+" d"),this};var Bo=w.__private__.getLineHeight=w.getLineHeight=function(){return nt*bn};w.__private__.getLineHeight=w.getLineHeight=function(){return nt*bn};var Sa=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(bn=b),this},ei=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return bn};Sa(n.lineHeight);var di=w.__private__.getHorizontalCoordinate=function(b){return O(b)},ir=w.__private__.getVerticalCoordinate=function(b){return q===j.ADVANCED?b:xt[X].mediaBox.topRightY-xt[X].mediaBox.bottomLeftY-O(b)},nl=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(b){return z(di(b))},es=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(b){return z(ir(b))},mr=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Ii(mr)},w.__private__.setStrokeColor=w.setDrawColor=function(b,B,te,he){return mr=ar({ch1:b,ch2:B,ch3:te,ch4:he,pdfColorType:"draw",precision:2}),le(mr),this};var Uo=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Ii(Uo)},w.__private__.setFillColor=w.setFillColor=function(b,B,te,he){return Uo=ar({ch1:b,ch2:B,ch3:te,ch4:he,pdfColorType:"fill",precision:2}),le(Uo),this};var Qn=n.textColor||"0 g",ts=w.__private__.getTextColor=w.getTextColor=function(){return Ii(Qn)};w.__private__.setTextColor=w.setTextColor=function(b,B,te,he){return Qn=ar({ch1:b,ch2:B,ch3:te,ch4:he,pdfColorType:"text",precision:3}),this};var Hs=n.charSpace,vs=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Hs||0)};w.__private__.setCharSpace=w.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hs=b,this};var rl=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(b){var B=w.CapJoinStyles[b];if(B===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rl=B,le(B+" J"),this};var mo=0;w.__private__.setLineJoin=w.setLineJoin=function(b){var B=w.CapJoinStyles[b];if(B===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mo=B,le(B+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(z(O(b))+" M"),this},w.GState=Nm,w.setGState=function(b){(b=typeof b=="string"?wt[Ut[b]]:ws(null,b)).equals(vn)||(le("/"+b.id+" gs"),vn=b)};var ws=function(b,B){if(!b||!Ut[b]){var te=!1;for(var he in wt)if(wt.hasOwnProperty(he)&&wt[he].equals(B)){te=!0;break}if(te)B=wt[he];else{var Te="GS"+(Object.keys(wt).length+1).toString(10);wt[Te]=B,B.id=Te}return b&&(Ut[b]=B.id),Zt.publish("addGState",B),B}};w.addGState=function(b,B){return ws(b,B),this},w.saveGraphicsState=function(){return le("q"),it.push({key:kt,size:nt,color:Qn}),this},w.restoreGraphicsState=function(){le("Q");var b=it.pop();return kt=b.key,nt=b.size,Qn=b.color,vn=null,this},w.setCurrentTransformationMatrix=function(b){return le(b.toString()+" cm"),this},w.comment=function(b){return le("#"+b),this};var ns=function(b,B){var te=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Fe){isNaN(Fe)||(te=parseFloat(Fe))}});var he=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Fe){isNaN(Fe)||(he=parseFloat(Fe))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Fe){Te=Fe.toString()}}),this},$s=function(b,B,te,he){ns.call(this,b,B),this.type="rect";var Te=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(Xe){isNaN(Xe)||(Te=parseFloat(Xe))}});var Fe=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Xe){isNaN(Xe)||(Fe=parseFloat(Xe))}}),this},go=function(){this.page=sn,this.currentPage=X,this.pages=Ye.slice(0),this.pagesContext=xt.slice(0),this.x=$n,this.y=rn,this.matrix=Mr,this.width=_s(X),this.height=ti(X),this.outputDestination=st,this.id="",this.objectNumber=-1};go.prototype.restore=function(){sn=this.page,X=this.currentPage,xt=this.pagesContext,Ye=this.pages,$n=this.x,rn=this.y,Mr=this.matrix,Ta(X,this.width),Aa(X,this.height),st=this.outputDestination};var xa=function(b,B,te,he,Te){Yr.push(new go),sn=X=0,Ye=[],$n=b,rn=B,Mr=Te,Vr([te,he])},Gl=function(b){if(Kn[b])Yr.pop().restore();else{var B=new go,te="Xo"+(Object.keys(Vn).length+1).toString(10);B.id=te,Kn[b]=te,Vn[te]=B,Zt.publish("addFormObject",B),Yr.pop().restore()}};for(var Ws in w.beginFormObject=function(b,B,te,he,Te){return xa(b,B,te,he,Te),this},w.endFormObject=function(b){return Gl(b),this},w.doFormObject=function(b,B){var te=Vn[Kn[b]];return le("q"),le(B.toString()+" cm"),le("/"+te.id+" Do"),le("Q"),this},w.getFormObject=function(b){var B=Vn[Kn[b]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},w.save=function(b,B){return b=b||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Tc(Fo(ms()),b),typeof Tc.unload=="function"&&Ht.setTimeout&&setTimeout(Tc.unload,911),this):new Promise(function(te,he){try{var Te=Tc(Fo(ms()),b);typeof Tc.unload=="function"&&Ht.setTimeout&&setTimeout(Tc.unload,911),te(Te)}catch(Fe){he(Fe.message)}})},zt.API)zt.API.hasOwnProperty(Ws)&&(Ws==="events"&&zt.API.events.length?function(b,B){var te,he,Te;for(Te=B.length-1;Te!==-1;Te--)te=B[Te][0],he=B[Te][1],b.subscribe.apply(b,[te].concat(typeof he=="function"?[he]:he))}(Zt,zt.API.events):w[Ws]=zt.API[Ws]);var _s=w.getPageWidth=function(b){return(xt[b=b||X].mediaBox.topRightX-xt[b].mediaBox.bottomLeftX)/at},Ta=w.setPageWidth=function(b,B){xt[b].mediaBox.topRightX=B*at+xt[b].mediaBox.bottomLeftX},ti=w.getPageHeight=function(b){return(xt[b=b||X].mediaBox.topRightY-xt[b].mediaBox.bottomLeftY)/at},Aa=w.setPageHeight=function(b,B){xt[b].mediaBox.topRightY=B*at+xt[b].mediaBox.bottomLeftY};return w.internal={pdfEscape:rr,getStyle:el,getFont:ho,getFontSize:ct,getCharSpace:vs,getTextColor:ts,getLineHeight:Bo,getLineHeightFactor:ei,getLineWidth:fo,write:Mt,getHorizontalCoordinate:di,getVerticalCoordinate:ir,getCoordinateString:nl,getVerticalCoordinateString:es,collections:{},newObject:Bn,newAdditionalObject:ro,newObjectDeferred:Un,newObjectDeferredBegin:Yn,getFilters:Jr,putStream:nr,events:Zt,scaleFactor:at,pageSize:{getWidth:function(){return _s(X)},setWidth:function(b){Ta(X,b)},getHeight:function(){return ti(X)},setHeight:function(b){Aa(X,b)}},encryptionOptions:m,encryption:pn,getEncryptor:Zi,output:co,getNumberOfPages:In,pages:Ye,out:le,f2:G,f3:R,getPageInfo:Ci,getPageInfoByObjId:jt,getCurrentPageInfo:Ni,getPDFVersion:C,Point:ns,Rectangle:$s,Matrix:vt,hasHotfix:Ji},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return _s(X)},set:function(b){Ta(X,b)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return ti(X)},set:function(b){Aa(X,b)},enumerable:!0,configurable:!0}),ao.call(w,Je),kt="F1",lo(i,t),Zt.publish("initialized"),w}bh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},bh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},bh.prototype.processOwnerPassword=function(n,e){return cy(uy(e).substr(0,5),n)},bh.prototype.encryptor=function(n,e){var t=uy(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return cy(t,r)}},Nm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Fn(n)!==Fn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},zt.API={events:[]},zt.version="3.0.1";var _r=zt.API,e2=1,Gc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(n){return n.toFixed(2)},Au=function(n){return n.toFixed(5)};_r.__acroform__={};var Os=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},jb=function(n){return n*e2},Ma=function(n){var e=new SA,t=It.internal.getHeight(n)||0,r=It.internal.getWidth(n)||0;return e.BBox=[0,0,Number(en(r)),Number(en(t))],e},E9=_r.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},I9=_r.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},P9=_r.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Nr=_r.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return P9(n,e-1)},kr=_r.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return E9(n,e-1)},Lr=_r.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return I9(n,e-1)},C9=_r.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],u=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+u)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=r(s)||0,[Number(en(c.lowerLeft_X)),Number(en(c.lowerLeft_Y)),Number(en(c.upperRight_X)),Number(en(c.upperRight_Y))]},N9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=hy(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+en(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ma(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},hy=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var s=t,a=It.internal.getHeight(n)||0;a=a<0?-a:a;var u=It.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(R,O,F){if(R+1<i.length){var ue=O+" "+i[R+1][0];return Dp(ue,n,F).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var h,m,y=Dp("3",n,s).height,_=n.multiline?a-s:(a-y)/2,w=_+=2,E=0,C=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Dp(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var I="",j=0,q=0;q<i.length;q++)if(i.hasOwnProperty(q)){var ee=!1;if(i[q].length!==1&&k!==i[q].length-1){if((y+2)*(j+2)+2>a)continue e;I+=i[q][k],ee=!0,C=q,q--}else{I=(I+=i[q][k]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var ie=parseInt(q),de=c(ie,I,s),z=q>=i.length-1;if(de&&!z){I+=" ",k=0;continue}if(de||z){if(z)C=ie;else if(n.multiline&&(y+2)*(j+2)+2>a)continue e}else{if(!n.multiline||(y+2)*(j+2)+2>a)continue e;C=ie}}for(var N="",U=E;U<=C;U++){var G=i[U];if(n.multiline){if(U===C){N+=G[k]+" ",k=(k+1)%G.length;continue}if(U===E){N+=G[G.length-1]+" ";continue}}N+=G[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,m=Dp(N,n,s).width,n.textAlign){case"right":h=u-m-2;break;case"center":h=(u-m)/2;break;case"left":default:h=2}e+=en(h)+" "+en(w)+` Td
`,e+="("+Gc(N)+`) Tj
`,e+=-en(h)+` 0 Td
`,w=-(s+2),m=0,E=ee?C:C+1,j++,I=""}break}return r.text=e,r.fontSize=s,r},Dp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},k9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},L9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},R9=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),Fn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},D9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ga.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(k9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");e2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new xA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&L9(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var u=r[a],c=[],h=u.Rect;if(u.Rect&&(u.Rect=C9(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=It.createDefaultAppearanceStream(u),Fn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var m=N9(u);c.push({key:"AP",value:"<</N "+m+">>"}),i.internal.acroformPlugin.xForms.push(m)}if(u.appearanceStreamContent){var y="";for(var _ in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(_)){var w=u.appearanceStreamContent[_];if(y+="/"+_+" ",y+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var a in w)if(w.hasOwnProperty(a)){var E=w[a];typeof E=="function"&&(E=E.call(i,u)),y+="/"+a+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=w)=="function"&&(E=E.call(i,u)),y+="/"+a+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);y+=">>"}c.push({key:"AP",value:`<<
`+y+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:u.objId}),i.internal.out("endobj")}s&&R9(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},bA=_r.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Fn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Gc(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Y0=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Gc(r(n))+")"},Fa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fa.prototype.toString=function(){return this.objId+" 0 R"},Fa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Fa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:bA(i,this.objId,this.scope)}):i instanceof Fa?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var SA=function(){Fa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Os(SA,Fa);var xA=function(){Fa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Gc(t(n))+")"}},set:function(t){n=t}})};Os(xA,Fa);var ga=function n(){Fa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nr(e,3)},set:function(I){I?this.F=kr(e,3):this.F=Lr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');t=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof km)return;s="FieldObject"+n.FieldNum++}var I=function(j){return j};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Gc(I(s))+")"},set:function(I){s=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(I){s=I}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(I){a=I}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/e2:h},set:function(I){h=I}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(I){m=I}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof km||this instanceof Lc))return Y0(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=I}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof ci?_:Y0(_,this.objId,this.scope)},set:function(I){I=I.toString(),_=this instanceof ci?I:I.substr(0,1)==="("?mh(I.substr(1,I.length-2)):mh(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci?mh(_.substr(1,_.length-1)):_},set:function(I){I=I.toString(),_=this instanceof ci?"/"+I:I}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ci?w:Y0(w,this.objId,this.scope)},set:function(I){I=I.toString(),w=this instanceof ci?I:I.substr(0,1)==="("?mh(I.substr(1,I.length-2)):mh(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci?mh(w.substr(1,w.length-1)):w},set:function(I){I=I.toString(),w=this instanceof ci?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(I){I=!!I,C=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(I){E=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,1)},set:function(I){I?this.Ff=kr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,2)},set:function(I){I?this.Ff=kr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,3)},set:function(I){I?this.Ff=kr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');k=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(k){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Os(ga,Fa);var Oh=function(){ga.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bA(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,a,u){u||(u=1);for(var c,h=[];c=a.exec(s);)h.push(c[u]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,18)},set:function(t){t?this.Ff=kr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=kr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,20)},set:function(t){t?(this.Ff=kr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,22)},set:function(t){t?this.Ff=kr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(t){t?this.Ff=kr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,27)},set:function(t){t?this.Ff=kr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Os(Oh,ga);var Mh=function(){Oh.call(this),this.fontName="helvetica",this.combo=!1};Os(Mh,Oh);var jh=function(){Mh.call(this),this.combo=!0};Os(jh,Mh);var Jp=function(){jh.call(this),this.edit=!0};Os(Jp,jh);var ci=function(){ga.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,15)},set:function(t){t?this.Ff=kr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,16)},set:function(t){t?this.Ff=kr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,17)},set:function(t){t?this.Ff=kr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(t){t?this.Ff=kr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Gc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Fn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Os(ci,ga);var Zp=function(){ci.call(this),this.pushButton=!0};Os(Zp,ci);var Fh=function(){ci.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Os(Fh,ci);var km=function(){var n,e;ga.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Gc(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Fn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=It.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Os(km,ga),Fh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Fh.prototype.createOption=function(n){var e=new km;return e.Parent=this,e.optionName=n,this.Kids.push(e),O9.call(this.scope,e),e};var em=function(){ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=It.CheckBox.createAppearanceStream()};Os(em,ci);var Lc=function(){ga.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,13)},set:function(e){e?this.Ff=kr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,21)},set:function(e){e?this.Ff=kr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(e){e?this.Ff=kr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,24)},set:function(e){e?this.Ff=kr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,25)},set:function(e){e?this.Ff=kr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(e){e?this.Ff=kr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Os(Lc,ga);var tm=function(){Lc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,14)},set:function(n){n?this.Ff=kr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};Os(tm,Lc);var It={CheckBox:{createAppearanceStream:function(){return{N:{On:It.CheckBox.YesNormal},D:{On:It.CheckBox.YesPushDown,Off:It.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=hy(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+en(It.internal.getWidth(n))+" "+en(It.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+en(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ma(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=It.internal.getHeight(n),a=It.internal.getWidth(n),u=hy(n,n.caption);return i.push("1 g"),i.push("0 0 "+en(a)+" "+en(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+en(a-1)+" "+en(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+en(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(It.internal.getWidth(n))+" "+en(It.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:It.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=It.RadioButton.Circle.YesNormal,e.D[n]=It.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=It.internal.getWidth(n)<=It.internal.getHeight(n)?It.internal.getWidth(n)/4:It.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=It.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Au(It.internal.getWidth(n)/2)+" "+Au(It.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=It.internal.getWidth(n)<=It.internal.getHeight(n)?It.internal.getWidth(n)/4:It.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*It.internal.Bezier_C).toFixed(5)),a=Number((r*It.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Au(It.internal.getWidth(n)/2)+" "+Au(It.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Au(It.internal.getWidth(n)/2)+" "+Au(It.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=It.internal.getWidth(n)<=It.internal.getHeight(n)?It.internal.getWidth(n)/4:It.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*It.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Au(It.internal.getWidth(n)/2)+" "+Au(It.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:It.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=It.RadioButton.Cross.YesNormal,e.D[n]=It.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=It.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+en(It.internal.getWidth(n)-2)+" "+en(It.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),t.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),t.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),t.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=It.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+en(It.internal.getWidth(n))+" "+en(It.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+en(It.internal.getWidth(n)-2)+" "+en(It.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(en(t.x1.x)+" "+en(t.x1.y)+" m"),r.push(en(t.x2.x)+" "+en(t.x2.y)+" l"),r.push(en(t.x4.x)+" "+en(t.x4.y)+" m"),r.push(en(t.x3.x)+" "+en(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(It.internal.getWidth(n))+" "+en(It.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};It.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=It.internal.getWidth(n),t=It.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},It.internal.getWidth=function(n){var e=0;return Fn(n)==="object"&&(e=jb(n.Rect[2])),e},It.internal.getHeight=function(n){var e=0;return Fn(n)==="object"&&(e=jb(n.Rect[3])),e};var O9=_r.addField=function(n){if(D9(this,n),!(n instanceof ga))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=Oh,_r.AcroFormListBox=Mh,_r.AcroFormComboBox=jh,_r.AcroFormEditBox=Jp,_r.AcroFormButton=ci,_r.AcroFormPushButton=Zp,_r.AcroFormRadioButton=Fh,_r.AcroFormCheckBox=em,_r.AcroFormTextField=Lc,_r.AcroFormPasswordField=tm,_r.AcroFormAppearance=It,_r.AcroForm={ChoiceField:Oh,ListBox:Mh,ComboBox:jh,EditBox:Jp,Button:ci,PushButton:Zp,RadioButton:Fh,CheckBox:em,TextField:Lc,PasswordField:tm,Appearance:It},zt.AcroForm={ChoiceField:Oh,ListBox:Mh,ComboBox:jh,EditBox:Jp,Button:ci,PushButton:Zp,RadioButton:Fh,CheckBox:em,TextField:Lc,PasswordField:tm,Appearance:It};zt.AcroForm;function TA(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(R,O){var F,ue,Le,Ce,xe,ne=e;if((O=O||e)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(de(R))for(xe in t)for(Le=t[xe],F=0;F<Le.length;F+=1){for(Ce=!0,ue=0;ue<Le[F].length;ue+=1)if(Le[F][ue]!==void 0&&Le[F][ue]!==R[ue]){Ce=!1;break}if(Ce===!0){ne=xe;break}}else for(xe in t)for(Le=t[xe],F=0;F<Le.length;F+=1){for(Ce=!0,ue=0;ue<Le[F].length;ue+=1)if(Le[F][ue]!==void 0&&Le[F][ue]!==R.charCodeAt(ue)){Ce=!1;break}if(Ce===!0){ne=xe;break}}return ne===e&&O!==e&&(ne=O),ne},i=function R(O){for(var F=this.internal.write,ue=this.internal.putStream,Le=(0,this.internal.getFilters)();Le.indexOf("FlateEncode")!==-1;)Le.splice(Le.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var Ce=[];if(Ce.push({key:"Type",value:"/XObject"}),Ce.push({key:"Subtype",value:"/Image"}),Ce.push({key:"Width",value:O.width}),Ce.push({key:"Height",value:O.height}),O.colorSpace===k.INDEXED?Ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(Ce.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===k.DEVICE_CMYK&&Ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ce.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&Ce.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var xe="",ne=0,we=O.transparency.length;ne<we;ne++)xe+=O.transparency[ne]+" "+O.transparency[ne]+" ";Ce.push({key:"Mask",value:"["+xe+"]"})}O.sMask!==void 0&&Ce.push({key:"SMask",value:O.objectId+1+" 0 R"});var ge=O.filter!==void 0?["/"+O.filter]:void 0;if(ue({data:O.data,additionalKeyValues:Ce,alreadyAppliedFilters:ge,objectId:O.objectId}),F("endobj"),"sMask"in O&&O.sMask!==void 0){var oe="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,M={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:oe,data:O.sMask};"filter"in O&&(M.filter=O.filter),R.call(this,M)}if(O.colorSpace===k.INDEXED){var X=this.internal.newObject();ue({data:N(new Uint8Array(O.palette)),objectId:X}),F("endobj")}},s=function(){var R=this.internal.collections.addImage_images;for(var O in R)i.call(this,R[O])},a=function(){var R,O=this.internal.collections.addImage_images,F=this.internal.write;for(var ue in O)F("/I"+(R=O[ue]).index,R.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var R=this.internal.collections.addImage_images;return u.call(this),R},h=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(R){return typeof n["process"+R.toUpperCase()]=="function"},y=function(R){return Fn(R)==="object"&&R.nodeType===1},_=function(R,O){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var F=""+R.getAttribute("src");if(F.indexOf("data:image/")===0)return Jf(unescape(F).split("base64,").pop());var ue=n.loadFile(F,!0);if(ue!==void 0)return ue}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var Le;switch(O){case"PNG":Le="image/png";break;case"WEBP":Le="image/webp";break;case"JPEG":case"JPG":default:Le="image/jpeg"}return Jf(R.toDataURL(Le,1).split("base64,").pop())}},w=function(R){var O=this.internal.collections.addImage_images;if(O){for(var F in O)if(R===O[F].alias)return O[F]}},E=function(R,O,F){return R||O||(R=-96,O=-96),R<0&&(R=-1*F.width*72/R/this.internal.scaleFactor),O<0&&(O=-1*F.height*72/O/this.internal.scaleFactor),R===0&&(R=O*F.width/F.height),O===0&&(O=R*F.height/F.width),[R,O]},C=function(R,O,F,ue,Le,Ce){var xe=E.call(this,F,ue,Le),ne=this.internal.getCoordinateString,we=this.internal.getVerticalCoordinateString,ge=c.call(this);if(F=xe[0],ue=xe[1],ge[Le.index]=Le,Ce){Ce*=Math.PI/180;var oe=Math.cos(Ce),M=Math.sin(Ce),X=function(se){return se.toFixed(4)},Z=[X(oe),X(M),X(-1*M),X(oe),0,0,"cm"]}this.internal.write("q"),Ce?(this.internal.write([1,"0","0",1,ne(R),we(O+ue),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ne(F),"0","0",ne(ue),"0","0","cm"].join(" "))):this.internal.write([ne(F),"0","0",ne(ue),ne(R),we(O+ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Le.index+" Do"),this.internal.write("Q")},k=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=n.__addimage__.sHashCode=function(R){var O,F,ue=0;if(typeof R=="string")for(F=R.length,O=0;O<F;O++)ue=(ue<<5)-ue+R.charCodeAt(O),ue|=0;else if(de(R))for(F=R.byteLength/2,O=0;O<F;O++)ue=(ue<<5)-ue+R[O],ue|=0;return ue},q=n.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var O=!0;return R.length===0&&(O=!1),R.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(O=!1),O},ee=n.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var O=R.indexOf(",");return O<0?null:R.substring(0,O).trim().endsWith("base64")?R.substring(O+1):null},ie=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(R){return ie()&&R instanceof ArrayBuffer};var de=n.__addimage__.isArrayBufferView=function(R){return ie()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},z=n.__addimage__.binaryStringToUint8Array=function(R){for(var O=R.length,F=new Uint8Array(O),ue=0;ue<O;ue++)F[ue]=R.charCodeAt(ue);return F},N=n.__addimage__.arrayBufferToBinaryString=function(R){for(var O="",F=de(R)?R:new Uint8Array(R),ue=0;ue<F.length;ue+=8192)O+=String.fromCharCode.apply(null,F.subarray(ue,ue+8192));return O};n.addImage=function(){var R,O,F,ue,Le,Ce,xe,ne,we;if(typeof arguments[1]=="number"?(O=e,F=arguments[1],ue=arguments[2],Le=arguments[3],Ce=arguments[4],xe=arguments[5],ne=arguments[6],we=arguments[7]):(O=arguments[1],F=arguments[2],ue=arguments[3],Le=arguments[4],Ce=arguments[5],xe=arguments[6],ne=arguments[7],we=arguments[8]),Fn(R=arguments[0])==="object"&&!y(R)&&"imageData"in R){var ge=R;R=ge.imageData,O=ge.format||O||e,F=ge.x||F||0,ue=ge.y||ue||0,Le=ge.w||ge.width||Le,Ce=ge.h||ge.height||Ce,xe=ge.alias||xe,ne=ge.compression||ne,we=ge.rotation||ge.angle||we}var oe=this.internal.getFilters();if(ne===void 0&&oe.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(F)||isNaN(ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=U.call(this,R,O,xe,ne);return C.call(this,F,ue,Le,Ce,M,we),this};var U=function(R,O,F,ue){var Le,Ce,xe;if(typeof R=="string"&&r(R)===e){R=unescape(R);var ne=G(R,!1);(ne!==""||(ne=n.loadFile(R,!0))!==void 0)&&(R=ne)}if(y(R)&&(R=_(R,O)),O=r(R,O),!m(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((xe=F)==null||xe.length===0)&&(F=function(we){return typeof we=="string"||de(we)?j(we):de(we.data)?j(we.data):null}(R)),(Le=w.call(this,F))||(ie()&&(R instanceof Uint8Array||O==="RGBA"||(Ce=R,R=z(R))),Le=this["process"+O.toUpperCase()](R,h.call(this),F,function(we){return we&&typeof we=="string"&&(we=we.toUpperCase()),we in n.image_compression?we:I.NONE}(ue),Ce)),!Le)throw new Error("An unknown error occurred whilst processing the image.");return Le},G=n.__addimage__.convertBase64ToBinaryString=function(R,O){O=typeof O!="boolean"||O;var F,ue="";if(typeof R=="string"){var Le;F=(Le=ee(R))!==null&&Le!==void 0?Le:R;try{ue=Jf(F)}catch(Ce){if(O)throw q(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};n.getImageProperties=function(R){var O,F,ue="";if(y(R)&&(R=_(R)),typeof R=="string"&&r(R)===e&&((ue=G(R,!1))===""&&(ue=n.loadFile(R)||""),R=ue),F=r(R),!m(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!ie()||R instanceof Uint8Array||(R=z(R)),!(O=this["process"+F.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=F,O}})(zt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};zt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,m=!1,y=0;y<h.length&&!m;y++)switch((r=h[y]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var _=0;_<h.length;_++){r=h[_];var w=this.internal.pdfEscape,E=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(C.objId),j=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+w(I(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+w(I(j))+") >>",C.content=s;var q=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+q,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(C.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+u(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var ee=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+w(E(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ee+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ie=this.annotations._nameMap[r.options.name];r.options.pageNumber=ie.page,r.options.top=ie.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+w(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var de=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+de+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:h(r),w:c(t+i),h:h(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,u,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var m=this.splitTextToSize(t,u).length;a=Math.ceil(h*m)}else u=c,a=h;return this.text(t,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,u,a,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(zt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},u=n.__arabicParser__.isArabicEndLetter=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(C){return a(C)&&i.indexOf(C.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var m=n.__arabicParser__.arabicLetterHasMedialForm=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(C){var k=0,I=t,j="",q=0;for(k=0;k<C.length;k+=1)I[C.charCodeAt(k)]!==void 0?(q++,typeof(I=I[C.charCodeAt(k)])=="number"&&(j+=String.fromCharCode(I),I=t,q=0),k===C.length-1&&(I=t,j+=C.charAt(k-(q-1)),k-=q-1,q=0)):(I=t,j+=C.charAt(k-q),k-=q,q=0);return j};n.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(C,k,I){return a(C)?s(C)===!1?-1:!h(C)||!a(k)&&!a(I)||!a(I)&&u(k)||u(C)&&!a(k)||u(C)&&c(k)||u(C)&&u(k)?0:m(C)&&a(k)&&!u(k)&&a(I)&&h(I)?3:u(C)||!a(I)?1:2:-1},w=function(C){var k=0,I=0,j=0,q="",ee="",ie="",de=(C=C||"").split("\\s+"),z=[];for(k=0;k<de.length;k+=1){for(z.push(""),I=0;I<de[k].length;I+=1)q=de[k][I],ee=de[k][I-1],ie=de[k][I+1],a(q)?(j=_(q,ee,ie),z[k]+=j!==-1?String.fromCharCode(e[q.charCodeAt(0)][j]):q):z[k]+=q;z[k]=y(z[k])}return z.join(" ")},E=n.__arabicParser__.processArabic=n.processArabic=function(){var C,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(k)){var j=0;for(I=[],j=0;j<k.length;j+=1)Array.isArray(k[j])?I.push([w(k[j][0]),k[j][1],k[j][2]]):I.push([w(k[j])]);C=I}else C=w(k);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};n.events.push(["preProcessText",E])}(zt.API),zt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(u){a=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(zt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(C){c=C}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(C){m=C}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(C){y=C}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(C){_=C}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(C){w=C}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(C){E=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){r.call(this);var m=(h=h||{}).fontSize||this.getFontSize(),y=h.font||this.getFont(),_=h.scaleFactor||this.internal.scaleFactor,w=0,E=0,C=0,k=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var I=h.maxWidth;I>0?typeof c=="string"?c=this.splitTextToSize(c,I):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(q,ee){return q.concat(k.splitTextToSize(ee,I))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)w<(C=this.getStringUnitWidth(c[j],{font:y})*m)&&(w=C);return w!==0&&(E=c.length),{w:w/=_,h:Math.max((E*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=y.top,w&&_&&(this.printHeaderRow(c.lineNumber,!0),c.y+=_[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-m,c.y+m,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+m,{align:"center",baseline:"top",maxWidth:c.width-m-m}):this.text(c.text,c.x+m,c.y+m,{align:"left",baseline:"top",maxWidth:c.width-m-m})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,m,y,_){if(r.call(this),!m)throw new Error("No data for PDF table.");var w,E,C,k,I=[],j=[],q=[],ee={},ie={},de=[],z=[],N=(_=_||{}).autoSize||!1,U=_.printHeaders!==!1,G=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,R=_.margins||Object.assign({width:this.getPageWidth()},e),O=typeof _.padding=="number"?_.padding:3,F=_.headerBackgroundColor||"#c8c8c8",ue=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=ue,this.setFontSize(G),y==null)j=I=Object.keys(m[0]),q=I.map(function(){return"left"});else if(Array.isArray(y)&&Fn(y[0])==="object")for(I=y.map(function(ge){return ge.name}),j=y.map(function(ge){return ge.prompt||ge.name||""}),q=y.map(function(ge){return ge.align||"left"}),w=0;w<y.length;w+=1)ie[y[w].name]=y[w].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(j=I=y,q=I.map(function(){return"left"}));if(N||Array.isArray(y)&&typeof y[0]=="string")for(w=0;w<I.length;w+=1){for(ee[k=I[w]]=m.map(function(ge){return ge[k]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(j[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=ee[k],this.setFont(void 0,"normal"),C=0;C<E.length;C+=1)de.push(this.getTextDimensions(E[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[k]=Math.max.apply(null,de)+O+O,de=[]}if(U){var Le={};for(w=0;w<I.length;w+=1)Le[I[w]]={},Le[I[w]].text=j[w],Le[I[w]].align=q[w];var Ce=u.call(this,Le,ie);z=I.map(function(ge){return new s(c,h,ie[ge],Ce,Le[ge].text,void 0,Le[ge].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var xe=y.reduce(function(ge,oe){return ge[oe.name]=oe.align,ge},{});for(w=0;w<m.length;w+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:w,data:m[w]},this);var ne=u.call(this,m[w],ie);for(C=0;C<I.length;C+=1){var we=m[w][I[C]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:w,col:C,data:we},this),a.call(this,new s(c,h,ie[I[C]],ne,we,w+2,xe[I[C]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var u=function(c,h){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(c).map(function(w){var E=c[w];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,h[w]-m-m)},this).map(function(w){return this.getLineHeightFactor()*w.length*y/_+m+m},this).reduce(function(w,E){return Math.max(w,E)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){m=this.internal.__cell__.tableHeaderRow[w].clone(),h&&(m.y=this.internal.__cell__.margins.top||0,_.push(m)),m.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,m),this.setTextColor(E)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}}(zt.API);var AA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},EA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],fy=TA(EA),IA=[100,200,300,400,500,600,700,800,900],M9=TA(IA);function dy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return AA[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof fy[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function Fb(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var j9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Vb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function F9(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},j9,t.genericFontFamilies||{}),s=null,a=null,u=0;u<e.length;++u)if(i[(s=dy(e[u])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){a=n[s.family];break}if(!(a=a||n[r]))throw new Error("Could not find a font-family for the rule '"+Bb(s)+"' and default family '"+r+"'.");if(a=function(c,h){if(h[c])return h[c];var m=fy[c],y=m<=fy.normal?-1:1,_=Fb(h,EA,m,y);if(!_)throw new Error("Could not find a matching font-stretch value for "+c);return _}(s.stretch,a),a=function(c,h){if(h[c])return h[c];for(var m=AA[c],y=0;y<m.length;++y)if(h[m[y]])return h[m[y]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var m=M9[c],y=Fb(h,IA,m,c<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+c);return y}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Bb(s)+"'.");return a}function Ub(n){return n.trimLeft()}function V9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function B9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Op,zb,qb,Q0=["times"];(function(n){var e,t,r,i,s,a,u,c,h,m=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,h=new m}]);var y=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=M;Object.defineProperty(this,"pdf",{get:function(){return X}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(je){Z=!!je}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(je){se=!!je}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(je){isNaN(je)||(ce=je)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(je){isNaN(je)||(_e=je)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(je){var le;typeof je=="number"?le=[je,je,je,je]:((le=new Array(4))[0]=je[0],le[1]=je.length>=2?je[1]:le[0],le[2]=je.length>=3?je[2]:le[0],le[3]=je.length>=4?je[3]:le[1]),h.margin=le}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(je){Ae=je}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(je){Ee=je}});var Ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ke},set:function(je){Ke=je}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(je){je instanceof m&&(h=je)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(je){h.path=je}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(je){Ye=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var le;le=_(je),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var le=_(je);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var ut=null;function st(je,le){if(ut===null){var Mt=function(gt){var Je=[];return Object.keys(gt).forEach(function(nt){gt[nt].forEach(function(lt){var ct=null;switch(lt){case"bold":ct={family:nt,weight:"bold"};break;case"italic":ct={family:nt,style:"italic"};break;case"bolditalic":ct={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":ct={family:nt}}ct!==null&&(ct.ref={name:nt,style:lt},Je.push(ct))})}),Je}(je.getFontList());ut=function(gt){for(var Je={},nt=0;nt<gt.length;++nt){var lt=dy(gt[nt]),ct=lt.family,St=lt.stretch,Ot=lt.style,De=lt.weight;Je[ct]=Je[ct]||{},Je[ct][St]=Je[ct][St]||{},Je[ct][St][Ot]=Je[ct][St][Ot]||{},Je[ct][St][Ot][De]=lt}return Je}(Mt.concat(le))}return ut}var Ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ct},set:function(je){ut=null,Ct=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var le;if(this.ctx.font=je,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var Mt=le[1];le[2];var gt=le[3],Je=le[4];le[5];var nt=le[6],lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(lt==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var ct=function(pt){var kt,at,$n=[],rn=pt.trim();if(rn==="")return Q0;if(rn in Vb)return[Vb[rn]];for(;rn!=="";){switch(at=null,kt=(rn=Ub(rn)).charAt(0)){case'"':case"'":at=V9(rn.substring(1),kt);break;default:at=B9(rn)}if(at===null||($n.push(at[0]),(rn=Ub(at[1]))!==""&&rn.charAt(0)!==","))return Q0;rn=rn.replace(/^,/,"")}return $n}(nt);if(this.fontFaces){var St=F9(st(this.pdf,this.fontFaces),ct.map(function(pt){return{family:pt,stretch:"normal",weight:gt,style:Mt}}));this.pdf.setFont(St.ref.name,St.ref.style)}else{var Ot="";(gt==="bold"||parseInt(gt,10)>=700||Mt==="bold")&&(Ot="bold"),Mt==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var De="",qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<ct.length;Qe++){if(this.pdf.internal.getFont(ct[Qe],Ot,{noFallback:!0,disableWarning:!0})!==void 0){De=ct[Qe];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(ct[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=ct[Qe],Ot="bold";else if(this.pdf.internal.getFont(ct[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=ct[Qe],Ot="normal";break}}if(De===""){for(var mt=0;mt<ct.length;mt++)if(qe[ct[mt]]){De=qe[ct[mt]];break}}De=De===""?"Times":De,this.pdf.setFont(De,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};y.prototype.setLineDash=function(M){this.lineDash=M},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){ee.call(this,"fill",!1)},y.prototype.stroke=function(){ee.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(M,X){if(isNaN(M)||isNaN(X))throw Hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new a(M,X));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(M,X)},y.prototype.closePath=function(){var M=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Fn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){M=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},y.prototype.lineTo=function(M,X){if(isNaN(M)||isNaN(X))throw Hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new a(M,X));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ee.call(this,null,!0)},y.prototype.quadraticCurveTo=function(M,X,Z,se){if(isNaN(Z)||isNaN(se)||isNaN(M)||isNaN(X))throw Hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new a(Z,se)),_e=this.ctx.transform.applyToPoint(new a(M,X));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},y.prototype.bezierCurveTo=function(M,X,Z,se,ce,_e){if(isNaN(ce)||isNaN(_e)||isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(se))throw Hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new a(ce,_e)),Ee=this.ctx.transform.applyToPoint(new a(M,X)),Ke=this.ctx.transform.applyToPoint(new a(Z,se));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Ke.x,y2:Ke.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new a(Ae.x,Ae.y)},y.prototype.arc=function(M,X,Z,se,ce,_e){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(se)||isNaN(ce))throw Hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new a(M,X));M=Ae.x,X=Ae.y;var Ee=this.ctx.transform.applyToPoint(new a(0,Z)),Ke=this.ctx.transform.applyToPoint(new a(0,0));Z=Math.sqrt(Math.pow(Ee.x-Ke.x,2)+Math.pow(Ee.y-Ke.y,2))}Math.abs(ce-se)>=2*Math.PI&&(se=0,ce=2*Math.PI),this.path.push({type:"arc",x:M,y:X,radius:Z,startAngle:se,endAngle:ce,counterclockwise:_e})},y.prototype.arcTo=function(M,X,Z,se,ce){throw new Error("arcTo not implemented.")},y.prototype.rect=function(M,X,Z,se){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(se))throw Hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,X),this.lineTo(M+Z,X),this.lineTo(M+Z,X+se),this.lineTo(M,X+se),this.lineTo(M,X),this.lineTo(M+Z,X),this.lineTo(M,X)},y.prototype.fillRect=function(M,X,Z,se){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(se))throw Hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,X,Z,se),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},y.prototype.strokeRect=function(M,X,Z,se){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(se))throw Hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(M,X,Z,se),this.stroke())},y.prototype.clearRect=function(M,X,Z,se){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(se))throw Hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,X,Z,se))},y.prototype.save=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},y.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(X),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(M){var X,Z,se,ce;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))X=0,Z=0,se=0,ce=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(_e!==null)X=parseInt(_e[1]),Z=parseInt(_e[2]),se=parseInt(_e[3]),ce=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)X=parseInt(_e[1]),Z=parseInt(_e[2]),se=parseInt(_e[3]),ce=parseFloat(_e[4]);else{if(ce=1,typeof M=="string"&&M.charAt(0)!=="#"){var Ae=new vA(M);M=Ae.ok?Ae.toHex():"#000000"}M.length===4?(X=M.substring(1,2),X+=X,Z=M.substring(2,3),Z+=Z,se=M.substring(3,4),se+=se):(X=M.substring(1,3),Z=M.substring(3,5),se=M.substring(5,7)),X=parseInt(X,16),Z=parseInt(Z,16),se=parseInt(se,16)}}return{r:X,g:Z,b:se,a:ce,style:M}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(M,X,Z,se){if(isNaN(X)||isNaN(Z)||typeof M!="string")throw Hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!w.call(this)){var ce=ne(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;O.call(this,{text:M,x:X,y:Z,scale:_e,angle:ce,align:this.textAlign,maxWidth:se})}},y.prototype.strokeText=function(M,X,Z,se){if(isNaN(X)||isNaN(Z)||typeof M!="string")throw Hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){se=isNaN(se)?void 0:se;var ce=ne(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;O.call(this,{text:M,x:X,y:Z,scale:_e,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:se})}},y.prototype.measureText=function(M){if(typeof M!="string")throw Hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,Z=this.pdf.internal.scaleFactor,se=X.internal.getFontSize(),ce=X.getStringUnitWidth(M)*se/X.internal.scaleFactor,_e=function(Ae){var Ee=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new _e({width:ce*=Math.round(96*Z/72*1e4)/1e4})},y.prototype.scale=function(M,X){if(isNaN(M)||isNaN(X))throw Hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(M,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.rotate=function(M){if(isNaN(M))throw Hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.translate=function(M,X){if(isNaN(M)||isNaN(X))throw Hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,M,X);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.transform=function(M,X,Z,se,ce,_e){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(se)||isNaN(ce)||isNaN(_e))throw Hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new c(M,X,Z,se,ce,_e);this.ctx.transform=this.ctx.transform.multiply(Ae)},y.prototype.setTransform=function(M,X,Z,se,ce,_e){M=isNaN(M)?1:M,X=isNaN(X)?0:X,Z=isNaN(Z)?0:Z,se=isNaN(se)?1:se,ce=isNaN(ce)?0:ce,_e=isNaN(_e)?0:_e,this.ctx.transform=new c(M,X,Z,se,ce,_e)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(M,X,Z,se,ce,_e,Ae,Ee,Ke){var Ye=this.pdf.getImageProperties(M),ut=1,st=1,Ct=1,je=1;se!==void 0&&Ee!==void 0&&(Ct=Ee/se,je=Ke/ce,ut=Ye.width/se*Ee/se,st=Ye.height/ce*Ke/ce),_e===void 0&&(_e=X,Ae=Z,X=0,Z=0),se!==void 0&&Ee===void 0&&(Ee=se,Ke=ce),se===void 0&&Ee===void 0&&(Ee=Ye.width,Ke=Ye.height);for(var le,Mt=this.ctx.transform.decompose(),gt=ne(Mt.rotate.shx),Je=new c,nt=(Je=(Je=(Je=Je.multiply(Mt.translate)).multiply(Mt.skew)).multiply(Mt.scale)).applyToRectangle(new u(_e-X*Ct,Ae-Z*je,se*ut,ce*st)),lt=k.call(this,nt),ct=[],St=0;St<lt.length;St+=1)ct.indexOf(lt[St])===-1&&ct.push(lt[St]);if(q(ct),this.autoPaging)for(var Ot=ct[0],De=ct[ct.length-1],qe=Ot;qe<De+1;qe++){this.pdf.setPage(qe);var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=qe===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=qe===1?0:pt+(qe-2)*kt;if(this.ctx.clip_path.length!==0){var $n=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(le,this.posX+this.margin[3],-at+mt+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=$n}var rn=JSON.parse(JSON.stringify(nt));rn=j([rn],this.posX+this.margin[3],-at+mt+this.ctx.prevPageLastElemOffset)[0];var Mr=(qe>Ot||qe<De)&&C.call(this);Mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,kt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",rn.x,rn.y,rn.w,rn.h,null,null,gt),Mr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,gt)};var k=function(M,X,Z){var se=[];X=X||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":se.push(Math.floor((M.y+ce)/Z)+1);break;case"arc":se.push(Math.floor((M.y+ce-M.radius)/Z)+1),se.push(Math.floor((M.y+ce+M.radius)/Z)+1);break;case"qct":var _e=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);se.push(Math.floor((_e.y+ce)/Z)+1),se.push(Math.floor((_e.y+_e.h+ce)/Z)+1);break;case"bct":var Ae=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);se.push(Math.floor((Ae.y+ce)/Z)+1),se.push(Math.floor((Ae.y+Ae.h+ce)/Z)+1);break;case"rect":se.push(Math.floor((M.y+ce)/Z)+1),se.push(Math.floor((M.y+M.h+ce)/Z)+1)}for(var Ee=0;Ee<se.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<se[Ee];)I.call(this);return se},I=function(){var M=this.fillStyle,X=this.strokeStyle,Z=this.font,se=this.lineCap,ce=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=X,this.font=Z,this.lineCap=se,this.lineWidth=ce,this.lineJoin=_e},j=function(M,X,Z){for(var se=0;se<M.length;se++)switch(M[se].type){case"bct":M[se].x2+=X,M[se].y2+=Z;case"qct":M[se].x1+=X,M[se].y1+=Z;case"mt":case"lt":case"arc":default:M[se].x+=X,M[se].y+=Z}return M},q=function(M){return M.sort(function(X,Z){return X-Z})},ee=function(M,X){for(var Z,se,ce=this.fillStyle,_e=this.strokeStyle,Ae=this.lineCap,Ee=this.lineWidth,Ke=Math.abs(Ee*this.ctx.transform.scaleX),Ye=this.lineJoin,ut=JSON.parse(JSON.stringify(this.path)),st=JSON.parse(JSON.stringify(this.path)),Ct=[],je=0;je<st.length;je++)if(st[je].x!==void 0)for(var le=k.call(this,st[je]),Mt=0;Mt<le.length;Mt+=1)Ct.indexOf(le[Mt])===-1&&Ct.push(le[Mt]);for(var gt=0;gt<Ct.length;gt++)for(;this.pdf.internal.getNumberOfPages()<Ct[gt];)I.call(this);if(q(Ct),this.autoPaging)for(var Je=Ct[0],nt=Ct[Ct.length-1],lt=Je;lt<nt+1;lt++){this.pdf.setPage(lt),this.fillStyle=ce,this.strokeStyle=_e,this.lineCap=Ae,this.lineWidth=Ke,this.lineJoin=Ye;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=lt===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=lt===1?0:Ot+(lt-2)*De;if(this.ctx.clip_path.length!==0){var Qe=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Z,this.posX+this.margin[3],-qe+St+this.ctx.prevPageLastElemOffset),ie.call(this,M,!0),this.path=Qe}if(se=JSON.parse(JSON.stringify(ut)),this.path=j(se,this.posX+this.margin[3],-qe+St+this.ctx.prevPageLastElemOffset),X===!1||lt===0){var mt=(lt>Je||lt<nt)&&C.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,De,null).clip().discardPath()),ie.call(this,M,X),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=Ke,ie.call(this,M,X),this.lineWidth=Ee;this.path=ut},ie=function(M,X){if((M!=="stroke"||X||!E.call(this))&&(M==="stroke"||X||!w.call(this))){for(var Z,se,ce=[],_e=this.path,Ae=0;Ae<_e.length;Ae++){var Ee=_e[Ae];switch(Ee.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Ke=ce.length;if(_e[Ae-1]&&!isNaN(_e[Ae-1].x)&&(Z=[Ee.x-_e[Ae-1].x,Ee.y-_e[Ae-1].y],Ke>0)){for(;Ke>=0;Ke--)if(ce[Ke-1].close!==!0&&ce[Ke-1].begin!==!0){ce[Ke-1].deltas.push(Z),ce[Ke-1].abs.push(Ee);break}}break;case"bct":Z=[Ee.x1-_e[Ae-1].x,Ee.y1-_e[Ae-1].y,Ee.x2-_e[Ae-1].x,Ee.y2-_e[Ae-1].y,Ee.x-_e[Ae-1].x,Ee.y-_e[Ae-1].y],ce[ce.length-1].deltas.push(Z);break;case"qct":var Ye=_e[Ae-1].x+2/3*(Ee.x1-_e[Ae-1].x),ut=_e[Ae-1].y+2/3*(Ee.y1-_e[Ae-1].y),st=Ee.x+2/3*(Ee.x1-Ee.x),Ct=Ee.y+2/3*(Ee.y1-Ee.y),je=Ee.x,le=Ee.y;Z=[Ye-_e[Ae-1].x,ut-_e[Ae-1].y,st-_e[Ae-1].x,Ct-_e[Ae-1].y,je-_e[Ae-1].x,le-_e[Ae-1].y],ce[ce.length-1].deltas.push(Z);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ee)}}se=X?null:M==="stroke"?"stroke":"fill";for(var Mt=!1,gt=0;gt<ce.length;gt++)if(ce[gt].arc)for(var Je=ce[gt].abs,nt=0;nt<Je.length;nt++){var lt=Je[nt];lt.type==="arc"?N.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,X,!Mt):F.call(this,lt.x,lt.y),Mt=!0}else if(ce[gt].close===!0)this.pdf.internal.out("h"),Mt=!1;else if(ce[gt].begin!==!0){var ct=ce[gt].start.x,St=ce[gt].start.y;ue.call(this,ce[gt].deltas,ct,St),Mt=!0}se&&U.call(this,se),X&&G.call(this)}},de=function(M){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Z;case"top":return M+X-Z;case"hanging":return M+X-2*Z;case"middle":return M+X/2-Z;case"ideographic":return M;case"alphabetic":default:return M}},z=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(X,Z){this.colorStops.push([X,Z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(M,X,Z,se,ce,_e,Ae,Ee,Ke){for(var Ye=Ce.call(this,Z,se,ce,_e),ut=0;ut<Ye.length;ut++){var st=Ye[ut];ut===0&&(Ke?R.call(this,st.x1+M,st.y1+X):F.call(this,st.x1+M,st.y1+X)),Le.call(this,M,X,st.x2,st.y2,st.x3,st.y3,st.x4,st.y4)}Ee?G.call(this):U.call(this,Ae)},U=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(M,X){this.pdf.internal.out(t(M)+" "+r(X)+" m")},O=function(M){var X;switch(M.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var Z=this.pdf.getTextDimensions(M.text),se=de.call(this,M.y),ce=z.call(this,se)-Z.h,_e=this.ctx.transform.applyToPoint(new a(M.x,se)),Ae=this.ctx.transform.decompose(),Ee=new c;Ee=(Ee=(Ee=Ee.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var Ke,Ye,ut,st=this.ctx.transform.applyToRectangle(new u(M.x,se,Z.w,Z.h)),Ct=Ee.applyToRectangle(new u(M.x,ce,Z.w,Z.h)),je=k.call(this,Ct),le=[],Mt=0;Mt<je.length;Mt+=1)le.indexOf(je[Mt])===-1&&le.push(je[Mt]);if(q(le),this.autoPaging)for(var gt=le[0],Je=le[le.length-1],nt=gt;nt<Je+1;nt++){this.pdf.setPage(nt);var lt=nt===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],Ot=St-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],qe=De-this.margin[3],Qe=nt===1?0:ct+(nt-2)*Ot;if(this.ctx.clip_path.length!==0){var mt=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ke,this.posX+this.margin[3],-1*Qe+lt),ie.call(this,"fill",!0),this.path=mt}var pt=j([JSON.parse(JSON.stringify(Ct))],this.posX+this.margin[3],-Qe+lt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*M.scale),ut=this.lineWidth,this.lineWidth=ut*M.scale);var kt=this.autoPaging!=="text";if(kt||pt.y+pt.h<=St){if(kt||pt.y>=lt&&pt.x<=De){var at=kt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||De-pt.x)[0],$n=j([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-Qe+lt+this.ctx.prevPageLastElemOffset)[0],rn=kt&&(nt>gt||nt<Je)&&C.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Ot,null).clip().discardPath()),this.pdf.text(at,$n.x,$n.y,{angle:M.angle,align:X,renderingMode:M.renderingMode}),rn&&this.pdf.restoreGraphicsState()}}else pt.y<St&&(this.ctx.prevPageLastElemOffset+=St-pt.y);M.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=ut)}else M.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*M.scale),ut=this.lineWidth,this.lineWidth=ut*M.scale),this.pdf.text(M.text,_e.x+this.posX,_e.y+this.posY,{angle:M.angle,align:X,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=ut)},F=function(M,X,Z,se){Z=Z||0,se=se||0,this.pdf.internal.out(t(M+Z)+" "+r(X+se)+" l")},ue=function(M,X,Z){return this.pdf.lines(M,X,Z,null,null)},Le=function(M,X,Z,se,ce,_e,Ae,Ee){this.pdf.internal.out([e(i(Z+M)),e(s(se+X)),e(i(ce+M)),e(s(_e+X)),e(i(Ae+M)),e(s(Ee+X)),"c"].join(" "))},Ce=function(M,X,Z,se){for(var ce=2*Math.PI,_e=Math.PI/2;X>Z;)X-=ce;var Ae=Math.abs(Z-X);Ae<ce&&se&&(Ae=ce-Ae);for(var Ee=[],Ke=se?-1:1,Ye=X;Ae>1e-5;){var ut=Ye+Ke*Math.min(Ae,_e);Ee.push(xe.call(this,M,Ye,ut)),Ae-=Math.abs(ut-Ye),Ye=ut}return Ee},xe=function(M,X,Z){var se=(Z-X)/2,ce=M*Math.cos(se),_e=M*Math.sin(se),Ae=ce,Ee=-_e,Ke=Ae*Ae+Ee*Ee,Ye=Ke+Ae*ce+Ee*_e,ut=4/3*(Math.sqrt(2*Ke*Ye)-Ye)/(Ae*_e-Ee*ce),st=Ae-ut*Ee,Ct=Ee+ut*Ae,je=st,le=-Ct,Mt=se+X,gt=Math.cos(Mt),Je=Math.sin(Mt);return{x1:M*Math.cos(X),y1:M*Math.sin(X),x2:st*gt-Ct*Je,y2:st*Je+Ct*gt,x3:je*gt-le*Je,y3:je*Je+le*gt,x4:M*Math.cos(Z),y4:M*Math.sin(Z)}},ne=function(M){return 180*M/Math.PI},we=function(M,X,Z,se,ce,_e){var Ae=M+.5*(Z-M),Ee=X+.5*(se-X),Ke=ce+.5*(Z-ce),Ye=_e+.5*(se-_e),ut=Math.min(M,ce,Ae,Ke),st=Math.max(M,ce,Ae,Ke),Ct=Math.min(X,_e,Ee,Ye),je=Math.max(X,_e,Ee,Ye);return new u(ut,Ct,st-ut,je-Ct)},ge=function(M,X,Z,se,ce,_e,Ae,Ee){var Ke,Ye,ut,st,Ct,je,le,Mt,gt,Je,nt,lt,ct,St,Ot=Z-M,De=se-X,qe=ce-Z,Qe=_e-se,mt=Ae-ce,pt=Ee-_e;for(Ye=0;Ye<41;Ye++)gt=(le=(ut=M+(Ke=Ye/40)*Ot)+Ke*((Ct=Z+Ke*qe)-ut))+Ke*(Ct+Ke*(ce+Ke*mt-Ct)-le),Je=(Mt=(st=X+Ke*De)+Ke*((je=se+Ke*Qe)-st))+Ke*(je+Ke*(_e+Ke*pt-je)-Mt),Ye==0?(nt=gt,lt=Je,ct=gt,St=Je):(nt=Math.min(nt,gt),lt=Math.min(lt,Je),ct=Math.max(ct,gt),St=Math.max(St,Je));return new u(Math.round(nt),Math.round(lt),Math.round(ct-nt),Math.round(St-lt))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,X,Z=(M=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:X}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(zt.API),function(n){var e=function(s){var a,u,c,h,m,y,_,w,E,C;for(u=[],c=0,h=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(m=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(y=(m=((m=((m=((m=(m-(C=m%85))/85)-(E=m%85))/85)-(w=m%85))/85)-(_=m%85))/85)%85,u.push(y+33,_+33,w+33,E+33,C+33)):u.push(122);return function(k,I){for(var j=I;j>0;j--)k.pop()}(u,a.length),String.fromCharCode.apply(String,u)+"~>"},t=function(s){var a,u,c,h,m,y=String,_="length",w=255,E="charCodeAt",C="slice",k="replace";for(s[C](-2),s=s[C](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),c=[],h=0,m=(s+=a="uuuuu"[C](s[_]%5||5))[_];m>h;h+=5)u=52200625*(s[E](h)-33)+614125*(s[E](h+1)-33)+7225*(s[E](h+2)-33)+85*(s[E](h+3)-33)+(s[E](h+4)-33),c.push(w&u>>24,w&u>>16,w&u>>8,w&u);return function(I,j){for(var q=j;q>0;q--)I.pop()}(c,a[_]),y.fromCharCode.apply(y,c)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var u="",c=0;c<s.length;c+=2)u+=String.fromCharCode("0x"+(s[c]+s[c+1]));return u},i=function(s){for(var a=new Uint8Array(s.length),u=s.length;u--;)a[u]=s.charCodeAt(u);return s=(a=ay(a)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};n.processDataByFilters=function(s,a){var u=0,c=s||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),u=0;u<a.length;u+=1)switch(a[u]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[u]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(zt.API),function(n){n.loadFile=function(e,t,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var u=void 0;try{u=function(c,h,m){var y=new XMLHttpRequest,_=0,w=function(E){var C=E.length,k=[],I=String.fromCharCode;for(_=0;_<C;_+=1)k.push(I(255&E.charCodeAt(_)));return k.join("")};if(y.open("GET",c,!h),y.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(y.onload=function(){y.status===200?m(w(this.responseText)):m(void 0)}),y.send(null),h&&y.status===200)return w(y.responseText)}(i,s,a)}catch{}return u}(e,t,r)},n.loadImageFile=n.loadFile}(zt.API),function(n){function e(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):ny(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):ny(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var u=Fn(a);return u==="undefined"?"undefined":u==="string"||a instanceof String?"string":u==="number"||a instanceof Number?"number":u==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(a,u){var c=document.createElement(a);for(var h in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[h]=u.style[h];return c},s=function a(u){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,a,1,[a])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,u){return a.__proto__=u||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,u){return this.then(function(){switch(u=u||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(h,m){for(var y=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),_=h.firstChild;_;_=_.nextSibling)m!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||y.appendChild(c(_,m));return h.nodeType===1&&(h.nodeName==="CANVAS"?(y.width=h.width,y.height=h.height,y.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(y.value=h.value),y.addEventListener("load",function(){y.scrollTop=h.scrollTop,y.scrollLeft=h.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(u){var c=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var _=0;_<h.length;++_){var w=h[_],E=w.src.find(function(C){return C.format==="truetype"});E&&c.addFont(E.url,w.ref.name,w.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,c.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,u):this.outputPdf(a,u)},s.prototype.outputPdf=function(a,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,u)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var u=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(a,u){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return u?u(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function u(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(a=a||zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:u(a.inner.width,a.k),height:u(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,u,c,h){return a!=null&&(this.progress.val=a),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,u,c,h){return this.setProgress(a?this.progress.val+a:null,u||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(a,u){var c=this;return this.thenCore(a,u,function(h,m){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return c.updateProgress(null,h),y}).then(h,m).then(function(y){return c.updateProgress(1),y})})},s.prototype.thenCore=function(a,u,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),u&&(u=u.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),m=c.call(h,a,u);return s.convert(m,this.__proto__)},s.prototype.thenExternal=function(a,u){return Promise.prototype.then.call(this,a,u)},s.prototype.thenList=function(a){var u=this;return a.forEach(function(c){u=u.thenCore(c)}),u},s.prototype.catch=function(a){a&&(a=a.bind(this));var u=Promise.prototype.catch.call(this,a);return s.convert(u,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,zt.getPageSize=function(a,u,c){if(Fn(a)==="object"){var h=a;a=h.orientation,u=h.unit||u,c=h.format||c}u=u||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var m,y=(""+c).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var w,E=0,C=0;if(_.hasOwnProperty(y))E=_[y][1]/m,C=_[y][0]/m;else try{E=c[1],C=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",C>E&&(w=C,C=E,E=w);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",E>C&&(w=C,C=E,E=w)}return{width:C,height:E,unit:u,k:m,orientation:a}},n.html=function(a,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(dy):null;var c=new s(u);return u.worker?c:c.from(a).doCallback()}}(zt.API),zt.API.addJS=function(n){return qb=n,this.internal.events.subscribe("postPutResources",function(){Op=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Op+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Op!==void 0&&zb!==void 0&&this.internal.out("/Names <</JavaScript "+Op+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],u=r.exec(a);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,m=[];for(s=0;s<h;s++){var y=t.internal.newObject();m.push(y);var _=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<m.length;s++)t.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var u=this.count=this.count_r({count:0},a);if(u>0&&this.line("/Count "+u),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(zt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,u){var c,h=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(y){for(var _,w=256*y.charCodeAt(4)+y.charCodeAt(5),E=y.length,C={width:0,height:0,numcomponents:1},k=4;k<E;k+=2){if(k+=w,e.indexOf(y.charCodeAt(k+1))!==-1){_=256*y.charCodeAt(k+5)+y.charCodeAt(k+6),C={width:256*y.charCodeAt(k+7)+y.charCodeAt(k+8),height:_,numcomponents:y.charCodeAt(k+9)};break}w=256*y.charCodeAt(k+2)+y.charCodeAt(k+3)}return C}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}m={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:h,index:r,alias:i}}return m}}(zt.API);var gh,Mp,Hb,$b,Wb,U9=function(){var n,e,t;function r(s){var a,u,c,h,m,y,_,w,E,C,k,I,j,q;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(a=this.readUInt32(),E=(function(){var ee,ie;for(ie=[],ee=0;ee<4;++ee)ie.push(String.fromCharCode(this.data[this.pos++]));return ie}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),h=this.readUInt16()||100,y.delay=1e3*m/h,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,a-=4),s=(y!=null?y.data:void 0)||this.imgData,I=0;0<=a?I<a:I>a;0<=a?++I:--I)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((C=c-this.transparency.indexed.length)>0)for(j=0;0<=C?j<C:j>C;0<=C?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":_=(k=this.read(a)).indexOf(0),w=String.fromCharCode.apply(String,k.slice(0,_)),this.text[w]=String.fromCharCode.apply(String,k.slice(_+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(q=this.colorType)===4||q===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,u;for(u=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*a),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function m(y,_,w,E){var C,k,I,j,q,ee,ie,de,z,N,U,G,R,O,F,ue,Le,Ce,xe,ne,we,ge=Math.ceil((h.width-y)/w),oe=Math.ceil((h.height-_)/E),M=h.width==ge&&h.height==oe;for(O=a*ge,G=M?u:new Uint8Array(O*oe),ee=s.length,R=0,k=0;R<oe&&c<ee;){switch(s[c++]){case 0:for(j=Le=0;Le<O;j=Le+=1)G[k++]=s[c++];break;case 1:for(j=Ce=0;Ce<O;j=Ce+=1)C=s[c++],q=j<a?0:G[k-a],G[k++]=(C+q)%256;break;case 2:for(j=xe=0;xe<O;j=xe+=1)C=s[c++],I=(j-j%a)/a,F=R&&G[(R-1)*O+I*a+j%a],G[k++]=(F+C)%256;break;case 3:for(j=ne=0;ne<O;j=ne+=1)C=s[c++],I=(j-j%a)/a,q=j<a?0:G[k-a],F=R&&G[(R-1)*O+I*a+j%a],G[k++]=(C+Math.floor((q+F)/2))%256;break;case 4:for(j=we=0;we<O;j=we+=1)C=s[c++],I=(j-j%a)/a,q=j<a?0:G[k-a],R===0?F=ue=0:(F=G[(R-1)*O+I*a+j%a],ue=I&&G[(R-1)*O+(I-1)*a+j%a]),ie=q+F-ue,de=Math.abs(ie-q),N=Math.abs(ie-F),U=Math.abs(ie-ue),z=de<=N&&de<=U?q:N<=U?F:ue,G[k++]=(C+z)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!M){var X=((_+R*E)*h.width+y)*a,Z=R*O;for(j=0;j<ge;j+=1){for(var se=0;se<a;se+=1)u[X++]=G[Z++];X+=(w-1)*a}}R++}}return s=w9(s),h.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),u},r.prototype.decodePalette=function(){var s,a,u,c,h,m,y,_,w;for(u=this.palette,m=this.transparency.indexed||[],h=new Uint8Array((m.length||0)+u.length),c=0,s=0,a=y=0,_=u.length;y<_;a=y+=3)h[c++]=u[a],h[c++]=u[a+1],h[c++]=u[a+2],h[c++]=(w=m[s++])!=null?w:255;return h},r.prototype.copyToImageData=function(s,a){var u,c,h,m,y,_,w,E,C,k,I;if(c=this.colors,C=null,u=this.hasAlphaChannel,this.palette.length&&(C=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),c=4,u=!0),E=(h=s.data||s).length,y=C||a,m=_=0,c===1)for(;m<E;)w=C?4*a[m/4]:_,k=y[w++],h[m++]=k,h[m++]=k,h[m++]=k,h[m++]=u?y[w++]:255,_=w;else for(;m<E;)w=C?4*a[m/4]:_,h[m++]=y[w++],h[m++]=y[w++],h[m++]=y[w++],h[m++]=u?y[w++]:255,_=w},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ht)==="[object Window]"){try{e=Ht.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,u,c,h,m,y,_,w;if(this.animation){for(w=[],u=m=0,y=(_=this.animation.frames).length;m<y;u=++m)a=_[u],c=s.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,h),a.imageData=c,w.push(a.image=n(c));return w}},r.prototype.renderFrame=function(s,a){var u,c,h;return u=(c=this.animation.frames)[a],h=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(s){var a,u,c,h,m,y,_=this;return u=0,y=this.animation,h=y.numFrames,c=y.frames,m=y.numPlays,(a=function(){var w,E;if(w=u++%h,E=c[w],_.renderFrame(s,w),h>1&&u/h<m)return _.animation._timeout=setTimeout(a,E.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(u=a.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),a.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function z9(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<(7&i)+1;n[e++],n[e++];var u=null,c=null;s&&(u=e,c=a,e+=3*a);var h=!0,m=[],y=0,_=null,w=0,E=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,E=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=n[e++];y=n[e++]|n[e++]<<8,_=n[e++],(1&C)==0&&(_=null),w=C>>2&7,e++;break;case 254:for(;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var k=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,q=n[e++]|n[e++]<<8,ee=n[e++],ie=ee>>6&1,de=1<<(7&ee)+1,z=u,N=c,U=!1;ee>>7&&(U=!0,z=e,N=de,e+=3*de);var G=e;for(e++;;){var R;if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}m.push({x:k,y:I,width:j,height:q,has_local_palette:U,palette_offset:z,palette_size:N,data_offset:G,data_length:e-G,transparent_index:_,interlaced:!!ie,delay:y,disposal:w});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return E},this.frameInfo=function(O){if(O<0||O>=m.length)throw new Error("Frame index out of range.");return m[O]},this.decodeAndBlitFrameBGRA=function(O,F){var ue=this.frameInfo(O),Le=ue.width*ue.height,Ce=new Uint8Array(Le);Gb(n,ue.data_offset,Ce,Le);var xe=ue.palette_offset,ne=ue.transparent_index;ne===null&&(ne=256);var we=ue.width,ge=t-we,oe=we,M=4*(ue.y*t+ue.x),X=4*((ue.y+ue.height)*t+ue.x),Z=M,se=4*ge;ue.interlaced===!0&&(se+=4*t*7);for(var ce=8,_e=0,Ae=Ce.length;_e<Ae;++_e){var Ee=Ce[_e];if(oe===0&&(oe=we,(Z+=se)>=X&&(se=4*ge+4*t*(ce-1),Z=M+(we+ge)*(ce<<1),ce>>=1)),Ee===ne)Z+=4;else{var Ke=n[xe+3*Ee],Ye=n[xe+3*Ee+1],ut=n[xe+3*Ee+2];F[Z++]=ut,F[Z++]=Ye,F[Z++]=Ke,F[Z++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(O,F){var ue=this.frameInfo(O),Le=ue.width*ue.height,Ce=new Uint8Array(Le);Gb(n,ue.data_offset,Ce,Le);var xe=ue.palette_offset,ne=ue.transparent_index;ne===null&&(ne=256);var we=ue.width,ge=t-we,oe=we,M=4*(ue.y*t+ue.x),X=4*((ue.y+ue.height)*t+ue.x),Z=M,se=4*ge;ue.interlaced===!0&&(se+=4*t*7);for(var ce=8,_e=0,Ae=Ce.length;_e<Ae;++_e){var Ee=Ce[_e];if(oe===0&&(oe=we,(Z+=se)>=X&&(se=4*ge+4*t*(ce-1),Z=M+(we+ge)*(ce<<1),ce>>=1)),Ee===ne)Z+=4;else{var Ke=n[xe+3*Ee],Ye=n[xe+3*Ee+1],ut=n[xe+3*Ee+2];F[Z++]=Ke,F[Z++]=Ye,F[Z++]=ut,F[Z++]=255}--oe}}}function Gb(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,u=a+1,c=i+1,h=(1<<c)-1,m=0,y=0,_=0,w=n[e++],E=new Int32Array(4096),C=null;;){for(;m<16&&w!==0;)y|=n[e++]<<m,m+=8,w===1?w=n[e++]:--w;if(m<c)break;var k=y&h;if(y>>=c,m-=c,k!==s){if(k===a)break;for(var I=k<u?k:C,j=0,q=I;q>s;)q=E[q]>>8,++j;var ee=q;if(_+j+(I!==k?1:0)>r)return void Hn.log("Warning, gif stream longer than expected.");t[_++]=ee;var ie=_+=j;for(I!==k&&(t[_++]=ee),q=I;j--;)q=E[q],t[--ie]=255&q,q>>=8;C!==null&&u<4096&&(E[u++]=C<<8|ee,u>=h+1&&c<12&&(++c,h=h<<1|1)),C=k}else u=a+1,h=(1<<(c=i+1))-1,C=null}return _!==r&&Hn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function X0(n){var e,t,r,i,s,a=Math.floor,u=new Array(64),c=new Array(64),h=new Array(64),m=new Array(64),y=new Array(65535),_=new Array(65535),w=new Array(64),E=new Array(64),C=[],k=0,I=7,j=new Array(64),q=new Array(64),ee=new Array(64),ie=new Array(256),de=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ce(M,X){for(var Z=0,se=0,ce=new Array,_e=1;_e<=16;_e++){for(var Ae=1;Ae<=M[_e];Ae++)ce[X[se]]=[],ce[X[se]][0]=Z,ce[X[se]][1]=_e,se++,Z++;Z*=2}return ce}function xe(M){for(var X=M[0],Z=M[1]-1;Z>=0;)X&1<<Z&&(k|=1<<I),Z--,--I<0&&(k==255?(ne(255),ne(0)):ne(k),I=7,k=0)}function ne(M){C.push(M)}function we(M){ne(M>>8&255),ne(255&M)}function ge(M,X,Z,se,ce){for(var _e,Ae=ce[0],Ee=ce[240],Ke=function(Je,nt){var lt,ct,St,Ot,De,qe,Qe,mt,pt,kt,at=0;for(pt=0;pt<8;++pt){lt=Je[at],ct=Je[at+1],St=Je[at+2],Ot=Je[at+3],De=Je[at+4],qe=Je[at+5],Qe=Je[at+6];var $n=lt+(mt=Je[at+7]),rn=lt-mt,Mr=ct+Qe,dn=ct-Qe,Ve=St+qe,it=St-qe,$e=Ot+De,Pt=Ot-De,wt=$n+$e,Ut=$n-$e,vn=Mr+Ve,sn=Mr-Ve;Je[at]=wt+vn,Je[at+4]=wt-vn;var xt=.707106781*(sn+Ut);Je[at+2]=Ut+xt,Je[at+6]=Ut-xt;var Zt=.382683433*((wt=Pt+it)-(sn=dn+rn)),xr=.5411961*wt+Zt,Vn=1.306562965*sn+Zt,Kn=.707106781*(vn=it+dn),Yr=rn+Kn,vt=rn-Kn;Je[at+5]=vt+xr,Je[at+3]=vt-xr,Je[at+1]=Yr+Vn,Je[at+7]=Yr-Vn,at+=8}for(at=0,pt=0;pt<8;++pt){lt=Je[at],ct=Je[at+8],St=Je[at+16],Ot=Je[at+24],De=Je[at+32],qe=Je[at+40],Qe=Je[at+48];var Qr=lt+(mt=Je[at+56]),dr=lt-mt,pr=ct+Qe,Bn=ct-Qe,Un=St+qe,Yn=St-qe,ro=Ot+De,Ms=Ot-De,Xr=Qr+ro,Ii=Qr-ro,ar=pr+Un,Jr=pr-Un;Je[at]=Xr+ar,Je[at+32]=Xr-ar;var nr=.707106781*(Jr+Ii);Je[at+16]=Ii+nr,Je[at+48]=Ii-nr;var Xi=.382683433*((Xr=Ms+Yn)-(Jr=Bn+dr)),js=.5411961*Xr+Xi,Fs=1.306562965*Jr+Xi,Vs=.707106781*(ar=Yn+Bn),io=dr+Vs,Do=dr-Vs;Je[at+40]=Do+js,Je[at+24]=Do-js,Je[at+8]=io+Fs,Je[at+56]=io-Fs,at++}for(pt=0;pt<64;++pt)kt=Je[pt]*nt[pt],w[pt]=kt>0?kt+.5|0:kt-.5|0;return w}(M,X),Ye=0;Ye<64;++Ye)E[z[Ye]]=Ke[Ye];var ut=E[0]-Z;Z=E[0],ut==0?xe(se[0]):(xe(se[_[_e=32767+ut]]),xe(y[_e]));for(var st=63;st>0&&E[st]==0;)st--;if(st==0)return xe(Ae),Z;for(var Ct,je=1;je<=st;){for(var le=je;E[je]==0&&je<=st;)++je;var Mt=je-le;if(Mt>=16){Ct=Mt>>4;for(var gt=1;gt<=Ct;++gt)xe(Ee);Mt&=15}_e=32767+E[je],xe(ce[(Mt<<4)+_[_e]]),xe(y[_e]),je++}return st!=63&&xe(Ae),Z}function oe(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(X){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ce=a((Z[se]*X+50)/100);ce=Math.min(Math.max(ce,1),255),u[z[se]]=ce}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Ee=a((_e[Ae]*X+50)/100);Ee=Math.min(Math.max(Ee,1),255),c[z[Ae]]=Ee}for(var Ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,ut=0;ut<8;ut++)for(var st=0;st<8;st++)h[Ye]=1/(u[z[Ye]]*Ke[ut]*Ke[st]*8),m[Ye]=1/(c[z[Ye]]*Ke[ut]*Ke[st]*8),Ye++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,X){X&&oe(X),C=new Array,k=0,I=7,we(65496),we(65504),we(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),we(1),we(1),ne(0),ne(0),function(){we(65499),we(132),ne(0);for(var ct=0;ct<64;ct++)ne(u[ct]);ne(1);for(var St=0;St<64;St++)ne(c[St])}(),function(ct,St){we(65472),we(17),ne(8),we(St),we(ct),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(M.width,M.height),function(){we(65476),we(418),ne(0);for(var ct=0;ct<16;ct++)ne(N[ct+1]);for(var St=0;St<=11;St++)ne(U[St]);ne(16);for(var Ot=0;Ot<16;Ot++)ne(G[Ot+1]);for(var De=0;De<=161;De++)ne(R[De]);ne(1);for(var qe=0;qe<16;qe++)ne(O[qe+1]);for(var Qe=0;Qe<=11;Qe++)ne(F[Qe]);ne(17);for(var mt=0;mt<16;mt++)ne(ue[mt+1]);for(var pt=0;pt<=161;pt++)ne(Le[pt])}(),we(65498),we(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var Z=0,se=0,ce=0;k=0,I=7,this.encode.displayName="_encode_";for(var _e,Ae,Ee,Ke,Ye,ut,st,Ct,je,le=M.data,Mt=M.width,gt=M.height,Je=4*Mt,nt=0;nt<gt;){for(_e=0;_e<Je;){for(Ye=Je*nt+_e,st=-1,Ct=0,je=0;je<64;je++)ut=Ye+(Ct=je>>3)*Je+(st=4*(7&je)),nt+Ct>=gt&&(ut-=Je*(nt+1+Ct-gt)),_e+st>=Je&&(ut-=_e+st-Je+4),Ae=le[ut++],Ee=le[ut++],Ke=le[ut++],j[je]=(de[Ae]+de[Ee+256>>0]+de[Ke+512>>0]>>16)-128,q[je]=(de[Ae+768>>0]+de[Ee+1024>>0]+de[Ke+1280>>0]>>16)-128,ee[je]=(de[Ae+1280>>0]+de[Ee+1536>>0]+de[Ke+1792>>0]>>16)-128;Z=ge(j,h,Z,e,r),se=ge(q,m,se,t,i),ce=ge(ee,m,ce,t,i),_e+=32}nt+=8}if(I>=0){var lt=[];lt[1]=I+1,lt[0]=(1<<I+1)-1,xe(lt)}return we(65497),new Uint8Array(C)},n=n||50,function(){for(var M=String.fromCharCode,X=0;X<256;X++)ie[X]=M(X)}(),e=Ce(N,U),t=Ce(O,F),r=Ce(G,R),i=Ce(ue,Le),function(){for(var M=1,X=2,Z=1;Z<=15;Z++){for(var se=M;se<X;se++)_[32767+se]=Z,y[32767+se]=[],y[32767+se][1]=Z,y[32767+se][0]=se;for(var ce=-(X-1);ce<=-M;ce++)_[32767+ce]=Z,y[32767+ce]=[],y[32767+ce][1]=Z,y[32767+ce][0]=X-1+ce;M<<=1,X<<=1}}(),function(){for(var M=0;M<256;M++)de[M]=19595*M,de[M+256>>0]=38470*M,de[M+512>>0]=7471*M+32768,de[M+768>>0]=-11059*M,de[M+1024>>0]=-21709*M,de[M+1280>>0]=32768*M+8421375,de[M+1536>>0]=-27439*M,de[M+1792>>0]=-5329*M}(),oe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function la(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kb(n){function e(N){if(!N)throw Error("assert :P")}function t(N,U,G){for(var R=0;4>R;R++)if(N[U+R]!=G.charCodeAt(R))return!0;return!1}function r(N,U,G,R,O){for(var F=0;F<O;F++)N[U+F]=G[R+F]}function i(N,U,G,R){for(var O=0;O<R;O++)N[U+O]=G}function s(N){return new Int32Array(N)}function a(N,U){for(var G=[],R=0;R<N;R++)G.push(new U);return G}function u(N,U){var G=[];return function R(O,F,ue){for(var Le=ue[F],Ce=0;Ce<Le&&(O.push(ue.length>F+1?[]:new U),!(ue.length<F+1));Ce++)R(O[Ce],F+1,ue)}(G,0,N),G}var c=function(){var N=this;function U(d,v){for(var x=1<<v-1>>>0;d&x;)x>>>=1;return x?(d&x-1)+x:d}function G(d,v,x,P,V){e(!(P%x));do d[v+(P-=x)]=V;while(0<P)}function R(d,v,x,P,V){if(e(2328>=V),512>=V)var H=s(512);else if((H=s(V))==null)return 0;return function(W,K,Q,J,fe,Ie){var Pe,Se,He=K,Me=1<<Q,me=s(16),ye=s(16);for(e(fe!=0),e(J!=null),e(W!=null),e(0<Q),Se=0;Se<fe;++Se){if(15<J[Se])return 0;++me[J[Se]]}if(me[0]==fe)return 0;for(ye[1]=0,Pe=1;15>Pe;++Pe){if(me[Pe]>1<<Pe)return 0;ye[Pe+1]=ye[Pe]+me[Pe]}for(Se=0;Se<fe;++Se)Pe=J[Se],0<J[Se]&&(Ie[ye[Pe]++]=Se);if(ye[15]==1)return(J=new O).g=0,J.value=Ie[0],G(W,He,1,Me,J),Me;var Ue,Be=-1,ze=Me-1,yt=0,ft=1,Dt=1,dt=1<<Q;for(Se=0,Pe=1,fe=2;Pe<=Q;++Pe,fe<<=1){if(ft+=Dt<<=1,0>(Dt-=me[Pe]))return 0;for(;0<me[Pe];--me[Pe])(J=new O).g=Pe,J.value=Ie[Se++],G(W,He+yt,fe,dt,J),yt=U(yt,Pe)}for(Pe=Q+1,fe=2;15>=Pe;++Pe,fe<<=1){if(ft+=Dt<<=1,0>(Dt-=me[Pe]))return 0;for(;0<me[Pe];--me[Pe]){if(J=new O,(yt&ze)!=Be){for(He+=dt,Ue=1<<(Be=Pe)-Q;15>Be&&!(0>=(Ue-=me[Be]));)++Be,Ue<<=1;Me+=dt=1<<(Ue=Be-Q),W[K+(Be=yt&ze)].g=Ue+Q,W[K+Be].value=He-K-Be}J.g=Pe-Q,J.value=Ie[Se++],G(W,He+(yt>>Q),fe,dt,J),yt=U(yt,Pe)}}return ft!=2*ye[15]-1?0:Me}(d,v,x,P,V,H)}function O(){this.value=this.g=0}function F(){this.value=this.g=0}function ue(){this.G=a(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(sr,F)}function Le(d,v,x,P){e(d!=null),e(v!=null),e(2147483648>P),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=v,d.pa=x,d.Jd=v,d.Yc=x+P,d.Zc=4<=P?x+P-4+1:x,_e(d)}function Ce(d,v){for(var x=0;0<v--;)x|=Ee(d,128)<<v;return x}function xe(d,v){var x=Ce(d,v);return Ae(d)?-x:x}function ne(d,v,x,P){var V,H=0;for(e(d!=null),e(v!=null),e(4294967288>P),d.Sb=P,d.Ra=0,d.u=0,d.h=0,4<P&&(P=4),V=0;V<P;++V)H+=v[x+V]<<8*V;d.Ra=H,d.bb=P,d.oa=v,d.pa=x}function we(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Jl-8>>>0,++d.bb,d.u-=8;Z(d)&&(d.h=1,d.u=0)}function ge(d,v){if(e(0<=v),!d.h&&v<=Xl){var x=X(d)&Ql[v];return d.u+=v,we(d),x}return d.h=1,d.u=0}function oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(d){return d.Ra>>>(d.u&Jl-1)>>>0}function Z(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Jl}function se(d,v){d.u=v,d.h=Z(d)}function ce(d){d.u>=Zl&&(e(d.u>=Zl),we(d))}function _e(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Ae(d){return Ce(d,1)}function Ee(d,v){var x=d.Ca;0>d.b&&_e(d);var P=d.b,V=x*v>>>8,H=(d.I>>>P>V)+0;for(H?(x-=V,d.I-=V+1<<P>>>0):x=V+1,P=x,V=0;256<=P;)V+=8,P>>=8;return P=7^V+mi[P],d.b-=P,d.Ca=(x<<P)-1,H}function Ke(d,v,x){d[v+0]=x>>24&255,d[v+1]=x>>16&255,d[v+2]=x>>8&255,d[v+3]=x>>0&255}function Ye(d,v){return d[v+0]<<0|d[v+1]<<8}function ut(d,v){return Ye(d,v)|d[v+2]<<16}function st(d,v){return Ye(d,v)|Ye(d,v+2)<<16}function Ct(d,v){var x=1<<v;return e(d!=null),e(0<v),d.X=s(x),d.X==null?0:(d.Mb=32-v,d.Xa=v,1)}function je(d,v){e(d!=null),e(v!=null),e(d.Xa==v.Xa),r(v.X,0,d.X,0,1<<v.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function Mt(d,v,x,P){e(x!=null),e(P!=null);var V=x[0],H=P[0];return V==0&&(V=(d*H+v/2)/v),H==0&&(H=(v*V+d/2)/d),0>=V||0>=H?0:(x[0]=V,P[0]=H,1)}function gt(d,v){return d+(1<<v)-1>>>v}function Je(d,v){return((4278255360&d)+(4278255360&v)>>>0&4278255360)+((16711935&d)+(16711935&v)>>>0&16711935)>>>0}function nt(d,v){N[v]=function(x,P,V,H,W,K,Q){var J;for(J=0;J<W;++J){var fe=N[d](K[Q+J-1],V,H+J);K[Q+J]=Je(x[P+J],fe)}}}function lt(){this.ud=this.hd=this.jd=0}function ct(d,v){return((4278124286&(d^v))>>>1)+(d&v)>>>0}function St(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Ot(d,v){return St(d+(d-v+.5>>1))}function De(d,v,x){return Math.abs(v-x)-Math.abs(d-x)}function qe(d,v,x,P,V,H,W){for(P=H[W-1],x=0;x<V;++x)H[W+x]=P=Je(d[v+x],P)}function Qe(d,v,x,P,V){var H;for(H=0;H<x;++H){var W=d[v+H],K=W>>8&255,Q=16711935&(Q=(Q=16711935&W)+((K<<16)+K));P[V+H]=(4278255360&W)+Q>>>0}}function mt(d,v){v.jd=d>>0&255,v.hd=d>>8&255,v.ud=d>>16&255}function pt(d,v,x,P,V,H){var W;for(W=0;W<P;++W){var K=v[x+W],Q=K>>>8,J=K,fe=255&(fe=(fe=K>>>16)+((d.jd<<24>>24)*(Q<<24>>24)>>>5));J=255&(J=(J=J+((d.hd<<24>>24)*(Q<<24>>24)>>>5))+((d.ud<<24>>24)*(fe<<24>>24)>>>5)),V[H+W]=(4278255360&K)+(fe<<16)+J}}function kt(d,v,x,P,V){N[v]=function(H,W,K,Q,J,fe,Ie,Pe,Se){for(Q=Ie;Q<Pe;++Q)for(Ie=0;Ie<Se;++Ie)J[fe++]=V(K[P(H[W++])])},N[d]=function(H,W,K,Q,J,fe,Ie){var Pe=8>>H.b,Se=H.Ea,He=H.K[0],Me=H.w;if(8>Pe)for(H=(1<<H.b)-1,Me=(1<<Pe)-1;W<K;++W){var me,ye=0;for(me=0;me<Se;++me)me&H||(ye=P(Q[J++])),fe[Ie++]=V(He[ye&Me]),ye>>=Pe}else N["VP8LMapColor"+x](Q,J,He,Me,fe,Ie,W,K,Se)}}function at(d,v,x,P,V){for(x=v+x;v<x;){var H=d[v++];P[V++]=H>>16&255,P[V++]=H>>8&255,P[V++]=H>>0&255}}function $n(d,v,x,P,V){for(x=v+x;v<x;){var H=d[v++];P[V++]=H>>16&255,P[V++]=H>>8&255,P[V++]=H>>0&255,P[V++]=H>>24&255}}function rn(d,v,x,P,V){for(x=v+x;v<x;){var H=(W=d[v++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;P[V++]=H,P[V++]=W}}function Mr(d,v,x,P,V){for(x=v+x;v<x;){var H=(W=d[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;P[V++]=H,P[V++]=W}}function dn(d,v,x,P,V){for(x=v+x;v<x;){var H=d[v++];P[V++]=H>>0&255,P[V++]=H>>8&255,P[V++]=H>>16&255}}function Ve(d,v,x,P,V,H){if(H==0)for(x=v+x;v<x;)Ke(P,((H=d[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),V+=32;else r(P,V,d,v,x)}function it(d,v){N[v][0]=N[d+"0"],N[v][1]=N[d+"1"],N[v][2]=N[d+"2"],N[v][3]=N[d+"3"],N[v][4]=N[d+"4"],N[v][5]=N[d+"5"],N[v][6]=N[d+"6"],N[v][7]=N[d+"7"],N[v][8]=N[d+"8"],N[v][9]=N[d+"9"],N[v][10]=N[d+"10"],N[v][11]=N[d+"11"],N[v][12]=N[d+"12"],N[v][13]=N[d+"13"],N[v][14]=N[d+"0"],N[v][15]=N[d+"0"]}function $e(d){return d==su||d==hl||d==ac||d==lc}function Pt(){this.eb=[],this.size=this.A=this.fb=0}function wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ut(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pt,this.f.kb=new wt,this.sd=null}function vn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Zt(d,v){var x=d.T,P=v.ba.f.RGBA,V=P.eb,H=P.fb+d.ka*P.A,W=Ri[v.ba.S],K=d.y,Q=d.O,J=d.f,fe=d.N,Ie=d.ea,Pe=d.W,Se=v.cc,He=v.dc,Me=v.Mc,me=v.Nc,ye=d.ka,Ue=d.ka+d.T,Be=d.U,ze=Be+1>>1;for(ye==0?W(K,Q,null,null,J,fe,Ie,Pe,J,fe,Ie,Pe,V,H,null,null,Be):(W(v.ec,v.fc,K,Q,Se,He,Me,me,J,fe,Ie,Pe,V,H-P.A,V,H,Be),++x);ye+2<Ue;ye+=2)Se=J,He=fe,Me=Ie,me=Pe,fe+=d.Rc,Pe+=d.Rc,H+=2*P.A,W(K,(Q+=2*d.fa)-d.fa,K,Q,Se,He,Me,me,J,fe,Ie,Pe,V,H-P.A,V,H,Be);return Q+=d.fa,d.j+Ue<d.o?(r(v.ec,v.fc,K,Q,Be),r(v.cc,v.dc,J,fe,ze),r(v.Mc,v.Nc,Ie,Pe,ze),x--):1&Ue||W(K,Q,null,null,J,fe,Ie,Pe,J,fe,Ie,Pe,V,H+P.A,null,null,Be),x}function xr(d,v,x){var P=d.F,V=[d.J];if(P!=null){var H=d.U,W=v.ba.S,K=W==oc||W==ac;v=v.ba.f.RGBA;var Q=[0],J=d.ka;Q[0]=d.T,d.Kb&&(J==0?--Q[0]:(--J,V[0]-=d.width),d.j+d.ka+d.T==d.o&&(Q[0]=d.o-d.j-J));var fe=v.eb;J=v.fb+J*v.A,d=Cn(P,V[0],d.width,H,Q,fe,J+(K?0:3),v.A),e(x==Q),d&&$e(W)&&ki(fe,J,K,H,Q,v.A)}return 0}function Vn(d){var v=d.ma,x=v.ba.S,P=11>x,V=x==Ca||x==sc||x==oc||x==jn||x==12||$e(x);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Kl(v.Oa,d,V?11:12))return 0;if(V&&$e(x)&&Xe(),d.da)alert("todo:use_scaling");else{if(P){if(v.Ib=xt,d.Kb){if(x=d.U+1>>1,v.memory=s(d.U+2*x),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+d.U,v.Mc=v.cc,v.Nc=v.dc+x,v.Ib=Zt,Xe()}}else alert("todo:EmitYUV");V&&(v.Jb=xr,P&&Te())}if(P&&!Hr){for(d=0;256>d;++d)Di[d]=89858*(d-128)+Ys>>Qo,Oi[d]=-22014*(d-128)+Ys,uu[d]=-45773*(d-128),ml[d]=113618*(d-128)+Ys>>Qo;for(d=Nn;d<Rn;++d)v=76283*(d-16)+Ys>>Qo,Zc[d-Nn]=Sn(v,255),Wd[d-Nn]=Sn(v+8>>4,15);Hr=1}return 1}function Kn(d){var v=d.ma,x=d.U,P=d.T;return e(!(1&d.ka)),0>=x||0>=P?0:(x=v.Ib(d,v),v.Jb!=null&&v.Jb(d,v,x),v.Dc+=x,1)}function Yr(d){d.ma.memory=null}function vt(d,v,x,P){return ge(d,8)!=47?0:(v[0]=ge(d,14)+1,x[0]=ge(d,14)+1,P[0]=ge(d,1),ge(d,3)!=0?0:!d.h)}function Qr(d,v){if(4>d)return d+1;var x=d-2>>1;return(2+(1&d)<<x)+ge(v,x)+1}function dr(d,v){return 120<v?v-120:1<=(x=((x=Tg[v-1])>>4)*d+(8-(15&x)))?x:1;var x}function pr(d,v,x){var P=X(x),V=d[v+=255&P].g-8;return 0<V&&(se(x,x.u+8),P=X(x),v+=d[v].value,v+=P&(1<<V)-1),se(x,x.u+d[v].g),d[v].value}function Bn(d,v,x){return x.g+=d.g,x.value+=d.value<<v>>>0,e(8>=x.g),d.g}function Un(d,v,x){var P=d.xc;return e((v=P==0?0:d.vc[d.md*(x>>P)+(v>>P)])<d.Wb),d.Ya[v]}function Yn(d,v,x,P){var V=d.ab,H=d.c*v,W=d.C;v=W+v;var K=x,Q=P;for(P=d.Ta,x=d.Ua;0<V--;){var J=d.gc[V],fe=W,Ie=v,Pe=K,Se=Q,He=(Q=P,K=x,J.Ea);switch(e(fe<Ie),e(Ie<=J.nc),J.hc){case 2:Kc(Pe,Se,(Ie-fe)*He,Q,K);break;case 0:var Me=fe,me=Ie,ye=Q,Ue=K,Be=(dt=J).Ea;Me==0&&(sl(Pe,Se,null,null,1,ye,Ue),qe(Pe,Se+1,0,0,Be-1,ye,Ue+1),Se+=Be,Ue+=Be,++Me);for(var ze=1<<dt.b,yt=ze-1,ft=gt(Be,dt.b),Dt=dt.K,dt=dt.w+(Me>>dt.b)*ft;Me<me;){var mn=Dt,gn=dt,cn=1;for(zo(Pe,Se,ye,Ue-Be,1,ye,Ue);cn<Be;){var nn=(cn&~yt)+ze;nn>Be&&(nn=Be),(0,yo[mn[gn++]>>8&15])(Pe,Se+ +cn,ye,Ue+cn-Be,nn-cn,ye,Ue+cn),cn=nn}Se+=Be,Ue+=Be,++Me&yt||(dt+=ft)}Ie!=J.nc&&r(Q,K-He,Q,K+(Ie-fe-1)*He,He);break;case 1:for(He=Pe,me=Se,Be=(Pe=J.Ea)-(Ue=Pe&~(ye=(Se=1<<J.b)-1)),Me=gt(Pe,J.b),ze=J.K,J=J.w+(fe>>J.b)*Me;fe<Ie;){for(yt=ze,ft=J,Dt=new lt,dt=me+Ue,mn=me+Pe;me<dt;)mt(yt[ft++],Dt),Ea(Dt,He,me,Se,Q,K),me+=Se,K+=Se;me<mn&&(mt(yt[ft++],Dt),Ea(Dt,He,me,Be,Q,K),me+=Be,K+=Be),++fe&ye||(J+=Me)}break;case 3:if(Pe==Q&&Se==K&&0<J.b){for(me=Q,Pe=He=K+(Ie-fe)*He-(Ue=(Ie-fe)*gt(J.Ea,J.b)),Se=Q,ye=K,Me=[],Ue=(Be=Ue)-1;0<=Ue;--Ue)Me[Ue]=Se[ye+Ue];for(Ue=Be-1;0<=Ue;--Ue)me[Pe+Ue]=Me[Ue];gi(J,fe,Ie,Q,He,Q,K)}else gi(J,fe,Ie,Pe,Se,Q,K)}K=P,Q=x}Q!=x&&r(P,x,K,Q,H)}function ro(d,v){var x=d.V,P=d.Ba+d.c*d.C,V=v-d.C;if(e(v<=d.l.o),e(16>=V),0<V){var H=d.l,W=d.Ta,K=d.Ua,Q=H.width;if(Yn(d,V,x,P),V=K=[K],e((x=d.C)<(P=v)),e(H.v<H.va),P>H.o&&(P=H.o),x<H.j){var J=H.j-x;x=H.j,V[0]+=J*Q}if(x>=P?x=0:(V[0]+=4*H.v,H.ka=x-H.j,H.U=H.va-H.v,H.T=P-x,x=1),x){if(K=K[0],11>(x=d.ca).S){var fe=x.f.RGBA,Ie=(P=x.S,V=H.U,H=H.T,J=fe.eb,fe.A),Pe=H;for(fe=fe.fb+d.Ma*fe.A;0<Pe--;){var Se=W,He=K,Me=V,me=J,ye=fe;switch(P){case Yc:yi(Se,He,Me,me,ye);break;case Ca:ni(Se,He,Me,me,ye);break;case su:ni(Se,He,Me,me,ye),ki(me,ye,0,Me,1,0);break;case Ud:Ho(Se,He,Me,me,ye);break;case sc:Ve(Se,He,Me,me,ye,1);break;case hl:Ve(Se,He,Me,me,ye,1),ki(me,ye,0,Me,1,0);break;case oc:Ve(Se,He,Me,me,ye,0);break;case ac:Ve(Se,He,Me,me,ye,0),ki(me,ye,1,Me,1,0);break;case jn:Ia(Se,He,Me,me,ye);break;case lc:Ia(Se,He,Me,me,ye),Mn(me,ye,Me,1,0);break;case Qc:qo(Se,He,Me,me,ye);break;default:e(0)}K+=Q,fe+=Ie}d.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=x.height)}}d.C=v,e(d.C<=d.i)}function Ms(d){var v;if(0<d.ua)return 0;for(v=0;v<d.Wb;++v){var x=d.Ya[v].G,P=d.Ya[v].H;if(0<x[1][P[1]+0].g||0<x[2][P[2]+0].g||0<x[3][P[3]+0].g)return 0}return 1}function Xr(d,v,x,P,V,H){if(d.Z!=0){var W=d.qd,K=d.rd;for(e(ii[d.Z]!=null);v<x;++v)ii[d.Z](W,K,P,V,P,V,H),W=P,K=V,V+=H;d.qd=W,d.rd=K}}function Ii(d,v){var x=d.l.ma,P=x.Z==0||x.Z==1?d.l.j:d.C;if(P=d.C<P?P:d.C,e(v<=d.l.o),v>P){var V=d.l.width,H=x.ca,W=x.tb+V*P,K=d.V,Q=d.Ba+d.c*P,J=d.gc;e(d.ab==1),e(J[0].hc==3),nc(J[0],P,v,K,Q,H,W),Xr(x,P,v,H,W,V)}d.C=d.Ma=v}function ar(d,v,x,P,V,H,W){var K=d.$/P,Q=d.$%P,J=d.m,fe=d.s,Ie=x+d.$,Pe=Ie;V=x+P*V;var Se=x+P*H,He=280+fe.ua,Me=d.Pb?K:16777216,me=0<fe.ua?fe.Wa:null,ye=fe.wc,Ue=Ie<Se?Un(fe,Q,K):null;e(d.C<H),e(Se<=V);var Be=!1;e:for(;;){for(;Be||Ie<Se;){var ze=0;if(K>=Me){var yt=Ie-x;e((Me=d).Pb),Me.wd=Me.m,Me.xd=yt,0<Me.s.ua&&je(Me.s.Wa,Me.s.vb),Me=K+Jc}if(Q&ye||(Ue=Un(fe,Q,K)),e(Ue!=null),Ue.Qb&&(v[Ie]=Ue.qb,Be=!0),!Be)if(ce(J),Ue.jc){ze=J,yt=v;var ft=Ie,Dt=Ue.pd[X(ze)&sr-1];e(Ue.jc),256>Dt.g?(se(ze,ze.u+Dt.g),yt[ft]=Dt.value,ze=0):(se(ze,ze.u+Dt.g-256),e(256<=Dt.value),ze=Dt.value),ze==0&&(Be=!0)}else ze=pr(Ue.G[0],Ue.H[0],J);if(J.h)break;if(Be||256>ze){if(!Be)if(Ue.nd)v[Ie]=(Ue.qb|ze<<8)>>>0;else{if(ce(J),Be=pr(Ue.G[1],Ue.H[1],J),ce(J),yt=pr(Ue.G[2],Ue.H[2],J),ft=pr(Ue.G[3],Ue.H[3],J),J.h)break;v[Ie]=(ft<<24|Be<<16|ze<<8|yt)>>>0}if(Be=!1,++Ie,++Q>=P&&(Q=0,++K,W!=null&&K<=H&&!(K%16)&&W(d,K),me!=null))for(;Pe<Ie;)ze=v[Pe++],me.X[(506832829*ze&4294967295)>>>me.Mb]=ze}else if(280>ze){if(ze=Qr(ze-256,J),yt=pr(Ue.G[4],Ue.H[4],J),ce(J),yt=dr(P,yt=Qr(yt,J)),J.h)break;if(Ie-x<yt||V-Ie<ze)break e;for(ft=0;ft<ze;++ft)v[Ie+ft]=v[Ie+ft-yt];for(Ie+=ze,Q+=ze;Q>=P;)Q-=P,++K,W!=null&&K<=H&&!(K%16)&&W(d,K);if(e(Ie<=V),Q&ye&&(Ue=Un(fe,Q,K)),me!=null)for(;Pe<Ie;)ze=v[Pe++],me.X[(506832829*ze&4294967295)>>>me.Mb]=ze}else{if(!(ze<He))break e;for(Be=ze-280,e(me!=null);Pe<Ie;)ze=v[Pe++],me.X[(506832829*ze&4294967295)>>>me.Mb]=ze;ze=Ie,e(!(Be>>>(yt=me).Xa)),v[ze]=yt.X[Be],Be=!0}Be||e(J.h==Z(J))}if(d.Pb&&J.h&&Ie<V)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&je(d.s.vb,d.s.Wa);else{if(J.h)break e;W!=null&&W(d,K>H?H:K),d.a=0,d.$=Ie-x}return 1}return d.a=3,0}function Jr(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var v=d.Wa;v!=null&&(v.X=null),d.vb=null,e(d!=null)}function nr(){var d=new Gl;return d==null?null:(d.a=0,d.xb=au,it("Predictor","VP8LPredictors"),it("Predictor","VP8LPredictors_C"),it("PredictorAdd","VP8LPredictorsAdd"),it("PredictorAdd","VP8LPredictorsAdd_C"),Kc=Qe,Ea=pt,yi=at,ni=$n,Ia=rn,qo=Mr,Ho=dn,N.VP8LMapColor32b=eu,N.VP8LMapColor8b=tu,d)}function Xi(d,v,x,P,V){var H=1,W=[d],K=[v],Q=P.m,J=P.s,fe=null,Ie=0;e:for(;;){if(x)for(;H&&ge(Q,1);){var Pe=W,Se=K,He=P,Me=1,me=He.m,ye=He.gc[He.ab],Ue=ge(me,2);if(He.Oc&1<<Ue)H=0;else{switch(He.Oc|=1<<Ue,ye.hc=Ue,ye.Ea=Pe[0],ye.nc=Se[0],ye.K=[null],++He.ab,e(4>=He.ab),Ue){case 0:case 1:ye.b=ge(me,3)+2,Me=Xi(gt(ye.Ea,ye.b),gt(ye.nc,ye.b),0,He,ye.K),ye.K=ye.K[0];break;case 3:var Be,ze=ge(me,8)+1,yt=16<ze?0:4<ze?1:2<ze?2:3;if(Pe[0]=gt(ye.Ea,yt),ye.b=yt,Be=Me=Xi(ze,1,0,He,ye.K)){var ft,Dt=ze,dt=ye,mn=1<<(8>>dt.b),gn=s(mn);if(gn==null)Be=0;else{var cn=dt.K[0],nn=dt.w;for(gn[0]=dt.K[0][0],ft=1;ft<1*Dt;++ft)gn[ft]=Je(cn[nn+ft],gn[ft-1]);for(;ft<4*mn;++ft)gn[ft]=0;dt.K[0]=null,dt.K[0]=gn,Be=1}}Me=Be;break;case 2:break;default:e(0)}H=Me}}if(W=W[0],K=K[0],H&&ge(Q,1)&&!(H=1<=(Ie=ge(Q,4))&&11>=Ie)){P.a=3;break e}var kn;if(kn=H)t:{var Dn,Wt,Xn,_i=P,lr=W,Tr=K,xn=Ie,si=x,oi=_i.m,Jn=_i.s,Ar=[null],$r=1,Mi=0,xs=qd[xn];n:for(;;){if(si&&ge(oi,1)){var Zn=ge(oi,3)+2,yr=gt(lr,Zn),ss=gt(Tr,Zn),La=yr*ss;if(!Xi(yr,ss,0,_i,Ar))break n;for(Ar=Ar[0],Jn.xc=Zn,Dn=0;Dn<La;++Dn){var Jo=Ar[Dn]>>8&65535;Ar[Dn]=Jo,Jo>=$r&&($r=Jo+1)}}if(oi.h)break n;for(Wt=0;5>Wt;++Wt){var Tn=fl[Wt];!Wt&&0<xn&&(Tn+=1<<xn),Mi<Tn&&(Mi=Tn)}var So=a($r*xs,O),eh=$r,mf=a(eh,ue);if(mf==null)var Ts=null;else e(65536>=eh),Ts=mf;var As=s(Mi);if(Ts==null||As==null||So==null){_i.a=1;break n}var yl=So;for(Dn=Xn=0;Dn<$r;++Dn){var Es=Ts[Dn],Zo=Es.G,vl=Es.H,cu=0,os=1,hu=0;for(Wt=0;5>Wt;++Wt){Tn=fl[Wt],Zo[Wt]=yl,vl[Wt]=Xn,!Wt&&0<xn&&(Tn+=1<<xn);i:{var Ra,ea=Tn,fu=_i,xo=As,Kd=yl,gf=Xn,qn=0,Qs=fu.m,yf=ge(Qs,1);if(i(xo,0,0,ea),yf){var vf=ge(Qs,1)+1,th=ge(Qs,1),nh=ge(Qs,th==0?1:8);xo[nh]=1,vf==2&&(xo[nh=ge(Qs,8)]=1);var To=1}else{var Wn=s(19),vr=ge(Qs,4)+4;if(19<vr){fu.a=3;var ur=0;break i}for(Ra=0;Ra<vr;++Ra)Wn[xg[Ra]]=ge(Qs,3);var du=void 0,ta=void 0,pu=fu,Cg=Wn,Er=ea,rh=xo,dc=0,Ao=pu.m,Xs=8,as=a(128,O);r:for(;R(as,0,7,Cg,19);){if(ge(Ao,1)){var pc=2+2*ge(Ao,3);if((du=2+ge(Ao,pc))>Er)break r}else du=Er;for(ta=0;ta<Er&&du--;){ce(Ao);var ih=as[0+(127&X(Ao))];se(Ao,Ao.u+ih.g);var Da=ih.value;if(16>Da)rh[ta++]=Da,Da!=0&&(Xs=Da);else{var Yd=Da==16,wf=Da-16,Qd=Xc[wf],_f=ge(Ao,uc[wf])+Qd;if(ta+_f>Er)break r;for(var Xd=Yd?Xs:0;0<_f--;)rh[ta++]=Xd}}dc=1;break r}dc||(pu.a=3),To=dc}(To=To&&!Qs.h)&&(qn=R(Kd,gf,8,xo,ea)),To&&qn!=0?ur=qn:(fu.a=3,ur=0)}if(ur==0)break n;if(os&&zd[Wt]==1&&(os=yl[Xn].g==0),cu+=yl[Xn].g,Xn+=ur,3>=Wt){var mu,sh=As[0];for(mu=1;mu<Tn;++mu)As[mu]>sh&&(sh=As[mu]);hu+=sh}}if(Es.nd=os,Es.Qb=0,os&&(Es.qb=(Zo[3][vl[3]+0].value<<24|Zo[1][vl[1]+0].value<<16|Zo[2][vl[2]+0].value)>>>0,cu==0&&256>Zo[0][vl[0]+0].value&&(Es.Qb=1,Es.qb+=Zo[0][vl[0]+0].value<<8)),Es.jc=!Es.Qb&&6>hu,Es.jc){var mc,ls=Es;for(mc=0;mc<sr;++mc){var na=mc,Js=ls.pd[na],wl=ls.G[0][ls.H[0]+na];256<=wl.value?(Js.g=wl.g+256,Js.value=wl.value):(Js.g=0,Js.value=0,na>>=Bn(wl,8,Js),na>>=Bn(ls.G[1][ls.H[1]+na],16,Js),na>>=Bn(ls.G[2][ls.H[2]+na],0,Js),Bn(ls.G[3][ls.H[3]+na],24,Js))}}}Jn.vc=Ar,Jn.Wb=$r,Jn.Ya=Ts,Jn.yc=So,kn=1;break t}kn=0}if(!(H=kn)){P.a=3;break e}if(0<Ie){if(J.ua=1<<Ie,!Ct(J.Wa,Ie)){P.a=1,H=0;break e}}else J.ua=0;var oh=P,ah=W,Jd=K,lh=oh.s,uh=lh.xc;if(oh.c=ah,oh.i=Jd,lh.md=gt(ah,uh),lh.wc=uh==0?-1:(1<<uh)-1,x){P.xb=bo;break e}if((fe=s(W*K))==null){P.a=1,H=0;break e}H=(H=ar(P,fe,0,W,K,K,null))&&!Q.h;break e}return H?(V!=null?V[0]=fe:(e(fe==null),e(x)),P.$=0,x||Jr(J)):Jr(J),H}function js(d,v){var x=d.c*d.i,P=x+v+16*v;return e(d.c<=v),d.V=s(P),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+x+v,1)}function Fs(d,v){var x=d.C,P=v-x,V=d.V,H=d.Ba+d.c*x;for(e(v<=d.l.o);0<P;){var W=16<P?16:P,K=d.l.ma,Q=d.l.width,J=Q*W,fe=K.ca,Ie=K.tb+Q*x,Pe=d.Ta,Se=d.Ua;Yn(d,W,V,H),or(Pe,Se,fe,Ie,J),Xr(K,x,x+W,fe,Ie,Q),P-=W,V+=W*d.c,x+=W}e(x==v),d.C=d.Ma=v}function Vs(){this.ub=this.yd=this.td=this.Rb=0}function io(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Do(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ul(){this.Yb=function(){var d=[];return function v(x,P,V){for(var H=V[P],W=0;W<H&&(x.push(V.length>P+1?[]:0),!(V.length<P+1));W++)v(x[W],P+1,V)}(d,0,[3,11]),d}()}function Ln(){this.jb=s(3),this.Wc=u([4,8],Ul),this.Xc=u([4,17],Ul)}function zl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ds(){this.ld=this.La=this.dd=this.tc=0}function Bs(){this.Na=this.la=0}function Pi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ql(){this.uc=this.M=this.Nb=0,this.wa=Array(new ds),this.Y=0,this.ya=Array(new Oo),this.aa=0,this.l=new Mo}function so(){this.y=s(16),this.f=s(8),this.ea=s(8)}function hi(){this.cb=this.a=0,this.sc="",this.m=new oe,this.Od=new Vs,this.Kc=new io,this.ed=new zl,this.Qa=new Do,this.Ic=this.$c=this.Aa=0,this.D=new ql,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,oe),this.ia=0,this.pb=a(4,Pi),this.Pa=new Ln,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new so),this.Hd=0,this.rb=Array(new Bs),this.sb=0,this.wa=Array(new ds),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oo),this.L=this.aa=0,this.gd=u([4,2],ds),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jr(){var d=new hi;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,dl||(dl=jo)),d}function zn(d,v,x){return d.a==0&&(d.a=v,d.sc=x,d.cb=0),0}function Ja(d,v,x){return 3<=x&&d[v+0]==157&&d[v+1]==1&&d[v+2]==42}function Za(d,v){if(d==null)return 0;if(d.a=0,d.sc="OK",v==null)return zn(d,2,"null VP8Io passed to VP8GetHeaders()");var x=v.data,P=v.w,V=v.ha;if(4>V)return zn(d,7,"Truncated header.");var H=x[P+0]|x[P+1]<<8|x[P+2]<<16,W=d.Od;if(W.Rb=!(1&H),W.td=H>>1&7,W.yd=H>>4&1,W.ub=H>>5,3<W.td)return zn(d,3,"Incorrect keyframe parameters.");if(!W.yd)return zn(d,4,"Frame not displayable.");P+=3,V-=3;var K=d.Kc;if(W.Rb){if(7>V)return zn(d,7,"cannot parse picture header");if(!Ja(x,P,V))return zn(d,3,"Bad code word");K.c=16383&(x[P+4]<<8|x[P+3]),K.Td=x[P+4]>>6,K.i=16383&(x[P+6]<<8|x[P+5]),K.Ud=x[P+6]>>6,P+=7,V-=7,d.za=K.c+15>>4,d.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((H=d.Pa).jb,0,255,H.jb.length),e((H=d.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(W.ub>V)return zn(d,7,"bad partition length");Le(H=d.m,x,P,W.ub),P+=W.ub,V-=W.ub,W.Rb&&(K.Ld=Ae(H),K.Kd=Ae(H)),K=d.Qa;var Q,J=d.Pa;if(e(H!=null),e(K!=null),K.Cb=Ae(H),K.Cb){if(K.Bb=Ae(H),Ae(H)){for(K.Fb=Ae(H),Q=0;4>Q;++Q)K.Zb[Q]=Ae(H)?xe(H,7):0;for(Q=0;4>Q;++Q)K.Lb[Q]=Ae(H)?xe(H,6):0}if(K.Bb)for(Q=0;3>Q;++Q)J.jb[Q]=Ae(H)?Ce(H,8):255}else K.Bb=0;if(H.Ka)return zn(d,3,"cannot parse segment header");if((K=d.ed).zd=Ae(H),K.Tb=Ce(H,6),K.wb=Ce(H,3),K.Pc=Ae(H),K.Pc&&Ae(H)){for(J=0;4>J;++J)Ae(H)&&(K.vd[J]=xe(H,6));for(J=0;4>J;++J)Ae(H)&&(K.od[J]=xe(H,6))}if(d.L=K.Tb==0?0:K.zd?1:2,H.Ka)return zn(d,3,"cannot parse filter header");var fe=V;if(V=Q=P,P=Q+fe,K=fe,d.Xb=(1<<Ce(d.m,2))-1,fe<3*(J=d.Xb))x=7;else{for(Q+=3*J,K-=3*J,fe=0;fe<J;++fe){var Ie=x[V+0]|x[V+1]<<8|x[V+2]<<16;Ie>K&&(Ie=K),Le(d.Jc[+fe],x,Q,Ie),Q+=Ie,K-=Ie,V+=3}Le(d.Jc[+J],x,Q,K),x=Q<P?0:5}if(x!=0)return zn(d,x,"cannot parse partitions");for(x=Ce(Q=d.m,7),V=Ae(Q)?xe(Q,4):0,P=Ae(Q)?xe(Q,4):0,K=Ae(Q)?xe(Q,4):0,J=Ae(Q)?xe(Q,4):0,Q=Ae(Q)?xe(Q,4):0,fe=d.Qa,Ie=0;4>Ie;++Ie){if(fe.Cb){var Pe=fe.Zb[Ie];fe.Fb||(Pe+=x)}else{if(0<Ie){d.pb[Ie]=d.pb[0];continue}Pe=x}var Se=d.pb[Ie];Se.Sc[0]=ou[Sn(Pe+V,127)],Se.Sc[1]=cc[Sn(Pe+0,127)],Se.Eb[0]=2*ou[Sn(Pe+P,127)],Se.Eb[1]=101581*cc[Sn(Pe+K,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=ou[Sn(Pe+J,117)],Se.Qc[1]=cc[Sn(Pe+Q,127)],Se.lc=Pe+Q}if(!W.Rb)return zn(d,4,"Not a key frame.");for(Ae(H),W=d.Pa,x=0;4>x;++x){for(V=0;8>V;++V)for(P=0;3>P;++P)for(K=0;11>K;++K)J=Ee(H,Eg[x][V][P][K])?Ce(H,8):$d[x][V][P][K],W.Wc[x][V].Yb[P][K]=J;for(V=0;17>V;++V)W.Xc[x][V]=W.Wc[x][ff[V]]}return d.kc=Ae(H),d.kc&&(d.Bd=Ce(H,8)),d.cb=1}function jo(d,v,x,P,V,H,W){var K=v[V].Yb[x];for(x=0;16>V;++V){if(!Ee(d,K[x+0]))return V;for(;!Ee(d,K[x+1]);)if(K=v[++V].Yb[0],x=0,V==16)return 16;var Q=v[V+1].Yb;if(Ee(d,K[x+2])){var J=d,fe=0;if(Ee(J,(Pe=K)[(Ie=x)+3]))if(Ee(J,Pe[Ie+6])){for(K=0,Ie=2*(fe=Ee(J,Pe[Ie+8]))+(Pe=Ee(J,Pe[Ie+9+fe])),fe=0,Pe=cf[Ie];Pe[K];++K)fe+=fe+Ee(J,Pe[K]);fe+=3+(8<<Ie)}else Ee(J,Pe[Ie+7])?(fe=7+2*Ee(J,165),fe+=Ee(J,145)):fe=5+Ee(J,159);else fe=Ee(J,Pe[Ie+4])?3+Ee(J,Pe[Ie+5]):2;K=Q[2]}else fe=1,K=Q[1];Q=W+hf[V],0>(J=d).b&&_e(J);var Ie,Pe=J.b,Se=(Ie=J.Ca>>1)-(J.I>>Pe)>>31;--J.b,J.Ca+=Se,J.Ca|=1,J.I-=(Ie+1&Se)<<Pe,H[Q]=((fe^Se)-Se)*P[(0<V)+0]}return 16}function oo(d){var v=d.rb[d.sb-1];v.la=0,v.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function ao(d,v){if(d==null)return 0;if(v==null)return zn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Za(d,v))return 0;if(e(d.cb),v.ac==null||v.ac(v)){v.ob&&(d.L=0);var x=gl[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=v.v-x>>4,d.zb=v.j-x>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=v.o+15+x>>4,d.Hb=v.va+15+x>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var P=d.ed;for(x=0;4>x;++x){var V;if(d.Qa.Cb){var H=d.Qa.Lb[x];d.Qa.Fb||(H+=P.Tb)}else H=P.Tb;for(V=0;1>=V;++V){var W=d.gd[x][V],K=H;if(P.Pc&&(K+=P.vd[0],V&&(K+=P.od[0])),0<(K=0>K?0:63<K?63:K)){var Q=K;0<P.wb&&(Q=4<P.wb?Q>>2:Q>>1)>9-P.wb&&(Q=9-P.wb),1>Q&&(Q=1),W.dd=Q,W.tc=2*K+Q,W.ld=40<=K?2:15<=K?1:0}else W.tc=0;W.La=V}}}x=0}else zn(d,6,"Frame setup failed"),x=d.a;if(x=x==0){if(x){d.$c=0,0<d.Aa||(d.Ic=Xo);e:{x=d.Ic,P=4*(Q=d.za);var J=32*Q,fe=Q+1,Ie=0<d.L?Q*(0<d.Aa?2:1):0,Pe=(d.Aa==2?2:1)*Q;if((W=P+832+(V=3*(16*x+gl[d.L])/2*J)+(H=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=W)x=0;else{if(W>d.Vb){if(d.Vb=0,d.Ec=s(W),d.Fc=0,d.Ec==null){x=zn(d,1,"no memory during frame initialization.");break e}d.Vb=W}W=d.Ec,K=d.Fc,d.Ac=W,d.Bc=K,K+=P,d.Gd=a(J,so),d.Hd=0,d.rb=a(fe+1,Bs),d.sb=1,d.wa=Ie?a(Ie,ds):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=Q),e(!0),d.oc=W,d.pc=K,K+=832,d.ya=a(Pe,Oo),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=Q),d.R=16*Q,d.B=8*Q,Q=(J=gl[d.L])*d.R,J=J/2*d.B,d.sa=W,d.ta=K+Q,d.qa=d.sa,d.ra=d.ta+16*x*d.R+J,d.Ha=d.qa,d.Ia=d.ra+8*x*d.B+J,d.$c=0,K+=V,d.mb=H?W:null,d.nb=H?K:null,e(K+H<=d.Fc+d.Vb),oo(d),i(d.Ac,d.Bc,0,P),x=1}}if(x){if(v.ka=0,v.y=d.sa,v.O=d.ta,v.f=d.qa,v.N=d.ra,v.ea=d.Ha,v.Vd=d.Ia,v.fa=d.R,v.Rc=d.B,v.F=null,v.J=0,!ic){for(x=-255;255>=x;++x)gr[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)wo[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)ru[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)cl[255+x]=0>x?0:255<x?255:x;ic=1}nu=on,$o=uo,Wo=Us,ri=In,rs=zs,wn=lo,ol=Uo,rc=Qn,al=vs,ll=rl,ul=ts,is=Hs,Go=mo,vo=ws,Ko=ei,Yo=di,Pa=ir,qr=nl,Ss[0]=ys,Ss[1]=Hl,Ss[2]=Ni,Ss[3]=gs,Ss[4]=el,Ss[5]=_a,Ss[6]=Br,Ss[7]=ba,Ss[8]=Vo,Ss[9]=qs,wi[0]=Ji,wi[1]=$l,wi[2]=ms,wi[3]=Fo,wi[4]=pn,wi[5]=Zi,wi[6]=Ci,Li[0]=Zr,Li[1]=wa,Li[2]=Wl,Li[3]=fi,Li[4]=bn,Li[5]=ho,Li[6]=tl,x=1}else x=0}x&&(x=function(Se,He){for(Se.M=0;Se.M<Se.Va;++Se.M){var Me,me=Se.Jc[Se.M&Se.Xb],ye=Se.m,Ue=Se;for(Me=0;Me<Ue.za;++Me){var Be=ye,ze=Ue,yt=ze.Ac,ft=ze.Bc+4*Me,Dt=ze.zc,dt=ze.ya[ze.aa+Me];if(ze.Qa.Bb?dt.$b=Ee(Be,ze.Pa.jb[0])?2+Ee(Be,ze.Pa.jb[2]):Ee(Be,ze.Pa.jb[1]):dt.$b=0,ze.kc&&(dt.Ad=Ee(Be,ze.Bd)),dt.Za=!Ee(Be,145)+0,dt.Za){var mn=dt.Ob,gn=0;for(ze=0;4>ze;++ze){var cn,nn=Dt[0+ze];for(cn=0;4>cn;++cn){nn=Ag[yt[ft+cn]][nn];for(var kn=Hd[Ee(Be,nn[0])];0<kn;)kn=Hd[2*kn+Ee(Be,nn[kn])];nn=-kn,yt[ft+cn]=nn}r(mn,gn,yt,ft,4),gn+=4,Dt[0+ze]=nn}}else nn=Ee(Be,156)?Ee(Be,128)?1:3:Ee(Be,163)?2:0,dt.Ob[0]=nn,i(yt,ft,nn,4),i(Dt,0,nn,4);dt.Dd=Ee(Be,142)?Ee(Be,114)?Ee(Be,183)?1:3:2:0}if(Ue.m.Ka)return zn(Se,7,"Premature end-of-partition0 encountered.");for(;Se.ja<Se.za;++Se.ja){if(Ue=me,Be=(ye=Se).rb[ye.sb-1],yt=ye.rb[ye.sb+ye.ja],Me=ye.ya[ye.aa+ye.ja],ft=ye.kc?Me.Ad:0)Be.la=yt.la=0,Me.Za||(Be.Na=yt.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var Dn,Wt;if(Be=yt,yt=Ue,ft=ye.Pa.Xc,Dt=ye.ya[ye.aa+ye.ja],dt=ye.pb[Dt.$b],ze=Dt.ad,mn=0,gn=ye.rb[ye.sb-1],nn=cn=0,i(ze,mn,0,384),Dt.Za)var Xn=0,_i=ft[3];else{kn=s(16);var lr=Be.Na+gn.Na;if(lr=dl(yt,ft[1],lr,dt.Eb,0,kn,0),Be.Na=gn.Na=(0<lr)+0,1<lr)nu(kn,0,ze,mn);else{var Tr=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)ze[mn+kn]=Tr}Xn=1,_i=ft[0]}var xn=15&Be.la,si=15&gn.la;for(kn=0;4>kn;++kn){var oi=1&si;for(Tr=Wt=0;4>Tr;++Tr)xn=xn>>1|(oi=(lr=dl(yt,_i,lr=oi+(1&xn),dt.Sc,Xn,ze,mn))>Xn)<<7,Wt=Wt<<2|(3<lr?3:1<lr?2:ze[mn+0]!=0),mn+=16;xn>>=4,si=si>>1|oi<<7,cn=(cn<<8|Wt)>>>0}for(_i=xn,Xn=si>>4,Dn=0;4>Dn;Dn+=2){for(Wt=0,xn=Be.la>>4+Dn,si=gn.la>>4+Dn,kn=0;2>kn;++kn){for(oi=1&si,Tr=0;2>Tr;++Tr)lr=oi+(1&xn),xn=xn>>1|(oi=0<(lr=dl(yt,ft[2],lr,dt.Qc,0,ze,mn)))<<3,Wt=Wt<<2|(3<lr?3:1<lr?2:ze[mn+0]!=0),mn+=16;xn>>=2,si=si>>1|oi<<5}nn|=Wt<<4*Dn,_i|=xn<<4<<Dn,Xn|=(240&si)<<Dn}Be.la=_i,gn.la=Xn,Dt.Hc=cn,Dt.Gc=nn,Dt.ia=43690&nn?0:dt.ia,ft=!(cn|nn)}if(0<ye.L&&(ye.wa[ye.Y+ye.ja]=ye.gd[Me.$b][Me.Za],ye.wa[ye.Y+ye.ja].La|=!ft),Ue.Ka)return zn(Se,7,"Premature end-of-file encountered.")}if(oo(Se),ye=He,Ue=1,Me=(me=Se).D,Be=0<me.L&&me.M>=me.zb&&me.M<=me.Va,me.Aa==0)e:{if(Me.M=me.M,Me.uc=Be,Gs(me,Me),Ue=1,Me=(Wt=me.D).Nb,Be=(nn=gl[me.L])*me.R,yt=nn/2*me.B,kn=16*Me*me.R,Tr=8*Me*me.B,ft=me.sa,Dt=me.ta-Be+kn,dt=me.qa,ze=me.ra-yt+Tr,mn=me.Ha,gn=me.Ia-yt+Tr,si=(xn=Wt.M)==0,cn=xn>=me.Va-1,me.Aa==2&&Gs(me,Wt),Wt.uc)for(oi=(lr=me).D.M,e(lr.D.uc),Wt=lr.yb;Wt<lr.Hb;++Wt){Xn=Wt,_i=oi;var Jn=(Ar=(Tn=lr).D).Nb;Dn=Tn.R;var Ar=Ar.wa[Ar.Y+Xn],$r=Tn.sa,Mi=Tn.ta+16*Jn*Dn+16*Xn,xs=Ar.dd,Zn=Ar.tc;if(Zn!=0)if(e(3<=Zn),Tn.L==1)0<Xn&&Yo($r,Mi,Dn,Zn+4),Ar.La&&qr($r,Mi,Dn,Zn),0<_i&&Ko($r,Mi,Dn,Zn+4),Ar.La&&Pa($r,Mi,Dn,Zn);else{var yr=Tn.B,ss=Tn.qa,La=Tn.ra+8*Jn*yr+8*Xn,Jo=Tn.Ha,Tn=Tn.Ia+8*Jn*yr+8*Xn;Jn=Ar.ld,0<Xn&&(rc($r,Mi,Dn,Zn+4,xs,Jn),ll(ss,La,Jo,Tn,yr,Zn+4,xs,Jn)),Ar.La&&(is($r,Mi,Dn,Zn,xs,Jn),vo(ss,La,Jo,Tn,yr,Zn,xs,Jn)),0<_i&&(ol($r,Mi,Dn,Zn+4,xs,Jn),al(ss,La,Jo,Tn,yr,Zn+4,xs,Jn)),Ar.La&&(ul($r,Mi,Dn,Zn,xs,Jn),Go(ss,La,Jo,Tn,yr,Zn,xs,Jn))}}if(me.ia&&alert("todo:DitherRow"),ye.put!=null){if(Wt=16*xn,xn=16*(xn+1),si?(ye.y=me.sa,ye.O=me.ta+kn,ye.f=me.qa,ye.N=me.ra+Tr,ye.ea=me.Ha,ye.W=me.Ia+Tr):(Wt-=nn,ye.y=ft,ye.O=Dt,ye.f=dt,ye.N=ze,ye.ea=mn,ye.W=gn),cn||(xn-=nn),xn>ye.o&&(xn=ye.o),ye.F=null,ye.J=null,me.Fa!=null&&0<me.Fa.length&&Wt<xn&&(ye.J=Aa(me,ye,Wt,xn-Wt),ye.F=me.mb,ye.F==null&&ye.F.length==0)){Ue=zn(me,3,"Could not decode alpha data.");break e}Wt<ye.j&&(nn=ye.j-Wt,Wt=ye.j,e(!(1&nn)),ye.O+=me.R*nn,ye.N+=me.B*(nn>>1),ye.W+=me.B*(nn>>1),ye.F!=null&&(ye.J+=ye.width*nn)),Wt<xn&&(ye.O+=ye.v,ye.N+=ye.v>>1,ye.W+=ye.v>>1,ye.F!=null&&(ye.J+=ye.v),ye.ka=Wt-ye.j,ye.U=ye.va-ye.v,ye.T=xn-Wt,Ue=ye.put(ye))}Me+1!=me.Ic||cn||(r(me.sa,me.ta-Be,ft,Dt+16*me.R,Be),r(me.qa,me.ra-yt,dt,ze+8*me.B,yt),r(me.Ha,me.Ia-yt,mn,gn+8*me.B,yt))}if(!Ue)return zn(Se,6,"Output aborted.")}return 1}(d,v)),v.bc!=null&&v.bc(v),x&=1}return x?(d.cb=0,x):0}function Fr(d,v,x,P,V){V=d[v+x+32*P]+(V>>3),d[v+x+32*P]=-256&V?0>V?0:255:V}function va(d,v,x,P,V,H){Fr(d,v,0,x,P+V),Fr(d,v,1,x,P+H),Fr(d,v,2,x,P-H),Fr(d,v,3,x,P-V)}function rr(d){return(20091*d>>16)+d}function Vr(d,v,x,P){var V,H=0,W=s(16);for(V=0;4>V;++V){var K=d[v+0]+d[v+8],Q=d[v+0]-d[v+8],J=(35468*d[v+4]>>16)-rr(d[v+12]),fe=rr(d[v+4])+(35468*d[v+12]>>16);W[H+0]=K+fe,W[H+1]=Q+J,W[H+2]=Q-J,W[H+3]=K-fe,H+=4,v++}for(V=H=0;4>V;++V)K=(d=W[H+0]+4)+W[H+8],Q=d-W[H+8],J=(35468*W[H+4]>>16)-rr(W[H+12]),Fr(x,P,0,0,K+(fe=rr(W[H+4])+(35468*W[H+12]>>16))),Fr(x,P,1,0,Q+J),Fr(x,P,2,0,Q-J),Fr(x,P,3,0,K-fe),H++,P+=32}function lo(d,v,x,P){var V=d[v+0]+4,H=35468*d[v+4]>>16,W=rr(d[v+4]),K=35468*d[v+1]>>16;va(x,P,0,V+W,d=rr(d[v+1]),K),va(x,P,1,V+H,d,K),va(x,P,2,V-H,d,K),va(x,P,3,V-W,d,K)}function uo(d,v,x,P,V){Vr(d,v,x,P),V&&Vr(d,v+16,x,P+4)}function Us(d,v,x,P){$o(d,v+0,x,P,1),$o(d,v+32,x,P+128,1)}function In(d,v,x,P){var V;for(d=d[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)Fr(x,P,v,V,d)}function zs(d,v,x,P){d[v+0]&&ri(d,v+0,x,P),d[v+16]&&ri(d,v+16,x,P+4),d[v+32]&&ri(d,v+32,x,P+128),d[v+48]&&ri(d,v+48,x,P+128+4)}function on(d,v,x,P){var V,H=s(16);for(V=0;4>V;++V){var W=d[v+0+V]+d[v+12+V],K=d[v+4+V]+d[v+8+V],Q=d[v+4+V]-d[v+8+V],J=d[v+0+V]-d[v+12+V];H[0+V]=W+K,H[8+V]=W-K,H[4+V]=J+Q,H[12+V]=J-Q}for(V=0;4>V;++V)W=(d=H[0+4*V]+3)+H[3+4*V],K=H[1+4*V]+H[2+4*V],Q=H[1+4*V]-H[2+4*V],J=d-H[3+4*V],x[P+0]=W+K>>3,x[P+16]=J+Q>>3,x[P+32]=W-K>>3,x[P+48]=J-Q>>3,P+=64}function ps(d,v,x){var P,V=v-32,H=vi,W=255-d[V-1];for(P=0;P<x;++P){var K,Q=H,J=W+d[v-1];for(K=0;K<x;++K)d[v+K]=Q[J+d[V+K]];v+=32}}function Hl(d,v){ps(d,v,4)}function wa(d,v){ps(d,v,8)}function $l(d,v){ps(d,v,16)}function ms(d,v){var x;for(x=0;16>x;++x)r(d,v+32*x,d,v-32,16)}function Fo(d,v){var x;for(x=16;0<x;--x)i(d,v,d[v-1],16),v+=32}function co(d,v,x){var P;for(P=0;16>P;++P)i(v,x+32*P,d,16)}function Ji(d,v){var x,P=16;for(x=0;16>x;++x)P+=d[v-1+32*x]+d[v+x-32];co(P>>5,d,v)}function pn(d,v){var x,P=8;for(x=0;16>x;++x)P+=d[v-1+32*x];co(P>>4,d,v)}function Zi(d,v){var x,P=8;for(x=0;16>x;++x)P+=d[v+x-32];co(P>>4,d,v)}function Ci(d,v){co(128,d,v)}function jt(d,v,x){return d+2*v+x+2>>2}function Ni(d,v){var x,P=v-32;for(P=new Uint8Array([jt(d[P-1],d[P+0],d[P+1]),jt(d[P+0],d[P+1],d[P+2]),jt(d[P+1],d[P+2],d[P+3]),jt(d[P+2],d[P+3],d[P+4])]),x=0;4>x;++x)r(d,v+32*x,P,0,P.length)}function gs(d,v){var x=d[v-1],P=d[v-1+32],V=d[v-1+64],H=d[v-1+96];Ke(d,v+0,16843009*jt(d[v-1-32],x,P)),Ke(d,v+32,16843009*jt(x,P,V)),Ke(d,v+64,16843009*jt(P,V,H)),Ke(d,v+96,16843009*jt(V,H,H))}function ys(d,v){var x,P=4;for(x=0;4>x;++x)P+=d[v+x-32]+d[v-1+32*x];for(P>>=3,x=0;4>x;++x)i(d,v+32*x,P,4)}function el(d,v){var x=d[v-1+0],P=d[v-1+32],V=d[v-1+64],H=d[v-1-32],W=d[v+0-32],K=d[v+1-32],Q=d[v+2-32],J=d[v+3-32];d[v+0+96]=jt(P,V,d[v-1+96]),d[v+1+96]=d[v+0+64]=jt(x,P,V),d[v+2+96]=d[v+1+64]=d[v+0+32]=jt(H,x,P),d[v+3+96]=d[v+2+64]=d[v+1+32]=d[v+0+0]=jt(W,H,x),d[v+3+64]=d[v+2+32]=d[v+1+0]=jt(K,W,H),d[v+3+32]=d[v+2+0]=jt(Q,K,W),d[v+3+0]=jt(J,Q,K)}function Br(d,v){var x=d[v+1-32],P=d[v+2-32],V=d[v+3-32],H=d[v+4-32],W=d[v+5-32],K=d[v+6-32],Q=d[v+7-32];d[v+0+0]=jt(d[v+0-32],x,P),d[v+1+0]=d[v+0+32]=jt(x,P,V),d[v+2+0]=d[v+1+32]=d[v+0+64]=jt(P,V,H),d[v+3+0]=d[v+2+32]=d[v+1+64]=d[v+0+96]=jt(V,H,W),d[v+3+32]=d[v+2+64]=d[v+1+96]=jt(H,W,K),d[v+3+64]=d[v+2+96]=jt(W,K,Q),d[v+3+96]=jt(K,Q,Q)}function _a(d,v){var x=d[v-1+0],P=d[v-1+32],V=d[v-1+64],H=d[v-1-32],W=d[v+0-32],K=d[v+1-32],Q=d[v+2-32],J=d[v+3-32];d[v+0+0]=d[v+1+64]=H+W+1>>1,d[v+1+0]=d[v+2+64]=W+K+1>>1,d[v+2+0]=d[v+3+64]=K+Q+1>>1,d[v+3+0]=Q+J+1>>1,d[v+0+96]=jt(V,P,x),d[v+0+64]=jt(P,x,H),d[v+0+32]=d[v+1+96]=jt(x,H,W),d[v+1+32]=d[v+2+96]=jt(H,W,K),d[v+2+32]=d[v+3+96]=jt(W,K,Q),d[v+3+32]=jt(K,Q,J)}function ba(d,v){var x=d[v+0-32],P=d[v+1-32],V=d[v+2-32],H=d[v+3-32],W=d[v+4-32],K=d[v+5-32],Q=d[v+6-32],J=d[v+7-32];d[v+0+0]=x+P+1>>1,d[v+1+0]=d[v+0+64]=P+V+1>>1,d[v+2+0]=d[v+1+64]=V+H+1>>1,d[v+3+0]=d[v+2+64]=H+W+1>>1,d[v+0+32]=jt(x,P,V),d[v+1+32]=d[v+0+96]=jt(P,V,H),d[v+2+32]=d[v+1+96]=jt(V,H,W),d[v+3+32]=d[v+2+96]=jt(H,W,K),d[v+3+64]=jt(W,K,Q),d[v+3+96]=jt(K,Q,J)}function qs(d,v){var x=d[v-1+0],P=d[v-1+32],V=d[v-1+64],H=d[v-1+96];d[v+0+0]=x+P+1>>1,d[v+2+0]=d[v+0+32]=P+V+1>>1,d[v+2+32]=d[v+0+64]=V+H+1>>1,d[v+1+0]=jt(x,P,V),d[v+3+0]=d[v+1+32]=jt(P,V,H),d[v+3+32]=d[v+1+64]=jt(V,H,H),d[v+3+64]=d[v+2+64]=d[v+0+96]=d[v+1+96]=d[v+2+96]=d[v+3+96]=H}function Vo(d,v){var x=d[v-1+0],P=d[v-1+32],V=d[v-1+64],H=d[v-1+96],W=d[v-1-32],K=d[v+0-32],Q=d[v+1-32],J=d[v+2-32];d[v+0+0]=d[v+2+32]=x+W+1>>1,d[v+0+32]=d[v+2+64]=P+x+1>>1,d[v+0+64]=d[v+2+96]=V+P+1>>1,d[v+0+96]=H+V+1>>1,d[v+3+0]=jt(K,Q,J),d[v+2+0]=jt(W,K,Q),d[v+1+0]=d[v+3+32]=jt(x,W,K),d[v+1+32]=d[v+3+64]=jt(P,x,W),d[v+1+64]=d[v+3+96]=jt(V,P,x),d[v+1+96]=jt(H,V,P)}function Wl(d,v){var x;for(x=0;8>x;++x)r(d,v+32*x,d,v-32,8)}function fi(d,v){var x;for(x=0;8>x;++x)i(d,v,d[v-1],8),v+=32}function Ur(d,v,x){var P;for(P=0;8>P;++P)i(v,x+32*P,d,8)}function Zr(d,v){var x,P=8;for(x=0;8>x;++x)P+=d[v+x-32]+d[v-1+32*x];Ur(P>>4,d,v)}function ho(d,v){var x,P=4;for(x=0;8>x;++x)P+=d[v+x-32];Ur(P>>3,d,v)}function bn(d,v){var x,P=4;for(x=0;8>x;++x)P+=d[v-1+32*x];Ur(P>>3,d,v)}function tl(d,v){Ur(128,d,v)}function fo(d,v,x){var P=d[v-x],V=d[v+0],H=3*(V-P)+_o[1020+d[v-2*x]-d[v+x]],W=iu[112+(H+4>>3)];d[v-x]=vi[255+P+iu[112+(H+3>>3)]],d[v+0]=vi[255+V-W]}function po(d,v,x,P){var V=d[v+0],H=d[v+x];return bs[255+d[v-2*x]-d[v-x]]>P||bs[255+H-V]>P}function Bo(d,v,x,P){return 4*bs[255+d[v-x]-d[v+0]]+bs[255+d[v-2*x]-d[v+x]]<=P}function Sa(d,v,x,P,V){var H=d[v-3*x],W=d[v-2*x],K=d[v-x],Q=d[v+0],J=d[v+x],fe=d[v+2*x],Ie=d[v+3*x];return 4*bs[255+K-Q]+bs[255+W-J]>P?0:bs[255+d[v-4*x]-H]<=V&&bs[255+H-W]<=V&&bs[255+W-K]<=V&&bs[255+Ie-fe]<=V&&bs[255+fe-J]<=V&&bs[255+J-Q]<=V}function ei(d,v,x,P){var V=2*P+1;for(P=0;16>P;++P)Bo(d,v+P,x,V)&&fo(d,v+P,x)}function di(d,v,x,P){var V=2*P+1;for(P=0;16>P;++P)Bo(d,v+P*x,1,V)&&fo(d,v+P*x,1)}function ir(d,v,x,P){var V;for(V=3;0<V;--V)ei(d,v+=4*x,x,P)}function nl(d,v,x,P){var V;for(V=3;0<V;--V)di(d,v+=4,x,P)}function es(d,v,x,P,V,H,W,K){for(H=2*H+1;0<V--;){if(Sa(d,v,x,H,W))if(po(d,v,x,K))fo(d,v,x);else{var Q=d,J=v,fe=x,Ie=Q[J-2*fe],Pe=Q[J-fe],Se=Q[J+0],He=Q[J+fe],Me=Q[J+2*fe],me=27*(Ue=_o[1020+3*(Se-Pe)+_o[1020+Ie-He]])+63>>7,ye=18*Ue+63>>7,Ue=9*Ue+63>>7;Q[J-3*fe]=vi[255+Q[J-3*fe]+Ue],Q[J-2*fe]=vi[255+Ie+ye],Q[J-fe]=vi[255+Pe+me],Q[J+0]=vi[255+Se-me],Q[J+fe]=vi[255+He-ye],Q[J+2*fe]=vi[255+Me-Ue]}v+=P}}function mr(d,v,x,P,V,H,W,K){for(H=2*H+1;0<V--;){if(Sa(d,v,x,H,W))if(po(d,v,x,K))fo(d,v,x);else{var Q=d,J=v,fe=x,Ie=Q[J-fe],Pe=Q[J+0],Se=Q[J+fe],He=iu[112+((Me=3*(Pe-Ie))+4>>3)],Me=iu[112+(Me+3>>3)],me=He+1>>1;Q[J-2*fe]=vi[255+Q[J-2*fe]+me],Q[J-fe]=vi[255+Ie+Me],Q[J+0]=vi[255+Pe-He],Q[J+fe]=vi[255+Se-me]}v+=P}}function Uo(d,v,x,P,V,H){es(d,v,x,1,16,P,V,H)}function Qn(d,v,x,P,V,H){es(d,v,1,x,16,P,V,H)}function ts(d,v,x,P,V,H){var W;for(W=3;0<W;--W)mr(d,v+=4*x,x,1,16,P,V,H)}function Hs(d,v,x,P,V,H){var W;for(W=3;0<W;--W)mr(d,v+=4,1,x,16,P,V,H)}function vs(d,v,x,P,V,H,W,K){es(d,v,V,1,8,H,W,K),es(x,P,V,1,8,H,W,K)}function rl(d,v,x,P,V,H,W,K){es(d,v,1,V,8,H,W,K),es(x,P,1,V,8,H,W,K)}function mo(d,v,x,P,V,H,W,K){mr(d,v+4*V,V,1,8,H,W,K),mr(x,P+4*V,V,1,8,H,W,K)}function ws(d,v,x,P,V,H,W,K){mr(d,v+4,1,V,8,H,W,K),mr(x,P+4,1,V,8,H,W,K)}function ns(){this.ba=new Ut,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $s(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function go(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xa(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new O}function Gl(){this.xb=this.a=0,this.l=new Mo,this.ca=new Ut,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xa,this.ab=0,this.gc=a(4,go),this.Oc=0}function Ws(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _s(d,v,x,P,V,H,W){for(d=d==null?0:d[v+0],v=0;v<W;++v)V[H+v]=d+x[P+v]&255,d=V[H+v]}function Ta(d,v,x,P,V,H,W){var K;if(d==null)_s(null,null,x,P,V,H,W);else for(K=0;K<W;++K)V[H+K]=d[v+K]+x[P+K]&255}function ti(d,v,x,P,V,H,W){if(d==null)_s(null,null,x,P,V,H,W);else{var K,Q=d[v+0],J=Q,fe=Q;for(K=0;K<W;++K)J=fe+(Q=d[v+K])-J,fe=x[P+K]+(-256&J?0>J?0:255:J)&255,J=Q,V[H+K]=fe}}function Aa(d,v,x,P){var V=v.width,H=v.o;if(e(d!=null&&v!=null),0>x||0>=P||x+P>H)return null;if(!d.Cc){if(d.ga==null){var W;if(d.ga=new Ws,(W=d.ga==null)||(W=v.width*v.o,e(d.Gb.length==0),d.Gb=s(W),d.Uc=0,d.Gb==null?W=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,W=1),W=!W),!W){W=d.ga;var K=d.Fa,Q=d.P,J=d.qc,fe=d.mb,Ie=d.nb,Pe=Q+1,Se=J-1,He=W.l;if(e(K!=null&&fe!=null&&v!=null),ii[0]=null,ii[1]=_s,ii[2]=Ta,ii[3]=ti,W.ca=fe,W.tb=Ie,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=J)v=0;else if(W.$a=K[Q+0]>>0&3,W.Z=K[Q+0]>>2&3,W.Lc=K[Q+0]>>4&3,Q=K[Q+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Q)v=0;else if(He.put=Kn,He.ac=Vn,He.bc=Yr,He.ma=W,He.width=v.width,He.height=v.height,He.Da=v.Da,He.v=v.v,He.va=v.va,He.j=v.j,He.o=v.o,W.$a)e:{e(W.$a==1),v=nr();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,ne(v.m,K,Pe,Se),!Xi(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ms(v.s)?(W.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=js(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=Se>=W.c*W.i;W=!v}if(W)return null;d.ga.Lc!=1?d.Ga=0:P=H-x}e(d.ga!=null),e(x+P<=H);e:{if(v=(K=d.ga).c,H=K.l.o,K.$a==0){if(Pe=d.rc,Se=d.Vc,He=d.Fa,Q=d.P+1+x*v,J=d.mb,fe=d.nb+x*v,e(Q<=d.P+d.qc),K.Z!=0)for(e(ii[K.Z]!=null),W=0;W<P;++W)ii[K.Z](Pe,Se,He,Q,J,fe,v),Pe=J,Se=fe,fe+=v,Q+=v;else for(W=0;W<P;++W)r(J,fe,He,Q,v),Pe=J,Se=fe,fe+=v,Q+=v;d.rc=Pe,d.Vc=Se}else{if(e(K.mc!=null),v=x+P,e((W=K.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(K.ic||Te(),K.ic){K=W.V,Pe=W.Ba,Se=W.c;var Me=W.i,me=(He=1,Q=W.$/Se,J=W.$%Se,fe=W.m,Ie=W.s,W.$),ye=Se*Me,Ue=Se*v,Be=Ie.wc,ze=me<Ue?Un(Ie,J,Q):null;e(me<=ye),e(v<=Me),e(Ms(Ie));t:for(;;){for(;!fe.h&&me<Ue;){if(J&Be||(ze=Un(Ie,J,Q)),e(ze!=null),ce(fe),256>(Me=pr(ze.G[0],ze.H[0],fe)))K[Pe+me]=Me,++me,++J>=Se&&(J=0,++Q<=v&&!(Q%16)&&Ii(W,Q));else{if(!(280>Me)){He=0;break t}Me=Qr(Me-256,fe);var yt,ft=pr(ze.G[4],ze.H[4],fe);if(ce(fe),!(me>=(ft=dr(Se,ft=Qr(ft,fe)))&&ye-me>=Me)){He=0;break t}for(yt=0;yt<Me;++yt)K[Pe+me+yt]=K[Pe+me+yt-ft];for(me+=Me,J+=Me;J>=Se;)J-=Se,++Q<=v&&!(Q%16)&&Ii(W,Q);me<Ue&&J&Be&&(ze=Un(Ie,J,Q))}e(fe.h==Z(fe))}Ii(W,Q>v?v:Q);break t}!He||fe.h&&me<ye?(He=0,W.a=fe.h?5:3):W.$=me,v=He}else v=ar(W,W.V,W.Ba,W.c,W.i,v,Fs);if(!v){P=0;break e}}x+P>=H&&(d.Cc=1),P=1}if(!P)return null;if(d.Cc&&((P=d.ga)!=null&&(P.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+x*V}function b(d,v,x,P,V,H){for(;0<V--;){var W,K=d,Q=v+(x?1:0),J=d,fe=v+(x?0:3);for(W=0;W<P;++W){var Ie=J[fe+4*W];Ie!=255&&(Ie*=32897,K[Q+4*W+0]=K[Q+4*W+0]*Ie>>23,K[Q+4*W+1]=K[Q+4*W+1]*Ie>>23,K[Q+4*W+2]=K[Q+4*W+2]*Ie>>23)}v+=H}}function B(d,v,x,P,V){for(;0<P--;){var H;for(H=0;H<x;++H){var W=d[v+2*H+0],K=15&(J=d[v+2*H+1]),Q=4369*K,J=(240&J|J>>4)*Q>>16;d[v+2*H+0]=(240&W|W>>4)*Q>>16&240|(15&W|W<<4)*Q>>16>>4&15,d[v+2*H+1]=240&J|K}v+=V}}function te(d,v,x,P,V,H,W,K){var Q,J,fe=255;for(J=0;J<V;++J){for(Q=0;Q<P;++Q){var Ie=d[v+Q];H[W+4*Q]=Ie,fe&=Ie}v+=x,W+=K}return fe!=255}function he(d,v,x,P,V){var H;for(H=0;H<V;++H)x[P+H]=d[v+H]>>8}function Te(){ki=b,Mn=B,Cn=te,or=he}function Fe(d,v,x){N[d]=function(P,V,H,W,K,Q,J,fe,Ie,Pe,Se,He,Me,me,ye,Ue,Be){var ze,yt=Be-1>>1,ft=K[Q+0]|J[fe+0]<<16,Dt=Ie[Pe+0]|Se[He+0]<<16;e(P!=null);var dt=3*ft+Dt+131074>>2;for(v(P[V+0],255&dt,dt>>16,Me,me),H!=null&&(dt=3*Dt+ft+131074>>2,v(H[W+0],255&dt,dt>>16,ye,Ue)),ze=1;ze<=yt;++ze){var mn=K[Q+ze]|J[fe+ze]<<16,gn=Ie[Pe+ze]|Se[He+ze]<<16,cn=ft+mn+Dt+gn+524296,nn=cn+2*(mn+Dt)>>3;dt=nn+ft>>1,ft=(cn=cn+2*(ft+gn)>>3)+mn>>1,v(P[V+2*ze-1],255&dt,dt>>16,Me,me+(2*ze-1)*x),v(P[V+2*ze-0],255&ft,ft>>16,Me,me+(2*ze-0)*x),H!=null&&(dt=cn+Dt>>1,ft=nn+gn>>1,v(H[W+2*ze-1],255&dt,dt>>16,ye,Ue+(2*ze-1)*x),v(H[W+2*ze+0],255&ft,ft>>16,ye,Ue+(2*ze+0)*x)),ft=mn,Dt=gn}1&Be||(dt=3*ft+Dt+131074>>2,v(P[V+Be-1],255&dt,dt>>16,Me,me+(Be-1)*x),H!=null&&(dt=3*Dt+ft+131074>>2,v(H[W+Be-1],255&dt,dt>>16,ye,Ue+(Be-1)*x)))}}function Xe(){Ri[Yc]=Ig,Ri[Ca]=Na,Ri[Ud]=Pg,Ri[sc]=lu,Ri[oc]=pl,Ri[jn]=hc,Ri[Qc]=df,Ri[su]=Na,Ri[hl]=lu,Ri[ac]=pl,Ri[lc]=hc}function ht(d){return d&-16384?0>d?0:255:d>>ka}function p(d,v){return ht((19077*d>>8)+(26149*v>>8)-14234)}function T(d,v,x){return ht((19077*d>>8)-(6419*v>>8)-(13320*x>>8)+8708)}function L(d,v){return ht((19077*d>>8)+(33050*v>>8)-17685)}function Y(d,v,x,P,V){P[V+0]=p(d,x),P[V+1]=T(d,v,x),P[V+2]=L(d,v)}function be(d,v,x,P,V){P[V+0]=L(d,v),P[V+1]=T(d,v,x),P[V+2]=p(d,x)}function ke(d,v,x,P,V){var H=T(d,v,x);v=H<<3&224|L(d,v)>>3,P[V+0]=248&p(d,x)|H>>5,P[V+1]=v}function Ze(d,v,x,P,V){var H=240&L(d,v)|15;P[V+0]=240&p(d,x)|T(d,v,x)>>4,P[V+1]=H}function Qt(d,v,x,P,V){P[V+0]=255,Y(d,v,x,P,V+1)}function ln(d,v,x,P,V){be(d,v,x,P,V),P[V+3]=255}function Xt(d,v,x,P,V){Y(d,v,x,P,V),P[V+3]=255}function Sn(d,v){return 0>d?0:d>v?v:d}function Pn(d,v,x){N[d]=function(P,V,H,W,K,Q,J,fe,Ie){for(var Pe=fe+(-2&Ie)*x;fe!=Pe;)v(P[V+0],H[W+0],K[Q+0],J,fe),v(P[V+1],H[W+0],K[Q+0],J,fe+x),V+=2,++W,++Q,fe+=2*x;1&Ie&&v(P[V+0],H[W+0],K[Q+0],J,fe)}}function pi(d,v,x){return x==0?d==0?v==0?6:5:v==0?4:0:x}function zr(d,v,x,P,V){switch(d>>>30){case 3:$o(v,x,P,V,0);break;case 2:wn(v,x,P,V);break;case 1:ri(v,x,P,V)}}function Gs(d,v){var x,P,V=v.M,H=v.Nb,W=d.oc,K=d.pc+40,Q=d.oc,J=d.pc+584,fe=d.oc,Ie=d.pc+600;for(x=0;16>x;++x)W[K+32*x-1]=129;for(x=0;8>x;++x)Q[J+32*x-1]=129,fe[Ie+32*x-1]=129;for(0<V?W[K-1-32]=Q[J-1-32]=fe[Ie-1-32]=129:(i(W,K-32-1,127,21),i(Q,J-32-1,127,9),i(fe,Ie-32-1,127,9)),P=0;P<d.za;++P){var Pe=v.ya[v.aa+P];if(0<P){for(x=-1;16>x;++x)r(W,K+32*x-4,W,K+32*x+12,4);for(x=-1;8>x;++x)r(Q,J+32*x-4,Q,J+32*x+4,4),r(fe,Ie+32*x-4,fe,Ie+32*x+4,4)}var Se=d.Gd,He=d.Hd+P,Me=Pe.ad,me=Pe.Hc;if(0<V&&(r(W,K-32,Se[He].y,0,16),r(Q,J-32,Se[He].f,0,8),r(fe,Ie-32,Se[He].ea,0,8)),Pe.Za){var ye=W,Ue=K-32+16;for(0<V&&(P>=d.za-1?i(ye,Ue,Se[He].y[15],4):r(ye,Ue,Se[He+1].y,0,4)),x=0;4>x;x++)ye[Ue+128+x]=ye[Ue+256+x]=ye[Ue+384+x]=ye[Ue+0+x];for(x=0;16>x;++x,me<<=2)ye=W,Ue=K+pf[x],Ss[Pe.Ob[x]](ye,Ue),zr(me,Me,16*+x,ye,Ue)}else if(ye=pi(P,V,Pe.Ob[0]),wi[ye](W,K),me!=0)for(x=0;16>x;++x,me<<=2)zr(me,Me,16*+x,W,K+pf[x]);for(x=Pe.Gc,ye=pi(P,V,Pe.Dd),Li[ye](Q,J),Li[ye](fe,Ie),me=Me,ye=Q,Ue=J,255&(Pe=x>>0)&&(170&Pe?Wo(me,256,ye,Ue):rs(me,256,ye,Ue)),Pe=fe,me=Ie,255&(x>>=8)&&(170&x?Wo(Me,320,Pe,me):rs(Me,320,Pe,me)),V<d.Ub-1&&(r(Se[He].y,0,W,K+480,16),r(Se[He].f,0,Q,J+224,8),r(Se[He].ea,0,fe,Ie+224,8)),x=8*H*d.B,Se=d.sa,He=d.ta+16*P+16*H*d.R,Me=d.qa,Pe=d.ra+8*P+x,me=d.Ha,ye=d.Ia+8*P+x,x=0;16>x;++x)r(Se,He+x*d.R,W,K+32*x,16);for(x=0;8>x;++x)r(Me,Pe+x*d.B,Q,J+32*x,8),r(me,ye+x*d.B,fe,Ie+32*x,8)}}function Ks(d,v,x,P,V,H,W,K,Q){var J=[0],fe=[0],Ie=0,Pe=Q!=null?Q.kd:0,Se=Q??new $s;if(d==null||12>x)return 7;Se.data=d,Se.w=v,Se.ha=x,v=[v],x=[x],Se.gb=[Se.gb];e:{var He=v,Me=x,me=Se.gb;if(e(d!=null),e(Me!=null),e(me!=null),me[0]=0,12<=Me[0]&&!t(d,He[0],"RIFF")){if(t(d,He[0]+8,"WEBP")){me=3;break e}var ye=st(d,He[0]+4);if(12>ye||4294967286<ye){me=3;break e}if(Pe&&ye>Me[0]-8){me=7;break e}me[0]=ye,He[0]+=12,Me[0]-=12}me=0}if(me!=0)return me;for(ye=0<Se.gb[0],x=x[0];;){e:{var Ue=d;Me=v,me=x;var Be=J,ze=fe,yt=He=[0];if((dt=Ie=[Ie])[0]=0,8>me[0])me=7;else{if(!t(Ue,Me[0],"VP8X")){if(st(Ue,Me[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var ft=st(Ue,Me[0]+8),Dt=1+ut(Ue,Me[0]+12);if(2147483648<=Dt*(Ue=1+ut(Ue,Me[0]+15))){me=3;break e}yt!=null&&(yt[0]=ft),Be!=null&&(Be[0]=Dt),ze!=null&&(ze[0]=Ue),Me[0]+=18,me[0]-=18,dt[0]=1}me=0}}if(Ie=Ie[0],He=He[0],me!=0)return me;if(Me=!!(2&He),!ye&&Ie)return 3;if(H!=null&&(H[0]=!!(16&He)),W!=null&&(W[0]=Me),K!=null&&(K[0]=0),W=J[0],He=fe[0],Ie&&Me&&Q==null){me=0;break}if(4>x){me=7;break}if(ye&&Ie||!ye&&!Ie&&!t(d,v[0],"ALPH")){x=[x],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{ft=d,me=v,ye=x;var dt=Se.gb;Be=Se.na,ze=Se.P,yt=Se.Sa,Dt=22,e(ft!=null),e(ye!=null),Ue=me[0];var mn=ye[0];for(e(Be!=null),e(yt!=null),Be[0]=null,ze[0]=null,yt[0]=0;;){if(me[0]=Ue,ye[0]=mn,8>mn){me=7;break e}var gn=st(ft,Ue+4);if(4294967286<gn){me=3;break e}var cn=8+gn+1&-2;if(Dt+=cn,0<dt&&Dt>dt){me=3;break e}if(!t(ft,Ue,"VP8 ")||!t(ft,Ue,"VP8L")){me=0;break e}if(mn[0]<cn){me=7;break e}t(ft,Ue,"ALPH")||(Be[0]=ft,ze[0]=Ue+8,yt[0]=gn),Ue+=cn,mn-=cn}}if(x=x[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],me!=0)break}x=[x],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(dt=d,me=v,ye=x,Be=Se.gb[0],ze=Se.Ja,yt=Se.xa,ft=me[0],Ue=!t(dt,ft,"VP8 "),Dt=!t(dt,ft,"VP8L"),e(dt!=null),e(ye!=null),e(ze!=null),e(yt!=null),8>ye[0])me=7;else{if(Ue||Dt){if(dt=st(dt,ft+4),12<=Be&&dt>Be-12){me=3;break e}if(Pe&&dt>ye[0]-8){me=7;break e}ze[0]=dt,me[0]+=8,ye[0]-=8,yt[0]=Dt}else yt[0]=5<=ye[0]&&dt[ft+0]==47&&!(dt[ft+4]>>5),ze[0]=ye[0];me=0}if(x=x[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],v=v[0],me!=0)break;if(4294967286<Se.Ja)return 3;if(K==null||Me||(K[0]=Se.xa?2:1),W=[W],He=[He],Se.xa){if(5>x){me=7;break}K=W,Pe=He,Me=H,d==null||5>x?d=0:5<=x&&d[v+0]==47&&!(d[v+4]>>5)?(ye=[0],dt=[0],Be=[0],ne(ze=new M,d,v,x),vt(ze,ye,dt,Be)?(K!=null&&(K[0]=ye[0]),Pe!=null&&(Pe[0]=dt[0]),Me!=null&&(Me[0]=Be[0]),d=1):d=0):d=0}else{if(10>x){me=7;break}K=He,d==null||10>x||!Ja(d,v+3,x-3)?d=0:(Pe=d[v+0]|d[v+1]<<8|d[v+2]<<16,Me=16383&(d[v+7]<<8|d[v+6]),d=16383&(d[v+9]<<8|d[v+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Se.Ja||!Me||!d?d=0:(W&&(W[0]=Me),K&&(K[0]=d),d=1))}if(!d||(W=W[0],He=He[0],Ie&&(J[0]!=W||fe[0]!=He)))return 3;Q!=null&&(Q[0]=Se,Q.offset=v-Q.w,e(4294967286>v-Q.w),e(Q.offset==Q.ha-x));break}return me==0||me==7&&Ie&&Q==null?(H!=null&&(H[0]|=Se.na!=null&&0<Se.na.length),P!=null&&(P[0]=W),V!=null&&(V[0]=He),0):me}function Kl(d,v,x){var P=v.width,V=v.height,H=0,W=0,K=P,Q=V;if(v.Da=d!=null&&0<d.Da,v.Da&&(K=d.cd,Q=d.bd,H=d.v,W=d.j,11>x||(H&=-2,W&=-2),0>H||0>W||0>=K||0>=Q||H+K>P||W+Q>V))return 0;if(v.v=H,v.j=W,v.va=H+K,v.o=W+Q,v.U=K,v.T=Q,v.da=d!=null&&0<d.da,v.da){if(!Mt(K,Q,x=[d.ib],H=[d.hb]))return 0;v.ib=x[0],v.hb=H[0]}return v.ob=d!=null&&d.ob,v.Kb=d==null||!d.Sd,v.da&&(v.ob=v.ib<3*P/4&&v.hb<3*V/4,v.Kb=0),1}function Yl(d){if(d==null)return 2;if(11>d.S){var v=d.f.RGBA;v.fb+=(d.height-1)*v.A,v.A=-v.A}else v=d.f.kb,d=d.height,v.O+=(d-1)*v.fa,v.fa=-v.fa,v.N+=(d-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(d-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(d-1)*v.lb,v.lb=-v.lb);return 0}function il(d,v,x,P){if(P==null||0>=d||0>=v)return 2;if(x!=null){if(x.Da){var V=x.cd,H=x.bd,W=-2&x.v,K=-2&x.j;if(0>W||0>K||0>=V||0>=H||W+V>d||K+H>v)return 2;d=V,v=H}if(x.da){if(!Mt(d,v,V=[x.ib],H=[x.hb]))return 2;d=V[0],v=H[0]}}P.width=d,P.height=v;e:{var Q=P.width,J=P.height;if(d=P.S,0>=Q||0>=J||!(d>=Yc&&13>d))d=2;else{if(0>=P.Rd&&P.sd==null){W=H=V=v=0;var fe=(K=Q*fc[d])*J;if(11>d||(H=(J+1)/2*(v=(Q+1)/2),d==12&&(W=(V=Q)*J)),(J=s(fe+2*H+W))==null){d=1;break e}P.sd=J,11>d?((Q=P.f.RGBA).eb=J,Q.fb=0,Q.A=K,Q.size=fe):((Q=P.f.kb).y=J,Q.O=0,Q.fa=K,Q.Fd=fe,Q.f=J,Q.N=0+fe,Q.Ab=v,Q.Cd=H,Q.ea=J,Q.W=0+fe+H,Q.Db=v,Q.Ed=H,d==12&&(Q.F=J,Q.J=0+fe+2*H),Q.Tc=W,Q.lb=V)}if(v=1,V=P.S,H=P.width,W=P.height,V>=Yc&&13>V)if(11>V)d=P.f.RGBA,v&=(K=Math.abs(d.A))*(W-1)+H<=d.size,v&=K>=H*fc[V],v&=d.eb!=null;else{d=P.f.kb,K=(H+1)/2,fe=(W+1)/2,Q=Math.abs(d.fa),J=Math.abs(d.Ab);var Ie=Math.abs(d.Db),Pe=Math.abs(d.lb),Se=Pe*(W-1)+H;v&=Q*(W-1)+H<=d.Fd,v&=J*(fe-1)+K<=d.Cd,v=(v&=Ie*(fe-1)+K<=d.Ed)&Q>=H&J>=K&Ie>=K,v&=d.y!=null,v&=d.f!=null,v&=d.ea!=null,V==12&&(v&=Pe>=H,v&=Se<=d.Tc,v&=d.F!=null)}else v=0;d=v?0:2}}return d!=0||x!=null&&x.fd&&(d=Yl(P)),d}var sr=64,Ql=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xl=24,Jl=32,Zl=8,mi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(d){return d},N.Predictor2=function(d,v,x){return v[x+0]},N.Predictor3=function(d,v,x){return v[x+1]},N.Predictor4=function(d,v,x){return v[x-1]},N.Predictor5=function(d,v,x){return ct(ct(d,v[x+1]),v[x+0])},N.Predictor6=function(d,v,x){return ct(d,v[x-1])},N.Predictor7=function(d,v,x){return ct(d,v[x+0])},N.Predictor8=function(d,v,x){return ct(v[x-1],v[x+0])},N.Predictor9=function(d,v,x){return ct(v[x+0],v[x+1])},N.Predictor10=function(d,v,x){return ct(ct(d,v[x-1]),ct(v[x+0],v[x+1]))},N.Predictor11=function(d,v,x){var P=v[x+0];return 0>=De(P>>24&255,d>>24&255,(v=v[x-1])>>24&255)+De(P>>16&255,d>>16&255,v>>16&255)+De(P>>8&255,d>>8&255,v>>8&255)+De(255&P,255&d,255&v)?P:d},N.Predictor12=function(d,v,x){var P=v[x+0];return(St((d>>24&255)+(P>>24&255)-((v=v[x-1])>>24&255))<<24|St((d>>16&255)+(P>>16&255)-(v>>16&255))<<16|St((d>>8&255)+(P>>8&255)-(v>>8&255))<<8|St((255&d)+(255&P)-(255&v)))>>>0},N.Predictor13=function(d,v,x){var P=v[x-1];return(Ot((d=ct(d,v[x+0]))>>24&255,P>>24&255)<<24|Ot(d>>16&255,P>>16&255)<<16|Ot(d>>8&255,P>>8&255)<<8|Ot(d>>0&255,P>>0&255))>>>0};var sl=N.PredictorAdd0;N.PredictorAdd1=qe,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var zo=N.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Kc,gi=N.ColorIndexInverseTransform,eu=N.MapARGB,nc=N.VP8LColorIndexInverseTransformAlpha,tu=N.MapAlpha,yo=N.VP8LPredictorsAdd=[];yo.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Ea,yi,ni,Ia,qo,Ho,nu,$o,wn,Wo,ri,rs,ol,rc,al,ll,ul,is,Go,vo,Ko,Yo,Pa,qr,ki,Mn,Cn,or,gr=s(511),wo=s(2041),ru=s(225),cl=s(767),ic=0,_o=wo,iu=ru,vi=cl,bs=gr,Yc=0,Ca=1,Ud=2,sc=3,oc=4,jn=5,Qc=6,su=7,hl=8,ac=9,lc=10,uc=[2,3,7],Xc=[3,3,11],fl=[280,256,256,256,40],zd=[0,1,1,1,0],xg=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Tg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jc=8,ou=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dl=null,cf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Hd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$d=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ag=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Eg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ff=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wi=[],Ss=[],Li=[],bo=1,au=2,ii=[],Ri=[];Fe("UpsampleRgbLinePair",Y,3),Fe("UpsampleBgrLinePair",be,3),Fe("UpsampleRgbaLinePair",Xt,4),Fe("UpsampleBgraLinePair",ln,4),Fe("UpsampleArgbLinePair",Qt,4),Fe("UpsampleRgba4444LinePair",Ze,2),Fe("UpsampleRgb565LinePair",ke,2);var Ig=N.UpsampleRgbLinePair,Pg=N.UpsampleBgrLinePair,Na=N.UpsampleRgbaLinePair,lu=N.UpsampleBgraLinePair,pl=N.UpsampleArgbLinePair,hc=N.UpsampleRgba4444LinePair,df=N.UpsampleRgb565LinePair,Qo=16,Ys=1<<Qo-1,Nn=-227,Rn=482,ka=6,Hr=0,Di=s(256),ml=s(256),uu=s(256),Oi=s(256),Zc=s(Rn-Nn),Wd=s(Rn-Nn);Pn("YuvToRgbRow",Y,3),Pn("YuvToBgrRow",be,3),Pn("YuvToRgbaRow",Xt,4),Pn("YuvToBgraRow",ln,4),Pn("YuvToArgbRow",Qt,4),Pn("YuvToRgba4444Row",Ze,2),Pn("YuvToRgb565Row",ke,2);var pf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gl=[0,2,8],Gd=[8,7,6,4,4,2,2,2,1,1,1,1],Xo=1;this.WebPDecodeRGBA=function(d,v,x,P,V){var H=Ca,W=new ns,K=new Ut;W.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var Q=K.width,J=K.height,fe=new vn;if(fe==null||d==null)var Ie=2;else e(fe!=null),Ie=Ks(d,v,x,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ie!=0?Q=0:(Q!=null&&(Q[0]=fe.width[0]),J!=null&&(J[0]=fe.height[0]),Q=1),Q){K.width=K.width[0],K.height=K.height[0],P!=null&&(P[0]=K.width),V!=null&&(V[0]=K.height);e:{if(P=new Mo,(V=new $s).data=d,V.w=v,V.ha=x,V.kd=1,v=[0],e(V!=null),((d=Ks(V.data,V.w,V.ha,null,null,null,v,null,V))==0||d==7)&&v[0]&&(d=4),(v=d)==0){if(e(W!=null),P.data=V.data,P.w=V.w+V.offset,P.ha=V.ha-V.offset,P.put=Kn,P.ac=Vn,P.bc=Yr,P.ma=W,V.xa){if((d=nr())==null){W=1;break e}if(function(Pe,Se){var He=[0],Me=[0],me=[0];t:for(;;){if(Pe==null)return 0;if(Se==null)return Pe.a=2,0;if(Pe.l=Se,Pe.a=0,ne(Pe.m,Se.data,Se.w,Se.ha),!vt(Pe.m,He,Me,me)){Pe.a=3;break t}if(Pe.xb=au,Se.width=He[0],Se.height=Me[0],!Xi(He[0],Me[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(d,P)){if(P=(v=il(P.width,P.height,W.Oa,W.ba))==0){t:{P=d;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((x=P.l)!=null),e((V=x.ma)!=null),P.xb!=0){if(P.ca=V.ba,P.tb=V.tb,e(P.ca!=null),!Kl(V.Oa,x,sc)){P.a=2;break n}if(!js(P,x.width)||x.da)break n;if((x.da||$e(P.ca.S))&&Te(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&Te()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!Ct(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!ar(P,P.V,P.Ba,P.c,P.i,x.o,ro))break n;V.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(v=d.a)}else v=d.a}else{if((d=new jr)==null){W=1;break e}if(d.Fa=V.na,d.P=V.P,d.qc=V.Sa,Za(d,P)){if((v=il(P.width,P.height,W.Oa,W.ba))==0){if(d.Aa=0,x=W.Oa,e((V=d)!=null),x!=null){if(0<(Q=0>(Q=x.Md)?0:100<Q?255:255*Q/100)){for(J=fe=0;4>J;++J)12>(Ie=V.pb[J]).lc&&(Ie.ia=Q*Gd[0>Ie.lc?0:Ie.lc]>>3),fe|=Ie.ia;fe&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=x.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}ao(d,P)||(v=d.a)}}else v=d.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=Yl(W.ba))}W=v}H=W!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var fc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(N,U){for(var G="",R=0;R<4;R++)G+=String.fromCharCode(N[U++]);return G}function m(N,U){return(N[U+0]<<0|N[U+1]<<8|N[U+2]<<16)>>>0}function y(N,U){return(N[U+0]<<0|N[U+1]<<8|N[U+2]<<16|N[U+3]<<24)>>>0}new c;var _=[0],w=[0],E=[],C=new c,k=n,I=function(N,U){var G={},R=0,O=!1,F=0,ue=0;if(G.frames=[],!function(X,Z,se,ce){for(var _e=0;_e<ce;_e++)if(X[Z+_e]!=se.charCodeAt(_e))return!0;return!1}(N,U,"RIFF",4)){for(y(N,U+=4),U+=8;U<N.length;){var Le=h(N,U),Ce=y(N,U+=4);U+=4;var xe=Ce+(1&Ce);switch(Le){case"VP8 ":case"VP8L":G.frames[R]===void 0&&(G.frames[R]={}),(ge=G.frames[R]).src_off=O?ue:U-8,ge.src_size=F+Ce+8,R++,O&&(O=!1,F=0,ue=0);break;case"VP8X":(ge=G.header={}).feature_flags=N[U];var ne=U+4;ge.canvas_width=1+m(N,ne),ne+=3,ge.canvas_height=1+m(N,ne),ne+=3;break;case"ALPH":O=!0,F=xe+8,ue=U-8;break;case"ANIM":(ge=G.header).bgcolor=y(N,U),ne=U+4,ge.loop_count=(oe=N)[(M=ne)+0]<<0|oe[M+1]<<8,ne+=2;break;case"ANMF":var we,ge;(ge=G.frames[R]={}).offset_x=2*m(N,U),U+=3,ge.offset_y=2*m(N,U),U+=3,ge.width=1+m(N,U),U+=3,ge.height=1+m(N,U),U+=3,ge.duration=m(N,U),U+=3,we=N[U++],ge.dispose=1&we,ge.blend=we>>1&1}Le!="ANMF"&&(U+=xe)}var oe,M;return G}}(k,0);I.response=k,I.rgbaoutput=!0,I.dataurl=!1;var j=I.header?I.header:null,q=I.frames?I.frames:null;if(j){j.loop_counter=j.loop_count,_=[j.canvas_height],w=[j.canvas_width];for(var ee=0;ee<q.length&&q[ee].blend!=0;ee++);}var ie=q[0],de=C.WebPDecodeRGBA(k,ie.src_off,ie.src_size,w,_);ie.rgba=de,ie.imgwidth=w[0],ie.imgheight=_[0];for(var z=0;z<w[0]*_[0]*4;z++)E[z]=de[z];return this.width=w,this.height=_,this.data=E,this}(function(n){var e=function(){return typeof ay=="function"},t=function(_,w,E,C){var k=4,I=a;switch(C){case n.image_compression.FAST:k=1,I=s;break;case n.image_compression.MEDIUM:k=6,I=u;break;case n.image_compression.SLOW:k=9,I=c}_=r(_,w,E,I);var j=ay(_,{level:k});return n.__addimage__.arrayBufferToBinaryString(j)},r=function(_,w,E,C){for(var k,I,j,q=_.length/w,ee=new Uint8Array(_.length+q),ie=m(),de=0;de<q;de+=1){if(j=de*w,k=_.subarray(j,j+w),C)ee.set(C(k,E,I),j+de);else{for(var z,N=ie.length,U=[];z<N;z+=1)U[z]=ie[z](k,E,I);var G=y(U.concat());ee.set(U[G],j+de)}I=k}return ee},i=function(_){var w=Array.apply([],_);return w.unshift(0),w},s=function(_,w){var E,C=[],k=_.length;C[0]=1;for(var I=0;I<k;I+=1)E=_[I-w]||0,C[I+1]=_[I]-E+256&255;return C},a=function(_,w,E){var C,k=[],I=_.length;k[0]=2;for(var j=0;j<I;j+=1)C=E&&E[j]||0,k[j+1]=_[j]-C+256&255;return k},u=function(_,w,E){var C,k,I=[],j=_.length;I[0]=3;for(var q=0;q<j;q+=1)C=_[q-w]||0,k=E&&E[q]||0,I[q+1]=_[q]+256-(C+k>>>1)&255;return I},c=function(_,w,E){var C,k,I,j,q=[],ee=_.length;q[0]=4;for(var ie=0;ie<ee;ie+=1)C=_[ie-w]||0,k=E&&E[ie]||0,I=E&&E[ie-w]||0,j=h(C,k,I),q[ie+1]=_[ie]-j+256&255;return q},h=function(_,w,E){if(_===w&&w===E)return _;var C=Math.abs(w-E),k=Math.abs(_-E),I=Math.abs(_+w-E-E);return C<=k&&C<=I?_:k<=I?w:E},m=function(){return[i,s,a,u,c]},y=function(_){var w=_.map(function(E){return E.reduce(function(C,k){return C+Math.abs(k)},0)});return w.indexOf(Math.min.apply(null,w))};n.processPNG=function(_,w,E,C){var k,I,j,q,ee,ie,de,z,N,U,G,R,O,F,ue,Le=this.decode.FLATE_DECODE,Ce="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(j=new U9(_)).imgData,I=j.bits,k=j.colorSpace,ee=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){N=(z=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,G=new Uint8Array(N*j.colors),U=new Uint8Array(N);var xe,ne=j.pixelBitlength-j.bits;for(F=0,ue=0;F<N;F++){for(O=z[F],xe=0;xe<ne;)G[ue++]=O>>>xe&255,xe+=j.bits;U[F]=O>>>xe&255}}if(j.bits===16){N=(z=new Uint32Array(j.decodePixels().buffer)).length,G=new Uint8Array(N*(32/j.pixelBitlength)*j.colors),U=new Uint8Array(N*(32/j.pixelBitlength)),R=j.colors>1,F=0,ue=0;for(var we=0;F<N;)O=z[F++],G[ue++]=O>>>0&255,R&&(G[ue++]=O>>>16&255,O=z[F++],G[ue++]=O>>>0&255),U[we++]=O>>>16&255;I=8}C!==n.image_compression.NONE&&e()?(_=t(G,j.width*j.colors,j.colors,C),de=t(U,j.width,1,C)):(_=G,de=U,Le=void 0)}if(j.colorType===3&&(k=this.color_spaces.INDEXED,ie=j.palette,j.transparency.indexed)){var ge=j.transparency.indexed,oe=0;for(F=0,N=ge.length;F<N;++F)oe+=ge[F];if((oe/=255)===N-1&&ge.indexOf(0)!==-1)q=[ge.indexOf(0)];else if(oe!==N){for(z=j.decodePixels(),U=new Uint8Array(z.length),F=0,N=z.length;F<N;F++)U[F]=ge[z[F]];de=t(U,j.width,1)}}var M=function(X){var Z;switch(X){case n.image_compression.FAST:Z=11;break;case n.image_compression.MEDIUM:Z=13;break;case n.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(C);return Le===this.decode.FLATE_DECODE&&(Ce="/Predictor "+M+" "),Ce+="/Colors "+ee+" /BitsPerComponent "+I+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(de&&this.__addimage__.isArrayBuffer(de)||this.__addimage__.isArrayBufferView(de))&&(de=this.__addimage__.arrayBufferToBinaryString(de)),{alias:E,data:_,index:w,filter:Le,decodeParameters:Ce,transparency:q,palette:ie,sMask:de,predictor:M,width:j.width,height:j.height,bitsPerComponent:I,colorSpace:k}}}})(zt.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new z9(e),a=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:a,height:u},m=new X0(100).encode(h,100);return n.processJPEG.call(this,m,t,r,i)},n.processGIF87A=n.processGIF89A}(zt.API),la.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},la.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Hn.log("bit decode error:"+t)}},la.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[a+4*u]=c.blue,this.data[a+4*u+1]=c.green,this.data[a+4*u+2]=c.red,this.data[a+4*u+3]=255}t!==0&&(this.pos+=4-t)}},la.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,u=s>>4,c=15&s,h=this.palette[u];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},la.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},la.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,m=r*this.width*4+4*i;this.data[m]=c,this.data[m+1]=u,this.data[m+2]=a,this.data[m+3]=h}this.pos+=n}},la.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,h=(a>>11)/e*255|0,m=i*this.width*4+4*s;this.data[m]=h,this.data[m+1]=c,this.data[m+2]=u,this.data[m+3]=255}this.pos+=n}},la.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},la.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=a}},la.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new la(e,!1),a=s.width,u=s.height,c={data:s.getData(),width:a,height:u},h=new X0(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}}(zt.API),Kb.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new Kb(e),a=s.width,u=s.height,c={data:s.getData(),width:a,height:u},h=new X0(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}}(zt.API),zt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),u=0,c=0,h=0;h<i;h+=4){var m=r[h],y=r[h+1],_=r[h+2],w=r[h+3];s[u++]=m,s[u++]=y,s[u++]=_,a[c++]=w}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:E,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},zt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gh=zt.API,Mp=gh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,c=u.fof?u.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,m=h.fof?h.fof:1,y=e.doKerning!==!1,_=0,w=n.length,E=0,C=u[0]||c,k=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(_=y&&Fn(h[r])==="object"&&!isNaN(parseInt(h[r][E],10))?h[r][E]/m:0,k.push((u[r]||C)/c+_)),E=r;return k},Hb=gh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return gh.processArabic&&(n=gh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Mp.apply(this,arguments).reduce(function(s,a){return s+a},0)},$b=function(n,e,t,r){for(var i=[],s=0,a=n.length,u=0;s!==a&&u+e[s]<t;)u+=e[s],s++;i.push(n.slice(0,s));var c=s;for(u=0;s!==a;)u+e[s]>r&&(i.push(n.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},Wb=function(n,e,t){t||(t={});var r,i,s,a,u,c,h,m=[],y=[m],_=t.textIndent||0,w=0,E=0,C=n.split(" "),k=Mp.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?C[0].length+2:t.lineIndent||0){var I=Array(c).join(" "),j=[];C.map(function(ee){(ee=ee.split(/\s*\n/)).length>1?j=j.concat(ee.map(function(ie,de){return(de&&ie.length?`
`:"")+ie})):j.push(ee[0])}),C=j,c=Hb.apply(this,[I,t])}for(s=0,a=C.length;s<a;s++){var q=0;if(r=C[s],c&&r[0]==`
`&&(r=r.substr(1),q=1),_+w+(E=(i=Mp.apply(this,[r,t])).reduce(function(ee,ie){return ee+ie},0))>e||q){if(E>e){for(u=$b.apply(this,[r,i,e-(_+w),e]),m.push(u.shift()),m=[u.pop()];u.length;)y.push([u.shift()]);E=i.slice(r.length-(m[0]?m[0].length:0)).reduce(function(ee,ie){return ee+ie},0)}else m=[r];y.push(m),_=E+c,w=k}else m.push(r),_+=w+E,w=k}return h=c?function(ee,ie){return(ie?I:"")+ee.join(" ")}:function(ee){return ee.join(" ")},y.map(h)},gh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var u,c,h=[];for(u=0,c=r.length;u<c;u++)h=h.concat(Wb.apply(this,[r[u],a,s]));return h},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(y){return"0x"+parseInt(y,10).toString(16)},a=n.__fontmetrics__.compress=function(y){var _,w,E,C,k=["{"];for(var I in y){if(_=y[I],isNaN(parseInt(I,10))?w="'"+I+"'":(I=parseInt(I,10),w=(w=s(I).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof _=="number")_<0?(E=s(_).slice(3),C="-"):(E=s(_).slice(2),C=""),E=C+E.slice(0,-1)+r[E.slice(-1)];else{if(Fn(_)!=="object")throw new Error("Don't know what to do with value type "+Fn(_)+".");E=a(_)}k.push(w+E)}return k.push("}"),k.join("")},u=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,w,E,C,k={},I=1,j=k,q=[],ee="",ie="",de=y.length-1,z=1;z<de;z+=1)(C=y[z])=="'"?_?(E=_.join(""),_=void 0):_=[]:_?_.push(C):C=="{"?(q.push([j,E]),j={},E=void 0):C=="}"?((w=q.pop())[0][w[1]]=j,E=void 0,j=w[0]):C=="-"?I=-1:E===void 0?t.hasOwnProperty(C)?(ee+=t[C],E=parseInt(ee,16)*I,I=1,ee=""):ee+=C:t.hasOwnProperty(C)?(ie+=t[C],j[E]=parseInt(ie,16)*I,I=1,E=void 0,ie=""):ie+=C;return k},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var _=y.font,w=m.Unicode[_.postScriptName];w&&(_.metadata.Unicode={},_.metadata.Unicode.widths=w.widths,_.metadata.Unicode.kerning=w.kerning);var E=h.Unicode[_.postScriptName];E&&(_.metadata.Unicode.encoding=E,_.encoding=E.codePages[0])}])}(zt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Jf(u)),a.metadata=n.API.TTFFont.open(u),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(zt),function(n){function e(){return(Ht.canvg?Promise.resolve(Ht.canvg):ny(()=>import("./index.es-DiMbR3r5.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}zt.API.addSvgAsImage=function(t,r,i,s,a,u,c,h){if(isNaN(r)||isNaN(i))throw Hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=s,m.height=a;var y=m.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,m.width,m.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return e().then(function(E){return E.fromString(y,t,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(_)}).then(function(){w.addImage(m.toDataURL("image/jpeg",1),r,i,s,a,c,h)})}}(),zt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},zt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(a),c=[],h=0,m=0,y=0;function _(E,C){var k,I=!1;for(k=0;k<E.length;k+=1)E[k]===C&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=u.length;for(y=0;y<w;y+=1)t[u[y]].value=t[u[y]].defaultValue,t[u[y]].explicitSet=!1}if(Fn(n)==="object"){for(i in n)if(s=n[i],_(u,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&_(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(m=0;m<s[h].length;m+=1)typeof s[h][m]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,C=[];for(E in t)t[E].explicitSet===!0&&(t[E].type==="name"?C.push("/"+E+" /"+t[E].value):C.push("/"+E+" "+t[E].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+a.length+u.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(zt.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var u,c=a.metadata.Unicode.widths,h=["","0","00","000","0000"],m=[""],y=0,_=s.length;y<_;++y){if(u=a.metadata.characterToGlyph(s.charCodeAt(y)),a.metadata.glyIdsUsed.push(u),a.metadata.toUnicode[u]=s.charCodeAt(y),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(a.metadata.widthOfGlyph(u),10)])),u=="0")return m.join("");u=u.toString(16),m.push(h[4-u.length],u)}return m.join("")},r=function(s){var a,u,c,h,m,y,_;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],y=0,_=(u=Object.keys(s).sort(function(w,E){return w-E})).length;y<_;y++)a=u[y],c.length>=100&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(h=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+h+">"));return c.length&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var u=a.font,c=a.out,h=a.newObject,m=a.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,_=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),w="",E=0;E<_.length;E++)w+=String.fromCharCode(_[E]);var C=h();m({data:w,addLength1:!0,objectId:C}),c("endobj");var k=h();m({data:r(u.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var I=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Sh(u.fontName)),c("/FontFile2 "+C+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var j=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Sh(u.fontName)),c("/FontDescriptor "+I+" 0 R"),c("/W "+n.API.PDFObject.convert(y)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+k+" 0 R"),c("/BaseFont /"+Sh(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var u=a.font,c=a.out,h=a.newObject,m=a.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,_="",w=0;w<y.length;w++)_+=String.fromCharCode(y[w]);var E=h();m({data:_,addLength1:!0,objectId:E}),c("endobj");var C=h();m({data:r(u.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var k=h();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+Sh(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=h();for(var I=0;I<u.metadata.hmtx.widths.length;I++)u.metadata.hmtx.widths[I]=parseInt(u.metadata.hmtx.widths[I]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Sh(u.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,u=s.text||"",c=s.x,h=s.y,m=s.options||{},y=s.mutex||{},_=y.pdfEscape,w=y.activeFontKey,E=y.fonts,C=w,k="",I=0,j="",q=E[C].encoding;if(E[C].encoding!=="Identity-H")return{text:u,x:c,y:h,options:m,mutex:y};for(j=u,C=w,Array.isArray(u)&&(j=u[0]),I=0;I<j.length;I+=1)E[C].metadata.hasOwnProperty("cmap")&&(a=E[C].metadata.cmap.unicode.codeMap[j[I].charCodeAt(0)]),a||j[I].charCodeAt(0)<256&&E[C].metadata.hasOwnProperty("Unicode")?k+=j[I]:k+="";var ee="";return parseInt(C.slice(1))<14||q==="WinAnsiEncoding"?ee=_(k,C).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):q==="Identity-H"&&(ee=t(k,E[C])),y.isHex=!0,{text:ee,x:c,y:h,options:m,mutex:y}};e.events.push(["postProcessText",function(s){var a=s.text||"",u=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?u.push([i(Object.assign({},c,{text:a[h][0]})).text,a[h][1],a[h][2]]):u.push(i(Object.assign({},c,{text:a[h]})).text);s.text=u}else s.text=i(Object.assign({},c,{text:a})).text}])}(zt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(zt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,u,c,h,m,y=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,q=0;this.__bidiEngine__={};var ee=function(R){var O=R.charCodeAt(),F=O>>8,ue=C[F];return ue!==void 0?y[256*ue+(255&O)]:F===252||F===253?"AL":I.test(F)?"L":F===8?"R":"N"},ie=function(R){for(var O,F=0;F<R.length;F++){if((O=ee(R.charAt(F)))==="L")return!1;if(O==="R")return!0}return!1},de=function(R,O,F,ue){var Le,Ce,xe,ne,we=O[ue];switch(we){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(we="AN");break;case"AL":j=!0,we="R";break;case"WS":we="N";break;case"CS":ue<1||ue+1>=O.length||(Le=F[ue-1])!=="EN"&&Le!=="AN"||(Ce=O[ue+1])!=="EN"&&Ce!=="AN"?we="N":j&&(Ce="AN"),we=Ce===Le?Ce:"N";break;case"ES":we=(Le=ue>0?F[ue-1]:"B")==="EN"&&ue+1<O.length&&O[ue+1]==="EN"?"EN":"N";break;case"ET":if(ue>0&&F[ue-1]==="EN"){we="EN";break}if(j){we="N";break}for(xe=ue+1,ne=O.length;xe<ne&&O[xe]==="ET";)xe++;we=xe<ne&&O[xe]==="EN"?"EN":"N";break;case"NSM":if(a&&!u){for(ne=O.length,xe=ue+1;xe<ne&&O[xe]==="NSM";)xe++;if(xe<ne){var ge=R[ue],oe=ge>=1425&&ge<=2303||ge===64286;if(Le=O[xe],oe&&(Le==="R"||Le==="AL")){we="R";break}}}we=ue<1||(Le=O[ue-1])==="B"?"N":F[ue-1];break;case"B":j=!1,i=!0,we=q;break;case"S":s=!0,we="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":we="N"}return we},z=function(R,O,F){var ue=R.split("");return F&&N(ue,F,{hiLevel:q}),ue.reverse(),O&&O.reverse(),ue.join("")},N=function(R,O,F){var ue,Le,Ce,xe,ne,we=-1,ge=R.length,oe=0,M=[],X=q?w:_,Z=[];for(j=!1,i=!1,s=!1,Le=0;Le<ge;Le++)Z[Le]=ee(R[Le]);for(Ce=0;Ce<ge;Ce++){if(ne=oe,M[Ce]=de(R,Z,M,Ce),ue=240&(oe=X[ne][E[M[Ce]]]),oe&=15,O[Ce]=xe=X[oe][5],ue>0)if(ue===16){for(Le=we;Le<Ce;Le++)O[Le]=1;we=-1}else we=-1;if(X[oe][6])we===-1&&(we=Ce);else if(we>-1){for(Le=we;Le<Ce;Le++)O[Le]=xe;we=-1}Z[Ce]==="B"&&(O[Ce]=0),F.hiLevel|=xe}s&&function(se,ce,_e){for(var Ae=0;Ae<_e;Ae++)if(se[Ae]==="S"){ce[Ae]=q;for(var Ee=Ae-1;Ee>=0&&se[Ee]==="WS";Ee--)ce[Ee]=q}}(Z,O,ge)},U=function(R,O,F,ue,Le){if(!(Le.hiLevel<R)){if(R===1&&q===1&&!i)return O.reverse(),void(F&&F.reverse());for(var Ce,xe,ne,we,ge=O.length,oe=0;oe<ge;){if(ue[oe]>=R){for(ne=oe+1;ne<ge&&ue[ne]>=R;)ne++;for(we=oe,xe=ne-1;we<xe;we++,xe--)Ce=O[we],O[we]=O[xe],O[xe]=Ce,F&&(Ce=F[we],F[we]=F[xe],F[xe]=Ce);oe=ne}oe++}}},G=function(R,O,F){var ue=R.split(""),Le={hiLevel:q};return F||(F=[]),N(ue,F,Le),function(Ce,xe,ne){if(ne.hiLevel!==0&&m)for(var we,ge=0;ge<Ce.length;ge++)xe[ge]===1&&(we=k.indexOf(Ce[ge]))>=0&&(Ce[ge]=k[we+1])}(ue,F,Le),U(2,ue,O,F,Le),U(1,ue,O,F,Le),ue.join("")};return this.__bidiEngine__.doBidiReorder=function(R,O,F){if(function(Le,Ce){if(Ce)for(var xe=0;xe<Le.length;xe++)Ce[xe]=xe;u===void 0&&(u=ie(Le)),h===void 0&&(h=ie(Le))}(R,O),a||!c||h)if(a&&c&&u^h)q=u?1:0,R=z(R,O,F);else if(!a&&c&&h)q=u?1:0,R=G(R,O,F),R=z(R,O);else if(!a||u||c||h){if(a&&!c&&u^h)R=z(R,O),u?(q=0,R=G(R,O,F)):(q=1,R=G(R,O,F),R=z(R,O));else if(a&&u&&!c&&h)q=1,R=G(R,O,F),R=z(R,O);else if(!a&&!c&&u^h){var ue=m;u?(q=1,R=G(R,O,F),q=0,m=!1,R=G(R,O,F),m=ue):(q=0,R=G(R,O,F),R=z(R,O),q=1,m=!1,R=G(R,O,F),m=ue,R=z(R,O))}}else q=0,R=G(R,O,F);else q=u?1:0,R=G(R,O,F);return R},this.__bidiEngine__.setOptions=function(R){R&&(a=R.isInputVisual,c=R.isOutputVisual,u=R.isInputRtl,h=R.isOutputRtl,m=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(a=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?a.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):a.push([t.doBidiReorder(i[u])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(zt),zt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Xu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new rV(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new q9(this.contents),this.head=new $9(this),this.name=new Q9(this),this.cmap=new PA(this),this.toUnicode={},this.hhea=new W9(this),this.maxp=new X9(this),this.hmtx=new J9(this),this.post=new K9(this),this.os2=new G9(this),this.loca=new nV(this),this.glyf=new Z9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,u,c,h;for(h=[],a=0,u=(c=this.bbox).length;a<u;a++)e=c[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,u;for(a=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var ya,Xu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,u,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*u+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),q9=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,u,c,h,m,y,_,w,E,C;for(C in w=Object.keys(t).length,c=Math.log(2),y=16*Math.floor(Math.log(w)/c),a=Math.floor(y/c),m=16*w-y,(i=new Xu).writeInt(this.scalarType),i.writeShort(w),i.writeShort(y),i.writeShort(a),i.writeShort(m),s=16*w,h=i.pos+s,u=null,E=[],t)for(_=t[C],i.writeString(C),i.writeInt(n(_)),i.writeInt(h),i.writeInt(_.length),E=E.concat(_),C==="head"&&(u=h),h+=_.length;h%4;)E.push(0),h++;return i.write(E),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=CA.call(t);t.length%4;)t.push(0);for(s=new Xu(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),H9={}.hasOwnProperty,Xa=function(n,e){for(var t in e)H9.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ya=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var $9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Xu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Yb=function(){function n(e,t){var r,i,s,a,u,c,h,m,y,_,w,E,C,k,I,j,q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(w=e.readUInt16(),_=w/2,e.pos+=6,s=function(){var ee,ie;for(ie=[],c=ee=0;0<=_?ee<_:ee>_;c=0<=_?++ee:--ee)ie.push(e.readUInt16());return ie}(),e.pos+=2,C=function(){var ee,ie;for(ie=[],c=ee=0;0<=_?ee<_:ee>_;c=0<=_?++ee:--ee)ie.push(e.readUInt16());return ie}(),h=function(){var ee,ie;for(ie=[],c=ee=0;0<=_?ee<_:ee>_;c=0<=_?++ee:--ee)ie.push(e.readUInt16());return ie}(),m=function(){var ee,ie;for(ie=[],c=ee=0;0<=_?ee<_:ee>_;c=0<=_?++ee:--ee)ie.push(e.readUInt16());return ie}(),i=(this.length-e.pos+this.offset)/2,u=function(){var ee,ie;for(ie=[],c=ee=0;0<=i?ee<i:ee>i;c=0<=i?++ee:--ee)ie.push(e.readUInt16());return ie}(),c=I=0,q=s.length;I<q;c=++I)for(k=s[c],r=j=E=C[c];E<=k?j<=k:j>=k;r=E<=k?++j:--j)m[c]===0?a=r+h[c]:(a=u[m[c]/2+(r-E)-(_-c)]||0)!==0&&(a+=h[c]),this.codeMap[r]=65535&a}e.pos=y}return n.encode=function(e,t){var r,i,s,a,u,c,h,m,y,_,w,E,C,k,I,j,q,ee,ie,de,z,N,U,G,R,O,F,ue,Le,Ce,xe,ne,we,ge,oe,M,X,Z,se,ce,_e,Ae,Ee,Ke,Ye,ut;switch(ue=new Xu,a=Object.keys(e).sort(function(st,Ct){return st-Ct}),t){case"macroman":for(C=0,k=function(){var st=[];for(E=0;E<256;++E)st.push(0);return st}(),j={0:0},s={},Le=0,we=a.length;Le<we;Le++)j[Ee=e[i=a[Le]]]==null&&(j[Ee]=++C),s[i]={old:e[i],new:j[e[i]]},k[i]=j[e[i]];return ue.writeUInt16(1),ue.writeUInt16(0),ue.writeUInt32(12),ue.writeUInt16(0),ue.writeUInt16(262),ue.writeUInt16(0),ue.write(k),{charMap:s,subtable:ue.data,maxGlyphID:C+1};case"unicode":for(O=[],y=[],q=0,j={},r={},I=h=null,Ce=0,ge=a.length;Ce<ge;Ce++)j[ie=e[i=a[Ce]]]==null&&(j[ie]=++q),r[i]={old:ie,new:j[ie]},u=j[ie]-i,I!=null&&u===h||(I&&y.push(I),O.push(i),h=u),I=i;for(I&&y.push(I),y.push(65535),O.push(65535),G=2*(U=O.length),N=2*Math.pow(Math.log(U)/Math.LN2,2),_=Math.log(N/2)/Math.LN2,z=2*U-N,c=[],de=[],w=[],E=xe=0,oe=O.length;xe<oe;E=++xe){if(R=O[E],m=y[E],R===65535){c.push(0),de.push(0);break}if(R-(F=r[R].new)>=32768)for(c.push(0),de.push(2*(w.length+U-E)),i=ne=R;R<=m?ne<=m:ne>=m;i=R<=m?++ne:--ne)w.push(r[i].new);else c.push(F-R),de.push(0)}for(ue.writeUInt16(3),ue.writeUInt16(1),ue.writeUInt32(12),ue.writeUInt16(4),ue.writeUInt16(16+8*U+2*w.length),ue.writeUInt16(0),ue.writeUInt16(G),ue.writeUInt16(N),ue.writeUInt16(_),ue.writeUInt16(z),_e=0,M=y.length;_e<M;_e++)i=y[_e],ue.writeUInt16(i);for(ue.writeUInt16(0),Ae=0,X=O.length;Ae<X;Ae++)i=O[Ae],ue.writeUInt16(i);for(Ke=0,Z=c.length;Ke<Z;Ke++)u=c[Ke],ue.writeUInt16(u);for(Ye=0,se=de.length;Ye<se;Ye++)ee=de[Ye],ue.writeUInt16(ee);for(ut=0,ce=w.length;ut<ce;ut++)C=w[ut],ue.writeUInt16(C);return{charMap:r,subtable:ue.data,maxGlyphID:q+1}}},n}(),PA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Yb(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=Yb.encode(t,r),(s=new Xu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),W9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),G9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),K9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var u,c,h;for(h=[],a=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;a=0<=c?++u:--u)h.push(t.readUInt32());return h}).call(this)}},e}(),Y9=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Q9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,a,u,c,h,m,y,_,w;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(h={},a=y=0,_=i.length;y<_;a=++y)s=i[a],t.pos=s.offset,m=t.readString(s.length),u=new Y9(m,s),h[w=s.nameID]==null&&(h[w]=[]),h[s.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),X9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),J9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,u,c,h;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,y;for(y=[],r=m=0;0<=s?m<s:m>s;r=0<=s?++m:--m)y.push(t.readInt16());return y}(),this.widths=(function(){var m,y,_,w;for(w=[],m=0,y=(_=this.metrics).length;m<y;m++)a=_[m],w.push(a.advance);return w}).call(this),i=this.widths[this.widths.length-1],h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),CA=[].slice,Z9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,a,u,c,h,m,y,_;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,u=(c=new Xu(r.read(s))).readShort(),m=c.readShort(),_=c.readShort(),h=c.readShort(),y=c.readShort(),this.cache[t]=u===-1?new tV(c,m,_,h,y):new eV(c,u,m,_,h,y),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,a,u,c,h;for(u=[],a=[],c=0,h=r.length;c<h;c++)s=t[r[c]],a.push(u.length),s&&(u=u.concat(s.encode(i)));return a.push(u.length),{table:u,offsets:a}},e}(),eV=function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),tV=function(){function n(e,t,r,i,s){var a,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;u=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&u;)a.pos+=1&u?4:2,128&u?a.pos+=8:64&u?a.pos+=4:8&u&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Xu(CA.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),nV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xa(e,ya),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,u=0;u<i.length;++u)if(i[u]=s,a<r.length&&r[a]==u){++a,i[u]=s;var c=this.offsets[u],h=this.offsets[u+1]-c;h>0&&(s+=h)}for(var m=new Array(4*i.length),y=0;y<i.length;++y)m[4*y+3]=255&i[y],m[4*y+2]=(65280&i[y])>>8,m[4*y+1]=(16711680&i[y])>>16,m[4*y]=(4278190080&i[y])>>24;return m},e}(),rV=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,u,c;for(i={},a=0,u=e.length;a<u;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,u,c,h,m,y,_,w,E,C,k,I;for(i in r=PA.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),w={0:0},I=r.charMap)w[(c=I[i]).old]=c.new;for(E in _=r.maxGlyphID,a)E in w||(w[E]=_++);return m=function(j){var q,ee;for(q in ee={},j)ee[j[q]]=q;return ee}(w),y=Object.keys(m).sort(function(j,q){return j-q}),C=function(){var j,q,ee;for(ee=[],j=0,q=y.length;j<q;j++)u=y[j],ee.push(m[u]);return ee}(),s=this.font.glyf.encode(a,C,w),h=this.font.loca.encode(s.offsets,C),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n}();zt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+function(){var u,c,h;for(h=[],u=0,c=t.length;u<c;u++)r=t[u],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();function NA(n,e,t,r,i){r=r||{};var s=1.15,a=i.internal.scaleFactor,u=i.internal.getFontSize()/a,c=i.getLineHeightFactor?i.getLineHeightFactor():s,h=u*c,m=/\r\n|\r|\n/g,y="",_=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(y=typeof n=="string"?n.split(m):n,_=y.length||1),t+=u*(2-s),r.valign==="middle"?t-=_/2*h:r.valign==="bottom"&&(t-=_*h),r.halign==="center"||r.halign==="right"){var w=u;if(r.halign==="center"&&(w*=.5),y&&_>=1){for(var E=0;E<y.length;E++)i.text(y[E],e-i.getStringUnitWidth(y[E])*w,t),t+=h;return i}e-=i.getStringUnitWidth(n)*w}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var Qb={},Vh=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Qb=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),u=a.fontStyle,c=a.fontName;if(e.font&&(c=e.font),e.fontStyle){u=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),u=h[0])}if(this.jsPDFDocument.setFont(c,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var m=n.unifyColor(e.fillColor);m&&(r=this.jsPDFDocument).setFillColor.apply(r,m),m=n.unifyColor(e.textColor),m&&(i=this.jsPDFDocument).setTextColor.apply(i,m),m=n.unifyColor(e.lineColor),m&&(s=this.jsPDFDocument).setDrawColor.apply(s,m),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,s){return this.jsPDFDocument.rect(e,t,r,i,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Qb||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),py=function(n,e){return py=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},py(n,e)};function kA(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");py(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var LA=function(n){kA(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e}(Array);function iV(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function sV(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Lm(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function RA(n,e,t,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:s});var a=DA(i,!1);a&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,a)}function DA(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Sg(n,e){var t,r,i,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function OA(n,e){var t=Sg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function oV(n,e,t,r,i){var s={},a=1.3333333333333333,u=J0(e,function(q){return i.getComputedStyle(q).backgroundColor});u!=null&&(s.fillColor=u);var c=J0(e,function(q){return i.getComputedStyle(q).color});c!=null&&(s.textColor=c);var h=lV(r,t);h&&(s.cellPadding=h);var m="borderTopColor",y=a*t,_=r.borderTopWidth;if(r.borderBottomWidth===_&&r.borderRightWidth===_&&r.borderLeftWidth===_){var w=(parseFloat(_)||0)/y;w&&(s.lineWidth=w)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/y,right:(parseFloat(r.borderRightWidth)||0)/y,bottom:(parseFloat(r.borderBottomWidth)||0)/y,left:(parseFloat(r.borderLeftWidth)||0)/y},s.lineWidth.top||(s.lineWidth.right?m="borderRightColor":s.lineWidth.bottom?m="borderBottomColor":s.lineWidth.left&&(m="borderLeftColor"));var E=J0(e,function(q){return i.getComputedStyle(q)[m]});E!=null&&(s.lineColor=E);var C=["left","right","center","justify"];C.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),C=["middle","bottom","top"],C.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var k=parseInt(r.fontSize||"");isNaN(k)||(s.fontSize=k/a);var I=aV(r);I&&(s.fontStyle=I);var j=(r.fontFamily||"").toLowerCase();return n.indexOf(j)!==-1&&(s.font=j),s}function aV(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function J0(n,e){var t=MA(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function MA(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:MA(n.parentElement,e):t}function lV(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(u){return parseInt(u||"0")/r}),a=Sg(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function jA(n,e,t,r,i){var s,a;r===void 0&&(r=!1),i===void 0&&(i=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var c=Object.keys(n.getFontList()),h=n.scaleFactor(),m=[],y=[],_=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:m,body:y,foot:_};for(var w=0;w<u.rows.length;w++){var E=u.rows[w],C=(a=(s=E==null?void 0:E.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),k=uV(c,h,t,E,r,i);k&&(C==="thead"?m.push(k):C==="tfoot"?_.push(k):y.push(k))}return{head:m,body:y,foot:_}}function uV(n,e,t,r,i,s){for(var a=new LA(r),u=0;u<r.cells.length;u++){var c=r.cells[u],h=t.getComputedStyle(c);if(i||h.display!=="none"){var m=void 0;s&&(m=oV(n,c,e,h,t)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:m,_element:c,content:cV(c)})}}var y=t.getComputedStyle(r);if(a.length>0&&(i||y.display!=="none"))return a}function cV(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function hV(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Il(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),a=1;a<arguments.length;a++){var u=arguments[a];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(s[c]=u[c])}return s}function fV(n,e){var t=new Vh(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();hV(i,r,e);var s=Il({},i,r,e),a;typeof window<"u"&&(a=window);var u=dV(i,r,e),c=pV(i,r,e),h=mV(t,s),m=yV(t,s,a);return{id:e.tableId,content:m,hooks:c,styles:u,settings:h}}function dV(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var h=n[c],m=e[c],y=t[c];r.columnStyles=Il({},h,m,y)}else{var _=[n,e,t],w=_.map(function(E){return E[c]||{}});r[c]=Il({},w[0],w[1],w[2])}},s=0,a=Object.keys(r);s<a.length;s++){var u=a[s];i(u)}return r}function pV(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=r;s<a.length;s++){var u=a[s];u.didParseCell&&i.didParseCell.push(u.didParseCell),u.willDrawCell&&i.willDrawCell.push(u.willDrawCell),u.didDrawCell&&i.didDrawCell.push(u.didDrawCell),u.willDrawPage&&i.willDrawPage.push(u.willDrawPage),u.didDrawPage&&i.didDrawPage.push(u.didDrawPage)}return i}function mV(n,e){var t,r,i,s,a,u,c,h,m,y,_,w,E=Sg(e.margin,40/n.scaleFactor()),C=(t=gV(n,e.startY))!==null&&t!==void 0?t:E.top,k;e.showFoot===!0?k="everyPage":e.showFoot===!1?k="never":k=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var I;e.showHead===!0?I="everyPage":e.showHead===!1?I="never":I=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var j=(s=e.useCss)!==null&&s!==void 0?s:!1,q=e.theme||(j?"plain":"striped"),ee=!!e.horizontalPageBreak,ie=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:j,theme:q,startY:C,margin:E,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(m=e.tableWidth)!==null&&m!==void 0?m:"auto",showHead:I,showFoot:k,tableLineWidth:(y=e.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(_=e.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:ee,horizontalPageBreakRepeat:ie,horizontalPageBreakBehaviour:(w=e.horizontalPageBreakBehaviour)!==null&&w!==void 0?w:"afterAllRows"}}function gV(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function yV(n,e,t){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var u=jA(n,e.html,t,a,e.useCss)||{};r=u.head||r,i=u.body||r,s=u.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||vV(r,i,s);return{columns:c,head:r,body:i,foot:s}}function vV(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,u;Array.isArray(r)?u=r[parseInt(s)]:u=r[s],typeof u=="object"&&!Array.isArray(u)&&(a=(u==null?void 0:u.colSpan)||1);for(var c=0;c<a;c++){var h=void 0;Array.isArray(r)?h=i.length:h=s+(c>0?"_".concat(c):"");var m={dataKey:h};i.push(m)}}),i}var my=function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n}(),wV=function(n){kA(e,n);function e(t,r,i,s,a,u){var c=n.call(this,t,r,u)||this;return c.cell=i,c.row=s,c.column=a,c.section=s.section,c}return e}(my),_V=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,s,a){for(var u=0,c=t;u<c.length;u++){var h=c[u],m=new wV(e,this,r,i,s,a),y=h(m)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],y)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new my(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new my(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n}(),FA=function(){function n(e,t,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof LA&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,s){var a=r.cells[s.index];if(!a)return 0;var u=t.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),h=c+u;return h>i?h:i},0)},n}(),VA=function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",u=/\r\n|\r|\n/g;this.text=a.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Sg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),bV=function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},n}();function SV(n,e){xV(n,e);var t=[],r=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),r+=s.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=gy(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=gy(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),AV(e),EV(e,n),TV(e)}function xV(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=OA(n,e);e.allRows().forEach(function(s){for(var a=0,u=e.columns;a<u.length;a++){var c=u[a],h=s.cells[c.index];if(h){var m=e.hooks.didParseCell;e.callCellHooks(n,m,h,s,c,null);var y=h.padding("horizontal");h.contentWidth=Lm(h.text,h.styles,n)+y;var _=Lm(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,n);if(h.minReadableWidth=_+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||r===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var w=10/t;h.minWidth=h.styles.minCellWidth||w,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,u=e.columns;a<u.length;a++){var c=u[a],h=s.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var m=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},y=m.cellWidth||m.minCellWidth;y&&typeof y=="number"&&(c.minWidth=y,c.wrappedWidth=y)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function gy(n,e,t){for(var r=e,i=n.reduce(function(w,E){return w+E.wrappedWidth},0),s=0;s<n.length;s++){var a=n[s],u=a.wrappedWidth/i,c=r*u,h=a.width+c,m=t(a),y=h<m?m:h;e-=y-a.width,a.width=y}if(e=Math.round(e*1e10)/1e10,e){var _=n.filter(function(w){return e<0?w.width>t(w):!0});_.length&&(e=gy(_,e,t))}return e}function TV(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var s=r[i],a=0,u=n.columns;a<u.length;a++){var c=u[a],h=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(h)h.cell.height+=s.height,t=h.cell.colSpan,delete s.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var m=s.cells[c.index];if(!m)continue;if(m.height=s.height,m.rowSpan>1){var y=r.length-i,_=m.rowSpan>y?y:m.rowSpan;e[c.index]={cell:m,left:_,row:s}}}}}function AV(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,s=0,a=0,u=0;u<n.columns.length;u++){var c=n.columns[u];if(a-=1,a>1&&n.columns[u+1])s+=c.width,delete r.cells[c.index];else if(i){var h=i;delete r.cells[c.index],i=null,h.width=c.width+s}else{var h=r.cells[c.index];if(!h)continue;if(a=h.colSpan,s=0,h.colSpan>1){i=h,s+=c.width;continue}h.width=c.width+s}}}function EV(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var s=i[r],a=0,u=n.columns;a<u.length;a++){var c=u[a],h=s.cells[c.index];if(h){e.applyStyles(h.styles,!0);var m=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,m+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=Xb(h.text,m,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=Xb(h.text,m,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var y=h.styles.overflow(h.text,m);typeof y=="string"?h.text=[y]:h.text=y}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var _=h.contentHeight/h.rowSpan;h.rowSpan>1&&t.count*t.height<_*h.rowSpan?t={height:_,count:h.rowSpan}:t&&t.count>0&&t.height>_&&(_=t.height),_>s.height&&(s.height=_)}}t.count--}}function Xb(n,e,t,r,i){return n.map(function(s){return IV(s,e,t,r,i)})}function IV(n,e,t,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Lm(n,t,r))return n;for(;e<Lm(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function PV(n,e){var t=new Vh(n),r=CV(e,t.scaleFactor()),i=new _V(e,r);return SV(t,i),t.applyStyles(t.userStyles),i}function CV(n,e){var t=n.content,r=kV(t.columns);if(t.head.length===0){var i=Jb(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=Jb(r,"foot");i&&t.foot.push(i)}var s=n.settings.theme,a=n.styles;return{columns:r,head:Z0("head",t.head,r,a,s,e),body:Z0("body",t.body,r,a,s,e),foot:Z0("foot",t.foot,r,a,s,e)}}function Z0(n,e,t,r,i,s){var a={},u=e.map(function(c,h){for(var m=0,y={},_=0,w=0,E=0,C=t;E<C.length;E++){var k=C[E];if(a[k.index]==null||a[k.index].left===0)if(w===0){var I=void 0;Array.isArray(c)?I=c[k.index-_-m]:I=c[k.dataKey];var j={};typeof I=="object"&&!Array.isArray(I)&&(j=(I==null?void 0:I.styles)||{});var q=LV(n,k,h,i,r,s,j),ee=new VA(I,q,n);y[k.dataKey]=ee,y[k.index]=ee,w=ee.colSpan-1,a[k.index]={left:ee.rowSpan-1,times:w}}else w--,_++;else a[k.index].left--,w=a[k.index].times,m++}return new FA(c,h,n,y)});return u}function Jb(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=NV(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function NV(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function kV(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new bV(i,e,t)})}function LV(n,e,t,r,i,s,a){var u=sV(r),c;n==="head"?c=i.headStyles:n==="body"?c=i.bodyStyles:n==="foot"&&(c=i.footStyles);var h=Il({},u.table,u[n],i.styles,c),m=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},y=n==="body"?m:{},_=n==="body"&&t%2===0?Il({},u.alternateRow,i.alternateRowStyles):{},w=iV(s),E=Il({},w,h,_,y);return Il(E,a)}function RV(n,e,t){var r;t===void 0&&(t={});var i=OA(n,e),s=new Map,a=[],u=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(_){var w=e.columns.find(function(E){return E.dataKey===_||E.index===_});w&&!s.has(w.index)&&(s.set(w.index,!0),a.push(w.index),u.push(e.columns[w.index]),i-=w.wrappedWidth)});for(var h=!0,m=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;m<e.columns.length;){if(s.has(m)){m++;continue}var y=e.columns[m].wrappedWidth;if(h||i>=y)h=!1,a.push(m),u.push(e.columns[m]),i-=y;else break;m++}return{colIndexes:a,columns:u,lastIndex:m-1}}function DV(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=RV(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function OV(n,e){var t=e.settings,r=t.startY,i=t.margin,s={x:i.left,y:r},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=r+i.bottom+a;if(t.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(_,w){return _+w.height},0);u+=h}var m=new Vh(n);(t.pageBreak==="always"||t.startY!=null&&u>m.pageSize().height)&&(UA(m),s.y=i.top),e.callWillDrawPageHooks(m,s);var y=Il({},s);e.startPageNumber=m.pageNumber(),t.horizontalPageBreak?MV(m,e,y,s):(m.applyStyles(m.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(_){return Fl(m,e,_,s,e.columns)}),m.applyStyles(m.userStyles),e.body.forEach(function(_,w){var E=w===e.body.length-1;Rm(m,e,_,E,y,s,e.columns)}),m.applyStyles(m.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(_){return Fl(m,e,_,s,e.columns)})),RA(m,e,y,s),e.callEndPageHooks(m,s),e.finalY=s.y,n.lastAutoTable=e,m.applyStyles(m.userStyles)}function MV(n,e,t,r){var i=DV(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,m){n.applyStyles(n.userStyles),m>0?Zf(n,e,t,r,h.columns,!0):Zb(n,e,r,h.columns),jV(n,e,t,r,h.columns),e1(n,e,r,h.columns)});else for(var a=-1,u=i[0],c=function(){var h=a;if(u){n.applyStyles(n.userStyles);var m=u.columns;a>=0?Zf(n,e,t,r,m,!0):Zb(n,e,r,m),h=e4(n,e,a+1,r,m),e1(n,e,r,m)}var y=h-a;i.slice(1).forEach(function(_){n.applyStyles(n.userStyles),Zf(n,e,t,r,_.columns,!0),e4(n,e,a+1,r,_.columns,y),e1(n,e,r,_.columns)}),a=h};a<e.body.length-1;)c()}function Zb(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Fl(n,e,s,t,r)})}function jV(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(s,a){var u=a===e.body.length-1;Rm(n,e,s,u,t,r,i)})}function e4(n,e,t,r,i,s){n.applyStyles(n.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),u=-1;return e.body.slice(t,a).forEach(function(c,h){var m=t+h===e.body.length-1,y=BA(n,e,m,r);c.canEntireRowFit(y,i)&&(Fl(n,e,c,r,i),u=t+h)}),u}function e1(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Fl(n,e,s,t,r)})}function FV(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function VV(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var s=0,a=0,u=t.columns;a<u.length;a++){var c=u[a],h=n.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var m=new VA(h.raw,h.styles,h.section);m=Il(m,h),m.text=[];var y=FV(h,e,r);h.text.length>y&&(m.text=h.text.splice(y,h.text.length));var _=r.scaleFactor(),w=r.getLineHeightFactor();h.contentHeight=h.getContentHeight(_,w),h.contentHeight>=e&&(h.contentHeight=e,m.styles.minCellHeight-=e),h.contentHeight>n.height&&(n.height=h.contentHeight),m.contentHeight=m.getContentHeight(_,w),m.contentHeight>s&&(s=m.contentHeight),i[c.index]=m}}var E=new FA(n.raw,-1,n.section,i,!0);E.height=s;for(var C=0,k=t.columns;C<k.length;C++){var c=k[C],m=E.cells[c.index];m&&(m.height=E.height);var h=n.cells[c.index];h&&(h.height=n.height)}return E}function BV(n,e,t,r){var i=n.pageSize().height,s=r.settings.margin,a=s.top+s.bottom,u=i-a;e.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,n),h=c<t;if(c>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var m=e.hasRowSpan(r.columns),y=e.getMaxCellHeight(r.columns)>u;return y?(m&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||r.settings.rowPageBreak==="avoid")}function Rm(n,e,t,r,i,s,a){var u=BA(n,e,r,s);if(t.canEntireRowFit(u,a))Fl(n,e,t,s,a);else if(BV(n,t,u,e)){var c=VV(t,u,e,n);Fl(n,e,t,s,a),Zf(n,e,i,s,a),Rm(n,e,c,r,i,s,a)}else Zf(n,e,i,s,a),Rm(n,e,t,r,i,s,a)}function Fl(n,e,t,r,i){r.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var u=a[s],c=t.cells[u.index];if(!c){r.x+=u.width;continue}n.applyStyles(c.styles),c.x=r.x,c.y=r.y;var h=e.callCellHooks(n,e.hooks.willDrawCell,c,t,u,r);if(h===!1){r.x+=u.width;continue}UV(n,c,r);var m=c.getTextPos();NA(c.text,m.x,m.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,u,r),r.x+=u.width}r.y+=t.height}function UV(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=DA(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),zV(n,e,t,r.lineWidth))}function zV(n,e,t,r){var i,s,a,u;r.top&&(i=t.x,s=t.y,a=t.x+e.width,u=t.y,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,a,u)),r.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,u=t.y+e.height,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,a,u)),r.left&&(i=t.x,s=t.y,a=t.x,u=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(u+=.5*r.bottom),c(r.left,i,s,a,u)),r.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,u=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(u+=.5*r.bottom),c(r.right,i,s,a,u));function c(h,m,y,_,w){n.getDocument().setLineWidth(h),n.getDocument().line(m,y,_,w,"S")}}function BA(n,e,t,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function Zf(n,e,t,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(u){return Fl(n,e,u,r,i)}),e.callEndPageHooks(n,r);var a=e.settings.margin;RA(n,e,t,r),UA(n),e.pageNumber++,r.x=a.left,r.y=a.top,t.y=a.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return Fl(n,e,u,r,i)}),n.applyStyles(n.userStyles))}function UA(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function zA(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=fV(this,r),s=PV(this,i);return OV(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){NA(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return Vh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Vh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Vh(this),s=jA(i,e,window,t,!1),a=s.head,u=s.body,c=((r=a[0])===null||r===void 0?void 0:r.map(function(h){return h.content}))||[];return{columns:c,rows:u,data:u}}}var t1;try{if(typeof window<"u"&&window){var t4=window,n4=t4.jsPDF||((t1=t4.jspdf)===null||t1===void 0?void 0:t1.jsPDF);n4&&zA(n4)}}catch(n){console.error("Could not apply autoTable plugin",n)}zA(zt);const qV=()=>{const n=Sd(),e=NT(n),[t,r]=re.useState("dashboard"),[i,s]=re.useState(!1),[a,u]=re.useState([]),[c,h]=re.useState({name:"",price:0,quantity:0,image:null,_id:null,imageURL:"",category:""}),[m,y]=re.useState(!1),[_,w]=re.useState(!1),[E,C]=re.useState(null),[k,I]=re.useState(""),[j,q]=re.useState(""),[ee,ie]=re.useState(""),[de,z]=re.useState(""),[N,U]=re.useState(null),[G,R]=re.useState(!1),[O,F]=re.useState([]),[ue,Le]=re.useState([]);re.useEffect(()=>{const Ve=xl(ks,"orders"),it=e8(Ve,t8("status","in",["Pending","Preparing","Ready to Pickup"]),n8("dateTime","desc")),$e=Th(it,Pt=>{const wt=Pt.docs.map(Ut=>({id:Ut.id,...Ut.data()}));Le(wt),console.log(" Updated active orders:",wt)});return()=>$e()},[]);const Ce=[...ue].sort((Ve,it)=>new Date(Ve.dateTime)-new Date(it.dateTime)),xe=Ce[0],ne=Ce.slice(1),we=Ve=>{switch(Ve){case"Pending":return 10;case"Preparing":return Math.floor(Math.random()*31)+50;case"Ready to Pickup":return 100;default:return 0}},ge=ne.map((Ve,it)=>({...Ve,progress:we(Ve.status)})),[oe,M]=re.useState([{id:1,name:"Juan Dela Cruz",schoolId:"27-5646-456",type:"student"},{id:2,name:"Maria Clara",schoolId:"43-5455-454",type:"faculty"},{id:3,name:"Pedro Penduko",schoolId:"23-2345-546",type:"staff"}]),[X,Z]=re.useState(""),[se,ce]=re.useState(""),[_e,Ae]=re.useState(""),[Ee,Ke]=re.useState(!1);O.filter(Ve=>Ve.status==="Completed"||Ve.status==="Cancelled");const Ye=()=>{Ke(!Ee)},ut=()=>{if(!O||O.length===0)return D.jsx("p",{children:"No past transactions available."});const Ve=O.filter(it=>it.status==="Completed"||it.status==="Cancelled");return Ee&&D.jsx("div",{className:"modal-overlay",children:D.jsxs("div",{className:"modal",children:[D.jsx("h2",{children:"Past Transactions"}),D.jsxs("table",{className:"transactions-table",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"Order Number"}),D.jsx("th",{children:"Name"}),D.jsx("th",{children:"Date Ordered"}),D.jsx("th",{children:"Total Amount"}),D.jsx("th",{children:"Items"}),D.jsx("th",{children:"Status"}),D.jsx("th",{children:"Payment Method"})]})}),D.jsx("tbody",{children:Ve.map(it=>{var $e;return D.jsxs("tr",{children:[D.jsx("td",{children:it.orderNumber}),D.jsx("td",{children:it.name||"N/A"}),D.jsx("td",{children:it.dateTime||"N/A"}),D.jsx("td",{children:it.totalAmount?`${it.totalAmount.toFixed(2)}`:"N/A"}),D.jsx("td",{children:(($e=it.items)==null?void 0:$e.map((Pt,wt)=>D.jsxs("div",{children:[Pt.name," (x",Pt.quantity,")"]},wt)))||"N/A"}),D.jsx("td",{children:D.jsx("span",{className:`status-badge ${it.status.toLowerCase()}`,children:it.status})}),D.jsx("td",{children:it.paymentMethod||"N/A"})]},it.orderNumber)})})]}),D.jsx("button",{className:"close-modal-button",onClick:Ye,children:"Close"})]})})},st=async()=>{if(se!==_e){Rt.error("New password and confirm password do not match.");return}try{const Ve=Md.currentUser;if(!Ve){Rt.error("No user is currently logged in.");return}const it=Bu.credential(Ve.email,X);await B5(Ve,it);const $e=Bu.credential(Ve.email,se);try{await B5(Ve,$e),Rt.error("New password cannot be the same as the current password.");return}catch{console.log("Password is new.")}await RN(Ve,se),Rt.success(`Password updated successfully!
Please log in again.`),setTimeout(()=>{a_(n)},3e3)}catch(Ve){console.error("Error updating password:",Ve.message),Rt.error(D.jsxs(D.Fragment,{children:[" Failed to update password: ",D.jsx("br",{})," ",Ve.message," "]}))}},Ct=async(Ve,it)=>{const $e=[...O],Pt=$e[Ve];Pt.status=it;try{const wt=ku(ks,"orders",Pt.orderNumber);if(it==="Cancelled"||it==="Completed"){const Ut=it==="Cancelled"?"cancelled_orders":"completed_orders",vn=it==="Cancelled"?{timeCancelled:new Date().toLocaleString()}:{timeCompleted:new Date().toLocaleString()},sn=ku(ks,Ut,Pt.orderNumber);await k1(sn,{...Pt,...vn}),await I0(wt),F(xt=>xt.filter(Zt=>Zt.orderNumber!==Pt.orderNumber)),Rt.success(`Order moved to ${Ut.replace("_"," ")} successfully.`)}else await Qw(wt,{status:it}),Rt.success("Order status updated successfully.");F($e)}catch(wt){console.error("Error updating order status:",wt),Rt.error("Failed to update order status.")}};if(re.useEffect(()=>{sessionStorage.getItem("hasLoggedIn")==="true"&&(setTimeout(()=>{Rt.success("Login successful!")},500),sessionStorage.removeItem("hasLoggedIn"))},[]),re.useEffect(()=>{const Ve=xl(ks,"menu"),it=Th(Ve,$e=>{const Pt=$e.docs.map(wt=>({...wt.data(),_id:wt.id}));u(Pt)},$e=>{console.error("Error fetching menu items:",$e),Rt.error("Failed to fetch menu items.")});return()=>it()},[]),re.useEffect(()=>{const Ve=xl(ks,"orders"),it=Th(Ve,$e=>{const Pt=$e.docs.map(wt=>({...wt.data(),orderNumber:wt.id})).filter(wt=>wt.orderNumber!=="order");F(Pt)},$e=>{console.error("Error fetching orders:",$e),Rt.error("Failed to fetch orders.")});return()=>it()},[]),re.useEffect(()=>{(async()=>{const it=xl(ks,"customers"),$e=Th(it,Pt=>{const wt=Pt.docs.map(Ut=>({id:Ut.id,...Ut.data()}));M(wt)});return()=>$e()})()},[]),e)return D.jsx("div",{children:"Loading..."});const je=()=>{h({name:"",price:"",quantity:"",image:null,_id:null,imageURL:"",category:""}),y(!0)},le=Ve=>{h({name:Ve.name,price:Ve.price,quantity:Ve.quantity,image:null,_id:Ve._id,imageURL:Ve.imageURL,category:Ve.category}),y(!0)},Mt=()=>{y(!1),h({name:"",image:"",price:0,quantity:0,category:""})},gt=Ve=>{r(Ve)},Je=()=>{s(!i)},nt=Ve=>{const{name:it,value:$e}=Ve.target;h(Pt=>({...Pt,[it]:$e}))},lt=async Ve=>{Ve.preventDefault();try{let it=null,$e=null;if(c.image){const Ut=new FormData;Ut.append("file",c.image),Ut.append("upload_preset","wildcats_express_menu"),Ut.append("cloud_name","dxbkzby8x");const vn=await fetch("https://api.cloudinary.com/v1_1/dxbkzby8x/image/upload",{method:"POST",body:Ut});if(!vn.ok)throw new Error("Cloudinary upload failed");const sn=await vn.json();it=sn.secure_url,$e=sn.public_id}const Pt=xl(ks,"menu"),wt={name:c.name,price:parseFloat(c.price),quantity:Number(c.quantity),imageURL:it||c.imageURL,publicID:$e||"",category:c.category};if(c._id){const Ut=ku(ks,"menu",c._id);await Qw(Ut,wt),Rt.success("Menu item updated successfully.")}else await a8(Pt,wt),Rt.success("New menu item added successfully.");Mt()}catch(it){console.error("Error uploading menu item: ",it),Rt.error("Failed to add menu item.")}},ct=Ve=>{C(Ve),w(!0)},St=()=>{const Ve={};return O.forEach($e=>{var Pt;(Pt=$e.items)==null||Pt.forEach(wt=>{Ve[wt.name]?Ve[wt.name]+=wt.quantity:Ve[wt.name]=wt.quantity})}),[...a].map($e=>({...$e,popularity:Ve[$e.name]||0})).sort(($e,Pt)=>Pt.popularity-$e.popularity)},Ot=Ve=>{const it=Ve.target.files[0];if(it){if(it.size>5*1024*1024){Rt.error("Image file is too large. Max size is 5MB.");return}h($e=>({...$e,image:it}))}},De=async()=>{if(!E){console.error("No item selected for deletion.");return}try{const Ve=ku(ks,"menu",E);await I0(Ve),u(it=>it.filter($e=>$e._id!==E)),C(null),Rt.success("Menu item deleted successfully.",{autoClose:5e3})}catch(Ve){console.error("Error deleting menu item:",Ve),Rt.error("Failed to delete menu item. Please try again.",{autoClose:5e3})}finally{w(!1)}},qe=Ve=>{U(Ve),R(!0)},Qe=async()=>{if(!N){Rt.error("No customer selected for deletion.");return}try{const Ve=ku(ks,"customers",N.id);await I0(Ve),M(it=>it.filter($e=>$e.id!==N.id)),R(!1),U(null),Rt.success("Customer removed successfully!")}catch(Ve){console.error("Error deleting customer:",Ve),Rt.error("Failed to delete customer. Please try again.")}},mt=()=>{R(!1),U(null)},pt=()=>D.jsxs("div",{className:"add-menu-container",children:[D.jsx("button",{onClick:je,className:"add-menu-button",children:"Add New Menu"}),m&&D.jsx("div",{className:"modal-overlay-menu",children:D.jsxs("div",{className:"modal-menu",children:[D.jsx("h2",{children:c._id?"Edit Item":"Add New Item"}),D.jsxs("form",{onSubmit:lt,children:[D.jsx("input",{type:"text",name:"name",value:c.name,onChange:nt,placeholder:"Item Name",required:!0}),D.jsx("input",{type:"number",name:"price",value:c.price,onChange:nt,placeholder:"Price",min:"0",step:"0.01",required:!0}),D.jsx("input",{type:"number",name:"quantity",value:c.quantity,onChange:nt,placeholder:"Quantity",min:"0",step:"1",required:!0}),D.jsxs("select",{name:"category",value:c.category,onChange:nt,required:!0,className:"category-select",children:[D.jsx("option",{value:"",children:"Select a category"}),D.jsx("option",{value:"Rice",children:"Rice"}),D.jsx("option",{value:"Dishes",children:"Dishes"}),D.jsx("option",{value:"Hot Drinks",children:"Hot Drinks"}),D.jsx("option",{value:"Cold Drinks",children:"Cold Drinks"}),D.jsx("option",{value:"Snacks",children:"Snacks"})]}),!c._id&&D.jsxs("div",{className:"file-input-container",children:[D.jsx("label",{htmlFor:"image",children:"Choose Image:"}),D.jsx("input",{className:"input-image",type:"file",id:"image",name:"image",onChange:Ot,accept:"image/*"})]}),c.image&&D.jsxs("div",{className:"image-preview",children:[D.jsx("img",{src:URL.createObjectURL(c.image),alt:"Preview",className:"image-preview-img"}),D.jsx("p",{children:c.image.name})]}),D.jsxs("div",{className:"modal-actions-menu",children:[D.jsx("button",{type:"submit",children:"Save"}),D.jsx("button",{type:"button",onClick:Mt,children:"Cancel"})]})]})]})}),_&&D.jsx("div",{className:"modal-overlay-menu",children:D.jsxs("div",{className:"modal-menu",children:[D.jsx("h2",{children:"Confirm Deletion"}),D.jsx("p",{children:"Are you sure you want to delete this menu item?"}),D.jsxs("div",{className:"modal-actions-menu",children:[D.jsx("button",{onClick:De,children:"Delete"}),D.jsx("button",{onClick:()=>w(!1),children:"Cancel"})]})]})})]}),kt=()=>{const Ve=St();return D.jsx("div",{className:"menu-items",children:Ve.map(it=>D.jsxs("div",{className:"menu-item",children:[D.jsx("div",{className:"menu-image-container",children:it.imageURL?D.jsx("img",{src:it.imageURL,alt:it.name,className:"menu-image"}):D.jsx("div",{className:"menu-image-placeholder",children:D.jsx(Pb,{className:"no-image-icon"})})}),D.jsxs("div",{className:"menu-details",children:[D.jsx("div",{className:"menu-name",children:it.name}),D.jsxs("div",{className:"menu-price",children:["Php ",Number(it.price).toFixed(2)]}),D.jsxs("div",{className:"menu-quantity",children:["Quantity: ",it.quantity]}),D.jsxs("div",{className:"menu-popularity",children:["Popularity: ",it.popularity]})]}),D.jsxs("div",{className:"menu-actions",children:[D.jsx("button",{className:"action-link-edit",onClick:()=>le(it),children:"Edit"}),D.jsx("button",{className:"action-link-delete",onClick:()=>ct(it._id),children:"Delete"})]})]},it._id))})},at=()=>D.jsxs("div",{className:"dashboard-container-admin",children:[D.jsxs("div",{className:"orders-wrapper",children:[D.jsxs("div",{className:"order-line-container",children:[D.jsx("h3",{children:"Order Line"}),D.jsx("br",{}),D.jsx("div",{className:"order-cards",children:ge.map((Ve,it)=>D.jsxs("div",{className:"order-card",children:[D.jsxs("div",{className:"order-card-header",children:[D.jsx("div",{className:"school-id",children:Ve.schoolId}),D.jsxs("div",{className:"order-id",children:["Order #",it+2]})]}),D.jsxs("div",{className:"order-details",children:[D.jsx("p",{children:Ve.name}),D.jsxs("div",{className:"order-status",children:[D.jsx("span",{children:D.jsx("p",{children:Ve.status})}),D.jsx("div",{className:"progress-bar",children:D.jsx("div",{className:"progress",style:{width:`${Ve.progress}%`}})}),D.jsxs("span",{className:"progress-percentage",children:[Ve.progress,"%"]})]})]})]},Ve.id))})]}),D.jsxs("div",{className:"current-order-container",children:[D.jsx("h3",{children:"Current Order"}),D.jsx("br",{}),xe?D.jsxs("div",{className:"current-order-card",children:[D.jsx("h4",{children:xe.name}),D.jsx("p",{children:xe.schoolId}),D.jsx("p",{children:xe.status}),D.jsxs("div",{className:"current-order-card-bottom",children:[D.jsx("span",{children:"Order#: 1"}),D.jsxs("span",{children:["Items: ",xe.quantity]})]})]}):D.jsx("p",{children:"No current orders."})]})]}),D.jsxs("div",{className:"popular-picks-container",children:[D.jsx("h2",{children:"Popular Picks"}),D.jsx("br",{}),D.jsx("div",{className:"popular-picks",children:St().slice(0,4).map(Ve=>D.jsxs("div",{className:"pick",children:[D.jsx("div",{className:"pick-image-container",children:Ve.imageURL?D.jsx("img",{src:Ve.imageURL,alt:Ve.name,className:"pick-image"}):D.jsx("div",{className:"pick-image-placeholder",children:D.jsx(Pb,{className:"no-image-icon"})})}),D.jsxs("div",{className:"pick-name-price",children:[D.jsx("span",{className:"pick-name",children:Ve.name}),D.jsxs("span",{className:"pick-price",children:["",Ve.price.toFixed(2)]})]})]},Ve._id))})]})]}),$n=()=>{if(!O||O.length===0)return D.jsx("p",{children:"No orders available."});const Ve=O.filter(it=>it.status!=="Cancelled"&&it.status!=="Completed");return D.jsx("div",{className:"orders-modal",children:D.jsxs("table",{className:"orders-table",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"Order Number"}),D.jsx("th",{children:"Name"}),D.jsx("th",{children:"Date Ordered"}),D.jsx("th",{children:"Total Amount"}),D.jsx("th",{children:"Items"}),D.jsx("th",{children:"Status"}),D.jsx("th",{children:"Payment Method"})]})}),D.jsx("tbody",{children:Ve.map((it,$e)=>{var Pt;return D.jsxs("tr",{children:[D.jsx("td",{children:it.orderNumber}),D.jsx("td",{children:it.name||"N/A"}),D.jsx("td",{children:it.dateTime||"N/A"}),D.jsx("td",{children:it.totalAmount?`${it.totalAmount.toFixed(2)}`:"N/A"}),D.jsx("td",{children:((Pt=it.items)==null?void 0:Pt.map((wt,Ut)=>D.jsxs("div",{children:[wt.name," (x",wt.quantity,")"]},Ut)))||"N/A"}),D.jsx("td",{children:D.jsxs("select",{value:it.status,onChange:wt=>Ct($e,wt.target.value),children:[D.jsx("option",{value:"Pending",children:"Pending"}),D.jsx("option",{value:"Preparing",children:"Preparing"}),D.jsx("option",{value:"Ready to Pickup",children:"Ready to Pickup"}),D.jsx("option",{value:"Completed",children:"Completed"}),D.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),D.jsx("td",{children:it.paymentMethod||"N/A"})]},it.orderNumber)})})]})})},rn=()=>{if(!O||O.length===0)return D.jsx("p",{children:"No data available for Admin Reports."});const Ve=O.filter($e=>{var sn,xt,Zt,xr;const Pt=((sn=$e.orderNumber)==null?void 0:sn.toLowerCase().includes(k.toLowerCase()))||((xt=$e.dateTime)==null?void 0:xt.toLowerCase().includes(k.toLowerCase()))||((Zt=$e.status)==null?void 0:Zt.toLowerCase().includes(k.toLowerCase()))||((xr=$e.items)==null?void 0:xr.some(Vn=>Vn.name.toLowerCase().includes(k.toLowerCase()))),wt=j?$e.dateTime.split("/")[1].padStart(2,"0")===j:!0,Ut=ee?$e.dateTime.split("/")[0].padStart(2,"0")===ee:!0,vn=de?$e.dateTime.split("/")[2].split(",")[0]===de:!0;return Pt&&wt&&Ut&&vn}),it=()=>{try{if(Ve.length===0){Rt.error("No data available to generate the report.");return}const $e=new zt;$e.setFontSize(18),$e.text("Admin Reports",14,20);const Pt=new Date,wt=Pt.toISOString().split("T")[0],Ut=Pt.toLocaleString();$e.setFontSize(12),$e.text(`Generated on: ${Ut}`,14,30);const vn=["Order Number","Date Ordered","Status","Items","Quantity","Total Price"],sn=Ve.map(xt=>{var Zt,xr,Vn;return[xt.orderNumber||"N/A",xt.dateTime||"N/A",xt.status||"N/A",((Zt=xt.items)==null?void 0:Zt.map(Kn=>`${Kn.name} (x${Kn.quantity})`).join(", "))||"N/A",((xr=xt.items)==null?void 0:xr.reduce((Kn,Yr)=>Kn+Yr.quantity,0))||0,`${((Vn=xt.totalAmount)==null?void 0:Vn.toFixed(2))||"0.00"}`]});$e.autoTable({head:[vn],body:sn,startY:40,styles:{fontSize:10},headStyles:{fillColor:[128,0,0]}}),$e.save(`Wildcats-Express-Admin-Report-${wt}.pdf`),Rt.success("Report downloaded successfully!")}catch($e){console.error("Error generating PDF:",$e),Rt.error("Failed to download the report. Please try again!")}};return D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"search-container",children:D.jsx("input",{type:"text",placeholder:"Search by Order Number, Date, Status, or Item",value:k,onChange:$e=>I($e.target.value)})}),D.jsxs("div",{className:"filters-section",children:[D.jsx("span",{className:"filters-label",children:"Filters"}),D.jsxs("select",{value:j,onChange:$e=>q($e.target.value),children:[D.jsx("option",{value:"",children:"Day"}),Array.from({length:31},($e,Pt)=>D.jsx("option",{value:String(Pt+1).padStart(2,"0"),children:Pt+1},Pt+1))]}),D.jsxs("select",{value:ee,onChange:$e=>ie($e.target.value),children:[D.jsx("option",{value:"",children:"Month"}),Array.from({length:12},($e,Pt)=>D.jsx("option",{value:String(Pt+1).padStart(2,"0"),children:new Date(0,Pt).toLocaleString("default",{month:"long"})},Pt+1))]}),D.jsxs("select",{value:de,onChange:$e=>z($e.target.value),children:[D.jsx("option",{value:"",children:"Year"}),Array.from({length:10},($e,Pt)=>D.jsx("option",{value:String(2025+Pt),children:2025+Pt},2025+Pt))]}),D.jsx("button",{className:"download-button",onClick:it,children:"Download Report"})]}),D.jsx("div",{className:"table-container",children:D.jsxs("table",{children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"Order Number"}),D.jsx("th",{children:"Date Ordered"}),D.jsx("th",{children:"Status"}),D.jsx("th",{children:"Items"}),D.jsx("th",{children:"Quantity"}),D.jsx("th",{children:"Total Price"})]})}),D.jsx("tbody",{children:Ve.map($e=>{var Pt,wt;return D.jsxs("tr",{children:[D.jsx("td",{children:$e.orderNumber}),D.jsx("td",{children:$e.dateTime}),D.jsx("td",{children:D.jsx("span",{className:`status-badge ${$e.status.toLowerCase()}`,children:$e.status})}),D.jsx("td",{children:(Pt=$e.items)==null?void 0:Pt.map((Ut,vn)=>D.jsxs("div",{children:[Ut.name," (x",Ut.quantity,")"]},vn))}),D.jsx("td",{children:(wt=$e.items)==null?void 0:wt.reduce((Ut,vn)=>Ut+vn.quantity,0)}),D.jsx("td",{children:$e.totalAmount})]},$e.orderNumber)})})]})})]})},Mr=()=>D.jsx(D.Fragment,{children:D.jsx("div",{className:"settings-modal",children:D.jsx("div",{className:"settings-content",children:D.jsxs("form",{onSubmit:Ve=>{Ve.preventDefault(),st()},children:[D.jsx("label",{children:"Old Password:"}),D.jsx("input",{type:"password",placeholder:"Enter current password",value:X,required:!0,onChange:Ve=>Z(Ve.target.value)}),D.jsx("label",{children:"New Password:"}),D.jsx("input",{type:"password",placeholder:"Enter new password",value:se,required:!0,onChange:Ve=>ce(Ve.target.value)}),D.jsx("label",{children:"Confirm Password:"}),D.jsx("input",{type:"password",placeholder:"Confirm new password",value:_e,required:!0,onChange:Ve=>Ae(Ve.target.value)}),D.jsx("button",{className:"save-btn",type:"submit",children:"Save Changes"})]})})})}),dn=()=>D.jsxs("div",{className:"registerCustomer-container",children:[G&&D.jsx("div",{className:"delete-modal-overlay",children:D.jsxs("div",{className:"delete-modal",children:[D.jsx("h3",{children:"Confirm Deletion"}),D.jsxs("p",{children:["Are you sure you want to remove ",N==null?void 0:N.name,"?"]}),D.jsxs("div",{className:"modal-buttons",children:[D.jsx("button",{onClick:mt,className:"cancel-button",children:"Cancel"}),D.jsx("button",{onClick:Qe,className:"confirm-button",children:"Delete"})]})]})}),D.jsxs("div",{className:"customer-list-section",children:[D.jsx("h2",{children:"Registered Customers"}),D.jsx("div",{className:"customer-cards",children:oe.length>0?oe.map(Ve=>D.jsxs("div",{className:`customer-card ${Ve.type}`,children:[D.jsxs("div",{className:"customer-info",children:[D.jsx("h3",{children:Ve.name}),D.jsxs("p",{children:[D.jsx("strong",{children:"School ID:"})," ",Ve.id]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Type:"})," ",Ve.type.charAt(0).toUpperCase()+Ve.type.slice(1)]})]}),D.jsx("button",{className:"delete-customer-button",onClick:()=>qe(Ve),children:" Remove"})]},Ve.id)):D.jsxs("div",{className:"empty-customer-state",children:[D.jsx("p",{children:"No customers registered yet."}),D.jsx("p",{className:"subtext",children:"Customers will appear here once they order."})]})})]})]});return D.jsxs(D.Fragment,{children:[D.jsxs(Gt.div,{className:"admin-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[D.jsxs("div",{className:"header",children:[D.jsxs("div",{className:"logo-container",children:[D.jsx("img",{src:r9,alt:"Wildcats Express Logo",className:"logo"}),D.jsx("h1",{children:D.jsx(Mm,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})})]}),D.jsxs("div",{className:"profile-section",onClick:Je,children:[D.jsx("img",{src:i9,alt:"Admin",className:"profile-photo"}),D.jsx("span",{className:"profile-name",children:"Admin"}),D.jsx(hd,{mode:"sync",children:i&&D.jsxs(Gt.div,{className:"dropdown-menu",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[D.jsxs("div",{className:"dropdown-item",onClick:()=>gt("adminReports"),children:[D.jsx(YF,{})," Admin Reports"]}),D.jsxs("div",{className:"dropdown-item",onClick:()=>gt("registerCustomer"),children:[D.jsx(JF,{})," Customer List"]}),D.jsxs("div",{className:"dropdown-item",onClick:()=>gt("settings"),children:[D.jsx(QF,{})," Settings"]}),D.jsxs("div",{className:"dropdown-item",onClick:()=>n("/pos-page"),children:[D.jsx(ZF,{})," Customer"]}),D.jsxs("div",{className:"dropdown-item",onClick:()=>a_(n),children:[D.jsx(XF,{})," Sign Out"]})]})})]})]}),D.jsx("div",{className:"sidebar",children:D.jsxs("nav",{children:[D.jsx(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>gt("dashboard"),className:t==="dashboard"?"active":"",children:D.jsx(n9,{className:"dashboard-icon"})}),D.jsx(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>gt("addMenu"),className:t==="addMenu"?"active":"",children:D.jsx(t9,{className:"addmenu-icon"})}),D.jsx(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>gt("orders"),className:t==="orders"?"active":"",children:D.jsx(e9,{className:"orders-icon"})})]})}),D.jsx("div",{className:"main-content-admin",children:D.jsx(hd,{mode:"wait",children:D.jsxs(Gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[t==="dashboard"&&D.jsxs(Gt.div,{className:"dashboard",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[D.jsx("h3",{children:"Welcome, Admin!"}),D.jsx("br",{}),D.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),D.jsx("div",{children:at()})]}),t==="addMenu"&&D.jsxs(Gt.div,{className:"add-menu",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[D.jsx("h3",{children:"Welcome, Admin!"}),D.jsx("br",{}),D.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),D.jsx("br",{}),D.jsx("div",{children:pt()}),D.jsx("br",{}),D.jsx("div",{children:kt()})]}),t==="orders"&&D.jsxs(Gt.div,{className:"orders",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[D.jsx("h2",{children:"Orders"}),D.jsx("br",{}),D.jsx("div",{children:$n()}),D.jsx("button",{className:"view-transactions-button",onClick:Ye,children:"View Past Transactions"}),ut()]}),t==="adminReports"&&D.jsxs(Gt.div,{className:"admin-reports",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[D.jsx("h2",{children:"Admin Reports"}),D.jsx("br",{}),D.jsx("div",{children:rn()})]}),t==="registerCustomer"&&D.jsxs(Gt.div,{className:"register-customer",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[D.jsx("h2",{children:"Customer List"}),D.jsx("div",{children:dn()})]}),t==="settings"&&D.jsxs(Gt.div,{className:"settings",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[D.jsx("h2",{children:"Settings"}),D.jsx("br",{}),D.jsx("div",{children:Mr()})]}),t==="pos-page"&&D.jsx(Gt.div,{className:"pos-page",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:D.jsx("h2",{children:"Backend please redirect this to /pos-page"})})]},t)})})]}),D.jsx(PT,{position:"top-center",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qA=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $V={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=re.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...u},c)=>re.createElement("svg",{ref:c,...$V,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:qA("lucide",i),...u},[...a.map(([h,m])=>re.createElement(h,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=(n,e)=>{const t=re.forwardRef(({className:r,...i},s)=>re.createElement(WV,{ref:s,iconNode:e,className:qA(`lucide-${HV(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],KV=tc("Coffee",GV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],QV=tc("Cookie",YV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8",key:"8166m8"}],["path",{d:"M5 8h14",key:"pcz4l3"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"yjz344"}],["path",{d:"m12 8 1-6h2",key:"3ybfa4"}]],JV=tc("CupSoda",XV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],eB=tc("MapPinned",ZV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]],nB=tc("Salad",tB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],iB=tc("ShoppingCart",rB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],oB=tc("Soup",sB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],r4=tc("UtensilsCrossed",aB),lB=()=>{const n=Sd(),e=NT(n),[t,r]=re.useState({}),[i,s]=re.useState([]),[a,u]=re.useState("All"),[c,h]=re.useState(""),[m,y]=re.useState("menu"),[_,w]=re.useState(""),[E,C]=re.useState(""),[k,I]=re.useState(""),[j,q]=re.useState(!1),[ee,ie]=re.useState(""),[de,z]=re.useState(""),[N,U]=re.useState(""),[G,R]=re.useState(null),[O,F]=re.useState([]),[ue,Le]=re.useState(!1),[Ce,xe]=re.useState(!1),[ne,we]=re.useState(""),[ge,oe]=re.useState(!1),[M,X]=re.useState({}),[Z,se]=re.useState({});if(re.useEffect(()=>{const De=xl(ks,"menu"),qe=Th(De,Qe=>{const mt=Qe.docs.map(pt=>({...pt.data(),_id:pt.id}));s(mt)},Qe=>{console.error("Error fetching menu items:",Qe),Rt.error("Failed to fetch menu items.")});return()=>qe()},[]),re.useEffect(()=>{const De=xl(ks,"orders"),qe=Th(De,Qe=>{const mt=Qe.docs.map(pt=>({...pt.data(),id:pt.id}));F(mt)},Qe=>{console.error("Error fetching recent orders:",Qe),Rt.error("Failed to fetch recent orders.")});return()=>qe()},[]),re.useEffect(()=>{const De=qe=>{qe.altKey&&qe.shiftKey&&qe.key==="A"&&n("/admin-page")};return document.addEventListener("keydown",De),()=>{document.removeEventListener("keydown",De)}},[n]),e)return D.jsx("div",{children:"Loading..."});const ce=De=>{w(De),I(""),C("")},_e=(De,qe)=>{se(Qe=>{const mt=Math.max(0,(Qe[De]||0)+qe);return{...Qe,[De]:mt}})},Ae=(De,qe)=>{r(Qe=>{const mt=Math.max(0,(Qe[De]||0)+qe);if(mt===0){const pt={...Qe};return delete pt[De],X(kt=>{const at={...kt};return delete at[De],at}),pt}return{...Qe,[De]:mt}})},Ee=De=>{const qe=Z[De._id]||0,mt=(t[De._id]||0)+qe;mt>0&&(r(pt=>({...pt,[De._id]:mt})),X(pt=>({...pt,[De._id]:!0})),setTimeout(()=>{X(pt=>{const kt={...pt};return delete kt[De._id],kt}),se(pt=>({...pt,[De._id]:0}))},1e3))},Ke=De=>{r(qe=>{const Qe={...qe};return delete Qe[De],Qe}),X(qe=>{const Qe={...qe};return delete Qe[De],Qe})};i.filter(De=>(a==="All"||De.category===a)&&De.name.toLowerCase().includes(c.toLowerCase()));const Ye=De=>{y(De)},ut=async()=>{if(!E){alert("Please enter your School ID before proceeding to checkout.");return}if(!ee){alert("Please select a payment method before proceeding to checkout.");return}if(ee==="gcash"){if(!de||parseFloat(de)<je){alert("Please enter a valid amount paid.");return}if(!N){alert("Please enter the GCash reference number.");return}}try{const qe=xl(ks,"customers"),Qe=ku(qe,E);(await o8(Qe)).exists()?console.log("Customer already exists. Skipping save."):(await k1(Qe,{name:k,type:_}),console.log("Customer data saved successfully."))}catch(qe){console.error("Error saving customer data:",qe),Rt.error("Failed to save customer data. Please try again.");return}const De={id:E,schoolId:E,name:k,paymentMethod:ee,amountPaid:ee==="gcash"?parseFloat(de):null,gcashRefNumber:ee==="gcash"?N:null,totalAmount:je,quantity:Object.keys(t).reduce((qe,Qe)=>qe+t[Qe],0),dateTime:new Date().toLocaleString(),status:"Pending",items:Object.keys(t).map(qe=>{const Qe=i.find(mt=>mt._id===qe);return{name:Qe.name,price:Qe.price,quantity:t[qe]}})};try{const qe=xl(ks,"orders"),Qe=ku(qe,E);await k1(Qe,De),we(E),alert(`Order Successful! Your order number is: ${E}`),r({}),I(""),C(""),z(""),U(""),ie("")}catch(qe){console.error("Error saving order:",qe),Rt.error("Failed to place the order. Please try again.")}},st=()=>{q(!1)},Ct=De=>{ie(De.target.value)},je=Object.keys(t).reduce((De,qe)=>{const Qe=i.find(mt=>mt._id===qe);return De+(Qe?Qe.price*t[qe]:0)},0),le=De=>{I(De.target.value)},Mt=De=>{const qe=gt(De.target.value);C(qe)},gt=De=>{const qe=De.replace(/\D/g,"");let Qe="";return qe.length>0&&(Qe=qe.substring(0,2),qe.length>2&&(Qe+="-"+qe.substring(2,6),qe.length>6&&(Qe+="-"+qe.substring(6,9)))),Qe},Je=De=>/^\d{2}-\d{4}-\d{3}$/.test(De),nt=De=>{const qe=De.target.value;let Qe=qe;qe.length===2&&ne.length===1||qe.length===7&&ne.length===6?Qe=qe+"-":qe.length>11&&(Qe=qe.slice(0,11)),we(Qe),oe(Je(Qe)),xe(!1)},lt={All:D.jsx(r4,{size:18}),Rice:D.jsx(oB,{size:18}),Dishes:D.jsx(nB,{size:18}),"Hot Drinks":D.jsx(KV,{size:18}),"Cold Drinks":D.jsx(JV,{size:18}),Snacks:D.jsx(QV,{size:18})},ct=()=>D.jsx(D.Fragment,{children:D.jsxs(Gt.div,{className:"menu-container-pos",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[D.jsx(Gt.div,{className:"search-bar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:D.jsx("input",{type:"text",placeholder:"Search for food...",value:c,onChange:De=>h(De.target.value)})}),D.jsx(Gt.div,{className:"category-filter",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:["All","Rice","Dishes","Hot Drinks","Cold Drinks","Snacks"].map(De=>D.jsxs(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:a===De?"active-category":"",onClick:()=>u(De),children:[lt[De]," ",De]},De))}),D.jsx(Gt.div,{className:"menu-grid",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:D.jsx(hd,{mode:"wait",children:i.filter(De=>(a==="All"||De.category===a)&&De.name.toLowerCase().includes(c.toLowerCase())).map(De=>D.jsxs(Gt.div,{className:"menu-item-pos",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{scale:1.05},transition:{duration:.2},children:[D.jsx("img",{src:De.imageURL,alt:De.name,className:"item-img"}),D.jsx("h3",{className:"item-name",children:De.name}),D.jsxs("p",{className:"item-price",children:["Php ",De.price]}),D.jsxs("div",{className:"quantity-selector",children:[D.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>_e(De._id,-1),disabled:M[De._id],className:M[De._id]?"disabled":"",children:"-"}),D.jsx("span",{children:M[De._id]?0:Z[De._id]||0}),D.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>_e(De._id,1),disabled:M[De._id],className:M[De._id]?"disabled":"",children:"+"})]}),D.jsx(Gt.button,{className:`add-to-cart ${M[De._id]?"disabled":""}`,whileHover:{scale:M[De._id]?1:1.1},whileTap:{scale:M[De._id]?1:.9},onClick:()=>Ee(De),disabled:M[De._id]||(Z[De._id]||0)===0,children:M[De._id]?"Added to Cart":"Add to Cart"})]},De._id))})})]})}),St=()=>D.jsxs("div",{className:"cart-container",children:[D.jsx("h2",{className:"view-title",children:" Your Cart"}),_?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"customer-type-display",children:D.jsxs("p",{children:["Customer Type:"," ",D.jsx("strong",{children:_==="student"?"Student":_==="faculty"?"Faculty":"Staff"}),D.jsx("button",{className:"change-type-button",onClick:()=>ce(""),children:"Change"})]})}),D.jsxs("div",{className:"client-info-form",children:[D.jsxs("div",{className:"client-info-input",children:[D.jsx("label",{htmlFor:"client-name",children:"Full Name:"}),D.jsx("input",{type:"text",id:"client-name",placeholder:"Enter your Full Name",value:k,onChange:le,required:!0})]}),D.jsxs("div",{className:"school-id-input",children:[D.jsx("label",{htmlFor:"school-id",children:_==="student"?"Student ID:":_==="faculty"?"Faculty ID:":"Staff ID:"}),D.jsx("input",{type:"text",id:"school-id",placeholder:"12-3456-789, Note: Just input the numbers",value:E,onChange:Mt,required:!0,pattern:"\\d{2}-\\d{4}-\\d{3}",title:"Please enter ID in format: 12-3456-789"})]})]}),Object.keys(t).length===0?D.jsxs("div",{className:"empty-state-cart",children:[D.jsx("p",{children:"Your cart is empty"}),D.jsx(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ye("menu"),className:"return-to-menu",children:" Return to Menu"})]}):D.jsxs("div",{className:"cart-items",children:[Object.keys(t).map(De=>{const qe=i.find(Qe=>Qe._id===De);return qe?D.jsxs(Gt.div,{className:"cart-item",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[D.jsxs("div",{className:"cart-item-details",children:[D.jsx("h3",{children:qe.name}),D.jsxs("p",{children:["Php ",qe.price,"  ",t[De]," = Php ",(qe.price*t[De]).toFixed(2)]})]}),D.jsxs("div",{className:"cart-item-actions",children:[D.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>Ae(De,-1),children:"-"}),D.jsx("span",{children:t[De]}),D.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>Ae(De,1),children:"+"}),D.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>Ke(De),className:"trash-button",children:""})]})]},De):null}),D.jsxs("div",{className:"cart-summary",children:[D.jsxs("div",{className:"cart-total",children:[D.jsx("strong",{children:"Total:"}),D.jsxs("span",{children:["Php ",Object.keys(t).reduce((De,qe)=>{const Qe=i.find(mt=>mt._id===qe);return De+(Qe?Qe.price*t[qe]:0)},0).toFixed(2)]})]}),D.jsxs("div",{className:"payment-method",children:[D.jsx("h4",{children:"Select Payment Method:"}),D.jsxs("div",{className:"payment-options",children:[D.jsxs("label",{children:[D.jsx("input",{type:"radio",name:"payment",value:"cash",onChange:Ct})," Cash "]}),D.jsxs("label",{children:[D.jsx("input",{type:"radio",name:"payment",value:"gcash",onChange:Ct})," GCash "]})]}),ee==="gcash"&&D.jsxs("div",{className:"gcash-fields",children:[D.jsx("label",{children:"Amount Paid:"}),D.jsx("input",{type:"number",placeholder:"Enter amount paid",value:de,onChange:De=>z(De.target.value)}),D.jsx("br",{}),D.jsx("label",{children:"GCash Reference Number:"}),D.jsx("input",{type:"text",placeholder:"Enter reference number",value:N,onChange:De=>U(De.target.value)})]})]}),D.jsx(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"checkout-button",onClick:ut,children:" Proceed to Checkout"})]})]}),j&&D.jsxs("div",{className:"confirmation-modal",children:[D.jsx("h3",{children:"Order Confirmed"}),D.jsx("p",{children:"Thank you for your purchase!"}),D.jsx("button",{onClick:st,children:"Close"})]})]}):D.jsxs("div",{className:"customer-type-selection",children:[D.jsx("h3",{children:"Are you a:"}),D.jsxs("div",{className:"customer-type-options",children:[D.jsx(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce("student"),children:"Student"}),D.jsx(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce("faculty"),children:"Faculty"}),D.jsx(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce("staff"),children:"Staff"})]})]})]}),Ot=()=>{const De=()=>{const mt=["Pending","Preparing","Ready to Pickup"],pt=O.find(kt=>kt.id===ne&&mt.includes(kt.status));R(pt||null),xe(!0),Le(!0)},qe=()=>{Le(!1),we(""),R(null),xe(!1)},Qe=O.filter(mt=>mt.id!=="order");return D.jsxs("div",{className:"track-order",children:[D.jsx("h2",{className:"view-title",children:"Track Your Order"}),D.jsxs("form",{className:"order-tracking-form",onSubmit:mt=>{mt.preventDefault(),De()},children:[D.jsx("label",{htmlFor:"orderNumber",className:"order-label",children:"Enter your order number:"}),D.jsx("input",{type:"text",id:"orderNumber",placeholder:"e.g., 12-3456-789",className:"order-number-input",value:ne,onChange:nt,maxLength:11}),D.jsx(Gt.button,{whileHover:{scale:ge?1.05:1},whileTap:{scale:ge?.95:1},className:`track-button ${ge?"":"disabled-button"}`,type:"submit",disabled:!ge,children:"Track Order"})]}),ue&&D.jsx("div",{className:"track-order-modal",children:D.jsxs("div",{className:"track-order-modal-content",children:[D.jsx("button",{className:"back-button",onClick:qe,children:" Back"}),G?D.jsxs("div",{className:"tracked-order-details",children:[D.jsx("h2",{children:"Order Details"}),D.jsx("table",{className:"tracked-order-table",children:D.jsxs("tbody",{children:[D.jsxs("tr",{children:[D.jsx("td",{className:"tracked-order-label",children:D.jsx("strong",{children:"Order ID:"})}),D.jsx("td",{className:"tracked-order-value",children:G.id})]}),D.jsxs("tr",{children:[D.jsx("td",{className:"tracked-order-label",children:D.jsx("strong",{children:"Date Ordered:"})}),D.jsx("td",{className:"tracked-order-value",children:G.dateTime})]}),D.jsxs("tr",{children:[D.jsx("td",{className:"tracked-order-label",children:D.jsx("strong",{children:"Total Amount:"})}),D.jsxs("td",{className:"tracked-order-value",children:["",G.totalAmount.toFixed(2)]})]}),D.jsxs("tr",{children:[D.jsx("td",{className:"tracked-order-label",children:D.jsx("strong",{children:"Status:"})}),D.jsx("td",{className:"tracked-order-value",children:G.status})]})]})}),D.jsx("h3",{children:"Items Ordered:"}),D.jsx("ul",{className:"tracked-order-items",children:G.items.map((mt,pt)=>D.jsxs("li",{className:"tracked-order-item",children:[mt.name," (x",mt.quantity,") - ",mt.price]},pt))})]}):D.jsxs("div",{className:"no-order-found-modal",children:[D.jsx("h2",{children:"Order Not Found"}),D.jsxs("div",{className:"no-order-message",children:[D.jsxs("p",{children:["No active order found with ID: ",D.jsx("strong",{children:ne})]}),D.jsx("p",{children:"Please check the number and try again."}),D.jsx("p",{className:"note",children:'Note: Only orders with status "Pending", "Preparing", or "Ready to Pickup" can be tracked.'})]})]})]})}),D.jsxs("div",{className:"recent-orders",children:[D.jsx("h2",{className:"orders-title-pos",children:"Recent Orders"}),D.jsx("div",{className:"orders-table-container-pos",children:D.jsxs("table",{className:"orders-table-pos",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"Order ID"}),D.jsx("th",{children:"Date Ordered"}),D.jsx("th",{children:"Menus Ordered"}),D.jsx("th",{children:"Total Amount"}),D.jsx("th",{children:"Status"})]})}),D.jsx("tbody",{children:Qe.map((mt,pt)=>D.jsxs("tr",{children:[D.jsx("td",{children:mt.id}),D.jsx("td",{children:mt.dateTime}),D.jsx("td",{children:mt.items.map((kt,at)=>D.jsxs("div",{children:[kt.name," (x",kt.quantity,") - ",kt.price]},at))}),D.jsxs("td",{children:["",mt.totalAmount.toFixed(2)]}),D.jsx("td",{className:"status",children:mt.status})]},pt))})]})})]})]})};return D.jsxs(Gt.div,{className:"pos-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[D.jsx(Gt.header,{className:"navbar-pos",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:D.jsxs("div",{className:"logo-container-pos",children:[D.jsx("img",{src:"/new-mainlogo.svg",className:"new-logo",alt:"Wildcats Express"}),D.jsxs("span",{className:"title",children:[D.jsx("h1",{children:D.jsx(Mm,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})}),D.jsx("small",{children:"CIT-UNIVERSITY"})]})]})}),D.jsxs("div",{className:"main-content-container",children:[D.jsxs(Gt.aside,{className:"sidebar-pos",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.3},children:[D.jsxs(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:m==="menu"?"active-view-button":"",onClick:()=>Ye("menu"),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[D.jsx(r4,{size:20}),"Menu"]}),D.jsxs(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:m==="cart"?"active-view-button":"",onClick:()=>Ye("cart"),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[D.jsx(iB,{size:20}),"Cart"]}),D.jsxs(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:m==="trackOrder"?"active-view-button":"",onClick:()=>Ye("trackOrder"),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[D.jsx(eB,{size:20}),"Track Order"]})]}),D.jsx("div",{className:"pos-page",children:D.jsxs(hd,{mode:"wait",children:["Menu Modal",m==="menu"&&D.jsx(Gt.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:D.jsx("div",{children:ct()})},"menu-view"),"Cart Modal",m==="cart"&&D.jsx(Gt.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:D.jsx("div",{children:St()})},"cart-view"),"TrackOrder Modal",m==="trackOrder"&&D.jsx(Gt.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:D.jsx("div",{children:Ot()})},"track-order-view")]})})]})]})},uB=()=>{const{name:n,profilePhoto:e,userID:t,isAuth:r}=JSON.parse(localStorage.getItem("auth"))||{};return{name:n,profilePhoto:e,userID:t,isAuth:r}},cB="/assets/thinking-cat-Def_mMOd.svg";function hB(n){return Qa({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M7.987 8.5l6.146 6.146-0.707 0.707-6.853-6.853 6.854-6.854 0.707 0.707-6.147 6.147zM9.29 2.353l-0.707-0.707-6.854 6.854 6.854 6.854 0.707-0.707-6.146-6.147 6.146-6.147z"},child:[]}]})(n)}const fB=()=>{const n=Sd(),e=uD(n);uB();const[t,r]=re.useState(""),[i,s]=re.useState(""),[a,u]=re.useState(!1);if(e)return D.jsx("div",{children:"Loading..."});const c={exit:{scale:.95,opacity:0,rotate:[0,-5],y:-50,transition:{duration:.4,ease:"easeInOut"}}},h=async y=>{y.preventDefault(),Rt.dismiss();try{await lD(t,i),u(!0),Rt.success("Login successful!",{autoClose:3e3}),sessionStorage.setItem("hasLoggedIn","true"),setTimeout(()=>{n("/admin-page")},3e3)}catch(_){console.error("Login failed: ",_.message),Rt.error(`${_.message}`)}},m=()=>{n("/")};return D.jsxs(D.Fragment,{children:[D.jsx(hd,{children:!a&&D.jsx(Gt.div,{className:"login-page",initial:{opacity:1},animate:{opacity:1},exit:c.exit,variants:c,children:D.jsxs("div",{className:"login-container",children:[D.jsx(Gt.div,{className:"back-button",whileHover:{scale:1.1},whileTap:{scale:.9},children:D.jsx("button",{type:"button",className:"button",onClick:m,children:D.jsx(hB,{className:"button-icon"})})}),D.jsx(Gt.div,{className:"mascot-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:D.jsx("img",{src:cB,alt:"Mascot",className:"mascot-image"})}),D.jsxs(Gt.div,{className:"form-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[D.jsxs("div",{className:"wildcats-title",children:[D.jsx("h2",{className:"wildcats",children:"Wildcats "}),D.jsx("h2",{className:"express",children:"Express"})]}),D.jsx("h3",{children:"Admin"}),D.jsxs("form",{onSubmit:h,children:[D.jsx(Gt.input,{type:"text",placeholder:"Username",value:t,required:!0,onChange:y=>r(y.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4}}),D.jsx(Gt.input,{type:"password",placeholder:"Password",value:i,required:!0,onChange:y=>s(y.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5}}),D.jsx(Gt.button,{type:"submit",className:"login-button",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:"Login"})]})]})]})},"login-page")}),D.jsx(PT,{position:"top-left",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})};function dB(){return D.jsx(D.Fragment,{children:D.jsx("div",{className:"App",children:D.jsx(HI,{children:D.jsxs(bI,{children:[D.jsx(Rf,{path:"/",element:D.jsx(hD,{})}),D.jsx(Rf,{path:"/login-page",element:D.jsx(fB,{})}),D.jsx(Rf,{path:"/admin-page",element:D.jsx(qV,{})}),D.jsx(Rf,{path:"/pos-page",element:D.jsx(lB,{})})]})})})})}kE.createRoot(document.getElementById("root")).render(D.jsx(re.StrictMode,{children:D.jsx(dB,{})}));export{Fn as _,pB as c,SE as g};
