(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var yB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var h0={exports:{}},Pf={},f0={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5;function NE(){if(a5)return ln;a5=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(ue){return ue===null||typeof ue!="object"?null:(ue=y&&ue[y]||ue["@@iterator"],typeof ue=="function"?ue:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function L(ue,O,X){this.props=ue,this.context=O,this.refs=N,this.updater=X||w}L.prototype.isReactComponent={},L.prototype.setState=function(ue,O){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,O,"setState")},L.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function I(){}I.prototype=L.prototype;function j(ue,O,X){this.props=ue,this.context=O,this.refs=N,this.updater=X||w}var q=j.prototype=new I;q.constructor=j,E(q,L.prototype),q.isPureReactComponent=!0;var ee=Array.isArray,ie=Object.prototype.hasOwnProperty,de={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function k(ue,O,X){var Z,oe={},ce=null,_e=null;if(O!=null)for(Z in O.ref!==void 0&&(_e=O.ref),O.key!==void 0&&(ce=""+O.key),O)ie.call(O,Z)&&!z.hasOwnProperty(Z)&&(oe[Z]=O[Z]);var Ae=arguments.length-2;if(Ae===1)oe.children=X;else if(1<Ae){for(var Ee=Array(Ae),Ke=0;Ke<Ae;Ke++)Ee[Ke]=arguments[Ke+2];oe.children=Ee}if(ue&&ue.defaultProps)for(Z in Ae=ue.defaultProps,Ae)oe[Z]===void 0&&(oe[Z]=Ae[Z]);return{$$typeof:n,type:ue,key:ce,ref:_e,props:oe,_owner:de.current}}function U(ue,O){return{$$typeof:n,type:ue.type,key:O,ref:ue.ref,props:ue.props,_owner:ue._owner}}function G(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===n}function D(ue){var O={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(X){return O[X]})}var M=/\/+/g;function F(ue,O){return typeof ue=="object"&&ue!==null&&ue.key!=null?D(""+ue.key):O.toString(36)}function se(ue,O,X,Z,oe){var ce=typeof ue;(ce==="undefined"||ce==="boolean")&&(ue=null);var _e=!1;if(ue===null)_e=!0;else switch(ce){case"string":case"number":_e=!0;break;case"object":switch(ue.$$typeof){case n:case e:_e=!0}}if(_e)return _e=ue,oe=oe(_e),ue=Z===""?"."+F(_e,0):Z,ee(oe)?(X="",ue!=null&&(X=ue.replace(M,"$&/")+"/"),se(oe,O,X,"",function(Ke){return Ke})):oe!=null&&(G(oe)&&(oe=U(oe,X+(!oe.key||_e&&_e.key===oe.key?"":(""+oe.key).replace(M,"$&/")+"/")+ue)),O.push(oe)),1;if(_e=0,Z=Z===""?".":Z+":",ee(ue))for(var Ae=0;Ae<ue.length;Ae++){ce=ue[Ae];var Ee=Z+F(ce,Ae);_e+=se(ce,O,X,Ee,oe)}else if(Ee=_(ue),typeof Ee=="function")for(ue=Ee.call(ue),Ae=0;!(ce=ue.next()).done;)ce=ce.value,Ee=Z+F(ce,Ae++),_e+=se(ce,O,X,Ee,oe);else if(ce==="object")throw O=String(ue),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return _e}function Le(ue,O,X){if(ue==null)return ue;var Z=[],oe=0;return se(ue,Z,"","",function(ce){return O.call(X,ce,oe++)}),Z}function Ne(ue){if(ue._status===-1){var O=ue._result;O=O(),O.then(function(X){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=X)},function(X){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=X)}),ue._status===-1&&(ue._status=0,ue._result=O)}if(ue._status===1)return ue._result.default;throw ue._result}var Te={current:null},ne={transition:null},ve={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:de};function ye(){throw Error("act(...) is not supported in production builds of React.")}return ln.Children={map:Le,forEach:function(ue,O,X){Le(ue,function(){O.apply(this,arguments)},X)},count:function(ue){var O=0;return Le(ue,function(){O++}),O},toArray:function(ue){return Le(ue,function(O){return O})||[]},only:function(ue){if(!G(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},ln.Component=L,ln.Fragment=t,ln.Profiler=i,ln.PureComponent=j,ln.StrictMode=r,ln.Suspense=c,ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,ln.act=ye,ln.cloneElement=function(ue,O,X){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var Z=E({},ue.props),oe=ue.key,ce=ue.ref,_e=ue._owner;if(O!=null){if(O.ref!==void 0&&(ce=O.ref,_e=de.current),O.key!==void 0&&(oe=""+O.key),ue.type&&ue.type.defaultProps)var Ae=ue.type.defaultProps;for(Ee in O)ie.call(O,Ee)&&!z.hasOwnProperty(Ee)&&(Z[Ee]=O[Ee]===void 0&&Ae!==void 0?Ae[Ee]:O[Ee])}var Ee=arguments.length-2;if(Ee===1)Z.children=X;else if(1<Ee){Ae=Array(Ee);for(var Ke=0;Ke<Ee;Ke++)Ae[Ke]=arguments[Ke+2];Z.children=Ae}return{$$typeof:n,type:ue.type,key:oe,ref:ce,props:Z,_owner:_e}},ln.createContext=function(ue){return ue={$$typeof:a,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:s,_context:ue},ue.Consumer=ue},ln.createElement=k,ln.createFactory=function(ue){var O=k.bind(null,ue);return O.type=ue,O},ln.createRef=function(){return{current:null}},ln.forwardRef=function(ue){return{$$typeof:u,render:ue}},ln.isValidElement=G,ln.lazy=function(ue){return{$$typeof:m,_payload:{_status:-1,_result:ue},_init:Ne}},ln.memo=function(ue,O){return{$$typeof:h,type:ue,compare:O===void 0?null:O}},ln.startTransition=function(ue){var O=ne.transition;ne.transition={};try{ue()}finally{ne.transition=O}},ln.unstable_act=ye,ln.useCallback=function(ue,O){return Te.current.useCallback(ue,O)},ln.useContext=function(ue){return Te.current.useContext(ue)},ln.useDebugValue=function(){},ln.useDeferredValue=function(ue){return Te.current.useDeferredValue(ue)},ln.useEffect=function(ue,O){return Te.current.useEffect(ue,O)},ln.useId=function(){return Te.current.useId()},ln.useImperativeHandle=function(ue,O,X){return Te.current.useImperativeHandle(ue,O,X)},ln.useInsertionEffect=function(ue,O){return Te.current.useInsertionEffect(ue,O)},ln.useLayoutEffect=function(ue,O){return Te.current.useLayoutEffect(ue,O)},ln.useMemo=function(ue,O){return Te.current.useMemo(ue,O)},ln.useReducer=function(ue,O,X){return Te.current.useReducer(ue,O,X)},ln.useRef=function(ue){return Te.current.useRef(ue)},ln.useState=function(ue){return Te.current.useState(ue)},ln.useSyncExternalStore=function(ue,O,X){return Te.current.useSyncExternalStore(ue,O,X)},ln.useTransition=function(){return Te.current.useTransition()},ln.version="18.3.1",ln}var l5;function wy(){return l5||(l5=1,f0.exports=NE()),f0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5;function kE(){if(u5)return Pf;u5=1;var n=wy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,h){var m,y={},_=null,w=null;h!==void 0&&(_=""+h),c.key!==void 0&&(_=""+c.key),c.ref!==void 0&&(w=c.ref);for(m in c)r.call(c,m)&&!s.hasOwnProperty(m)&&(y[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)y[m]===void 0&&(y[m]=c[m]);return{$$typeof:e,type:u,key:_,ref:w,props:y,_owner:i.current}}return Pf.Fragment=t,Pf.jsx=a,Pf.jsxs=a,Pf}var c5;function LE(){return c5||(c5=1,h0.exports=kE()),h0.exports}var C=LE(),re=wy();const En=CE(re);var Ap={},d0={exports:{}},Ls={},p0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h5;function RE(){return h5||(h5=1,function(n){function e(ne,ve){var ye=ne.length;ne.push(ve);e:for(;0<ye;){var ue=ye-1>>>1,O=ne[ue];if(0<i(O,ve))ne[ue]=ve,ne[ye]=O,ye=ue;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ve=ne[0],ye=ne.pop();if(ye!==ve){ne[0]=ye;e:for(var ue=0,O=ne.length,X=O>>>1;ue<X;){var Z=2*(ue+1)-1,oe=ne[Z],ce=Z+1,_e=ne[ce];if(0>i(oe,ye))ce<O&&0>i(_e,oe)?(ne[ue]=_e,ne[ce]=ye,ue=ce):(ne[ue]=oe,ne[Z]=ye,ue=Z);else if(ce<O&&0>i(_e,ye))ne[ue]=_e,ne[ce]=ye,ue=ce;else break e}}return ve}function i(ne,ve){var ye=ne.sortIndex-ve.sortIndex;return ye!==0?ye:ne.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],h=[],m=1,y=null,_=3,w=!1,E=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ne){for(var ve=t(h);ve!==null;){if(ve.callback===null)r(h);else if(ve.startTime<=ne)r(h),ve.sortIndex=ve.expirationTime,e(c,ve);else break;ve=t(h)}}function ee(ne){if(N=!1,q(ne),!E)if(t(c)!==null)E=!0,Ne(ie);else{var ve=t(h);ve!==null&&Te(ee,ve.startTime-ne)}}function ie(ne,ve){E=!1,N&&(N=!1,I(k),k=-1),w=!0;var ye=_;try{for(q(ve),y=t(c);y!==null&&(!(y.expirationTime>ve)||ne&&!D());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,_=y.priorityLevel;var O=ue(y.expirationTime<=ve);ve=n.unstable_now(),typeof O=="function"?y.callback=O:y===t(c)&&r(c),q(ve)}else r(c);y=t(c)}if(y!==null)var X=!0;else{var Z=t(h);Z!==null&&Te(ee,Z.startTime-ve),X=!1}return X}finally{y=null,_=ye,w=!1}}var de=!1,z=null,k=-1,U=5,G=-1;function D(){return!(n.unstable_now()-G<U)}function M(){if(z!==null){var ne=n.unstable_now();G=ne;var ve=!0;try{ve=z(!0,ne)}finally{ve?F():(de=!1,z=null)}}else de=!1}var F;if(typeof j=="function")F=function(){j(M)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Le=se.port2;se.port1.onmessage=M,F=function(){Le.postMessage(null)}}else F=function(){L(M,0)};function Ne(ne){z=ne,de||(de=!0,F())}function Te(ne,ve){k=L(function(){ne(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){E||w||(E=!0,Ne(ie))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(ne){switch(_){case 1:case 2:case 3:var ve=3;break;default:ve=_}var ye=_;_=ve;try{return ne()}finally{_=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,ve){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ye=_;_=ne;try{return ve()}finally{_=ye}},n.unstable_scheduleCallback=function(ne,ve,ye){var ue=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ue+ye:ue):ye=ue,ne){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ye+O,ne={id:m++,callback:ve,priorityLevel:ne,startTime:ye,expirationTime:O,sortIndex:-1},ye>ue?(ne.sortIndex=ye,e(h,ne),t(c)===null&&ne===t(h)&&(N?(I(k),k=-1):N=!0,Te(ee,ye-ue))):(ne.sortIndex=O,e(c,ne),E||w||(E=!0,Ne(ie))),ne},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(ne){var ve=_;return function(){var ye=_;_=ve;try{return ne.apply(this,arguments)}finally{_=ye}}}}(m0)),m0}var f5;function DE(){return f5||(f5=1,p0.exports=RE()),p0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d5;function OE(){if(d5)return Ls;d5=1;var n=wy(),e=DE();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(o){return c.call(y,o)?!0:c.call(m,o)?!1:h.test(o)?y[o]=!0:(m[o]=!0,!1)}function w(o,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function E(o,l,f,g){if(l===null||typeof l>"u"||w(o,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function N(o,l,f,g,S,A,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=S,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=A,this.removeEmptyString=$}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){L[o]=new N(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];L[l]=new N(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){L[o]=new N(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){L[o]=new N(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){L[o]=new N(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){L[o]=new N(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){L[o]=new N(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){L[o]=new N(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){L[o]=new N(o,5,!1,o.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function j(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(I,j);L[l]=new N(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(I,j);L[l]=new N(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(I,j);L[l]=new N(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){L[o]=new N(o,1,!1,o.toLowerCase(),null,!1,!1)}),L.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){L[o]=new N(o,1,!1,o.toLowerCase(),null,!0,!0)});function q(o,l,f,g){var S=L.hasOwnProperty(l)?L[l]:null;(S!==null?S.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,f,S,g)&&(f=null),g||S===null?_(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):S.mustUseProperty?o[S.propertyName]=f===null?S.type===3?!1:"":f:(l=S.attributeName,g=S.attributeNamespace,f===null?o.removeAttribute(l):(S=S.type,f=S===3||S===4&&f===!0?"":""+f,g?o.setAttributeNS(g,l,f):o.setAttribute(l,f))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),de=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ve(o){return o===null||typeof o!="object"?null:(o=ne&&o[ne]||o["@@iterator"],typeof o=="function"?o:null)}var ye=Object.assign,ue;function O(o){if(ue===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);ue=l&&l[1]||""}return`
`+ue+o}var X=!1;function Z(o,l){if(!o||X)return"";X=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Oe){var g=Oe}Reflect.construct(o,[],l)}else{try{l.call()}catch(Oe){g=Oe}o.call(l.prototype)}else{try{throw Error()}catch(Oe){g=Oe}o()}}catch(Oe){if(Oe&&g&&typeof Oe.stack=="string"){for(var S=Oe.stack.split(`
`),A=g.stack.split(`
`),$=S.length-1,ae=A.length-1;1<=$&&0<=ae&&S[$]!==A[ae];)ae--;for(;1<=$&&0<=ae;$--,ae--)if(S[$]!==A[ae]){if($!==1||ae!==1)do if($--,ae--,0>ae||S[$]!==A[ae]){var pe=`
`+S[$].replace(" at new "," at ");return o.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",o.displayName)),pe}while(1<=$&&0<=ae);break}}}finally{X=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?O(o):""}function oe(o){switch(o.tag){case 5:return O(o.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return o=Z(o.type,!1),o;case 11:return o=Z(o.type.render,!1),o;case 1:return o=Z(o.type,!0),o;default:return""}}function ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case z:return"Fragment";case de:return"Portal";case U:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case se:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case M:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Le:return l=o.displayName||null,l!==null?l:ce(o.type)||"Memo";case Ne:l=o._payload,o=o._init;try{return ce(o(l))}catch{}}return null}function _e(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(l);case 8:return l===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ae(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ee(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ke(o){var l=Ee(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,A=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return S.call(this)},set:function($){g=""+$,A.call(this,$)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ye(o){o._valueTracker||(o._valueTracker=Ke(o))}function ft(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return o&&(g=Ee(o)?o.checked?"true":"false":o.value),o=g,o!==f?(l.setValue(o),!0):!1}function lt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Nt(o,l){var f=l.checked;return ye({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function je(o,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=Ae(l.value!=null?l.value:f),o._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function le(o,l){l=l.checked,l!=null&&q(o,"checked",l,!1)}function jt(o,l){le(o,l);var f=Ae(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ze(o,l.type,f):l.hasOwnProperty("defaultValue")&&Ze(o,l.type,Ae(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function xt(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Ze(o,l,f){(l!=="number"||lt(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var it=Array.isArray;function ht(o,l,f,g){if(o=o.options,l){l={};for(var S=0;S<f.length;S++)l["$"+f[S]]=!0;for(f=0;f<o.length;f++)S=l.hasOwnProperty("$"+o[f].value),o[f].selected!==S&&(o[f].selected=S),S&&g&&(o[f].defaultSelected=!0)}else{for(f=""+Ae(f),l=null,S=0;S<o.length;S++){if(o[S].value===f){o[S].selected=!0,g&&(o[S].defaultSelected=!0);return}l!==null||o[S].disabled||(l=o[S])}l!==null&&(l.selected=!0)}}function ct(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ye({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ce(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(t(92));if(it(f)){if(1<f.length)throw Error(t(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:Ae(f)}}function We(o,l){var f=Ae(l.value),g=Ae(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),g!=null&&(o.defaultValue=""+g)}function ot(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function He(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?He(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var vt,bt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,S){MSApp.execUnsafeLocalFunction(function(){return o(l,f,g,S)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(vt=vt||document.createElement("div"),vt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=vt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Ft(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wn=["Webkit","ms","Moz","O"];Object.keys(dt).forEach(function(o){Wn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),dt[l]=dt[o]})});function nn(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||dt.hasOwnProperty(o)&&dt[o]?(""+l).trim():l+"px"}function jr(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,S=nn(f,l[f],g);f==="float"&&(f="cssFloat"),g?o.setProperty(f,S):o[f]=S}}var dn=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _n(o,l){if(l){if(dn[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Xr(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rn=null;function ze(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Qe=null,pt=null,zt=null;function Xe(o){if(o=cu(o)){if(typeof Qe!="function")throw Error(t(280));var l=o.stateNode;l&&(l=fc(l),Qe(o.stateNode,o.type,l))}}function nt(o){pt?zt?zt.push(o):zt=[o]:pt=o}function Dt(){if(pt){var o=pt,l=zt;if(zt=pt=null,Xe(o),l)for(o=0;o<l.length;o++)Xe(l[o])}}function Rn(o,l){return o(l)}function un(){}var Gn=!1;function yr(o,l,f){if(Gn)return o(l,f);Gn=!0;try{return Rn(o,l,f)}finally{Gn=!1,(pt!==null||zt!==null)&&(un(),Dt())}}function wt(o,l){var f=o.stateNode;if(f===null)return null;var g=fc(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(t(231,l,typeof f));return f}var Kn=!1;if(u)try{var In={};Object.defineProperty(In,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{Kn=!1}function ir(o,l,f,g,S,A,$,ae,pe){var Oe=Array.prototype.slice.call(arguments,3);try{l.apply(f,Oe)}catch(rt){this.onError(rt)}}var Fn=!1,Vn=null,Xn=!1,so=null,js={onError:function(o){Fn=!0,Vn=o}};function Jr(o,l,f,g,S,A,$,ae,pe){Fn=!1,Vn=null,ir.apply(js,arguments)}function Pi(o,l,f,g,S,A,$,ae,pe){if(Jr.apply(this,arguments),Fn){if(Fn){var Oe=Vn;Fn=!1,Vn=null}else throw Error(t(198));Xn||(Xn=!0,so=Oe)}}function hr(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function Zr(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function sr(o){if(hr(o)!==o)throw Error(t(188))}function Xi(o){var l=o.alternate;if(!l){if(l=hr(o),l===null)throw Error(t(188));return l!==o?null:o}for(var f=o,g=l;;){var S=f.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){f=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===f)return sr(S),o;if(A===g)return sr(S),l;A=A.sibling}throw Error(t(188))}if(f.return!==g.return)f=S,g=A;else{for(var $=!1,ae=S.child;ae;){if(ae===f){$=!0,f=S,g=A;break}if(ae===g){$=!0,g=S,f=A;break}ae=ae.sibling}if(!$){for(ae=A.child;ae;){if(ae===f){$=!0,f=A,g=S;break}if(ae===g){$=!0,g=A,f=S;break}ae=ae.sibling}if(!$)throw Error(t(189))}}if(f.alternate!==g)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?o:l}function Fs(o){return o=Xi(o),o!==null?Vs(o):null}function Vs(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Vs(o);if(l!==null)return l;o=o.sibling}return null}var Bs=e.unstable_scheduleCallback,oo=e.unstable_cancelCallback,Do=e.unstable_shouldYield,ql=e.unstable_requestPaint,Dn=e.unstable_now,Hl=e.unstable_getCurrentPriorityLevel,ms=e.unstable_ImmediatePriority,Us=e.unstable_UserBlockingPriority,Ci=e.unstable_NormalPriority,Oo=e.unstable_LowPriority,$l=e.unstable_IdlePriority,ao=null,fi=null;function Mo(o){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(ao,o,void 0,(o.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:tl,qn=Math.log,el=Math.LN2;function tl(o){return o>>>=0,o===0?32:31-(qn(o)/el|0)|0}var jo=64,lo=4194304;function uo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Vr(o,l){var f=o.pendingLanes;if(f===0)return 0;var g=0,S=o.suspendedLanes,A=o.pingedLanes,$=f&268435455;if($!==0){var ae=$&~S;ae!==0?g=uo(ae):(A&=$,A!==0&&(g=uo(A)))}else $=f&~S,$!==0?g=uo($):A!==0&&(g=uo(A));if(g===0)return 0;if(l!==0&&l!==g&&(l&S)===0&&(S=g&-g,A=l&-l,S>=A||S===16&&(A&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)f=31-Fr(l),S=1<<f,g|=o[f],l&=~S;return g}function va(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(o,l){for(var f=o.suspendedLanes,g=o.pingedLanes,S=o.expirationTimes,A=o.pendingLanes;0<A;){var $=31-Fr(A),ae=1<<$,pe=S[$];pe===-1?((ae&f)===0||(ae&g)!==0)&&(S[$]=va(ae,l)):pe<=l&&(o.expiredLanes|=ae),A&=~ae}}function Br(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function co(){var o=jo;return jo<<=1,(jo&4194240)===0&&(jo=64),o}function ho(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function zs(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Fr(l),o[l]=f}function Pn(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<f;){var S=31-Fr(f),A=1<<S;l[S]=0,g[S]=-1,o[S]=-1,f&=~A}}function qs(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var g=31-Fr(f),S=1<<g;S&l|o[g]&l&&(o[g]|=l),f&=~S}}var sn=0;function gs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Wl,wa,Gl,ys,Fo,fo=!1,Ji=[],pn=null,Zi=null,Ni=null,Ot=new Map,ki=new Map,vs=[],ws="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nl(o,l){switch(o){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Ot.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(l.pointerId)}}function Ur(o,l,f,g,S,A){return o===null||o.nativeEvent!==A?(o={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},l!==null&&(l=cu(l),l!==null&&wa(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),o)}function _a(o,l,f,g,S){switch(l){case"focusin":return pn=Ur(pn,o,l,f,g,S),!0;case"dragenter":return Zi=Ur(Zi,o,l,f,g,S),!0;case"mouseover":return Ni=Ur(Ni,o,l,f,g,S),!0;case"pointerover":var A=S.pointerId;return Ot.set(A,Ur(Ot.get(A)||null,o,l,f,g,S)),!0;case"gotpointercapture":return A=S.pointerId,ki.set(A,Ur(ki.get(A)||null,o,l,f,g,S)),!0}return!1}function ba(o){var l=Na(o.target);if(l!==null){var f=hr(l);if(f!==null){if(l=f.tag,l===13){if(l=Zr(f),l!==null){o.blockedOn=l,Fo(o.priority,function(){Gl(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Hs(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Bo(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);rn=g,f.target.dispatchEvent(g),rn=null}else return l=cu(f),l!==null&&wa(l),o.blockedOn=f,!1;l.shift()}return!0}function Vo(o,l,f){Hs(o)&&f.delete(l)}function Kl(){fo=!1,pn!==null&&Hs(pn)&&(pn=null),Zi!==null&&Hs(Zi)&&(Zi=null),Ni!==null&&Hs(Ni)&&(Ni=null),Ot.forEach(Vo),ki.forEach(Vo)}function di(o,l){o.blockedOn===l&&(o.blockedOn=null,fo||(fo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kl)))}function zr(o){function l(S){return di(S,o)}if(0<Ji.length){di(Ji[0],o);for(var f=1;f<Ji.length;f++){var g=Ji[f];g.blockedOn===o&&(g.blockedOn=null)}}for(pn!==null&&di(pn,o),Zi!==null&&di(Zi,o),Ni!==null&&di(Ni,o),Ot.forEach(l),ki.forEach(l),f=0;f<vs.length;f++)g=vs[f],g.blockedOn===o&&(g.blockedOn=null);for(;0<vs.length&&(f=vs[0],f.blockedOn===null);)ba(f),f.blockedOn===null&&vs.shift()}var ei=ee.ReactCurrentBatchConfig,po=!0;function bn(o,l,f,g){var S=sn,A=ei.transition;ei.transition=null;try{sn=1,mo(o,l,f,g)}finally{sn=S,ei.transition=A}}function rl(o,l,f,g){var S=sn,A=ei.transition;ei.transition=null;try{sn=4,mo(o,l,f,g)}finally{sn=S,ei.transition=A}}function mo(o,l,f,g){if(po){var S=Bo(o,l,f,g);if(S===null)uc(o,l,g,go,f),nl(o,g);else if(_a(S,o,l,f,g))g.stopPropagation();else if(nl(o,g),l&4&&-1<ws.indexOf(o)){for(;S!==null;){var A=cu(S);if(A!==null&&Wl(A),A=Bo(o,l,f,g),A===null&&uc(o,l,g,go,f),A===S)break;S=A}S!==null&&g.stopPropagation()}else uc(o,l,g,null,f)}}var go=null;function Bo(o,l,f,g){if(go=null,o=ze(g),o=Na(o),o!==null)if(l=hr(o),l===null)o=null;else if(f=l.tag,f===13){if(o=Zr(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return go=o,null}function Sa(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hl()){case ms:return 1;case Us:return 4;case Ci:case Oo:return 16;case $l:return 536870912;default:return 16}default:return 16}}var ti=null,pi=null,ar=null;function il(){if(ar)return ar;var o,l=pi,f=l.length,g,S="value"in ti?ti.value:ti.textContent,A=S.length;for(o=0;o<f&&l[o]===S[o];o++);var $=f-o;for(g=1;g<=$&&l[f-g]===S[A-g];g++);return ar=S.slice(o,1<g?1-g:void 0)}function es(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function vr(){return!0}function Uo(){return!1}function Jn(o){function l(f,g,S,A,$){this._reactName=f,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=$,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(f=o[ae],this[ae]=f?f(A):A[ae]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?vr:Uo,this.isPropagationStopped=Uo,this}return ye(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),l}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Jn(ts),_s=ye({},ts,{view:0,detail:0}),sl=Jn(_s),yo,bs,ns,Ws=ye({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mt,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ns&&(ns&&o.type==="mousemove"?(yo=o.screenX-ns.screenX,bs=o.screenY-ns.screenY):bs=yo=0,ns=o),yo)},movementY:function(o){return"movementY"in o?o.movementY:bs}}),vo=Jn(Ws),xa=ye({},Ws,{dataTransfer:0}),Yl=Jn(xa),Gs=ye({},_s,{relatedTarget:0}),Ss=Jn(Gs),Ta=ye({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=Jn(Ta),Aa=ye({},ts,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),b=Jn(Aa),B=ye({},ts,{data:0}),te=Jn(B),he={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Je(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Fe[o])?!!l[o]:!1}function mt(){return Je}var p=ye({},_s,{key:function(o){if(o.key){var l=he[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=es(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?xe[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mt,charCode:function(o){return o.type==="keypress"?es(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?es(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),T=Jn(p),R=ye({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y=Jn(R),be=ye({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mt}),Re=Jn(be),et=ye({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qt=Jn(et),an=ye({},Ws,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Xt=Jn(an),Sn=[9,13,27,32],Cn=u&&"CompositionEvent"in window,mi=null;u&&"documentMode"in document&&(mi=document.documentMode);var qr=u&&"TextEvent"in window&&!mi,Ks=u&&(!Cn||mi&&8<mi&&11>=mi),Ys=" ",Ql=!1;function Xl(o,l){switch(o){case"keyup":return Sn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ol(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var lr=!1;function Jl(o,l){switch(o){case"compositionend":return ol(l);case"keypress":return l.which!==32?null:(Ql=!0,Ys);case"textInput":return o=l.data,o===Ys&&Ql?null:o;default:return null}}function Zl(o,l){if(lr)return o==="compositionend"||!Cn&&Xl(o,l)?(o=il(),ar=pi=ti=null,lr=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ks&&l.locale!=="ko"?null:l.data;default:return null}}var eu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!eu[o.type]:l==="textarea"}function gi(o,l,f,g){nt(g),l=Xc(l,"onChange"),0<l.length&&(f=new $s("onChange","change",null,f,g),o.push({event:f,listeners:l}))}var al=null,zo=null;function Kc(o){ac(o,0)}function yi(o){var l=gl(o);if(ft(l))return o}function nu(o,l){if(o==="change")return l}var rc=!1;if(u){var ru;if(u){var wo="oninput"in document;if(!wo){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),wo=typeof Ea.oninput=="function"}ru=wo}else ru=!1;rc=ru&&(!document.documentMode||9<document.documentMode)}function vi(){al&&(al.detachEvent("onpropertychange",ri),zo=al=null)}function ri(o){if(o.propertyName==="value"&&yi(zo)){var l=[];gi(l,zo,o,ze(o)),yr(Kc,l)}}function Ia(o,l,f){o==="focusin"?(vi(),al=l,zo=f,al.attachEvent("onpropertychange",ri)):o==="focusout"&&vi()}function qo(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return yi(zo)}function Ho(o,l){if(o==="click")return yi(l)}function iu(o,l){if(o==="input"||o==="change")return yi(l)}function $o(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var vn=typeof Object.is=="function"?Object.is:$o;function Wo(o,l){if(vn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var S=f[g];if(!c.call(l,S)||!vn(o[S],l[S]))return!1}return!0}function ii(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function rs(o,l){var f=ii(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=l&&g>=l)return{node:f,offset:l-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=ii(f)}}function ll(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ll(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function ic(){for(var o=window,l=lt();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=lt(o.document)}return l}function ul(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function cl(o){var l=ic(),f=o.focusedElem,g=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&ll(f.ownerDocument.documentElement,f)){if(g!==null&&ul(f)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var S=f.textContent.length,A=Math.min(g.start,S);g=g.end===void 0?A:Math.min(g.end,S),!o.extend&&A>g&&(S=g,g=A,A=S),S=rs(f,A);var $=rs(f,g);S&&$&&(o.rangeCount!==1||o.anchorNode!==S.node||o.anchorOffset!==S.offset||o.focusNode!==$.node||o.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),o.removeAllRanges(),A>g?(o.addRange(l),o.extend($.node,$.offset)):(l.setEnd($.node,$.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var hl=u&&"documentMode"in document&&11>=document.documentMode,is=null,Go=null,_o=null,Ko=!1;function Yo(o,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ko||is==null||is!==lt(g)||(g=is,"selectionStart"in g&&ul(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),_o&&Wo(_o,g)||(_o=g,g=Xc(Go,"onSelect"),0<g.length&&(l=new $s("onSelect","select",null,l,f),o.push({event:l,listeners:g}),l.target=is)))}function Pa(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Hr={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},Li={},Bn={};u&&(Bn=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Nn(o){if(Li[o])return Li[o];if(!Hr[o])return o;var l=Hr[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in Bn)return Li[o]=l[f];return o}var ur=Nn("animationend"),wr=Nn("animationiteration"),bo=Nn("animationstart"),su=Nn("transitionend"),fl=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(o,l){fl.set(o,l),s(l,[o])}for(var ou=0;ou<sc.length;ou++){var wi=sc[ou],xs=wi.toLowerCase(),Yc=wi[0].toUpperCase()+wi.slice(1);So(xs,"on"+Yc)}So(ur,"onAnimationEnd"),So(wr,"onAnimationIteration"),So(bo,"onAnimationStart"),So("dblclick","onDoubleClick"),So("focusin","onFocus"),So("focusout","onBlur"),So(su,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$d=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function oc(o,l,f){var g=o.type||"unknown-event";o.currentTarget=f,Pi(g,l,void 0,o),o.currentTarget=null}function ac(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],S=g.event;g=g.listeners;e:{var A=void 0;if(l)for(var $=g.length-1;0<=$;$--){var ae=g[$],pe=ae.instance,Oe=ae.currentTarget;if(ae=ae.listener,pe!==A&&S.isPropagationStopped())break e;oc(S,ae,Oe),A=pe}else for($=0;$<g.length;$++){if(ae=g[$],pe=ae.instance,Oe=ae.currentTarget,ae=ae.listener,pe!==A&&S.isPropagationStopped())break e;oc(S,ae,Oe),A=pe}}}if(Xn)throw o=so,Xn=!1,so=null,o}function Un(o,l){var f=l[Di];f===void 0&&(f=l[Di]=new Set);var g=o+"__bubble";f.has(g)||(lc(l,o,2,!1),f.add(g))}function Qc(o,l,f){var g=0;l&&(g|=4),lc(f,o,g,l)}var au="_reactListening"+Math.random().toString(36).slice(2);function dl(o){if(!o[au]){o[au]=!0,r.forEach(function(f){f!=="selectionchange"&&($d.has(f)||Qc(f,!1,o),Qc(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[au]||(l[au]=!0,Qc("selectionchange",!1,l))}}function lc(o,l,f,g){switch(Sa(l)){case 1:var S=bn;break;case 4:S=rl;break;default:S=mo}f=S.bind(null,l,f,o),S=void 0,!Kn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),g?S!==void 0?o.addEventListener(l,f,{capture:!0,passive:S}):o.addEventListener(l,f,!0):S!==void 0?o.addEventListener(l,f,{passive:S}):o.addEventListener(l,f,!1)}function uc(o,l,f,g,S){var A=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var ae=g.stateNode.containerInfo;if(ae===S||ae.nodeType===8&&ae.parentNode===S)break;if($===4)for($=g.return;$!==null;){var pe=$.tag;if((pe===3||pe===4)&&(pe=$.stateNode.containerInfo,pe===S||pe.nodeType===8&&pe.parentNode===S))return;$=$.return}for(;ae!==null;){if($=Na(ae),$===null)return;if(pe=$.tag,pe===5||pe===6){g=A=$;continue e}ae=ae.parentNode}}g=g.return}yr(function(){var Oe=A,rt=ze(f),st=[];e:{var tt=fl.get(o);if(tt!==void 0){var St=$s,It=o;switch(o){case"keypress":if(es(f)===0)break e;case"keydown":case"keyup":St=T;break;case"focusin":It="focus",St=Ss;break;case"focusout":It="blur",St=Ss;break;case"beforeblur":case"afterblur":St=Ss;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=Yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=Re;break;case ur:case wr:case bo:St=ni;break;case su:St=Qt;break;case"scroll":St=sl;break;case"wheel":St=Xt;break;case"copy":case"cut":case"paste":St=b;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=Y}var kt=(l&4)!==0,Pr=!kt&&o==="scroll",ke=kt?tt!==null?tt+"Capture":null:tt;kt=[];for(var we=Oe,De;we!==null;){De=we;var ut=De.stateNode;if(De.tag===5&&ut!==null&&(De=ut,ke!==null&&(ut=wt(we,ke),ut!=null&&kt.push(cc(we,ut,De)))),Pr)break;we=we.return}0<kt.length&&(tt=new St(tt,It,null,f,rt),st.push({event:tt,listeners:kt}))}}if((l&7)===0){e:{if(tt=o==="mouseover"||o==="pointerover",St=o==="mouseout"||o==="pointerout",tt&&f!==rn&&(It=f.relatedTarget||f.fromElement)&&(Na(It)||It[si]))break e;if((St||tt)&&(tt=rt.window===rt?rt:(tt=rt.ownerDocument)?tt.defaultView||tt.parentWindow:window,St?(It=f.relatedTarget||f.toElement,St=Oe,It=It?Na(It):null,It!==null&&(Pr=hr(It),It!==Pr||It.tag!==5&&It.tag!==6)&&(It=null)):(St=null,It=Oe),St!==It)){if(kt=vo,ut="onMouseLeave",ke="onMouseEnter",we="mouse",(o==="pointerout"||o==="pointerover")&&(kt=Y,ut="onPointerLeave",ke="onPointerEnter",we="pointer"),Pr=St==null?tt:gl(St),De=It==null?tt:gl(It),tt=new kt(ut,we+"leave",St,f,rt),tt.target=Pr,tt.relatedTarget=De,ut=null,Na(rt)===Oe&&(kt=new kt(ke,we+"enter",It,f,rt),kt.target=De,kt.relatedTarget=Pr,ut=kt),Pr=ut,St&&It)t:{for(kt=St,ke=It,we=0,De=kt;De;De=pl(De))we++;for(De=0,ut=ke;ut;ut=pl(ut))De++;for(;0<we-De;)kt=pl(kt),we--;for(;0<De-we;)ke=pl(ke),De--;for(;we--;){if(kt===ke||ke!==null&&kt===ke.alternate)break t;kt=pl(kt),ke=pl(ke)}kt=null}else kt=null;St!==null&&Wd(st,tt,St,kt,!1),It!==null&&Pr!==null&&Wd(st,Pr,It,kt,!0)}}e:{if(tt=Oe?gl(Oe):window,St=tt.nodeName&&tt.nodeName.toLowerCase(),St==="select"||St==="input"&&tt.type==="file")var Lt=nu;else if(tu(tt))if(rc)Lt=iu;else{Lt=qo;var Vt=Ia}else(St=tt.nodeName)&&St.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(Lt=Ho);if(Lt&&(Lt=Lt(o,Oe))){gi(st,Lt,f,rt);break e}Vt&&Vt(o,tt,Oe),o==="focusout"&&(Vt=tt._wrapperState)&&Vt.controlled&&tt.type==="number"&&Ze(tt,"number",tt.value)}switch(Vt=Oe?gl(Oe):window,o){case"focusin":(tu(Vt)||Vt.contentEditable==="true")&&(is=Vt,Go=Oe,_o=null);break;case"focusout":_o=Go=is=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,Yo(st,f,rt);break;case"selectionchange":if(hl)break;case"keydown":case"keyup":Yo(st,f,rt)}var Bt;if(Cn)e:{switch(o){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else lr?Xl(o,f)&&(Yt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Yt="onCompositionStart");Yt&&(Ks&&f.locale!=="ko"&&(lr||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&lr&&(Bt=il()):(ti=rt,pi="value"in ti?ti.value:ti.textContent,lr=!0)),Vt=Xc(Oe,Yt),0<Vt.length&&(Yt=new te(Yt,o,null,f,rt),st.push({event:Yt,listeners:Vt}),Bt?Yt.data=Bt:(Bt=ol(f),Bt!==null&&(Yt.data=Bt)))),(Bt=qr?Jl(o,f):Zl(o,f))&&(Oe=Xc(Oe,"onBeforeInput"),0<Oe.length&&(rt=new te("onBeforeInput","beforeinput",null,f,rt),st.push({event:rt,listeners:Oe}),rt.data=Bt))}ac(st,l)})}function cc(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Xc(o,l){for(var f=l+"Capture",g=[];o!==null;){var S=o,A=S.stateNode;S.tag===5&&A!==null&&(S=A,A=wt(o,f),A!=null&&g.unshift(cc(o,A,S)),A=wt(o,l),A!=null&&g.push(cc(o,A,S))),o=o.return}return g}function pl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Wd(o,l,f,g,S){for(var A=l._reactName,$=[];f!==null&&f!==g;){var ae=f,pe=ae.alternate,Oe=ae.stateNode;if(pe!==null&&pe===g)break;ae.tag===5&&Oe!==null&&(ae=Oe,S?(pe=wt(f,A),pe!=null&&$.unshift(cc(f,pe,ae))):S||(pe=wt(f,A),pe!=null&&$.push(cc(f,pe,ae)))),f=f.return}$.length!==0&&o.push({event:l,listeners:$})}var Ag=/\r\n?/g,Eg=/\u0000|\uFFFD/g;function Gd(o){return(typeof o=="string"?o:""+o).replace(Ag,`
`).replace(Eg,"")}function Jc(o,l,f){if(l=Gd(l),Gd(o)!==l&&f)throw Error(t(425))}function lu(){}var hc=null,ml=null;function hf(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ff=typeof setTimeout=="function"?setTimeout:void 0,Kd=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,Ig=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(o){return Yd.resolve(null).then(o).catch(Pg)}:ff;function Pg(o){setTimeout(function(){throw o})}function df(o,l){var f=l,g=0;do{var S=f.nextSibling;if(o.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(g===0){o.removeChild(S),zr(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=S}while(f);zr(l)}function _i(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Ts(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var Ri=Math.random().toString(36).slice(2),xo="__reactFiber$"+Ri,uu="__reactProps$"+Ri,si="__reactContainer$"+Ri,Di="__reactEvents$"+Ri,Cg="__reactListeners$"+Ri,Ng="__reactHandles$"+Ri;function Na(o){var l=o[xo];if(l)return l;for(var f=o.parentNode;f;){if(l=f[si]||f[xo]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Ts(o);o!==null;){if(f=o[xo])return f;o=Ts(o)}return l}o=f,f=o.parentNode}return null}function cu(o){return o=o[xo]||o[si],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function gl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function fc(o){return o[uu]||null}var pf=[],Qo=-1;function Qs(o){return{current:o}}function kn(o){0>Qo||(o.current=pf[Qo],pf[Qo]=null,Qo--)}function On(o,l){Qo++,pf[Qo]=o.current,o.current=l}var ka={},$r=Qs(ka),Oi=Qs(!1),yl=ka;function hu(o,l){var f=o.type.contextTypes;if(!f)return ka;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var S={},A;for(A in f)S[A]=l[A];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=S),S}function Mi(o){return o=o.childContextTypes,o!=null}function Zc(){kn(Oi),kn($r)}function Qd(o,l,f){if($r.current!==ka)throw Error(t(168));On($r,l),On(Oi,f)}function mf(o,l,f){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var S in g)if(!(S in l))throw Error(t(108,_e(o)||"Unknown",S));return ye({},f,g)}function vl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ka,yl=$r.current,On($r,o),On(Oi,Oi.current),!0}function Xd(o,l,f){var g=o.stateNode;if(!g)throw Error(t(169));f?(o=mf(o,l,yl),g.__reactInternalMemoizedMergedChildContext=o,kn(Oi),kn($r),On($r,o)):kn(Oi),On(Oi,f)}var Xo=null,dc=!1,d=!1;function v(o){Xo===null?Xo=[o]:Xo.push(o)}function x(o){dc=!0,v(o)}function P(){if(!d&&Xo!==null){d=!0;var o=0,l=sn;try{var f=Xo;for(sn=1;o<f.length;o++){var g=f[o];do g=g(!0);while(g!==null)}Xo=null,dc=!1}catch(S){throw Xo!==null&&(Xo=Xo.slice(o+1)),Bs(ms,P),S}finally{sn=l,d=!1}}return null}var V=[],H=0,W=null,K=0,Q=[],J=0,fe=null,Ie=1,Pe="";function Se(o,l){V[H++]=K,V[H++]=W,W=o,K=l}function qe(o,l,f){Q[J++]=Ie,Q[J++]=Pe,Q[J++]=fe,fe=o;var g=Ie;o=Pe;var S=32-Fr(g)-1;g&=~(1<<S),f+=1;var A=32-Fr(l)+S;if(30<A){var $=S-S%5;A=(g&(1<<$)-1).toString(32),g>>=$,S-=$,Ie=1<<32-Fr(l)+S|f<<S|g,Pe=A+o}else Ie=1<<A|f<<S|g,Pe=o}function Me(o){o.return!==null&&(Se(o,1),qe(o,1,0))}function me(o){for(;o===W;)W=V[--H],V[H]=null,K=V[--H],V[H]=null;for(;o===fe;)fe=Q[--J],Q[J]=null,Pe=Q[--J],Q[J]=null,Ie=Q[--J],Q[J]=null}var ge=null,Be=null,Ve=!1,Ue=null;function _t(o,l){var f=Co(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function gt(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,ge=o,Be=_i(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,ge=o,Be=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=fe!==null?{id:Ie,overflow:Pe}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Co(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,ge=o,Be=null,!0):!1;default:return!1}}function Rt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function yt(o){if(Ve){var l=Be;if(l){var f=l;if(!gt(o,l)){if(Rt(o))throw Error(t(418));l=_i(f.nextSibling);var g=ge;l&&gt(o,l)?_t(g,f):(o.flags=o.flags&-4097|2,Ve=!1,ge=o)}}else{if(Rt(o))throw Error(t(418));o.flags=o.flags&-4097|2,Ve=!1,ge=o}}}function mn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ge=o}function gn(o){if(o!==ge)return!1;if(!Ve)return mn(o),Ve=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!hf(o.type,o.memoizedProps)),l&&(l=Be)){if(Rt(o))throw cn(),Error(t(418));for(;l;)_t(o,l),l=_i(l.nextSibling)}if(mn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){Be=_i(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}Be=null}}else Be=ge?_i(o.stateNode.nextSibling):null;return!0}function cn(){for(var o=Be;o;)o=_i(o.nextSibling)}function tn(){Be=ge=null,Ve=!1}function Ln(o){Ue===null?Ue=[o]:Ue.push(o)}var Mn=ee.ReactCurrentBatchConfig;function Wt(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var g=f.stateNode}if(!g)throw Error(t(147,o));var S=g,A=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function($){var ae=S.refs;$===null?delete ae[A]:ae[A]=$},l._stringRef=A,l)}if(typeof o!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,o))}return o}function Zn(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function bi(o){var l=o._init;return l(o._payload)}function fr(o){function l(ke,we){if(o){var De=ke.deletions;De===null?(ke.deletions=[we],ke.flags|=16):De.push(we)}}function f(ke,we){if(!o)return null;for(;we!==null;)l(ke,we),we=we.sibling;return null}function g(ke,we){for(ke=new Map;we!==null;)we.key!==null?ke.set(we.key,we):ke.set(we.index,we),we=we.sibling;return ke}function S(ke,we){return ke=xu(ke,we),ke.index=0,ke.sibling=null,ke}function A(ke,we,De){return ke.index=De,o?(De=ke.alternate,De!==null?(De=De.index,De<we?(ke.flags|=2,we):De):(ke.flags|=2,we)):(ke.flags|=1048576,we)}function $(ke){return o&&ke.alternate===null&&(ke.flags|=2),ke}function ae(ke,we,De,ut){return we===null||we.tag!==6?(we=s0(De,ke.mode,ut),we.return=ke,we):(we=S(we,De),we.return=ke,we)}function pe(ke,we,De,ut){var Lt=De.type;return Lt===z?rt(ke,we,De.props.children,ut,De.key):we!==null&&(we.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Ne&&bi(Lt)===we.type)?(ut=S(we,De.props),ut.ref=Wt(ke,we,De),ut.return=ke,ut):(ut=yp(De.type,De.key,De.props,null,ke.mode,ut),ut.ref=Wt(ke,we,De),ut.return=ke,ut)}function Oe(ke,we,De,ut){return we===null||we.tag!==4||we.stateNode.containerInfo!==De.containerInfo||we.stateNode.implementation!==De.implementation?(we=o0(De,ke.mode,ut),we.return=ke,we):(we=S(we,De.children||[]),we.return=ke,we)}function rt(ke,we,De,ut,Lt){return we===null||we.tag!==7?(we=bc(De,ke.mode,ut,Lt),we.return=ke,we):(we=S(we,De),we.return=ke,we)}function st(ke,we,De){if(typeof we=="string"&&we!==""||typeof we=="number")return we=s0(""+we,ke.mode,De),we.return=ke,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case ie:return De=yp(we.type,we.key,we.props,null,ke.mode,De),De.ref=Wt(ke,null,we),De.return=ke,De;case de:return we=o0(we,ke.mode,De),we.return=ke,we;case Ne:var ut=we._init;return st(ke,ut(we._payload),De)}if(it(we)||ve(we))return we=bc(we,ke.mode,De,null),we.return=ke,we;Zn(ke,we)}return null}function tt(ke,we,De,ut){var Lt=we!==null?we.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Lt!==null?null:ae(ke,we,""+De,ut);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case ie:return De.key===Lt?pe(ke,we,De,ut):null;case de:return De.key===Lt?Oe(ke,we,De,ut):null;case Ne:return Lt=De._init,tt(ke,we,Lt(De._payload),ut)}if(it(De)||ve(De))return Lt!==null?null:rt(ke,we,De,ut,null);Zn(ke,De)}return null}function St(ke,we,De,ut,Lt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ke=ke.get(De)||null,ae(we,ke,""+ut,Lt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case ie:return ke=ke.get(ut.key===null?De:ut.key)||null,pe(we,ke,ut,Lt);case de:return ke=ke.get(ut.key===null?De:ut.key)||null,Oe(we,ke,ut,Lt);case Ne:var Vt=ut._init;return St(ke,we,De,Vt(ut._payload),Lt)}if(it(ut)||ve(ut))return ke=ke.get(De)||null,rt(we,ke,ut,Lt,null);Zn(we,ut)}return null}function It(ke,we,De,ut){for(var Lt=null,Vt=null,Bt=we,Yt=we=0,ui=null;Bt!==null&&Yt<De.length;Yt++){Bt.index>Yt?(ui=Bt,Bt=null):ui=Bt.sibling;var An=tt(ke,Bt,De[Yt],ut);if(An===null){Bt===null&&(Bt=ui);break}o&&Bt&&An.alternate===null&&l(ke,Bt),we=A(An,we,Yt),Vt===null?Lt=An:Vt.sibling=An,Vt=An,Bt=ui}if(Yt===De.length)return f(ke,Bt),Ve&&Se(ke,Yt),Lt;if(Bt===null){for(;Yt<De.length;Yt++)Bt=st(ke,De[Yt],ut),Bt!==null&&(we=A(Bt,we,Yt),Vt===null?Lt=Bt:Vt.sibling=Bt,Vt=Bt);return Ve&&Se(ke,Yt),Lt}for(Bt=g(ke,Bt);Yt<De.length;Yt++)ui=St(Bt,ke,Yt,De[Yt],ut),ui!==null&&(o&&ui.alternate!==null&&Bt.delete(ui.key===null?Yt:ui.key),we=A(ui,we,Yt),Vt===null?Lt=ui:Vt.sibling=ui,Vt=ui);return o&&Bt.forEach(function(Tu){return l(ke,Tu)}),Ve&&Se(ke,Yt),Lt}function kt(ke,we,De,ut){var Lt=ve(De);if(typeof Lt!="function")throw Error(t(150));if(De=Lt.call(De),De==null)throw Error(t(151));for(var Vt=Lt=null,Bt=we,Yt=we=0,ui=null,An=De.next();Bt!==null&&!An.done;Yt++,An=De.next()){Bt.index>Yt?(ui=Bt,Bt=null):ui=Bt.sibling;var Tu=tt(ke,Bt,An.value,ut);if(Tu===null){Bt===null&&(Bt=ui);break}o&&Bt&&Tu.alternate===null&&l(ke,Bt),we=A(Tu,we,Yt),Vt===null?Lt=Tu:Vt.sibling=Tu,Vt=Tu,Bt=ui}if(An.done)return f(ke,Bt),Ve&&Se(ke,Yt),Lt;if(Bt===null){for(;!An.done;Yt++,An=De.next())An=st(ke,An.value,ut),An!==null&&(we=A(An,we,Yt),Vt===null?Lt=An:Vt.sibling=An,Vt=An);return Ve&&Se(ke,Yt),Lt}for(Bt=g(ke,Bt);!An.done;Yt++,An=De.next())An=St(Bt,ke,Yt,An.value,ut),An!==null&&(o&&An.alternate!==null&&Bt.delete(An.key===null?Yt:An.key),we=A(An,we,Yt),Vt===null?Lt=An:Vt.sibling=An,Vt=An);return o&&Bt.forEach(function(PE){return l(ke,PE)}),Ve&&Se(ke,Yt),Lt}function Pr(ke,we,De,ut){if(typeof De=="object"&&De!==null&&De.type===z&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case ie:e:{for(var Lt=De.key,Vt=we;Vt!==null;){if(Vt.key===Lt){if(Lt=De.type,Lt===z){if(Vt.tag===7){f(ke,Vt.sibling),we=S(Vt,De.props.children),we.return=ke,ke=we;break e}}else if(Vt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Ne&&bi(Lt)===Vt.type){f(ke,Vt.sibling),we=S(Vt,De.props),we.ref=Wt(ke,Vt,De),we.return=ke,ke=we;break e}f(ke,Vt);break}else l(ke,Vt);Vt=Vt.sibling}De.type===z?(we=bc(De.props.children,ke.mode,ut,De.key),we.return=ke,ke=we):(ut=yp(De.type,De.key,De.props,null,ke.mode,ut),ut.ref=Wt(ke,we,De),ut.return=ke,ke=ut)}return $(ke);case de:e:{for(Vt=De.key;we!==null;){if(we.key===Vt)if(we.tag===4&&we.stateNode.containerInfo===De.containerInfo&&we.stateNode.implementation===De.implementation){f(ke,we.sibling),we=S(we,De.children||[]),we.return=ke,ke=we;break e}else{f(ke,we);break}else l(ke,we);we=we.sibling}we=o0(De,ke.mode,ut),we.return=ke,ke=we}return $(ke);case Ne:return Vt=De._init,Pr(ke,we,Vt(De._payload),ut)}if(it(De))return It(ke,we,De,ut);if(ve(De))return kt(ke,we,De,ut);Zn(ke,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,we!==null&&we.tag===6?(f(ke,we.sibling),we=S(we,De),we.return=ke,ke=we):(f(ke,we),we=s0(De,ke.mode,ut),we.return=ke,ke=we),$(ke)):f(ke,we)}return Pr}var Ar=fr(!0),xn=fr(!1),oi=Qs(null),ai=null,er=null,Er=null;function Wr(){Er=er=ai=null}function ji(o){var l=oi.current;kn(oi),o._currentValue=l}function As(o,l,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===f)break;o=o.return}}function tr(o,l){ai=o,Er=er=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Cs=!0),o.firstContext=null)}function _r(o){var l=o._currentValue;if(Er!==o)if(o={context:o,memoizedValue:l,next:null},er===null){if(ai===null)throw Error(t(308));er=o,ai.dependencies={lanes:0,firstContext:o}}else er=er.next=o;return l}var ss=null;function La(o){ss===null?ss=[o]:ss.push(o)}function Jo(o,l,f,g){var S=l.interleaved;return S===null?(f.next=f,La(l)):(f.next=S.next,S.next=f),l.interleaved=f,Tn(o,g)}function Tn(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var To=!1;function eh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gf(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Es(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Is(o,l,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(wn&2)!==0){var S=g.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),g.pending=l,Tn(o,f)}return S=g.interleaved,S===null?(l.next=l,La(g)):(l.next=S.next,S.next=l),g.interleaved=l,Tn(o,f)}function wl(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,qs(o,f)}}function Ps(o,l){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var S=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var $={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};A===null?S=A=$:A=A.next=$,f=f.next}while(f!==null);A===null?S=A=l:A=A.next=l}else S=A=l;f={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,effects:g.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function Zo(o,l,f,g){var S=o.updateQueue;To=!1;var A=S.firstBaseUpdate,$=S.lastBaseUpdate,ae=S.shared.pending;if(ae!==null){S.shared.pending=null;var pe=ae,Oe=pe.next;pe.next=null,$===null?A=Oe:$.next=Oe,$=pe;var rt=o.alternate;rt!==null&&(rt=rt.updateQueue,ae=rt.lastBaseUpdate,ae!==$&&(ae===null?rt.firstBaseUpdate=Oe:ae.next=Oe,rt.lastBaseUpdate=pe))}if(A!==null){var st=S.baseState;$=0,rt=Oe=pe=null,ae=A;do{var tt=ae.lane,St=ae.eventTime;if((g&tt)===tt){rt!==null&&(rt=rt.next={eventTime:St,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var It=o,kt=ae;switch(tt=l,St=f,kt.tag){case 1:if(It=kt.payload,typeof It=="function"){st=It.call(St,st,tt);break e}st=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=kt.payload,tt=typeof It=="function"?It.call(St,st,tt):It,tt==null)break e;st=ye({},st,tt);break e;case 2:To=!0}}ae.callback!==null&&ae.lane!==0&&(o.flags|=64,tt=S.effects,tt===null?S.effects=[ae]:tt.push(ae))}else St={eventTime:St,lane:tt,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},rt===null?(Oe=rt=St,pe=st):rt=rt.next=St,$|=tt;if(ae=ae.next,ae===null){if(ae=S.shared.pending,ae===null)break;tt=ae,ae=tt.next,tt.next=null,S.lastBaseUpdate=tt,S.shared.pending=null}}while(!0);if(rt===null&&(pe=st),S.baseState=pe,S.firstBaseUpdate=Oe,S.lastBaseUpdate=rt,l=S.shared.interleaved,l!==null){S=l;do $|=S.lane,S=S.next;while(S!==l)}else A===null&&(S.shared.lanes=0);yc|=$,o.lanes=$,o.memoizedState=st}}function _l(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],S=g.callback;if(S!==null){if(g.callback=null,g=f,typeof S!="function")throw Error(t(191,S));S.call(g)}}}var fu={},os=Qs(fu),du=Qs(fu),Ra=Qs(fu);function ea(o){if(o===fu)throw Error(t(174));return o}function pu(o,l){switch(On(Ra,l),On(du,o),On(os,fu),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:at(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=at(l,o)}kn(os),On(os,l)}function Ao(){kn(os),kn(du),kn(Ra)}function Jd(o){ea(Ra.current);var l=ea(os.current),f=at(l,o.type);l!==f&&(On(du,o),On(os,f))}function yf(o){du.current===o&&(kn(os),kn(du))}var Hn=Qs(0);function Xs(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var vf=[];function wf(){for(var o=0;o<vf.length;o++)vf[o]._workInProgressVersionPrimary=null;vf.length=0}var th=ee.ReactCurrentDispatcher,nh=ee.ReactCurrentBatchConfig,Eo=0,Yn=null,br=null,dr=null,mu=!1,ta=!1,gu=0,kg=0;function Ir(){throw Error(t(321))}function rh(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!vn(o[f],l[f]))return!1;return!0}function pc(o,l,f,g,S,A){if(Eo=A,Yn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,th.current=o===null||o.memoizedState===null?eE:tE,o=f(g,S),ta){A=0;do{if(ta=!1,gu=0,25<=A)throw Error(t(301));A+=1,dr=br=null,l.updateQueue=null,th.current=nE,o=f(g,S)}while(ta)}if(th.current=rp,l=br!==null&&br.next!==null,Eo=0,dr=br=Yn=null,mu=!1,l)throw Error(t(300));return o}function Io(){var o=gu!==0;return gu=0,o}function Js(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Yn.memoizedState=dr=o:dr=dr.next=o,dr}function as(){if(br===null){var o=Yn.alternate;o=o!==null?o.memoizedState:null}else o=br.next;var l=dr===null?Yn.memoizedState:dr.next;if(l!==null)dr=l,br=o;else{if(o===null)throw Error(t(310));br=o,o={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},dr===null?Yn.memoizedState=dr=o:dr=dr.next=o}return dr}function mc(o,l){return typeof l=="function"?l(o):l}function ih(o){var l=as(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=o;var g=br,S=g.baseQueue,A=f.pending;if(A!==null){if(S!==null){var $=S.next;S.next=A.next,A.next=$}g.baseQueue=S=A,f.pending=null}if(S!==null){A=S.next,g=g.baseState;var ae=$=null,pe=null,Oe=A;do{var rt=Oe.lane;if((Eo&rt)===rt)pe!==null&&(pe=pe.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),g=Oe.hasEagerState?Oe.eagerState:o(g,Oe.action);else{var st={lane:rt,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};pe===null?(ae=pe=st,$=g):pe=pe.next=st,Yn.lanes|=rt,yc|=rt}Oe=Oe.next}while(Oe!==null&&Oe!==A);pe===null?$=g:pe.next=ae,vn(g,l.memoizedState)||(Cs=!0),l.memoizedState=g,l.baseState=$,l.baseQueue=pe,f.lastRenderedState=g}if(o=f.interleaved,o!==null){S=o;do A=S.lane,Yn.lanes|=A,yc|=A,S=S.next;while(S!==o)}else S===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Da(o){var l=as(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=o;var g=f.dispatch,S=f.pending,A=l.memoizedState;if(S!==null){f.pending=null;var $=S=S.next;do A=o(A,$.action),$=$.next;while($!==S);vn(A,l.memoizedState)||(Cs=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),f.lastRenderedState=A}return[A,g]}function Zd(){}function _f(o,l){var f=Yn,g=as(),S=l(),A=!vn(g.memoizedState,S);if(A&&(g.memoizedState=S,Cs=!0),g=g.queue,ah(tp.bind(null,f,g,o),[o]),g.getSnapshot!==l||A||dr!==null&&dr.memoizedState.tag&1){if(f.flags|=2048,ls(9,bf.bind(null,f,g,S,l),void 0,null),li===null)throw Error(t(349));(Eo&30)!==0||ep(f,l,S)}return S}function ep(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Yn.updateQueue,l===null?(l={lastEffect:null,stores:null},Yn.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function bf(o,l,f,g){l.value=f,l.getSnapshot=g,yu(l)&&sh(o)}function tp(o,l,f){return f(function(){yu(l)&&sh(o)})}function yu(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!vn(o,f)}catch{return!0}}function sh(o){var l=Tn(o,1);l!==null&&oa(l,o,1,-1)}function gc(o){var l=Js();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:o},l.queue=o,o=o.dispatch=Z3.bind(null,Yn,o),[l.memoizedState,o]}function ls(o,l,f,g){return o={tag:o,create:l,destroy:f,deps:g,next:null},l=Yn.updateQueue,l===null?(l={lastEffect:null,stores:null},Yn.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,l.lastEffect=o)),o}function na(){return as().memoizedState}function Zs(o,l,f,g){var S=Js();Yn.flags|=o,S.memoizedState=ls(1|l,f,void 0,g===void 0?null:g)}function bl(o,l,f,g){var S=as();g=g===void 0?null:g;var A=void 0;if(br!==null){var $=br.memoizedState;if(A=$.destroy,g!==null&&rh(g,$.deps)){S.memoizedState=ls(l,f,A,g);return}}Yn.flags|=o,S.memoizedState=ls(1|l,f,A,g)}function oh(o,l){return Zs(8390656,8,o,l)}function ah(o,l){return bl(2048,8,o,l)}function np(o,l){return bl(4,2,o,l)}function lh(o,l){return bl(4,4,o,l)}function uh(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function s2(o,l,f){return f=f!=null?f.concat([o]):null,bl(4,4,uh.bind(null,l,o),f)}function Lg(){}function o2(o,l){var f=as();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&rh(l,g[1])?g[0]:(f.memoizedState=[o,l],o)}function a2(o,l){var f=as();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&rh(l,g[1])?g[0]:(o=o(),f.memoizedState=[o,l],o)}function l2(o,l,f){return(Eo&21)===0?(o.baseState&&(o.baseState=!1,Cs=!0),o.memoizedState=f):(vn(f,l)||(f=co(),Yn.lanes|=f,yc|=f,o.baseState=!0),l)}function X3(o,l){var f=sn;sn=f!==0&&4>f?f:4,o(!0);var g=nh.transition;nh.transition={};try{o(!1),l()}finally{sn=f,nh.transition=g}}function u2(){return as().memoizedState}function J3(o,l,f){var g=bu(o);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},c2(o))h2(l,f);else if(f=Jo(o,l,f,g),f!==null){var S=cs();oa(f,o,g,S),f2(f,l,g)}}function Z3(o,l,f){var g=bu(o),S={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(c2(o))h2(l,S);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var $=l.lastRenderedState,ae=A($,f);if(S.hasEagerState=!0,S.eagerState=ae,vn(ae,$)){var pe=l.interleaved;pe===null?(S.next=S,La(l)):(S.next=pe.next,pe.next=S),l.interleaved=S;return}}catch{}finally{}f=Jo(o,l,S,g),f!==null&&(S=cs(),oa(f,o,g,S),f2(f,l,g))}}function c2(o){var l=o.alternate;return o===Yn||l!==null&&l===Yn}function h2(o,l){ta=mu=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function f2(o,l,f){if((f&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,qs(o,f)}}var rp={readContext:_r,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},eE={readContext:_r,useCallback:function(o,l){return Js().memoizedState=[o,l===void 0?null:l],o},useContext:_r,useEffect:oh,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,Zs(4194308,4,uh.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Zs(4194308,4,o,l)},useInsertionEffect:function(o,l){return Zs(4,2,o,l)},useMemo:function(o,l){var f=Js();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var g=Js();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=J3.bind(null,Yn,o),[g.memoizedState,o]},useRef:function(o){var l=Js();return o={current:o},l.memoizedState=o},useState:gc,useDebugValue:Lg,useDeferredValue:function(o){return Js().memoizedState=o},useTransition:function(){var o=gc(!1),l=o[0];return o=X3.bind(null,o[1]),Js().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var g=Yn,S=Js();if(Ve){if(f===void 0)throw Error(t(407));f=f()}else{if(f=l(),li===null)throw Error(t(349));(Eo&30)!==0||ep(g,l,f)}S.memoizedState=f;var A={value:f,getSnapshot:l};return S.queue=A,oh(tp.bind(null,g,A,o),[o]),g.flags|=2048,ls(9,bf.bind(null,g,A,f,l),void 0,null),f},useId:function(){var o=Js(),l=li.identifierPrefix;if(Ve){var f=Pe,g=Ie;f=(g&~(1<<32-Fr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=gu++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=kg++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},tE={readContext:_r,useCallback:o2,useContext:_r,useEffect:ah,useImperativeHandle:s2,useInsertionEffect:np,useLayoutEffect:lh,useMemo:a2,useReducer:ih,useRef:na,useState:function(){return ih(mc)},useDebugValue:Lg,useDeferredValue:function(o){var l=as();return l2(l,br.memoizedState,o)},useTransition:function(){var o=ih(mc)[0],l=as().memoizedState;return[o,l]},useMutableSource:Zd,useSyncExternalStore:_f,useId:u2,unstable_isNewReconciler:!1},nE={readContext:_r,useCallback:o2,useContext:_r,useEffect:ah,useImperativeHandle:s2,useInsertionEffect:np,useLayoutEffect:lh,useMemo:a2,useReducer:Da,useRef:na,useState:function(){return Da(mc)},useDebugValue:Lg,useDeferredValue:function(o){var l=as();return br===null?l.memoizedState=o:l2(l,br.memoizedState,o)},useTransition:function(){var o=Da(mc)[0],l=as().memoizedState;return[o,l]},useMutableSource:Zd,useSyncExternalStore:_f,useId:u2,unstable_isNewReconciler:!1};function ra(o,l){if(o&&o.defaultProps){l=ye({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function Rg(o,l,f,g){l=o.memoizedState,f=f(g,l),f=f==null?l:ye({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var ip={isMounted:function(o){return(o=o._reactInternals)?hr(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var g=cs(),S=bu(o),A=Es(g,S);A.payload=l,f!=null&&(A.callback=f),l=Is(o,A,S),l!==null&&(oa(l,o,S,g),wl(l,o,S))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var g=cs(),S=bu(o),A=Es(g,S);A.tag=1,A.payload=l,f!=null&&(A.callback=f),l=Is(o,A,S),l!==null&&(oa(l,o,S,g),wl(l,o,S))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=cs(),g=bu(o),S=Es(f,g);S.tag=2,l!=null&&(S.callback=l),l=Is(o,S,g),l!==null&&(oa(l,o,g,f),wl(l,o,g))}};function d2(o,l,f,g,S,A,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,A,$):l.prototype&&l.prototype.isPureReactComponent?!Wo(f,g)||!Wo(S,A):!0}function p2(o,l,f){var g=!1,S=ka,A=l.contextType;return typeof A=="object"&&A!==null?A=_r(A):(S=Mi(l)?yl:$r.current,g=l.contextTypes,A=(g=g!=null)?hu(o,S):ka),l=new l(f,A),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ip,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=S,o.__reactInternalMemoizedMaskedChildContext=A),l}function m2(o,l,f,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==o&&ip.enqueueReplaceState(l,l.state,null)}function Dg(o,l,f,g){var S=o.stateNode;S.props=f,S.state=o.memoizedState,S.refs={},eh(o);var A=l.contextType;typeof A=="object"&&A!==null?S.context=_r(A):(A=Mi(l)?yl:$r.current,S.context=hu(o,A)),S.state=o.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Rg(o,l,A,f),S.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&ip.enqueueReplaceState(S,S.state,null),Zo(o,f,S,g),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308)}function ch(o,l){try{var f="",g=l;do f+=oe(g),g=g.return;while(g);var S=f}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:o,source:l,stack:S,digest:null}}function Og(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function Mg(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var rE=typeof WeakMap=="function"?WeakMap:Map;function g2(o,l,f){f=Es(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){hp||(hp=!0,Xg=g),Mg(o,l)},f}function y2(o,l,f){f=Es(-1,f),f.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var S=l.value;f.payload=function(){return g(S)},f.callback=function(){Mg(o,l)}}var A=o.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(f.callback=function(){Mg(o,l),typeof g!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),f}function v2(o,l,f){var g=o.pingCache;if(g===null){g=o.pingCache=new rE;var S=new Set;g.set(l,S)}else S=g.get(l),S===void 0&&(S=new Set,g.set(l,S));S.has(f)||(S.add(f),o=yE.bind(null,o,l,f),l.then(o,o))}function w2(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function _2(o,l,f,g,S){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Es(-1,1),l.tag=2,Is(f,l,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=S,o)}var iE=ee.ReactCurrentOwner,Cs=!1;function us(o,l,f,g){l.child=o===null?xn(l,null,f,g):Ar(l,o.child,f,g)}function b2(o,l,f,g,S){f=f.render;var A=l.ref;return tr(l,S),g=pc(o,l,f,g,A,S),f=Io(),o!==null&&!Cs?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Sl(o,l,S)):(Ve&&f&&Me(l),l.flags|=1,us(o,l,g,S),l.child)}function S2(o,l,f,g,S){if(o===null){var A=f.type;return typeof A=="function"&&!i0(A)&&A.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=A,x2(o,l,A,g,S)):(o=yp(f.type,null,g,l,l.mode,S),o.ref=l.ref,o.return=l,l.child=o)}if(A=o.child,(o.lanes&S)===0){var $=A.memoizedProps;if(f=f.compare,f=f!==null?f:Wo,f($,g)&&o.ref===l.ref)return Sl(o,l,S)}return l.flags|=1,o=xu(A,g),o.ref=l.ref,o.return=l,l.child=o}function x2(o,l,f,g,S){if(o!==null){var A=o.memoizedProps;if(Wo(A,g)&&o.ref===l.ref)if(Cs=!1,l.pendingProps=g=A,(o.lanes&S)!==0)(o.flags&131072)!==0&&(Cs=!0);else return l.lanes=o.lanes,Sl(o,l,S)}return jg(o,l,f,g,S)}function T2(o,l,f){var g=l.pendingProps,S=g.children,A=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},On(fh,eo),eo|=f;else{if((f&1073741824)===0)return o=A!==null?A.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,On(fh,eo),eo|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:f,On(fh,eo),eo|=g}else A!==null?(g=A.baseLanes|f,l.memoizedState=null):g=f,On(fh,eo),eo|=g;return us(o,l,S,f),l.child}function A2(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function jg(o,l,f,g,S){var A=Mi(f)?yl:$r.current;return A=hu(l,A),tr(l,S),f=pc(o,l,f,g,A,S),g=Io(),o!==null&&!Cs?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Sl(o,l,S)):(Ve&&g&&Me(l),l.flags|=1,us(o,l,f,S),l.child)}function E2(o,l,f,g,S){if(Mi(f)){var A=!0;vl(l)}else A=!1;if(tr(l,S),l.stateNode===null)op(o,l),p2(l,f,g),Dg(l,f,g,S),g=!0;else if(o===null){var $=l.stateNode,ae=l.memoizedProps;$.props=ae;var pe=$.context,Oe=f.contextType;typeof Oe=="object"&&Oe!==null?Oe=_r(Oe):(Oe=Mi(f)?yl:$r.current,Oe=hu(l,Oe));var rt=f.getDerivedStateFromProps,st=typeof rt=="function"||typeof $.getSnapshotBeforeUpdate=="function";st||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ae!==g||pe!==Oe)&&m2(l,$,g,Oe),To=!1;var tt=l.memoizedState;$.state=tt,Zo(l,g,$,S),pe=l.memoizedState,ae!==g||tt!==pe||Oi.current||To?(typeof rt=="function"&&(Rg(l,f,rt,g),pe=l.memoizedState),(ae=To||d2(l,f,ae,g,tt,pe,Oe))?(st||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=pe),$.props=g,$.state=pe,$.context=Oe,g=ae):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{$=l.stateNode,gf(o,l),ae=l.memoizedProps,Oe=l.type===l.elementType?ae:ra(l.type,ae),$.props=Oe,st=l.pendingProps,tt=$.context,pe=f.contextType,typeof pe=="object"&&pe!==null?pe=_r(pe):(pe=Mi(f)?yl:$r.current,pe=hu(l,pe));var St=f.getDerivedStateFromProps;(rt=typeof St=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ae!==st||tt!==pe)&&m2(l,$,g,pe),To=!1,tt=l.memoizedState,$.state=tt,Zo(l,g,$,S);var It=l.memoizedState;ae!==st||tt!==It||Oi.current||To?(typeof St=="function"&&(Rg(l,f,St,g),It=l.memoizedState),(Oe=To||d2(l,f,Oe,g,tt,It,pe)||!1)?(rt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,It,pe),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,It,pe)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||ae===o.memoizedProps&&tt===o.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&tt===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=It),$.props=g,$.state=It,$.context=pe,g=Oe):(typeof $.componentDidUpdate!="function"||ae===o.memoizedProps&&tt===o.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&tt===o.memoizedState||(l.flags|=1024),g=!1)}return Fg(o,l,f,g,A,S)}function Fg(o,l,f,g,S,A){A2(o,l);var $=(l.flags&128)!==0;if(!g&&!$)return S&&Xd(l,f,!1),Sl(o,l,A);g=l.stateNode,iE.current=l;var ae=$&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&$?(l.child=Ar(l,o.child,null,A),l.child=Ar(l,null,ae,A)):us(o,l,ae,A),l.memoizedState=g.state,S&&Xd(l,f,!0),l.child}function I2(o){var l=o.stateNode;l.pendingContext?Qd(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Qd(o,l.context,!1),pu(o,l.containerInfo)}function P2(o,l,f,g,S){return tn(),Ln(S),l.flags|=256,us(o,l,f,g),l.child}var Vg={dehydrated:null,treeContext:null,retryLane:0};function Bg(o){return{baseLanes:o,cachePool:null,transitions:null}}function C2(o,l,f){var g=l.pendingProps,S=Hn.current,A=!1,$=(l.flags&128)!==0,ae;if((ae=$)||(ae=o!==null&&o.memoizedState===null?!1:(S&2)!==0),ae?(A=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(S|=1),On(Hn,S&1),o===null)return yt(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=g.children,o=g.fallback,A?(g=l.mode,A=l.child,$={mode:"hidden",children:$},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=$):A=vp($,g,0,null),o=bc(o,g,f,null),A.return=l,o.return=l,A.sibling=o,l.child=A,l.child.memoizedState=Bg(f),l.memoizedState=Vg,o):Ug(l,$));if(S=o.memoizedState,S!==null&&(ae=S.dehydrated,ae!==null))return sE(o,l,$,g,ae,S,f);if(A){A=g.fallback,$=l.mode,S=o.child,ae=S.sibling;var pe={mode:"hidden",children:g.children};return($&1)===0&&l.child!==S?(g=l.child,g.childLanes=0,g.pendingProps=pe,l.deletions=null):(g=xu(S,pe),g.subtreeFlags=S.subtreeFlags&14680064),ae!==null?A=xu(ae,A):(A=bc(A,$,f,null),A.flags|=2),A.return=l,g.return=l,g.sibling=A,l.child=g,g=A,A=l.child,$=o.child.memoizedState,$=$===null?Bg(f):{baseLanes:$.baseLanes|f,cachePool:null,transitions:$.transitions},A.memoizedState=$,A.childLanes=o.childLanes&~f,l.memoizedState=Vg,g}return A=o.child,o=A.sibling,g=xu(A,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=g,l.memoizedState=null,g}function Ug(o,l){return l=vp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function sp(o,l,f,g){return g!==null&&Ln(g),Ar(l,o.child,null,f),o=Ug(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function sE(o,l,f,g,S,A,$){if(f)return l.flags&256?(l.flags&=-257,g=Og(Error(t(422))),sp(o,l,$,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(A=g.fallback,S=l.mode,g=vp({mode:"visible",children:g.children},S,0,null),A=bc(A,S,$,null),A.flags|=2,g.return=l,A.return=l,g.sibling=A,l.child=g,(l.mode&1)!==0&&Ar(l,o.child,null,$),l.child.memoizedState=Bg($),l.memoizedState=Vg,A);if((l.mode&1)===0)return sp(o,l,$,null);if(S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var ae=g.dgst;return g=ae,A=Error(t(419)),g=Og(A,g,void 0),sp(o,l,$,g)}if(ae=($&o.childLanes)!==0,Cs||ae){if(g=li,g!==null){switch($&-$){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(g.suspendedLanes|$))!==0?0:S,S!==0&&S!==A.retryLane&&(A.retryLane=S,Tn(o,S),oa(g,o,S,-1))}return r0(),g=Og(Error(t(421))),sp(o,l,$,g)}return S.data==="$?"?(l.flags|=128,l.child=o.child,l=vE.bind(null,o),S._reactRetry=l,null):(o=A.treeContext,Be=_i(S.nextSibling),ge=l,Ve=!0,Ue=null,o!==null&&(Q[J++]=Ie,Q[J++]=Pe,Q[J++]=fe,Ie=o.id,Pe=o.overflow,fe=l),l=Ug(l,g.children),l.flags|=4096,l)}function N2(o,l,f){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),As(o.return,l,f)}function zg(o,l,f,g,S){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:S}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=f,A.tailMode=S)}function k2(o,l,f){var g=l.pendingProps,S=g.revealOrder,A=g.tail;if(us(o,l,g.children,f),g=Hn.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&N2(o,f,l);else if(o.tag===19)N2(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(On(Hn,g),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(f=l.child,S=null;f!==null;)o=f.alternate,o!==null&&Xs(o)===null&&(S=f),f=f.sibling;f=S,f===null?(S=l.child,l.child=null):(S=f.sibling,f.sibling=null),zg(l,!1,S,f,A);break;case"backwards":for(f=null,S=l.child,l.child=null;S!==null;){if(o=S.alternate,o!==null&&Xs(o)===null){l.child=S;break}o=S.sibling,S.sibling=f,f=S,S=o}zg(l,!0,f,null,A);break;case"together":zg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function op(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Sl(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),yc|=l.lanes,(f&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,f=xu(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=xu(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function oE(o,l,f){switch(l.tag){case 3:I2(l),tn();break;case 5:Jd(l);break;case 1:Mi(l.type)&&vl(l);break;case 4:pu(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,S=l.memoizedProps.value;On(oi,g._currentValue),g._currentValue=S;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(On(Hn,Hn.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?C2(o,l,f):(On(Hn,Hn.current&1),o=Sl(o,l,f),o!==null?o.sibling:null);On(Hn,Hn.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(o.flags&128)!==0){if(g)return k2(o,l,f);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),On(Hn,Hn.current),g)break;return null;case 22:case 23:return l.lanes=0,T2(o,l,f)}return Sl(o,l,f)}var L2,qg,R2,D2;L2=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},qg=function(){},R2=function(o,l,f,g){var S=o.memoizedProps;if(S!==g){o=l.stateNode,ea(os.current);var A=null;switch(f){case"input":S=Nt(o,S),g=Nt(o,g),A=[];break;case"select":S=ye({},S,{value:void 0}),g=ye({},g,{value:void 0}),A=[];break;case"textarea":S=ct(o,S),g=ct(o,g),A=[];break;default:typeof S.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=lu)}_n(f,g);var $;f=null;for(Oe in S)if(!g.hasOwnProperty(Oe)&&S.hasOwnProperty(Oe)&&S[Oe]!=null)if(Oe==="style"){var ae=S[Oe];for($ in ae)ae.hasOwnProperty($)&&(f||(f={}),f[$]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(i.hasOwnProperty(Oe)?A||(A=[]):(A=A||[]).push(Oe,null));for(Oe in g){var pe=g[Oe];if(ae=S!=null?S[Oe]:void 0,g.hasOwnProperty(Oe)&&pe!==ae&&(pe!=null||ae!=null))if(Oe==="style")if(ae){for($ in ae)!ae.hasOwnProperty($)||pe&&pe.hasOwnProperty($)||(f||(f={}),f[$]="");for($ in pe)pe.hasOwnProperty($)&&ae[$]!==pe[$]&&(f||(f={}),f[$]=pe[$])}else f||(A||(A=[]),A.push(Oe,f)),f=pe;else Oe==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,ae=ae?ae.__html:void 0,pe!=null&&ae!==pe&&(A=A||[]).push(Oe,pe)):Oe==="children"?typeof pe!="string"&&typeof pe!="number"||(A=A||[]).push(Oe,""+pe):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Oe)?(pe!=null&&Oe==="onScroll"&&Un("scroll",o),A||ae===pe||(A=[])):(A=A||[]).push(Oe,pe))}f&&(A=A||[]).push("style",f);var Oe=A;(l.updateQueue=Oe)&&(l.flags|=4)}},D2=function(o,l,f,g){f!==g&&(l.flags|=4)};function Sf(o,l){if(!Ve)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Fi(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(l)for(var S=o.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags&14680064,g|=S.flags&14680064,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=g,o.childLanes=f,l}function aE(o,l,f){var g=l.pendingProps;switch(me(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(l),null;case 1:return Mi(l.type)&&Zc(),Fi(l),null;case 3:return g=l.stateNode,Ao(),kn(Oi),kn($r),wf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(gn(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ue!==null&&(e0(Ue),Ue=null))),qg(o,l),Fi(l),null;case 5:yf(l);var S=ea(Ra.current);if(f=l.type,o!==null&&l.stateNode!=null)R2(o,l,f,g,S),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(t(166));return Fi(l),null}if(o=ea(os.current),gn(l)){g=l.stateNode,f=l.type;var A=l.memoizedProps;switch(g[xo]=l,g[uu]=A,o=(l.mode&1)!==0,f){case"dialog":Un("cancel",g),Un("close",g);break;case"iframe":case"object":case"embed":Un("load",g);break;case"video":case"audio":for(S=0;S<Ca.length;S++)Un(Ca[S],g);break;case"source":Un("error",g);break;case"img":case"image":case"link":Un("error",g),Un("load",g);break;case"details":Un("toggle",g);break;case"input":je(g,A),Un("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},Un("invalid",g);break;case"textarea":Ce(g,A),Un("invalid",g)}_n(f,A),S=null;for(var $ in A)if(A.hasOwnProperty($)){var ae=A[$];$==="children"?typeof ae=="string"?g.textContent!==ae&&(A.suppressHydrationWarning!==!0&&Jc(g.textContent,ae,o),S=["children",ae]):typeof ae=="number"&&g.textContent!==""+ae&&(A.suppressHydrationWarning!==!0&&Jc(g.textContent,ae,o),S=["children",""+ae]):i.hasOwnProperty($)&&ae!=null&&$==="onScroll"&&Un("scroll",g)}switch(f){case"input":Ye(g),xt(g,A,!0);break;case"textarea":Ye(g),ot(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=lu)}g=S,l.updateQueue=g,g!==null&&(l.flags|=4)}else{$=S.nodeType===9?S:S.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=He(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=$.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=$.createElement(f,{is:g.is}):(o=$.createElement(f),f==="select"&&($=o,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):o=$.createElementNS(o,f),o[xo]=l,o[uu]=g,L2(o,l,!1,!1),l.stateNode=o;e:{switch($=Xr(f,g),f){case"dialog":Un("cancel",o),Un("close",o),S=g;break;case"iframe":case"object":case"embed":Un("load",o),S=g;break;case"video":case"audio":for(S=0;S<Ca.length;S++)Un(Ca[S],o);S=g;break;case"source":Un("error",o),S=g;break;case"img":case"image":case"link":Un("error",o),Un("load",o),S=g;break;case"details":Un("toggle",o),S=g;break;case"input":je(o,g),S=Nt(o,g),Un("invalid",o);break;case"option":S=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},S=ye({},g,{value:void 0}),Un("invalid",o);break;case"textarea":Ce(o,g),S=ct(o,g),Un("invalid",o);break;default:S=g}_n(f,S),ae=S;for(A in ae)if(ae.hasOwnProperty(A)){var pe=ae[A];A==="style"?jr(o,pe):A==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&bt(o,pe)):A==="children"?typeof pe=="string"?(f!=="textarea"||pe!=="")&&Ft(o,pe):typeof pe=="number"&&Ft(o,""+pe):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?pe!=null&&A==="onScroll"&&Un("scroll",o):pe!=null&&q(o,A,pe,$))}switch(f){case"input":Ye(o),xt(o,g,!1);break;case"textarea":Ye(o),ot(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Ae(g.value));break;case"select":o.multiple=!!g.multiple,A=g.value,A!=null?ht(o,!!g.multiple,A,!1):g.defaultValue!=null&&ht(o,!!g.multiple,g.defaultValue,!0);break;default:typeof S.onClick=="function"&&(o.onclick=lu)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Fi(l),null;case 6:if(o&&l.stateNode!=null)D2(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(t(166));if(f=ea(Ra.current),ea(os.current),gn(l)){if(g=l.stateNode,f=l.memoizedProps,g[xo]=l,(A=g.nodeValue!==f)&&(o=ge,o!==null))switch(o.tag){case 3:Jc(g.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Jc(g.nodeValue,f,(o.mode&1)!==0)}A&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[xo]=l,l.stateNode=g}return Fi(l),null;case 13:if(kn(Hn),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ve&&Be!==null&&(l.mode&1)!==0&&(l.flags&128)===0)cn(),tn(),l.flags|=98560,A=!1;else if(A=gn(l),g!==null&&g.dehydrated!==null){if(o===null){if(!A)throw Error(t(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));A[xo]=l}else tn(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Fi(l),A=!1}else Ue!==null&&(e0(Ue),Ue=null),A=!0;if(!A)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Hn.current&1)!==0?Gr===0&&(Gr=3):r0())),l.updateQueue!==null&&(l.flags|=4),Fi(l),null);case 4:return Ao(),qg(o,l),o===null&&dl(l.stateNode.containerInfo),Fi(l),null;case 10:return ji(l.type._context),Fi(l),null;case 17:return Mi(l.type)&&Zc(),Fi(l),null;case 19:if(kn(Hn),A=l.memoizedState,A===null)return Fi(l),null;if(g=(l.flags&128)!==0,$=A.rendering,$===null)if(g)Sf(A,!1);else{if(Gr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if($=Xs(o),$!==null){for(l.flags|=128,Sf(A,!1),g=$.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)A=f,o=g,A.flags&=14680066,$=A.alternate,$===null?(A.childLanes=0,A.lanes=o,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=$.childLanes,A.lanes=$.lanes,A.child=$.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=$.memoizedProps,A.memoizedState=$.memoizedState,A.updateQueue=$.updateQueue,A.type=$.type,o=$.dependencies,A.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return On(Hn,Hn.current&1|2),l.child}o=o.sibling}A.tail!==null&&Dn()>dh&&(l.flags|=128,g=!0,Sf(A,!1),l.lanes=4194304)}else{if(!g)if(o=Xs($),o!==null){if(l.flags|=128,g=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Sf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!$.alternate&&!Ve)return Fi(l),null}else 2*Dn()-A.renderingStartTime>dh&&f!==1073741824&&(l.flags|=128,g=!0,Sf(A,!1),l.lanes=4194304);A.isBackwards?($.sibling=l.child,l.child=$):(f=A.last,f!==null?f.sibling=$:l.child=$,A.last=$)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=Dn(),l.sibling=null,f=Hn.current,On(Hn,g?f&1|2:f&1),l):(Fi(l),null);case 22:case 23:return n0(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(eo&1073741824)!==0&&(Fi(l),l.subtreeFlags&6&&(l.flags|=8192)):Fi(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function lE(o,l){switch(me(l),l.tag){case 1:return Mi(l.type)&&Zc(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ao(),kn(Oi),kn($r),wf(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return yf(l),null;case 13:if(kn(Hn),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));tn()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return kn(Hn),null;case 4:return Ao(),null;case 10:return ji(l.type._context),null;case 22:case 23:return n0(),null;case 24:return null;default:return null}}var ap=!1,Vi=!1,uE=typeof WeakSet=="function"?WeakSet:Set,Et=null;function hh(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){Sr(o,l,g)}else f.current=null}function Hg(o,l,f){try{f()}catch(g){Sr(o,l,g)}}var O2=!1;function cE(o,l){if(hc=po,o=ic(),ul(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var $=0,ae=-1,pe=-1,Oe=0,rt=0,st=o,tt=null;t:for(;;){for(var St;st!==f||S!==0&&st.nodeType!==3||(ae=$+S),st!==A||g!==0&&st.nodeType!==3||(pe=$+g),st.nodeType===3&&($+=st.nodeValue.length),(St=st.firstChild)!==null;)tt=st,st=St;for(;;){if(st===o)break t;if(tt===f&&++Oe===S&&(ae=$),tt===A&&++rt===g&&(pe=$),(St=st.nextSibling)!==null)break;st=tt,tt=st.parentNode}st=St}f=ae===-1||pe===-1?null:{start:ae,end:pe}}else f=null}f=f||{start:0,end:0}}else f=null;for(ml={focusedElem:o,selectionRange:f},po=!1,Et=l;Et!==null;)if(l=Et,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Et=o;else for(;Et!==null;){l=Et;try{var It=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var kt=It.memoizedProps,Pr=It.memoizedState,ke=l.stateNode,we=ke.getSnapshotBeforeUpdate(l.elementType===l.type?kt:ra(l.type,kt),Pr);ke.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var De=l.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ut){Sr(l,l.return,ut)}if(o=l.sibling,o!==null){o.return=l.return,Et=o;break}Et=l.return}return It=O2,O2=!1,It}function xf(o,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&o)===o){var A=S.destroy;S.destroy=void 0,A!==void 0&&Hg(l,f,A)}S=S.next}while(S!==g)}}function lp(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function $g(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function M2(o){var l=o.alternate;l!==null&&(o.alternate=null,M2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[xo],delete l[uu],delete l[Di],delete l[Cg],delete l[Ng])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function j2(o){return o.tag===5||o.tag===3||o.tag===4}function F2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||j2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wg(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=lu));else if(g!==4&&(o=o.child,o!==null))for(Wg(o,l,f),o=o.sibling;o!==null;)Wg(o,l,f),o=o.sibling}function Gg(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(Gg(o,l,f),o=o.sibling;o!==null;)Gg(o,l,f),o=o.sibling}var Si=null,ia=!1;function vu(o,l,f){for(f=f.child;f!==null;)V2(o,l,f),f=f.sibling}function V2(o,l,f){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(ao,f)}catch{}switch(f.tag){case 5:Vi||hh(f,l);case 6:var g=Si,S=ia;Si=null,vu(o,l,f),Si=g,ia=S,Si!==null&&(ia?(o=Si,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Si.removeChild(f.stateNode));break;case 18:Si!==null&&(ia?(o=Si,f=f.stateNode,o.nodeType===8?df(o.parentNode,f):o.nodeType===1&&df(o,f),zr(o)):df(Si,f.stateNode));break;case 4:g=Si,S=ia,Si=f.stateNode.containerInfo,ia=!0,vu(o,l,f),Si=g,ia=S;break;case 0:case 11:case 14:case 15:if(!Vi&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){S=g=g.next;do{var A=S,$=A.destroy;A=A.tag,$!==void 0&&((A&2)!==0||(A&4)!==0)&&Hg(f,l,$),S=S.next}while(S!==g)}vu(o,l,f);break;case 1:if(!Vi&&(hh(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(ae){Sr(f,l,ae)}vu(o,l,f);break;case 21:vu(o,l,f);break;case 22:f.mode&1?(Vi=(g=Vi)||f.memoizedState!==null,vu(o,l,f),Vi=g):vu(o,l,f);break;default:vu(o,l,f)}}function B2(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new uE),l.forEach(function(g){var S=wE.bind(null,o,g);f.has(g)||(f.add(g),g.then(S,S))})}}function sa(o,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var S=f[g];try{var A=o,$=l,ae=$;e:for(;ae!==null;){switch(ae.tag){case 5:Si=ae.stateNode,ia=!1;break e;case 3:Si=ae.stateNode.containerInfo,ia=!0;break e;case 4:Si=ae.stateNode.containerInfo,ia=!0;break e}ae=ae.return}if(Si===null)throw Error(t(160));V2(A,$,S),Si=null,ia=!1;var pe=S.alternate;pe!==null&&(pe.return=null),S.return=null}catch(Oe){Sr(S,l,Oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)U2(l,o),l=l.sibling}function U2(o,l){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(sa(l,o),Oa(o),g&4){try{xf(3,o,o.return),lp(3,o)}catch(kt){Sr(o,o.return,kt)}try{xf(5,o,o.return)}catch(kt){Sr(o,o.return,kt)}}break;case 1:sa(l,o),Oa(o),g&512&&f!==null&&hh(f,f.return);break;case 5:if(sa(l,o),Oa(o),g&512&&f!==null&&hh(f,f.return),o.flags&32){var S=o.stateNode;try{Ft(S,"")}catch(kt){Sr(o,o.return,kt)}}if(g&4&&(S=o.stateNode,S!=null)){var A=o.memoizedProps,$=f!==null?f.memoizedProps:A,ae=o.type,pe=o.updateQueue;if(o.updateQueue=null,pe!==null)try{ae==="input"&&A.type==="radio"&&A.name!=null&&le(S,A),Xr(ae,$);var Oe=Xr(ae,A);for($=0;$<pe.length;$+=2){var rt=pe[$],st=pe[$+1];rt==="style"?jr(S,st):rt==="dangerouslySetInnerHTML"?bt(S,st):rt==="children"?Ft(S,st):q(S,rt,st,Oe)}switch(ae){case"input":jt(S,A);break;case"textarea":We(S,A);break;case"select":var tt=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!A.multiple;var St=A.value;St!=null?ht(S,!!A.multiple,St,!1):tt!==!!A.multiple&&(A.defaultValue!=null?ht(S,!!A.multiple,A.defaultValue,!0):ht(S,!!A.multiple,A.multiple?[]:"",!1))}S[uu]=A}catch(kt){Sr(o,o.return,kt)}}break;case 6:if(sa(l,o),Oa(o),g&4){if(o.stateNode===null)throw Error(t(162));S=o.stateNode,A=o.memoizedProps;try{S.nodeValue=A}catch(kt){Sr(o,o.return,kt)}}break;case 3:if(sa(l,o),Oa(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{zr(l.containerInfo)}catch(kt){Sr(o,o.return,kt)}break;case 4:sa(l,o),Oa(o);break;case 13:sa(l,o),Oa(o),S=o.child,S.flags&8192&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(Qg=Dn())),g&4&&B2(o);break;case 22:if(rt=f!==null&&f.memoizedState!==null,o.mode&1?(Vi=(Oe=Vi)||rt,sa(l,o),Vi=Oe):sa(l,o),Oa(o),g&8192){if(Oe=o.memoizedState!==null,(o.stateNode.isHidden=Oe)&&!rt&&(o.mode&1)!==0)for(Et=o,rt=o.child;rt!==null;){for(st=Et=rt;Et!==null;){switch(tt=Et,St=tt.child,tt.tag){case 0:case 11:case 14:case 15:xf(4,tt,tt.return);break;case 1:hh(tt,tt.return);var It=tt.stateNode;if(typeof It.componentWillUnmount=="function"){g=tt,f=tt.return;try{l=g,It.props=l.memoizedProps,It.state=l.memoizedState,It.componentWillUnmount()}catch(kt){Sr(g,f,kt)}}break;case 5:hh(tt,tt.return);break;case 22:if(tt.memoizedState!==null){H2(st);continue}}St!==null?(St.return=tt,Et=St):H2(st)}rt=rt.sibling}e:for(rt=null,st=o;;){if(st.tag===5){if(rt===null){rt=st;try{S=st.stateNode,Oe?(A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ae=st.stateNode,pe=st.memoizedProps.style,$=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,ae.style.display=nn("display",$))}catch(kt){Sr(o,o.return,kt)}}}else if(st.tag===6){if(rt===null)try{st.stateNode.nodeValue=Oe?"":st.memoizedProps}catch(kt){Sr(o,o.return,kt)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===o)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===o)break e;for(;st.sibling===null;){if(st.return===null||st.return===o)break e;rt===st&&(rt=null),st=st.return}rt===st&&(rt=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:sa(l,o),Oa(o),g&4&&B2(o);break;case 21:break;default:sa(l,o),Oa(o)}}function Oa(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(j2(f)){var g=f;break e}f=f.return}throw Error(t(160))}switch(g.tag){case 5:var S=g.stateNode;g.flags&32&&(Ft(S,""),g.flags&=-33);var A=F2(o);Gg(o,A,S);break;case 3:case 4:var $=g.stateNode.containerInfo,ae=F2(o);Wg(o,ae,$);break;default:throw Error(t(161))}}catch(pe){Sr(o,o.return,pe)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function hE(o,l,f){Et=o,z2(o)}function z2(o,l,f){for(var g=(o.mode&1)!==0;Et!==null;){var S=Et,A=S.child;if(S.tag===22&&g){var $=S.memoizedState!==null||ap;if(!$){var ae=S.alternate,pe=ae!==null&&ae.memoizedState!==null||Vi;ae=ap;var Oe=Vi;if(ap=$,(Vi=pe)&&!Oe)for(Et=S;Et!==null;)$=Et,pe=$.child,$.tag===22&&$.memoizedState!==null?$2(S):pe!==null?(pe.return=$,Et=pe):$2(S);for(;A!==null;)Et=A,z2(A),A=A.sibling;Et=S,ap=ae,Vi=Oe}q2(o)}else(S.subtreeFlags&8772)!==0&&A!==null?(A.return=S,Et=A):q2(o)}}function q2(o){for(;Et!==null;){var l=Et;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Vi||lp(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Vi)if(f===null)g.componentDidMount();else{var S=l.elementType===l.type?f.memoizedProps:ra(l.type,f.memoizedProps);g.componentDidUpdate(S,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&_l(l,A,g);break;case 3:var $=l.updateQueue;if($!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}_l(l,$,f)}break;case 5:var ae=l.stateNode;if(f===null&&l.flags&4){f=ae;var pe=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&f.focus();break;case"img":pe.src&&(f.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Oe=l.alternate;if(Oe!==null){var rt=Oe.memoizedState;if(rt!==null){var st=rt.dehydrated;st!==null&&zr(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vi||l.flags&512&&$g(l)}catch(tt){Sr(l,l.return,tt)}}if(l===o){Et=null;break}if(f=l.sibling,f!==null){f.return=l.return,Et=f;break}Et=l.return}}function H2(o){for(;Et!==null;){var l=Et;if(l===o){Et=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Et=f;break}Et=l.return}}function $2(o){for(;Et!==null;){var l=Et;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{lp(4,l)}catch(pe){Sr(l,f,pe)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var S=l.return;try{g.componentDidMount()}catch(pe){Sr(l,S,pe)}}var A=l.return;try{$g(l)}catch(pe){Sr(l,A,pe)}break;case 5:var $=l.return;try{$g(l)}catch(pe){Sr(l,$,pe)}}}catch(pe){Sr(l,l.return,pe)}if(l===o){Et=null;break}var ae=l.sibling;if(ae!==null){ae.return=l.return,Et=ae;break}Et=l.return}}var fE=Math.ceil,up=ee.ReactCurrentDispatcher,Kg=ee.ReactCurrentOwner,Po=ee.ReactCurrentBatchConfig,wn=0,li=null,Dr=null,xi=0,eo=0,fh=Qs(0),Gr=0,Tf=null,yc=0,cp=0,Yg=0,Af=null,Ns=null,Qg=0,dh=1/0,xl=null,hp=!1,Xg=null,wu=null,fp=!1,_u=null,dp=0,Ef=0,Jg=null,pp=-1,mp=0;function cs(){return(wn&6)!==0?Dn():pp!==-1?pp:pp=Dn()}function bu(o){return(o.mode&1)===0?1:(wn&2)!==0&&xi!==0?xi&-xi:Mn.transition!==null?(mp===0&&(mp=co()),mp):(o=sn,o!==0||(o=window.event,o=o===void 0?16:Sa(o.type)),o)}function oa(o,l,f,g){if(50<Ef)throw Ef=0,Jg=null,Error(t(185));zs(o,f,g),((wn&2)===0||o!==li)&&(o===li&&((wn&2)===0&&(cp|=f),Gr===4&&Su(o,xi)),ks(o,g),f===1&&wn===0&&(l.mode&1)===0&&(dh=Dn()+500,dc&&P()))}function ks(o,l){var f=o.callbackNode;or(o,l);var g=Vr(o,o===li?xi:0);if(g===0)f!==null&&oo(f),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(f!=null&&oo(f),l===1)o.tag===0?x(G2.bind(null,o)):v(G2.bind(null,o)),Ig(function(){(wn&6)===0&&P()}),f=null;else{switch(gs(g)){case 1:f=ms;break;case 4:f=Us;break;case 16:f=Ci;break;case 536870912:f=$l;break;default:f=Ci}f=t5(f,W2.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function W2(o,l){if(pp=-1,mp=0,(wn&6)!==0)throw Error(t(327));var f=o.callbackNode;if(ph()&&o.callbackNode!==f)return null;var g=Vr(o,o===li?xi:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=gp(o,g);else{l=g;var S=wn;wn|=2;var A=Y2();(li!==o||xi!==l)&&(xl=null,dh=Dn()+500,wc(o,l));do try{mE();break}catch(ae){K2(o,ae)}while(!0);Wr(),up.current=A,wn=S,Dr!==null?l=0:(li=null,xi=0,l=Gr)}if(l!==0){if(l===2&&(S=Br(o),S!==0&&(g=S,l=Zg(o,S))),l===1)throw f=Tf,wc(o,0),Su(o,g),ks(o,Dn()),f;if(l===6)Su(o,g);else{if(S=o.current.alternate,(g&30)===0&&!dE(S)&&(l=gp(o,g),l===2&&(A=Br(o),A!==0&&(g=A,l=Zg(o,A))),l===1))throw f=Tf,wc(o,0),Su(o,g),ks(o,Dn()),f;switch(o.finishedWork=S,o.finishedLanes=g,l){case 0:case 1:throw Error(t(345));case 2:_c(o,Ns,xl);break;case 3:if(Su(o,g),(g&130023424)===g&&(l=Qg+500-Dn(),10<l)){if(Vr(o,0)!==0)break;if(S=o.suspendedLanes,(S&g)!==g){cs(),o.pingedLanes|=o.suspendedLanes&S;break}o.timeoutHandle=ff(_c.bind(null,o,Ns,xl),l);break}_c(o,Ns,xl);break;case 4:if(Su(o,g),(g&4194240)===g)break;for(l=o.eventTimes,S=-1;0<g;){var $=31-Fr(g);A=1<<$,$=l[$],$>S&&(S=$),g&=~A}if(g=S,g=Dn()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*fE(g/1960))-g,10<g){o.timeoutHandle=ff(_c.bind(null,o,Ns,xl),g);break}_c(o,Ns,xl);break;case 5:_c(o,Ns,xl);break;default:throw Error(t(329))}}}return ks(o,Dn()),o.callbackNode===f?W2.bind(null,o):null}function Zg(o,l){var f=Af;return o.current.memoizedState.isDehydrated&&(wc(o,l).flags|=256),o=gp(o,l),o!==2&&(l=Ns,Ns=f,l!==null&&e0(l)),o}function e0(o){Ns===null?Ns=o:Ns.push.apply(Ns,o)}function dE(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var S=f[g],A=S.getSnapshot;S=S.value;try{if(!vn(A(),S))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Su(o,l){for(l&=~Yg,l&=~cp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-Fr(l),g=1<<f;o[f]=-1,l&=~g}}function G2(o){if((wn&6)!==0)throw Error(t(327));ph();var l=Vr(o,0);if((l&1)===0)return ks(o,Dn()),null;var f=gp(o,l);if(o.tag!==0&&f===2){var g=Br(o);g!==0&&(l=g,f=Zg(o,g))}if(f===1)throw f=Tf,wc(o,0),Su(o,l),ks(o,Dn()),f;if(f===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,_c(o,Ns,xl),ks(o,Dn()),null}function t0(o,l){var f=wn;wn|=1;try{return o(l)}finally{wn=f,wn===0&&(dh=Dn()+500,dc&&P())}}function vc(o){_u!==null&&_u.tag===0&&(wn&6)===0&&ph();var l=wn;wn|=1;var f=Po.transition,g=sn;try{if(Po.transition=null,sn=1,o)return o()}finally{sn=g,Po.transition=f,wn=l,(wn&6)===0&&P()}}function n0(){eo=fh.current,kn(fh)}function wc(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,Kd(f)),Dr!==null)for(f=Dr.return;f!==null;){var g=f;switch(me(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Zc();break;case 3:Ao(),kn(Oi),kn($r),wf();break;case 5:yf(g);break;case 4:Ao();break;case 13:kn(Hn);break;case 19:kn(Hn);break;case 10:ji(g.type._context);break;case 22:case 23:n0()}f=f.return}if(li=o,Dr=o=xu(o.current,null),xi=eo=l,Gr=0,Tf=null,Yg=cp=yc=0,Ns=Af=null,ss!==null){for(l=0;l<ss.length;l++)if(f=ss[l],g=f.interleaved,g!==null){f.interleaved=null;var S=g.next,A=f.pending;if(A!==null){var $=A.next;A.next=S,g.next=$}f.pending=g}ss=null}return o}function K2(o,l){do{var f=Dr;try{if(Wr(),th.current=rp,mu){for(var g=Yn.memoizedState;g!==null;){var S=g.queue;S!==null&&(S.pending=null),g=g.next}mu=!1}if(Eo=0,dr=br=Yn=null,ta=!1,gu=0,Kg.current=null,f===null||f.return===null){Gr=1,Tf=l,Dr=null;break}e:{var A=o,$=f.return,ae=f,pe=l;if(l=xi,ae.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Oe=pe,rt=ae,st=rt.tag;if((rt.mode&1)===0&&(st===0||st===11||st===15)){var tt=rt.alternate;tt?(rt.updateQueue=tt.updateQueue,rt.memoizedState=tt.memoizedState,rt.lanes=tt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var St=w2($);if(St!==null){St.flags&=-257,_2(St,$,ae,A,l),St.mode&1&&v2(A,Oe,l),l=St,pe=Oe;var It=l.updateQueue;if(It===null){var kt=new Set;kt.add(pe),l.updateQueue=kt}else It.add(pe);break e}else{if((l&1)===0){v2(A,Oe,l),r0();break e}pe=Error(t(426))}}else if(Ve&&ae.mode&1){var Pr=w2($);if(Pr!==null){(Pr.flags&65536)===0&&(Pr.flags|=256),_2(Pr,$,ae,A,l),Ln(ch(pe,ae));break e}}A=pe=ch(pe,ae),Gr!==4&&(Gr=2),Af===null?Af=[A]:Af.push(A),A=$;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var ke=g2(A,pe,l);Ps(A,ke);break e;case 1:ae=pe;var we=A.type,De=A.stateNode;if((A.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(wu===null||!wu.has(De)))){A.flags|=65536,l&=-l,A.lanes|=l;var ut=y2(A,ae,l);Ps(A,ut);break e}}A=A.return}while(A!==null)}X2(f)}catch(Lt){l=Lt,Dr===f&&f!==null&&(Dr=f=f.return);continue}break}while(!0)}function Y2(){var o=up.current;return up.current=rp,o===null?rp:o}function r0(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),li===null||(yc&268435455)===0&&(cp&268435455)===0||Su(li,xi)}function gp(o,l){var f=wn;wn|=2;var g=Y2();(li!==o||xi!==l)&&(xl=null,wc(o,l));do try{pE();break}catch(S){K2(o,S)}while(!0);if(Wr(),wn=f,up.current=g,Dr!==null)throw Error(t(261));return li=null,xi=0,Gr}function pE(){for(;Dr!==null;)Q2(Dr)}function mE(){for(;Dr!==null&&!Do();)Q2(Dr)}function Q2(o){var l=e5(o.alternate,o,eo);o.memoizedProps=o.pendingProps,l===null?X2(o):Dr=l,Kg.current=null}function X2(o){var l=o;do{var f=l.alternate;if(o=l.return,(l.flags&32768)===0){if(f=aE(f,l,eo),f!==null){Dr=f;return}}else{if(f=lE(f,l),f!==null){f.flags&=32767,Dr=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Gr=6,Dr=null;return}}if(l=l.sibling,l!==null){Dr=l;return}Dr=l=o}while(l!==null);Gr===0&&(Gr=5)}function _c(o,l,f){var g=sn,S=Po.transition;try{Po.transition=null,sn=1,gE(o,l,f,g)}finally{Po.transition=S,sn=g}return null}function gE(o,l,f,g){do ph();while(_u!==null);if((wn&6)!==0)throw Error(t(327));f=o.finishedWork;var S=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var A=f.lanes|f.childLanes;if(Pn(o,A),o===li&&(Dr=li=null,xi=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||fp||(fp=!0,t5(Ci,function(){return ph(),null})),A=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||A){A=Po.transition,Po.transition=null;var $=sn;sn=1;var ae=wn;wn|=4,Kg.current=null,cE(o,f),U2(f,o),cl(ml),po=!!hc,ml=hc=null,o.current=f,hE(f),ql(),wn=ae,sn=$,Po.transition=A}else o.current=f;if(fp&&(fp=!1,_u=o,dp=S),A=o.pendingLanes,A===0&&(wu=null),Mo(f.stateNode),ks(o,Dn()),l!==null)for(g=o.onRecoverableError,f=0;f<l.length;f++)S=l[f],g(S.value,{componentStack:S.stack,digest:S.digest});if(hp)throw hp=!1,o=Xg,Xg=null,o;return(dp&1)!==0&&o.tag!==0&&ph(),A=o.pendingLanes,(A&1)!==0?o===Jg?Ef++:(Ef=0,Jg=o):Ef=0,P(),null}function ph(){if(_u!==null){var o=gs(dp),l=Po.transition,f=sn;try{if(Po.transition=null,sn=16>o?16:o,_u===null)var g=!1;else{if(o=_u,_u=null,dp=0,(wn&6)!==0)throw Error(t(331));var S=wn;for(wn|=4,Et=o.current;Et!==null;){var A=Et,$=A.child;if((Et.flags&16)!==0){var ae=A.deletions;if(ae!==null){for(var pe=0;pe<ae.length;pe++){var Oe=ae[pe];for(Et=Oe;Et!==null;){var rt=Et;switch(rt.tag){case 0:case 11:case 15:xf(8,rt,A)}var st=rt.child;if(st!==null)st.return=rt,Et=st;else for(;Et!==null;){rt=Et;var tt=rt.sibling,St=rt.return;if(M2(rt),rt===Oe){Et=null;break}if(tt!==null){tt.return=St,Et=tt;break}Et=St}}}var It=A.alternate;if(It!==null){var kt=It.child;if(kt!==null){It.child=null;do{var Pr=kt.sibling;kt.sibling=null,kt=Pr}while(kt!==null)}}Et=A}}if((A.subtreeFlags&2064)!==0&&$!==null)$.return=A,Et=$;else e:for(;Et!==null;){if(A=Et,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:xf(9,A,A.return)}var ke=A.sibling;if(ke!==null){ke.return=A.return,Et=ke;break e}Et=A.return}}var we=o.current;for(Et=we;Et!==null;){$=Et;var De=$.child;if(($.subtreeFlags&2064)!==0&&De!==null)De.return=$,Et=De;else e:for($=we;Et!==null;){if(ae=Et,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:lp(9,ae)}}catch(Lt){Sr(ae,ae.return,Lt)}if(ae===$){Et=null;break e}var ut=ae.sibling;if(ut!==null){ut.return=ae.return,Et=ut;break e}Et=ae.return}}if(wn=S,P(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(ao,o)}catch{}g=!0}return g}finally{sn=f,Po.transition=l}}return!1}function J2(o,l,f){l=ch(f,l),l=g2(o,l,1),o=Is(o,l,1),l=cs(),o!==null&&(zs(o,1,l),ks(o,l))}function Sr(o,l,f){if(o.tag===3)J2(o,o,f);else for(;l!==null;){if(l.tag===3){J2(l,o,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(wu===null||!wu.has(g))){o=ch(f,o),o=y2(l,o,1),l=Is(l,o,1),o=cs(),l!==null&&(zs(l,1,o),ks(l,o));break}}l=l.return}}function yE(o,l,f){var g=o.pingCache;g!==null&&g.delete(l),l=cs(),o.pingedLanes|=o.suspendedLanes&f,li===o&&(xi&f)===f&&(Gr===4||Gr===3&&(xi&130023424)===xi&&500>Dn()-Qg?wc(o,0):Yg|=f),ks(o,l)}function Z2(o,l){l===0&&((o.mode&1)===0?l=1:(l=lo,lo<<=1,(lo&130023424)===0&&(lo=4194304)));var f=cs();o=Tn(o,l),o!==null&&(zs(o,l,f),ks(o,f))}function vE(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),Z2(o,f)}function wE(o,l){var f=0;switch(o.tag){case 13:var g=o.stateNode,S=o.memoizedState;S!==null&&(f=S.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(l),Z2(o,f)}var e5;e5=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||Oi.current)Cs=!0;else{if((o.lanes&f)===0&&(l.flags&128)===0)return Cs=!1,oE(o,l,f);Cs=(o.flags&131072)!==0}else Cs=!1,Ve&&(l.flags&1048576)!==0&&qe(l,K,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;op(o,l),o=l.pendingProps;var S=hu(l,$r.current);tr(l,f),S=pc(null,l,g,o,S,f);var A=Io();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Mi(g)?(A=!0,vl(l)):A=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,eh(l),S.updater=ip,l.stateNode=S,S._reactInternals=l,Dg(l,g,o,f),l=Fg(null,l,g,!0,A,f)):(l.tag=0,Ve&&A&&Me(l),us(null,l,S,f),l=l.child),l;case 16:g=l.elementType;e:{switch(op(o,l),o=l.pendingProps,S=g._init,g=S(g._payload),l.type=g,S=l.tag=bE(g),o=ra(g,o),S){case 0:l=jg(null,l,g,o,f);break e;case 1:l=E2(null,l,g,o,f);break e;case 11:l=b2(null,l,g,o,f);break e;case 14:l=S2(null,l,g,ra(g.type,o),f);break e}throw Error(t(306,g,""))}return l;case 0:return g=l.type,S=l.pendingProps,S=l.elementType===g?S:ra(g,S),jg(o,l,g,S,f);case 1:return g=l.type,S=l.pendingProps,S=l.elementType===g?S:ra(g,S),E2(o,l,g,S,f);case 3:e:{if(I2(l),o===null)throw Error(t(387));g=l.pendingProps,A=l.memoizedState,S=A.element,gf(o,l),Zo(l,g,null,f);var $=l.memoizedState;if(g=$.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){S=ch(Error(t(423)),l),l=P2(o,l,g,f,S);break e}else if(g!==S){S=ch(Error(t(424)),l),l=P2(o,l,g,f,S);break e}else for(Be=_i(l.stateNode.containerInfo.firstChild),ge=l,Ve=!0,Ue=null,f=xn(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(tn(),g===S){l=Sl(o,l,f);break e}us(o,l,g,f)}l=l.child}return l;case 5:return Jd(l),o===null&&yt(l),g=l.type,S=l.pendingProps,A=o!==null?o.memoizedProps:null,$=S.children,hf(g,S)?$=null:A!==null&&hf(g,A)&&(l.flags|=32),A2(o,l),us(o,l,$,f),l.child;case 6:return o===null&&yt(l),null;case 13:return C2(o,l,f);case 4:return pu(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Ar(l,null,g,f):us(o,l,g,f),l.child;case 11:return g=l.type,S=l.pendingProps,S=l.elementType===g?S:ra(g,S),b2(o,l,g,S,f);case 7:return us(o,l,l.pendingProps,f),l.child;case 8:return us(o,l,l.pendingProps.children,f),l.child;case 12:return us(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,S=l.pendingProps,A=l.memoizedProps,$=S.value,On(oi,g._currentValue),g._currentValue=$,A!==null)if(vn(A.value,$)){if(A.children===S.children&&!Oi.current){l=Sl(o,l,f);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var ae=A.dependencies;if(ae!==null){$=A.child;for(var pe=ae.firstContext;pe!==null;){if(pe.context===g){if(A.tag===1){pe=Es(-1,f&-f),pe.tag=2;var Oe=A.updateQueue;if(Oe!==null){Oe=Oe.shared;var rt=Oe.pending;rt===null?pe.next=pe:(pe.next=rt.next,rt.next=pe),Oe.pending=pe}}A.lanes|=f,pe=A.alternate,pe!==null&&(pe.lanes|=f),As(A.return,f,l),ae.lanes|=f;break}pe=pe.next}}else if(A.tag===10)$=A.type===l.type?null:A.child;else if(A.tag===18){if($=A.return,$===null)throw Error(t(341));$.lanes|=f,ae=$.alternate,ae!==null&&(ae.lanes|=f),As($,f,l),$=A.sibling}else $=A.child;if($!==null)$.return=A;else for($=A;$!==null;){if($===l){$=null;break}if(A=$.sibling,A!==null){A.return=$.return,$=A;break}$=$.return}A=$}us(o,l,S.children,f),l=l.child}return l;case 9:return S=l.type,g=l.pendingProps.children,tr(l,f),S=_r(S),g=g(S),l.flags|=1,us(o,l,g,f),l.child;case 14:return g=l.type,S=ra(g,l.pendingProps),S=ra(g.type,S),S2(o,l,g,S,f);case 15:return x2(o,l,l.type,l.pendingProps,f);case 17:return g=l.type,S=l.pendingProps,S=l.elementType===g?S:ra(g,S),op(o,l),l.tag=1,Mi(g)?(o=!0,vl(l)):o=!1,tr(l,f),p2(l,g,S),Dg(l,g,S,f),Fg(null,l,g,!0,o,f);case 19:return k2(o,l,f);case 22:return T2(o,l,f)}throw Error(t(156,l.tag))};function t5(o,l){return Bs(o,l)}function _E(o,l,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Co(o,l,f,g){return new _E(o,l,f,g)}function i0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function bE(o){if(typeof o=="function")return i0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===M)return 11;if(o===Le)return 14}return 2}function xu(o,l){var f=o.alternate;return f===null?(f=Co(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function yp(o,l,f,g,S,A){var $=2;if(g=o,typeof o=="function")i0(o)&&($=1);else if(typeof o=="string")$=5;else e:switch(o){case z:return bc(f.children,S,A,l);case k:$=8,S|=8;break;case U:return o=Co(12,f,l,S|2),o.elementType=U,o.lanes=A,o;case F:return o=Co(13,f,l,S),o.elementType=F,o.lanes=A,o;case se:return o=Co(19,f,l,S),o.elementType=se,o.lanes=A,o;case Te:return vp(f,S,A,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:$=10;break e;case D:$=9;break e;case M:$=11;break e;case Le:$=14;break e;case Ne:$=16,g=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=Co($,f,l,S),l.elementType=o,l.type=g,l.lanes=A,l}function bc(o,l,f,g){return o=Co(7,o,g,l),o.lanes=f,o}function vp(o,l,f,g){return o=Co(22,o,g,l),o.elementType=Te,o.lanes=f,o.stateNode={isHidden:!1},o}function s0(o,l,f){return o=Co(6,o,null,l),o.lanes=f,o}function o0(o,l,f){return l=Co(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function SE(o,l,f,g,S){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ho(0),this.expirationTimes=ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.identifierPrefix=g,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function a0(o,l,f,g,S,A,$,ae,pe){return o=new SE(o,l,f,ae,pe),l===1?(l=1,A===!0&&(l|=8)):l=0,A=Co(3,null,null,l),o.current=A,A.stateNode=o,A.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(A),o}function xE(o,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:g==null?null:""+g,children:o,containerInfo:l,implementation:f}}function n5(o){if(!o)return ka;o=o._reactInternals;e:{if(hr(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var f=o.type;if(Mi(f))return mf(o,f,l)}return l}function r5(o,l,f,g,S,A,$,ae,pe){return o=a0(f,g,!0,o,S,A,$,ae,pe),o.context=n5(null),f=o.current,g=cs(),S=bu(f),A=Es(g,S),A.callback=l??null,Is(f,A,S),o.current.lanes=S,zs(o,S,g),ks(o,g),o}function wp(o,l,f,g){var S=l.current,A=cs(),$=bu(S);return f=n5(f),l.context===null?l.context=f:l.pendingContext=f,l=Es(A,$),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=Is(S,l,$),o!==null&&(oa(o,S,$,A),wl(o,S,$)),$}function _p(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function i5(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function l0(o,l){i5(o,l),(o=o.alternate)&&i5(o,l)}function TE(){return null}var s5=typeof reportError=="function"?reportError:function(o){console.error(o)};function u0(o){this._internalRoot=o}bp.prototype.render=u0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));wp(o,l,null,null)},bp.prototype.unmount=u0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;vc(function(){wp(null,o,null,null)}),l[si]=null}};function bp(o){this._internalRoot=o}bp.prototype.unstable_scheduleHydration=function(o){if(o){var l=ys();o={blockedOn:null,target:o,priority:l};for(var f=0;f<vs.length&&l!==0&&l<vs[f].priority;f++);vs.splice(f,0,o),f===0&&ba(o)}};function c0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Sp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function o5(){}function AE(o,l,f,g,S){if(S){if(typeof g=="function"){var A=g;g=function(){var Oe=_p($);A.call(Oe)}}var $=r5(l,g,o,0,null,!1,!1,"",o5);return o._reactRootContainer=$,o[si]=$.current,dl(o.nodeType===8?o.parentNode:o),vc(),$}for(;S=o.lastChild;)o.removeChild(S);if(typeof g=="function"){var ae=g;g=function(){var Oe=_p(pe);ae.call(Oe)}}var pe=a0(o,0,!1,null,null,!1,!1,"",o5);return o._reactRootContainer=pe,o[si]=pe.current,dl(o.nodeType===8?o.parentNode:o),vc(function(){wp(l,pe,f,g)}),pe}function xp(o,l,f,g,S){var A=f._reactRootContainer;if(A){var $=A;if(typeof S=="function"){var ae=S;S=function(){var pe=_p($);ae.call(pe)}}wp(l,$,o,S)}else $=AE(f,l,o,S,g);return _p($)}Wl=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=uo(l.pendingLanes);f!==0&&(qs(l,f|1),ks(l,Dn()),(wn&6)===0&&(dh=Dn()+500,P()))}break;case 13:vc(function(){var g=Tn(o,1);if(g!==null){var S=cs();oa(g,o,1,S)}}),l0(o,1)}},wa=function(o){if(o.tag===13){var l=Tn(o,134217728);if(l!==null){var f=cs();oa(l,o,134217728,f)}l0(o,134217728)}},Gl=function(o){if(o.tag===13){var l=bu(o),f=Tn(o,l);if(f!==null){var g=cs();oa(f,o,l,g)}l0(o,l)}},ys=function(){return sn},Fo=function(o,l){var f=sn;try{return sn=o,l()}finally{sn=f}},Qe=function(o,l,f){switch(l){case"input":if(jt(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==o&&g.form===o.form){var S=fc(g);if(!S)throw Error(t(90));ft(g),jt(g,S)}}}break;case"textarea":We(o,f);break;case"select":l=f.value,l!=null&&ht(o,!!f.multiple,l,!1)}},Rn=t0,un=vc;var EE={usingClientEntryPoint:!1,Events:[cu,gl,fc,nt,Dt,t0]},If={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IE={bundleType:If.bundleType,version:If.version,rendererPackageName:If.rendererPackageName,rendererConfig:If.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Fs(o),o===null?null:o.stateNode},findFiberByHostInstance:If.findFiberByHostInstance||TE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{ao=Tp.inject(IE),fi=Tp}catch{}}return Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EE,Ls.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c0(l))throw Error(t(200));return xE(o,l,null,f)},Ls.createRoot=function(o,l){if(!c0(o))throw Error(t(299));var f=!1,g="",S=s5;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=a0(o,1,!1,null,null,f,!1,g,S),o[si]=l.current,dl(o.nodeType===8?o.parentNode:o),new u0(l)},Ls.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Fs(l),o=o===null?null:o.stateNode,o},Ls.flushSync=function(o){return vc(o)},Ls.hydrate=function(o,l,f){if(!Sp(l))throw Error(t(200));return xp(null,o,l,!0,f)},Ls.hydrateRoot=function(o,l,f){if(!c0(o))throw Error(t(405));var g=f!=null&&f.hydratedSources||null,S=!1,A="",$=s5;if(f!=null&&(f.unstable_strictMode===!0&&(S=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onRecoverableError!==void 0&&($=f.onRecoverableError)),l=r5(l,null,o,1,f??null,S,!1,A,$),o[si]=l.current,dl(o),g)for(o=0;o<g.length;o++)f=g[o],S=f._getVersion,S=S(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,S]:l.mutableSourceEagerHydrationData.push(f,S);return new bp(l)},Ls.render=function(o,l,f){if(!Sp(l))throw Error(t(200));return xp(null,o,l,!1,f)},Ls.unmountComponentAtNode=function(o){if(!Sp(o))throw Error(t(40));return o._reactRootContainer?(vc(function(){xp(null,null,o,!1,function(){o._reactRootContainer=null,o[si]=null})}),!0):!1},Ls.unstable_batchedUpdates=t0,Ls.unstable_renderSubtreeIntoContainer=function(o,l,f,g){if(!Sp(f))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return xp(o,l,f,!1,g)},Ls.version="18.3.1-next-f1338f8080-20240426",Ls}var p5;function ME(){if(p5)return d0.exports;p5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),d0.exports=OE(),d0.exports}var m5;function jE(){if(m5)return Ap;m5=1;var n=ME();return Ap.createRoot=n.createRoot,Ap.hydrateRoot=n.hydrateRoot,Ap}var FE=jE(),Cf={},g5;function VE(){if(g5)return Cf;g5=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.parse=a,Cf.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function a(_,w){const E=new s,N=_.length;if(N<2)return E;const L=(w==null?void 0:w.decode)||m;let I=0;do{const j=_.indexOf("=",I);if(j===-1)break;const q=_.indexOf(";",I),ee=q===-1?N:q;if(j>ee){I=_.lastIndexOf(";",j-1)+1;continue}const ie=u(_,I,j),de=c(_,j,ie),z=_.slice(ie,de);if(E[z]===void 0){let k=u(_,j+1,ee),U=c(_,ee,k);const G=L(_.slice(k,U));E[z]=G}I=ee+1}while(I<N);return E}function u(_,w,E){do{const N=_.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<E);return E}function c(_,w,E){for(;w>E;){const N=_.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return E}function h(_,w,E){const N=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const L=N(w);if(!e.test(L))throw new TypeError(`argument val is invalid: ${w}`);let I=_+"="+L;if(!E)return I;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);I+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);I+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);I+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);I+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(I+="; HttpOnly"),E.secure&&(I+="; Secure"),E.partitioned&&(I+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return I}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return i.call(_)==="[object Date]"}return Cf}VE();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y5="popstate";function BE(n={}){function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return s1("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:td(i)}return zE(e,t,null,n)}function mr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ka(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UE(){return Math.random().toString(36).substring(2,10)}function v5(n,e){return{usr:n.state,key:n.key,idx:e}}function s1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zh(e):e,state:t,key:e&&e.key||r||UE()}}function td({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function zE(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u="POP",c=null,h=m();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function m(){return(a.state||{idx:null}).idx}function y(){u="POP";let L=m(),I=L==null?null:L-h;h=L,c&&c({action:u,location:N.location,delta:I})}function _(L,I){u="PUSH";let j=s1(N.location,L,I);h=m()+1;let q=v5(j,h),ee=N.createHref(j);try{a.pushState(q,"",ee)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;i.location.assign(ee)}s&&c&&c({action:u,location:N.location,delta:1})}function w(L,I){u="REPLACE";let j=s1(N.location,L,I);h=m();let q=v5(j,h),ee=N.createHref(j);a.replaceState(q,"",ee),s&&c&&c({action:u,location:N.location,delta:0})}function E(L){let I=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof L=="string"?L:td(L);return j=j.replace(/ $/,"%20"),mr(I,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,I)}let N={get action(){return u},get location(){return n(i,a)},listen(L){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(y5,y),c=L,()=>{i.removeEventListener(y5,y),c=null}},createHref(L){return e(i,L)},createURL:E,encodeLocation(L){let I=E(L);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:w,go(L){return a.go(L)}};return N}function u4(n,e,t="/"){return qE(n,e,t,!1)}function qE(n,e,t,r){let i=typeof e=="string"?Zh(e):e,s=Ll(i.pathname||"/",t);if(s==null)return null;let a=c4(n);HE(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=tI(s);u=ZE(a[c],h,r)}return u}function c4(n,e=[],t=[],r=""){let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(mr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=Cl([r,c.relativePath]),m=t.concat(c);s.children&&s.children.length>0&&(mr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),c4(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:XE(h,s.index),routesMeta:m})};return n.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of h4(s.path))i(s,a,c)}),e}function h4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=h4(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function HE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:JE(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var $E=/^:[\w-]+$/,WE=3,GE=2,KE=1,YE=10,QE=-2,w5=n=>n==="*";function XE(n,e){let t=n.split("/"),r=t.length;return t.some(w5)&&(r+=QE),e&&(r+=GE),t.filter(i=>!w5(i)).reduce((i,s)=>i+($E.test(s)?WE:s===""?KE:YE),r)}function JE(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function ZE(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",y=om({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),_=c.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=om({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),a.push({params:i,pathname:Cl([s,y.pathname]),pathnameBase:sI(Cl([s,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(s=Cl([s,y.pathnameBase]))}return a}function om(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=eI(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},_)=>{if(m==="*"){let E=u[_]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=u[_];return y&&!w?h[m]=void 0:h[m]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:n}}function eI(n,e=!1,t=!0){Ka(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ka(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ll(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function nI(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Zh(n):n;return{pathname:t?t.startsWith("/")?t:rI(t,e):e,search:oI(r),hash:aI(i)}}function rI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function g0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function f4(n){let e=iI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function d4(n,e,t,r=!1){let i;typeof n=="string"?i=Zh(n):(i={...n},mr(!i.pathname||!i.pathname.includes("?"),g0("?","pathname","search",i)),mr(!i.pathname||!i.pathname.includes("#"),g0("#","pathname","hash",i)),mr(!i.search||!i.search.includes("#"),g0("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=t;else{let y=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}u=y>=0?e[y]:"/"}let c=nI(i,u),h=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}var Cl=n=>n.join("/").replace(/\/\/+/g,"/"),sI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),oI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var p4=["POST","PUT","PATCH","DELETE"];new Set(p4);var uI=["GET",...p4];new Set(uI);var ef=re.createContext(null);ef.displayName="DataRouter";var Fm=re.createContext(null);Fm.displayName="DataRouterState";var m4=re.createContext({isTransitioning:!1});m4.displayName="ViewTransition";var cI=re.createContext(new Map);cI.displayName="Fetchers";var hI=re.createContext(null);hI.displayName="Await";var Xa=re.createContext(null);Xa.displayName="Navigation";var bd=re.createContext(null);bd.displayName="Location";var Ul=re.createContext({outlet:null,matches:[],isDataRoute:!1});Ul.displayName="Route";var _y=re.createContext(null);_y.displayName="RouteError";function fI(n,{relative:e}={}){mr(Sd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=re.useContext(Xa),{hash:i,pathname:s,search:a}=Td(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Cl([t,s])),r.createHref({pathname:u,search:a,hash:i})}function Sd(){return re.useContext(bd)!=null}function Uc(){return mr(Sd(),"useLocation() may be used only in the context of a <Router> component."),re.useContext(bd).location}var g4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y4(n){re.useContext(Xa).static||re.useLayoutEffect(n)}function xd(){let{isDataRoute:n}=re.useContext(Ul);return n?AI():dI()}function dI(){mr(Sd(),"useNavigate() may be used only in the context of a <Router> component.");let n=re.useContext(ef),{basename:e,navigator:t}=re.useContext(Xa),{matches:r}=re.useContext(Ul),{pathname:i}=Uc(),s=JSON.stringify(f4(r)),a=re.useRef(!1);return y4(()=>{a.current=!0}),re.useCallback((c,h={})=>{if(Ka(a.current,g4),!a.current)return;if(typeof c=="number"){t.go(c);return}let m=d4(c,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Cl([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,s,i,n])}re.createContext(null);function Td(n,{relative:e}={}){let{matches:t}=re.useContext(Ul),{pathname:r}=Uc(),i=JSON.stringify(f4(t));return re.useMemo(()=>d4(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function pI(n,e){return v4(n,e)}function v4(n,e,t,r){var j;mr(Sd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=re.useContext(Xa),{matches:a}=re.useContext(Ul),u=a[a.length-1],c=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let q=y&&y.path||"";w4(h,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=Uc(),w;if(e){let q=typeof e=="string"?Zh(e):e;mr(m==="/"||((j=q.pathname)==null?void 0:j.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${q.pathname}" was given in the \`location\` prop.`),w=q}else w=_;let E=w.pathname||"/",N=E;if(m!=="/"){let q=m.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(q.length).join("/")}let L=!s&&t&&t.matches&&t.matches.length>0?t.matches:u4(n,{pathname:N});Ka(y||L!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ka(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=wI(L&&L.map(q=>Object.assign({},q,{params:Object.assign({},c,q.params),pathname:Cl([m,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?m:Cl([m,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),a,t,r);return e&&I?re.createElement(bd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},I):I}function mI(){let n=TI(),e=lI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=re.createElement(re.Fragment,null,re.createElement("p",null," Hey developer "),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:s},"ErrorBoundary")," or"," ",re.createElement("code",{style:s},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),t?re.createElement("pre",{style:i},t):null,a)}var gI=re.createElement(mI,null),yI=class extends re.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?re.createElement(Ul.Provider,{value:this.props.routeContext},re.createElement(_y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vI({routeContext:n,match:e,children:t}){let r=re.useContext(ef);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),re.createElement(Ul.Provider,{value:n},t)}function wI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);mr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:m,errors:y}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||_){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,m)=>{let y,_=!1,w=null,E=null;t&&(y=s&&h.route.id?s[h.route.id]:void 0,w=h.route.errorElement||gI,a&&(u<0&&m===0?(w4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):u===m&&(_=!0,E=h.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,m+1)),L=()=>{let I;return y?I=w:_?I=E:h.route.Component?I=re.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=c,re.createElement(vI,{match:h,routeContext:{outlet:c,matches:N,isDataRoute:t!=null},children:I})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?re.createElement(yI,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:L(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):L()},null)}function by(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _I(n){let e=re.useContext(ef);return mr(e,by(n)),e}function bI(n){let e=re.useContext(Fm);return mr(e,by(n)),e}function SI(n){let e=re.useContext(Ul);return mr(e,by(n)),e}function Sy(n){let e=SI(n),t=e.matches[e.matches.length-1];return mr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function xI(){return Sy("useRouteId")}function TI(){var r;let n=re.useContext(_y),e=bI("useRouteError"),t=Sy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function AI(){let{router:n}=_I("useNavigate"),e=Sy("useNavigate"),t=re.useRef(!1);return y4(()=>{t.current=!0}),re.useCallback(async(i,s={})=>{Ka(t.current,g4),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var _5={};function w4(n,e,t){!e&&!_5[n]&&(_5[n]=!0,Ka(!1,t))}re.memo(EI);function EI({routes:n,future:e,state:t}){return v4(n,void 0,t,e)}function Df(n){mr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function II({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){mr(!Sd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=re.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=Zh(t));let{pathname:c="/",search:h="",hash:m="",state:y=null,key:_="default"}=t,w=re.useMemo(()=>{let E=Ll(c,a);return E==null?null:{location:{pathname:E,search:h,hash:m,state:y,key:_},navigationType:r}},[a,c,h,m,y,_,r]);return Ka(w!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:re.createElement(Xa.Provider,{value:u},re.createElement(bd.Provider,{children:e,value:w}))}function PI({children:n,location:e}){return pI(o1(n),e)}function o1(n,e=[]){let t=[];return re.Children.forEach(n,(r,i)=>{if(!re.isValidElement(r))return;let s=[...e,i];if(r.type===re.Fragment){t.push.apply(t,o1(r.props.children,s));return}mr(r.type===Df,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=o1(r.props.children,s)),t.push(a)}),t}var Up="get",zp="application/x-www-form-urlencoded";function Vm(n){return n!=null&&typeof n.tagName=="string"}function CI(n){return Vm(n)&&n.tagName.toLowerCase()==="button"}function NI(n){return Vm(n)&&n.tagName.toLowerCase()==="form"}function kI(n){return Vm(n)&&n.tagName.toLowerCase()==="input"}function LI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RI(n,e){return n.button===0&&(!e||e==="_self")&&!LI(n)}var Ep=null;function DI(){if(Ep===null)try{new FormData(document.createElement("form"),0),Ep=!1}catch{Ep=!0}return Ep}var OI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function y0(n){return n!=null&&!OI.has(n)?(Ka(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zp}"`),null):n}function MI(n,e){let t,r,i,s,a;if(NI(n)){let u=n.getAttribute("action");r=u?Ll(u,e):null,t=n.getAttribute("method")||Up,i=y0(n.getAttribute("enctype"))||zp,s=new FormData(n)}else if(CI(n)||kI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?Ll(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Up,i=y0(n.getAttribute("formenctype"))||y0(u.getAttribute("enctype"))||zp,s=new FormData(u,n),!DI()){let{name:h,type:m,value:y}=n;if(m==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,y)}}else{if(Vm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Up,r=null,i=zp,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}function xy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function jI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function VI(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await jI(s,t);return a.links?a.links():[]}return[]}));return qI(r.flat(1).filter(FI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function b5(n,e,t,r,i,s){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>{var m;return t[h].pathname!==c.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>a(c,h)||u(c,h)):s==="data"?e.filter((c,h)=>{var y;let m=r.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(a(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let _=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function BI(n,e,{includeHydrateFallback:t}={}){return UI(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function UI(n){return[...new Set(n)]}function zI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qI(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(zI(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function HI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ll(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function _4(){let n=re.useContext(ef);return xy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $I(){let n=re.useContext(Fm);return xy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ty=re.createContext(void 0);Ty.displayName="FrameworkContext";function b4(){let n=re.useContext(Ty);return xy(n,"You must render this element inside a <HydratedRouter> element"),n}function WI(n,e){let t=re.useContext(Ty),[r,i]=re.useState(!1),[s,a]=re.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,_=re.useRef(null);re.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let N=I=>{I.forEach(j=>{a(j.isIntersecting)})},L=new IntersectionObserver(N,{threshold:.5});return _.current&&L.observe(_.current),()=>{L.disconnect()}}},[n]),re.useEffect(()=>{if(r){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{i(!0)},E=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:Nf(u,w),onBlur:Nf(c,E),onMouseEnter:Nf(h,w),onMouseLeave:Nf(m,E),onTouchStart:Nf(y,w)}]:[!1,_,{}]}function Nf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function GI({page:n,...e}){let{router:t}=_4(),r=re.useMemo(()=>u4(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?re.createElement(YI,{page:n,matches:r,...e}):null}function KI(n){let{manifest:e,routeModules:t}=b4(),[r,i]=re.useState([]);return re.useEffect(()=>{let s=!1;return VI(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function YI({page:n,matches:e,...t}){let r=Uc(),{manifest:i,routeModules:s}=b4(),{basename:a}=_4(),{loaderData:u,matches:c}=$I(),h=re.useMemo(()=>b5(n,e,c,i,r,"data"),[n,e,c,i,r]),m=re.useMemo(()=>b5(n,e,c,i,r,"assets"),[n,e,c,i,r]),y=re.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,N=!1;if(e.forEach(I=>{var q;let j=i.routes[I.route.id];!j||!j.hasLoader||(!h.some(ee=>ee.route.id===I.route.id)&&I.route.id in u&&((q=s[I.route.id])!=null&&q.shouldRevalidate)||j.hasClientLoader?N=!0:E.add(I.route.id))}),E.size===0)return[];let L=HI(n,a);return N&&E.size>0&&L.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[L.pathname+L.search]},[a,u,r,i,h,e,n,s]),_=re.useMemo(()=>BI(m,i),[m,i]),w=KI(m);return re.createElement(re.Fragment,null,y.map(E=>re.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),_.map(E=>re.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),w.map(({key:E,link:N})=>re.createElement("link",{key:E,...N})))}function QI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var S4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S4&&(window.__reactRouterVersion="7.4.1")}catch{}function XI({basename:n,children:e,window:t}){let r=re.useRef();r.current==null&&(r.current=BE({window:t,v5Compat:!0}));let i=r.current,[s,a]=re.useState({action:i.action,location:i.location}),u=re.useCallback(c=>{re.startTransition(()=>a(c))},[a]);return re.useLayoutEffect(()=>i.listen(u),[i,u]),re.createElement(II,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var x4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bm=re.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:u,target:c,to:h,preventScrollReset:m,viewTransition:y,..._},w){let{basename:E}=re.useContext(Xa),N=typeof h=="string"&&x4.test(h),L,I=!1;if(typeof h=="string"&&N&&(L=h,S4))try{let U=new URL(window.location.href),G=h.startsWith("//")?new URL(U.protocol+h):new URL(h),D=Ll(G.pathname,E);G.origin===U.origin&&D!=null?h=D+G.search+G.hash:I=!0}catch{Ka(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=fI(h,{relative:i}),[q,ee,ie]=WI(r,_),de=tP(h,{replace:a,state:u,target:c,preventScrollReset:m,relative:i,viewTransition:y});function z(U){e&&e(U),U.defaultPrevented||de(U)}let k=re.createElement("a",{..._,...ie,href:L||j,onClick:I||s?e:z,ref:QI(w,ee),target:c,"data-discover":!N&&t==="render"?"true":void 0});return q&&!N?re.createElement(re.Fragment,null,k,re.createElement(GI,{page:j})):k});Bm.displayName="Link";var JI=re.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:u,children:c,...h},m){let y=Td(a,{relative:h.relative}),_=Uc(),w=re.useContext(Fm),{navigator:E,basename:N}=re.useContext(Xa),L=w!=null&&oP(y)&&u===!0,I=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,j=_.pathname,q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(j=j.toLowerCase(),q=q?q.toLowerCase():null,I=I.toLowerCase()),q&&N&&(q=Ll(q,N)||q);const ee=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let ie=j===I||!i&&j.startsWith(I)&&j.charAt(ee)==="/",de=q!=null&&(q===I||!i&&q.startsWith(I)&&q.charAt(I.length)==="/"),z={isActive:ie,isPending:de,isTransitioning:L},k=ie?e:void 0,U;typeof r=="function"?U=r(z):U=[r,ie?"active":null,de?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(z):s;return re.createElement(Bm,{...h,"aria-current":k,className:U,ref:m,style:G,to:a,viewTransition:u},typeof c=="function"?c(z):c)});JI.displayName="NavLink";var ZI=re.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Up,action:u,onSubmit:c,relative:h,preventScrollReset:m,viewTransition:y,..._},w)=>{let E=iP(),N=sP(u,{relative:h}),L=a.toLowerCase()==="get"?"get":"post",I=typeof u=="string"&&x4.test(u),j=q=>{if(c&&c(q),q.defaultPrevented)return;q.preventDefault();let ee=q.nativeEvent.submitter,ie=(ee==null?void 0:ee.getAttribute("formmethod"))||a;E(ee||q.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:y})};return re.createElement("form",{ref:w,method:L,action:N,onSubmit:r?c:j,..._,"data-discover":!I&&n==="render"?"true":void 0})});ZI.displayName="Form";function eP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T4(n){let e=re.useContext(ef);return mr(e,eP(n)),e}function tP(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let u=xd(),c=Uc(),h=Td(n,{relative:s});return re.useCallback(m=>{if(RI(m,e)){m.preventDefault();let y=t!==void 0?t:td(c)===td(h);u(n,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[c,u,h,t,r,e,n,i,s,a])}var nP=0,rP=()=>`__${String(++nP)}__`;function iP(){let{router:n}=T4("useSubmit"),{basename:e}=re.useContext(Xa),t=xI();return re.useCallback(async(r,i={})=>{let{action:s,method:a,encType:u,formData:c,body:h}=MI(r,e);if(i.navigate===!1){let m=i.fetcherKey||rP();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function sP(n,{relative:e}={}){let{basename:t}=re.useContext(Xa),r=re.useContext(Ul);mr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Td(n||".",{relative:e})},a=Uc();if(n==null){s.search=a.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(m=>m==="")){u.delete("index"),c.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Cl([t,s.pathname])),td(s)}function oP(n,e={}){let t=re.useContext(m4);mr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=T4("useViewTransitionState"),i=Td(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ll(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Ll(t.nextLocation.pathname,r)||t.nextLocation.pathname;return om(i.pathname,a)!=null||om(i.pathname,s)!=null}new TextEncoder;const aP=()=>{};var S5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],u=n[t++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},E4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,u=a?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,m=s>>2,y=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,w=h&63;c||(w=64,a||(_=64)),r.push(t[m],t[y],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(A4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||y==null)throw new uP;const _=s<<2|u>>4;if(r.push(_),h!==64){const w=u<<4&240|h>>2;if(r.push(w),y!==64){const E=h<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cP=function(n){const e=A4(n);return E4.encodeByteArray(e,!0)},am=function(n){return cP(n).replace(/\./g,"")},I4=function(n){try{return E4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=()=>hP().__FIREBASE_DEFAULTS__,dP=()=>{if(typeof process>"u"||typeof S5>"u")return;const n=S5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&I4(n[1]);return e&&JSON.parse(e)},Um=()=>{try{return aP()||fP()||dP()||pP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},P4=n=>{var e,t;return(t=(e=Um())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},mP=n=>{const e=P4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},C4=()=>{var n;return(n=Um())===null||n===void 0?void 0:n.config},N4=n=>{var e;return(e=Um())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[am(JSON.stringify(t)),am(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qi())}function wP(){var n;const e=(n=Um())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _P(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SP(){const n=Qi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xP(){return!wP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L4(){try{return typeof indexedDB=="object"}catch{return!1}}function R4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function TP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="FirebaseError";class ma extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=AP,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zc.prototype.create)}}class zc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?EP(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new ma(i,u,r)}}function EP(n,e){return n.replace(IP,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IP=/\{\$([^}]+)}/g;function PP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(x5(s)&&x5(a)){if(!Dc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function x5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Of(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CP(n,e){const t=new NP(n,e);return t.subscribe.bind(t)}class NP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=v0),i.error===void 0&&(i.error=v0),i.complete===void 0&&(i.complete=v0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function v0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=1e3,RP=2,DP=4*60*60*1e3,OP=.5;function T5(n,e=LP,t=RP){const r=e*Math.pow(t,n),i=Math.round(OP*r*(Math.random()-.5)*2);return Math.min(DP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n){return n&&n._delegate?n._delegate:n}class fa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new gP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FP(e))try{this.getOrInitializeService({instanceIdentifier:xc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xc){return this.instances.has(e)}getOptions(e=xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xc){return this.component?this.component.multipleInstances?e:xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jP(n){return n===xc?void 0:n}function FP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(hn||(hn={}));const BP={debug:hn.DEBUG,verbose:hn.VERBOSE,info:hn.INFO,warn:hn.WARN,error:hn.ERROR,silent:hn.SILENT},UP=hn.INFO,zP={[hn.DEBUG]:"log",[hn.VERBOSE]:"log",[hn.INFO]:"info",[hn.WARN]:"warn",[hn.ERROR]:"error"},qP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=zP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=UP,this._logHandler=qP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hn.DEBUG,...e),this._logHandler(this,hn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hn.VERBOSE,...e),this._logHandler(this,hn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hn.INFO,...e),this._logHandler(this,hn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hn.WARN,...e),this._logHandler(this,hn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hn.ERROR,...e),this._logHandler(this,hn.ERROR,...e)}}const HP=(n,e)=>e.some(t=>n instanceof t);let A5,E5;function $P(){return A5||(A5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WP(){return E5||(E5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D4=new WeakMap,a1=new WeakMap,O4=new WeakMap,w0=new WeakMap,Ay=new WeakMap;function GP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Ou(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&D4.set(t,n)}).catch(()=>{}),Ay.set(e,n),e}function KP(n){if(a1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});a1.set(n,e)}let l1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return a1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||O4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ou(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YP(n){l1=n(l1)}function QP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(_0(this),e,...t);return O4.set(r,e.sort?e.sort():[e]),Ou(r)}:WP().includes(n)?function(...e){return n.apply(_0(this),e),Ou(D4.get(this))}:function(...e){return Ou(n.apply(_0(this),e))}}function XP(n){return typeof n=="function"?QP(n):(n instanceof IDBTransaction&&KP(n),HP(n,$P())?new Proxy(n,l1):n)}function Ou(n){if(n instanceof IDBRequest)return GP(n);if(w0.has(n))return w0.get(n);const e=XP(n);return e!==n&&(w0.set(n,e),Ay.set(e,n)),e}const _0=n=>Ay.get(n);function M4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),u=Ou(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ou(a.result),c.oldVersion,c.newVersion,Ou(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const JP=["get","getKey","getAll","getAllKeys","count"],ZP=["put","add","delete","clear"],b0=new Map;function I5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(b0.get(e))return b0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ZP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JP.includes(t)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return b0.set(e,s),s}YP(n=>({...n,get:(e,t,r)=>I5(e,t)||n.get(e,t,r),has:(e,t)=>!!I5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function tC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u1="@firebase/app",P5="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new zm("@firebase/app"),nC="@firebase/app-compat",rC="@firebase/analytics-compat",iC="@firebase/analytics",sC="@firebase/app-check-compat",oC="@firebase/app-check",aC="@firebase/auth",lC="@firebase/auth-compat",uC="@firebase/database",cC="@firebase/data-connect",hC="@firebase/database-compat",fC="@firebase/functions",dC="@firebase/functions-compat",pC="@firebase/installations",mC="@firebase/installations-compat",gC="@firebase/messaging",yC="@firebase/messaging-compat",vC="@firebase/performance",wC="@firebase/performance-compat",_C="@firebase/remote-config",bC="@firebase/remote-config-compat",SC="@firebase/storage",xC="@firebase/storage-compat",TC="@firebase/firestore",AC="@firebase/vertexai",EC="@firebase/firestore-compat",IC="firebase",PC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="[DEFAULT]",CC={[u1]:"fire-core",[nC]:"fire-core-compat",[iC]:"fire-analytics",[rC]:"fire-analytics-compat",[oC]:"fire-app-check",[sC]:"fire-app-check-compat",[aC]:"fire-auth",[lC]:"fire-auth-compat",[uC]:"fire-rtdb",[cC]:"fire-data-connect",[hC]:"fire-rtdb-compat",[fC]:"fire-fn",[dC]:"fire-fn-compat",[pC]:"fire-iid",[mC]:"fire-iid-compat",[gC]:"fire-fcm",[yC]:"fire-fcm-compat",[vC]:"fire-perf",[wC]:"fire-perf-compat",[_C]:"fire-rc",[bC]:"fire-rc-compat",[SC]:"fire-gcs",[xC]:"fire-gcs-compat",[TC]:"fire-fst",[EC]:"fire-fst-compat",[AC]:"fire-vertex","fire-js":"fire-js",[IC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Map,NC=new Map,h1=new Map;function C5(n,e){try{n.container.addComponent(e)}catch(t){Rl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ya(n){const e=n.name;if(h1.has(e))return Rl.debug(`There were multiple attempts to register component ${e}.`),!1;h1.set(e,n);for(const t of lm.values())C5(t,n);for(const t of NC.values())C5(t,n);return!0}function Ed(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ha(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mu=new zc("app","Firebase",kC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=PC;function j4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:c1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Mu.create("bad-app-name",{appName:String(i)});if(t||(t=C4()),!t)throw Mu.create("no-options");const s=lm.get(i);if(s){if(Dc(t,s.options)&&Dc(r,s.config))return s;throw Mu.create("duplicate-app",{appName:i})}const a=new VP(i);for(const c of h1.values())a.addComponent(c);const u=new LC(t,r,a);return lm.set(i,u),u}function F4(n=c1){const e=lm.get(n);if(!e&&n===c1&&C4())return j4();if(!e)throw Mu.create("no-app",{appName:n});return e}function Lo(n,e,t){var r;let i=(r=CC[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rl.warn(u.join(" "));return}Ya(new fa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebase-heartbeat-database",DC=1,nd="firebase-heartbeat-store";let S0=null;function V4(){return S0||(S0=M4(RC,DC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mu.create("idb-open",{originalErrorMessage:n.message})})),S0}async function OC(n){try{const t=(await V4()).transaction(nd),r=await t.objectStore(nd).get(B4(n));return await t.done,r}catch(e){if(e instanceof ma)Rl.warn(e.message);else{const t=Mu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rl.warn(t.message)}}}async function N5(n,e){try{const r=(await V4()).transaction(nd,"readwrite");await r.objectStore(nd).put(e,B4(n)),await r.done}catch(t){if(t instanceof ma)Rl.warn(t.message);else{const r=Mu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Rl.warn(r.message)}}}function B4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1024,jC=30;class FC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>jC){const a=UC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=k5(),{heartbeatsToSend:r,unsentEntries:i}=VC(this._heartbeatsCache.heartbeats),s=am(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Rl.warn(t),""}}}function k5(){return new Date().toISOString().substring(0,10)}function VC(n,e=MC){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),L5(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),L5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class BC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L4()?R4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return N5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return N5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function L5(n){return am(JSON.stringify({version:2,heartbeats:n})).length}function UC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n){Ya(new fa("platform-logger",e=>new eC(e),"PRIVATE")),Ya(new fa("heartbeat",e=>new FC(e),"PRIVATE")),Lo(u1,P5,n),Lo(u1,P5,"esm2017"),Lo("fire-js","")}zC("");function Ey(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function U4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qC=U4,z4=new zc("auth","Firebase",U4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new zm("@firebase/auth");function HC(n,...e){um.logLevel<=hn.WARN&&um.warn(`Auth (${tf}): ${n}`,...e)}function qp(n,...e){um.logLevel<=hn.ERROR&&um.error(`Auth (${tf}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(n,...e){throw Iy(n,...e)}function Ua(n,...e){return Iy(n,...e)}function q4(n,e,t){const r=Object.assign(Object.assign({},qC()),{[e]:t});return new zc("auth","Firebase",r).create(e,{appName:n.name})}function ju(n){return q4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return z4.create(n,...e)}function $t(n,e,...t){if(!n)throw Iy(e,...t)}function Al(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qp(e),new Error(e)}function Dl(n,e){n||Al(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $C(){return R5()==="http:"||R5()==="https:"}function R5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($C()||k4()||"connection"in navigator)?navigator.onLine:!0}function GC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dl(t>e,"Short delay should be less than long delay!"),this.isMobile=vP()||bP()}get(){return WC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n,e){Dl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Al("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Al("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Al("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Id(3e4,6e4);function qc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function zl(n,e,t,r,i={}){return $4(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=Ad(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},s);return _P()||(h.referrerPolicy="no-referrer"),H4.fetch()(W4(n,n.config.apiHost,t,u),h)})}async function $4(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},KC),e);try{const i=new XC(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Ip(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ip(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Ip(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw Ip(n,"user-disabled",a);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw q4(n,m,h);da(n,m)}}catch(i){if(i instanceof ma)throw i;da(n,"network-request-failed",{message:String(i)})}}async function qm(n,e,t,r,i={}){const s=await zl(n,e,t,r,i);return"mfaPendingCredential"in s&&da(n,"multi-factor-auth-required",{_serverResponse:s}),s}function W4(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Py(n.config,i):`${n.config.apiScheme}://${i}`}function QC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ua(this.auth,"network-request-failed")),YC.get())})}}function Ip(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ua(n,e,r);return i.customData._tokenResponse=t,i}function D5(n){return n!==void 0&&n.enterprise!==void 0}class JC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZC(n,e){return zl(n,"GET","/v2/recaptchaConfig",qc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(n,e){return zl(n,"POST","/v1/accounts:delete",e)}async function G4(n,e){return zl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tN(n,e=!1){const t=cr(n),r=await t.getIdToken(e),i=Cy(r);$t(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qf(x0(i.auth_time)),issuedAtTime:qf(x0(i.iat)),expirationTime:qf(x0(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function x0(n){return Number(n)*1e3}function Cy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=I4(t);return i?JSON.parse(i):(qp("Failed to decode base64 JWT payload"),null)}catch(i){return qp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function O5(n){const e=Cy(n);return $t(e,"internal-error"),$t(typeof e.exp<"u","internal-error"),$t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ma&&nN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function nN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Uh(n,G4(t,{idToken:r}));$t(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?K4(s.providerUserInfo):[],u=sN(n.providerData,a),c=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=c?h:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new d1(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function iN(n){const e=cr(n);await cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function K4(n){return n.map(e=>{var{providerId:t}=e,r=Ey(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(n,e){const t=await $4(n,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=W4(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",H4.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aN(n,e){return zl(n,"POST","/v2/accounts:revokeToken",qc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$t(e.idToken,"internal-error"),$t(typeof e.idToken<"u","internal-error"),$t(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$t(e.length!==0,"internal-error");const t=O5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await oN(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new kh;return r&&($t(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&($t(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&($t(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kh,this.toJSON())}_performRefresh(){return Al("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(n,e){$t(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class El{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ey(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new d1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Uh(this,this.stsTokenManager.getToken(this.auth,e));return $t(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tN(this,e)}reload(){return iN(this)}_assign(e){this!==e&&($t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new El(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ha(this.auth.app))return Promise.reject(ju(this.auth));const e=await this.getIdToken();return await Uh(this,eN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,u,c,h,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,w=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,E=(a=t.photoURL)!==null&&a!==void 0?a:void 0,N=(u=t.tenantId)!==null&&u!==void 0?u:void 0,L=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(h=t.createdAt)!==null&&h!==void 0?h:void 0,j=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:q,emailVerified:ee,isAnonymous:ie,providerData:de,stsTokenManager:z}=t;$t(q&&z,e,"internal-error");const k=kh.fromJSON(this.name,z);$t(typeof q=="string",e,"internal-error"),Au(y,e.name),Au(_,e.name),$t(typeof ee=="boolean",e,"internal-error"),$t(typeof ie=="boolean",e,"internal-error"),Au(w,e.name),Au(E,e.name),Au(N,e.name),Au(L,e.name),Au(I,e.name),Au(j,e.name);const U=new El({uid:q,auth:e,email:_,emailVerified:ee,displayName:y,isAnonymous:ie,photoURL:E,phoneNumber:w,tenantId:N,stsTokenManager:k,createdAt:I,lastLoginAt:j});return de&&Array.isArray(de)&&(U.providerData=de.map(G=>Object.assign({},G))),L&&(U._redirectEventId=L),U}static async _fromIdTokenResponse(e,t,r=!1){const i=new kh;i.updateFromServerResponse(t);const s=new El({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];$t(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?K4(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new kh;u.updateFromIdToken(r);const c=new El({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new d1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new Map;function Il(n){Dl(n instanceof Function,"Expected a class definition");let e=M5.get(n);return e?(Dl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Y4.type="NONE";const j5=Y4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n,e,t){return`firebase:${n}:${e}:${t}`}class Lh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?El._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Lh(Il(j5),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Il(j5);const a=Hp(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(a);if(m){const y=El._fromJSON(e,m);h!==s&&(u=y),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Lh(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Lh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tS(e))return"Blackberry";if(nS(e))return"Webos";if(X4(e))return"Safari";if((e.includes("chrome/")||J4(e))&&!e.includes("edge/"))return"Chrome";if(eS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Q4(n=Qi()){return/firefox\//i.test(n)}function X4(n=Qi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J4(n=Qi()){return/crios\//i.test(n)}function Z4(n=Qi()){return/iemobile/i.test(n)}function eS(n=Qi()){return/android/i.test(n)}function tS(n=Qi()){return/blackberry/i.test(n)}function nS(n=Qi()){return/webos/i.test(n)}function Ny(n=Qi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lN(n=Qi()){var e;return Ny(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uN(){return SP()&&document.documentMode===10}function rS(n=Qi()){return Ny(n)||eS(n)||nS(n)||tS(n)||/windows phone/i.test(n)||Z4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(n,e=[]){let t;switch(n){case"Browser":t=F5(Qi());break;case"Worker":t=`${F5(Qi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(n,e={}){return zl(n,"GET","/v2/passwordPolicy",qc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=6;class dN{constructor(e){var t,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:fN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V5(this),this.idTokenSubscription=new V5(this),this.beforeStateQueue=new cN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Il(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Lh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await G4(this,{idToken:e}),r=await El._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ha(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ha(this.app))return Promise.reject(ju(this));const t=e?cr(e):null;return t&&$t(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ha(this.app)?Promise.reject(ju(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ha(this.app)?Promise.reject(ju(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Il(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hN(this),t=new dN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await aN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Il(e)||this._popupRedirectResolver;$t(t,this,"argument-error"),this.redirectPersistenceManager=await Lh.create(this,[Il(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($t(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ha(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&HC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function nf(n){return cr(n)}class V5{constructor(e){this.auth=e,this.observer=null,this.addObserver=CP(t=>this.observer=t)}get next(){return $t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mN(n){Hm=n}function sS(n){return Hm.loadJS(n)}function gN(){return Hm.recaptchaEnterpriseScript}function yN(){return Hm.gapiScript}function vN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wN{constructor(){this.enterprise=new _N}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _N{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bN="recaptcha-enterprise",oS="NO_RECAPTCHA";class SN{constructor(e){this.type=bN,this.auth=nf(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{ZC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new JC(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;D5(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(oS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wN().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(u=>{if(!t&&D5(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=gN();c.length!==0&&(c+=u),sS(c).then(()=>{i(u,s,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function B5(n,e,t,r=!1,i=!1){const s=new SN(n);let a;if(i)a=oS;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function U5(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await B5(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await B5(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n,e){const t=Ed(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Dc(s,e??{}))return i;da(i,"already-initialized")}return t.initialize({options:e})}function TN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Il);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AN(n,e,t){const r=nf(n);$t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=aS(e),{host:a,port:u}=EN(e),c=u===null?"":`:${u}`,h={url:`${s}//${a}${c}/`},m=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$t(Dc(h,r.config.emulator)&&Dc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,IN()}function aS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EN(n){const e=aS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:z5(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:z5(a)}}}function z5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Al("not implemented")}_getIdTokenResponse(e){return Al("not implemented")}_linkToIdToken(e,t){return Al("not implemented")}_getReauthenticationResolver(e){return Al("not implemented")}}async function PN(n,e){return zl(n,"POST","/v1/accounts:update",e)}async function CN(n,e){return zl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(n,e){return qm(n,"POST","/v1/accounts:signInWithPassword",qc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(n,e){return qm(n,"POST","/v1/accounts:signInWithEmailLink",qc(n,e))}async function LN(n,e){return qm(n,"POST","/v1/accounts:signInWithEmailLink",qc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends ky{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new rd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new rd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U5(e,t,"signInWithPassword",NN);case"emailLink":return kN(e,{email:this._email,oobCode:this._password});default:da(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U5(e,r,"signUpPassword",CN);case"emailLink":return LN(e,{idToken:t,email:this._email,oobCode:this._password});default:da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(n,e){return qm(n,"POST","/v1/accounts:signInWithIdp",qc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="http://localhost";class Oc extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):da("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Ey(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Oc(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Rh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Rh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rh(e,t)}buildRequest(){const e={requestUri:RN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ad(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ON(n){const e=Of(Mf(n)).link,t=e?Of(Mf(e)).deep_link_id:null,r=Of(Mf(n)).deep_link_id;return(r?Of(Mf(r)).link:null)||r||t||e||n}class Ly{constructor(e){var t,r,i,s,a,u;const c=Of(Mf(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,m=(r=c.oobCode)!==null&&r!==void 0?r:null,y=DN((i=c.mode)!==null&&i!==void 0?i:null);$t(h&&m&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=m,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=ON(e);try{return new Ly(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(e,t){return rd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ly.parseLink(t);return $t(r,"argument-error"),rd._fromEmailAndCode(e,r.code,r.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends lS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Pd{constructor(){super("facebook.com")}static credential(e){return Oc._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cu.credential(e.oauthAccessToken)}catch{return null}}}Cu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oc._fromParams({providerId:Nu.PROVIDER_ID,signInMethod:Nu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Nu.credentialFromTaggedObject(e)}static credentialFromError(e){return Nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Nu.credential(t,r)}catch{return null}}}Nu.GOOGLE_SIGN_IN_METHOD="google.com";Nu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Pd{constructor(){super("github.com")}static credential(e){return Oc._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ku.credential(e.oauthAccessToken)}catch{return null}}}ku.GITHUB_SIGN_IN_METHOD="github.com";ku.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Pd{constructor(){super("twitter.com")}static credential(e,t){return Oc._fromParams({providerId:Lu.PROVIDER_ID,signInMethod:Lu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Lu.credentialFromTaggedObject(e)}static credentialFromError(e){return Lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Lu.credential(t,r)}catch{return null}}}Lu.TWITTER_SIGN_IN_METHOD="twitter.com";Lu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await El._fromIdTokenResponse(e,r,i),a=q5(r);return new zh({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=q5(r);return new zh({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function q5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends ma{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new hm(e,t,r,i)}}function uS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hm._fromErrorAndOperation(n,s,e,r):s})}async function MN(n,e,t=!1){const r=await Uh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(n,e,t=!1){const{auth:r}=n;if(ha(r.app))return Promise.reject(ju(r));const i="reauthenticate";try{const s=await Uh(n,uS(r,i,e,n),t);$t(s.idToken,r,"internal-error");const a=Cy(s.idToken);$t(a,r,"internal-error");const{sub:u}=a;return $t(n.uid===u,r,"user-mismatch"),zh._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&da(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(n,e,t=!1){if(ha(n.app))return Promise.reject(ju(n));const r="signIn",i=await uS(n,r,e),s=await zh._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function jN(n,e){return hS(nf(n),e)}async function H5(n,e){return cS(cr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(n){const e=nf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function VN(n,e,t){return ha(n.app)?Promise.reject(ju(n)):jN(cr(n),Uu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FN(n),r})}function BN(n,e){return UN(cr(n),null,e)}async function UN(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(s.password=t);const a=await Uh(n,PN(r,s));await n._updateTokensIfNecessary(a,!0)}function zN(n,e,t,r){return cr(n).onIdTokenChanged(e,t,r)}function qN(n,e,t){return cr(n).beforeAuthStateChanged(e,t)}function fS(n,e,t,r){return cr(n).onAuthStateChanged(e,t,r)}function HN(n){return cr(n).signOut()}const fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fm,"1"),this.storage.removeItem(fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=1e3,WN=10;class pS extends dS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);uN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,WN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},$N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pS.type="LOCAL";const GN=pS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends dS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mS.type="SESSION";const gS=mS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new $m(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async h=>h(t.origin,s)),c=await KN(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const h=Ry("",20);i.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(){return window}function QN(n){za().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){return typeof za().WorkerGlobalScope<"u"&&typeof za().importScripts=="function"}async function XN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ZN(){return yS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firebaseLocalStorageDb",ek=1,dm="firebaseLocalStorage",wS="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wm(n,e){return n.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function tk(){const n=indexedDB.deleteDatabase(vS);return new Cd(n).toPromise()}function p1(){const n=indexedDB.open(vS,ek);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(dm,{keyPath:wS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(dm)?e(r):(r.close(),await tk(),e(await p1()))})})}async function $5(n,e,t){const r=Wm(n,!0).put({[wS]:e,value:t});return new Cd(r).toPromise()}async function nk(n,e){const t=Wm(n,!1).get(e),r=await new Cd(t).toPromise();return r===void 0?null:r.value}function W5(n,e){const t=Wm(n,!0).delete(e);return new Cd(t).toPromise()}const rk=800,ik=3;class _S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ik)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$m._getInstance(ZN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await XN(),!this.activeServiceWorker)return;this.sender=new YN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p1();return await $5(e,fm,"1"),await W5(e,fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>$5(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>nk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wm(i,!1).getAll();return new Cd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_S.type="LOCAL";const sk=_S;new Id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n,e){return e?Il(e):($t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ak(n){return hS(n.auth,new Dy(n),n.bypassAuthState)}function lk(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),cS(t,new Dy(n),n.bypassAuthState)}async function uk(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),MN(t,new Dy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ak;case"linkViaPopup":case"linkViaRedirect":return uk;case"reauthViaPopup":case"reauthViaRedirect":return lk;default:da(this.auth,"internal-error")}}resolve(e){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new Id(2e3,1e4);class xh extends bS{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xh.currentPopupAction&&xh.currentPopupAction.cancel(),xh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $t(e,this.auth,"internal-error"),e}async onExecution(){Dl(this.filter.length===1,"Popup operations only handle one event");const e=Ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ck.get())};e()}}xh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="pendingRedirect",$p=new Map;class fk extends bS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$p.get(this.auth._key());if(!e){try{const r=await dk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$p.set(this.auth._key(),e)}return this.bypassAuthState||$p.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dk(n,e){const t=gk(e),r=mk(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function pk(n,e){$p.set(n._key(),e)}function mk(n){return Il(n._redirectPersistence)}function gk(n){return Hp(hk,n.config.apiKey,n.name)}async function yk(n,e,t=!1){if(ha(n.app))return Promise.reject(ju(n));const r=nf(n),i=ok(r,e),a=await new fk(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=10*60*1e3;class wk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_k(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!SS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ua(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vk&&this.cachedEventUids.clear(),this.cachedEventUids.has(G5(e))}saveEventToCache(e){this.cachedEventUids.add(G5(e)),this.lastProcessedEventTime=Date.now()}}function G5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _k(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,e={}){return zl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xk=/^https?/;async function Tk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await bk(n);for(const t of e)try{if(Ak(t))return}catch{}da(n,"unauthorized-domain")}function Ak(n){const e=f1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!xk.test(t))return!1;if(Sk.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new Id(3e4,6e4);function K5(){const n=za().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ik(n){return new Promise((e,t)=>{var r,i,s;function a(){K5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K5(),t(Ua(n,"network-request-failed"))},timeout:Ek.get()})}if(!((i=(r=za().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=za().gapi)===null||s===void 0)&&s.load)a();else{const u=vN("iframefcb");return za()[u]=()=>{gapi.load?a():t(Ua(n,"network-request-failed"))},sS(`${yN()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Wp=null,e})}let Wp=null;function Pk(n){return Wp=Wp||Ik(n),Wp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new Id(5e3,15e3),Nk="__/auth/iframe",kk="emulator/auth/iframe",Lk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dk(n){const e=n.config;$t(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Py(e,kk):`https://${n.config.authDomain}/${Nk}`,r={apiKey:e.apiKey,appName:n.name,v:tf},i=Rk.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ad(r).slice(1)}`}async function Ok(n){const e=await Pk(n),t=za().gapi;return $t(t,n,"internal-error"),e.open({where:document.body,url:Dk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lk,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ua(n,"network-request-failed"),u=za().setTimeout(()=>{s(a)},Ck.get());function c(){za().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jk=500,Fk=600,Vk="_blank",Bk="http://localhost";class Y5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uk(n,e,t,r=jk,i=Fk){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},Mk),{width:r.toString(),height:i.toString(),top:s,left:a}),h=Qi().toLowerCase();t&&(u=J4(h)?Vk:t),Q4(h)&&(e=e||Bk,c.scrollbars="yes");const m=Object.entries(c).reduce((_,[w,E])=>`${_}${w}=${E},`,"");if(lN(h)&&u!=="_self")return zk(e||"",u),new Y5(null);const y=window.open(e||"",u,m);$t(y,n,"popup-blocked");try{y.focus()}catch{}return new Y5(y)}function zk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="__/auth/handler",Hk="emulator/auth/handler",$k=encodeURIComponent("fac");async function Q5(n,e,t,r,i,s){$t(n.config.authDomain,n,"auth-domain-config-required"),$t(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:tf,eventId:i};if(e instanceof lS){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",PP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))a[m]=y}if(e instanceof Pd){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await n._getAppCheckToken(),h=c?`#${$k}=${encodeURIComponent(c)}`:"";return`${Wk(n)}?${Ad(u).slice(1)}${h}`}function Wk({config:n}){return n.emulator?Py(n,Hk):`https://${n.authDomain}/${qk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="webStorageSupport";class Gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gS,this._completeRedirectFn=yk,this._overrideRedirectResult=pk}async _openPopup(e,t,r,i){var s;Dl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Q5(e,t,r,f1(),i);return Uk(e,a,Ry())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Q5(e,t,r,f1(),i);return QN(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Dl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Ok(e),r=new wk(e);return t.register("authEvent",i=>($t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(T0,{type:T0},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[T0];a!==void 0&&t(!!a),da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Tk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rS()||X4()||Ny()}}const Kk=Gk;var X5="@firebase/auth",J5="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xk(n){Ya(new fa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;$t(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iS(n)},h=new pN(r,i,s,c);return TN(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ya(new fa("auth-internal",e=>{const t=nf(e.getProvider("auth").getImmediate());return(r=>new Yk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lo(X5,J5,Qk(n)),Lo(X5,J5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=5*60,Zk=N4("authIdTokenMaxAge")||Jk;let Z5=null;const e6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Zk)return;const i=t==null?void 0:t.token;Z5!==i&&(Z5=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function t6(n=F4()){const e=Ed(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xN(n,{popupRedirectResolver:Kk,persistence:[sk,GN,gS]}),r=N4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=e6(s.toString());qN(t,a,()=>a(t.currentUser)),zN(t,u=>a(u))}}const i=P4("auth");return i&&AN(t,`http://${i}`),t}function n6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}mN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ua("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",n6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xk("Browser");var ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fu,xS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,k){function U(){}U.prototype=k.prototype,z.D=k.prototype,z.prototype=new U,z.prototype.constructor=z,z.C=function(G,D,M){for(var F=Array(arguments.length-2),se=2;se<arguments.length;se++)F[se-2]=arguments[se];return k.prototype[D].apply(G,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(z,k,U){U||(U=0);var G=Array(16);if(typeof k=="string")for(var D=0;16>D;++D)G[D]=k.charCodeAt(U++)|k.charCodeAt(U++)<<8|k.charCodeAt(U++)<<16|k.charCodeAt(U++)<<24;else for(D=0;16>D;++D)G[D]=k[U++]|k[U++]<<8|k[U++]<<16|k[U++]<<24;k=z.g[0],U=z.g[1],D=z.g[2];var M=z.g[3],F=k+(M^U&(D^M))+G[0]+3614090360&4294967295;k=U+(F<<7&4294967295|F>>>25),F=M+(D^k&(U^D))+G[1]+3905402710&4294967295,M=k+(F<<12&4294967295|F>>>20),F=D+(U^M&(k^U))+G[2]+606105819&4294967295,D=M+(F<<17&4294967295|F>>>15),F=U+(k^D&(M^k))+G[3]+3250441966&4294967295,U=D+(F<<22&4294967295|F>>>10),F=k+(M^U&(D^M))+G[4]+4118548399&4294967295,k=U+(F<<7&4294967295|F>>>25),F=M+(D^k&(U^D))+G[5]+1200080426&4294967295,M=k+(F<<12&4294967295|F>>>20),F=D+(U^M&(k^U))+G[6]+2821735955&4294967295,D=M+(F<<17&4294967295|F>>>15),F=U+(k^D&(M^k))+G[7]+4249261313&4294967295,U=D+(F<<22&4294967295|F>>>10),F=k+(M^U&(D^M))+G[8]+1770035416&4294967295,k=U+(F<<7&4294967295|F>>>25),F=M+(D^k&(U^D))+G[9]+2336552879&4294967295,M=k+(F<<12&4294967295|F>>>20),F=D+(U^M&(k^U))+G[10]+4294925233&4294967295,D=M+(F<<17&4294967295|F>>>15),F=U+(k^D&(M^k))+G[11]+2304563134&4294967295,U=D+(F<<22&4294967295|F>>>10),F=k+(M^U&(D^M))+G[12]+1804603682&4294967295,k=U+(F<<7&4294967295|F>>>25),F=M+(D^k&(U^D))+G[13]+4254626195&4294967295,M=k+(F<<12&4294967295|F>>>20),F=D+(U^M&(k^U))+G[14]+2792965006&4294967295,D=M+(F<<17&4294967295|F>>>15),F=U+(k^D&(M^k))+G[15]+1236535329&4294967295,U=D+(F<<22&4294967295|F>>>10),F=k+(D^M&(U^D))+G[1]+4129170786&4294967295,k=U+(F<<5&4294967295|F>>>27),F=M+(U^D&(k^U))+G[6]+3225465664&4294967295,M=k+(F<<9&4294967295|F>>>23),F=D+(k^U&(M^k))+G[11]+643717713&4294967295,D=M+(F<<14&4294967295|F>>>18),F=U+(M^k&(D^M))+G[0]+3921069994&4294967295,U=D+(F<<20&4294967295|F>>>12),F=k+(D^M&(U^D))+G[5]+3593408605&4294967295,k=U+(F<<5&4294967295|F>>>27),F=M+(U^D&(k^U))+G[10]+38016083&4294967295,M=k+(F<<9&4294967295|F>>>23),F=D+(k^U&(M^k))+G[15]+3634488961&4294967295,D=M+(F<<14&4294967295|F>>>18),F=U+(M^k&(D^M))+G[4]+3889429448&4294967295,U=D+(F<<20&4294967295|F>>>12),F=k+(D^M&(U^D))+G[9]+568446438&4294967295,k=U+(F<<5&4294967295|F>>>27),F=M+(U^D&(k^U))+G[14]+3275163606&4294967295,M=k+(F<<9&4294967295|F>>>23),F=D+(k^U&(M^k))+G[3]+4107603335&4294967295,D=M+(F<<14&4294967295|F>>>18),F=U+(M^k&(D^M))+G[8]+1163531501&4294967295,U=D+(F<<20&4294967295|F>>>12),F=k+(D^M&(U^D))+G[13]+2850285829&4294967295,k=U+(F<<5&4294967295|F>>>27),F=M+(U^D&(k^U))+G[2]+4243563512&4294967295,M=k+(F<<9&4294967295|F>>>23),F=D+(k^U&(M^k))+G[7]+1735328473&4294967295,D=M+(F<<14&4294967295|F>>>18),F=U+(M^k&(D^M))+G[12]+2368359562&4294967295,U=D+(F<<20&4294967295|F>>>12),F=k+(U^D^M)+G[5]+4294588738&4294967295,k=U+(F<<4&4294967295|F>>>28),F=M+(k^U^D)+G[8]+2272392833&4294967295,M=k+(F<<11&4294967295|F>>>21),F=D+(M^k^U)+G[11]+1839030562&4294967295,D=M+(F<<16&4294967295|F>>>16),F=U+(D^M^k)+G[14]+4259657740&4294967295,U=D+(F<<23&4294967295|F>>>9),F=k+(U^D^M)+G[1]+2763975236&4294967295,k=U+(F<<4&4294967295|F>>>28),F=M+(k^U^D)+G[4]+1272893353&4294967295,M=k+(F<<11&4294967295|F>>>21),F=D+(M^k^U)+G[7]+4139469664&4294967295,D=M+(F<<16&4294967295|F>>>16),F=U+(D^M^k)+G[10]+3200236656&4294967295,U=D+(F<<23&4294967295|F>>>9),F=k+(U^D^M)+G[13]+681279174&4294967295,k=U+(F<<4&4294967295|F>>>28),F=M+(k^U^D)+G[0]+3936430074&4294967295,M=k+(F<<11&4294967295|F>>>21),F=D+(M^k^U)+G[3]+3572445317&4294967295,D=M+(F<<16&4294967295|F>>>16),F=U+(D^M^k)+G[6]+76029189&4294967295,U=D+(F<<23&4294967295|F>>>9),F=k+(U^D^M)+G[9]+3654602809&4294967295,k=U+(F<<4&4294967295|F>>>28),F=M+(k^U^D)+G[12]+3873151461&4294967295,M=k+(F<<11&4294967295|F>>>21),F=D+(M^k^U)+G[15]+530742520&4294967295,D=M+(F<<16&4294967295|F>>>16),F=U+(D^M^k)+G[2]+3299628645&4294967295,U=D+(F<<23&4294967295|F>>>9),F=k+(D^(U|~M))+G[0]+4096336452&4294967295,k=U+(F<<6&4294967295|F>>>26),F=M+(U^(k|~D))+G[7]+1126891415&4294967295,M=k+(F<<10&4294967295|F>>>22),F=D+(k^(M|~U))+G[14]+2878612391&4294967295,D=M+(F<<15&4294967295|F>>>17),F=U+(M^(D|~k))+G[5]+4237533241&4294967295,U=D+(F<<21&4294967295|F>>>11),F=k+(D^(U|~M))+G[12]+1700485571&4294967295,k=U+(F<<6&4294967295|F>>>26),F=M+(U^(k|~D))+G[3]+2399980690&4294967295,M=k+(F<<10&4294967295|F>>>22),F=D+(k^(M|~U))+G[10]+4293915773&4294967295,D=M+(F<<15&4294967295|F>>>17),F=U+(M^(D|~k))+G[1]+2240044497&4294967295,U=D+(F<<21&4294967295|F>>>11),F=k+(D^(U|~M))+G[8]+1873313359&4294967295,k=U+(F<<6&4294967295|F>>>26),F=M+(U^(k|~D))+G[15]+4264355552&4294967295,M=k+(F<<10&4294967295|F>>>22),F=D+(k^(M|~U))+G[6]+2734768916&4294967295,D=M+(F<<15&4294967295|F>>>17),F=U+(M^(D|~k))+G[13]+1309151649&4294967295,U=D+(F<<21&4294967295|F>>>11),F=k+(D^(U|~M))+G[4]+4149444226&4294967295,k=U+(F<<6&4294967295|F>>>26),F=M+(U^(k|~D))+G[11]+3174756917&4294967295,M=k+(F<<10&4294967295|F>>>22),F=D+(k^(M|~U))+G[2]+718787259&4294967295,D=M+(F<<15&4294967295|F>>>17),F=U+(M^(D|~k))+G[9]+3951481745&4294967295,z.g[0]=z.g[0]+k&4294967295,z.g[1]=z.g[1]+(D+(F<<21&4294967295|F>>>11))&4294967295,z.g[2]=z.g[2]+D&4294967295,z.g[3]=z.g[3]+M&4294967295}r.prototype.u=function(z,k){k===void 0&&(k=z.length);for(var U=k-this.blockSize,G=this.B,D=this.h,M=0;M<k;){if(D==0)for(;M<=U;)i(this,z,M),M+=this.blockSize;if(typeof z=="string"){for(;M<k;)if(G[D++]=z.charCodeAt(M++),D==this.blockSize){i(this,G),D=0;break}}else for(;M<k;)if(G[D++]=z[M++],D==this.blockSize){i(this,G),D=0;break}}this.h=D,this.o+=k},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var k=1;k<z.length-8;++k)z[k]=0;var U=8*this.o;for(k=z.length-8;k<z.length;++k)z[k]=U&255,U/=256;for(this.u(z),z=Array(16),k=U=0;4>k;++k)for(var G=0;32>G;G+=8)z[U++]=this.g[k]>>>G&255;return z};function s(z,k){var U=u;return Object.prototype.hasOwnProperty.call(U,z)?U[z]:U[z]=k(z)}function a(z,k){this.h=k;for(var U=[],G=!0,D=z.length-1;0<=D;D--){var M=z[D]|0;G&&M==k||(U[D]=M,G=!1)}this.g=U}var u={};function c(z){return-128<=z&&128>z?s(z,function(k){return new a([k|0],0>k?-1:0)}):new a([z|0],0>z?-1:0)}function h(z){if(isNaN(z)||!isFinite(z))return y;if(0>z)return L(h(-z));for(var k=[],U=1,G=0;z>=U;G++)k[G]=z/U|0,U*=4294967296;return new a(k,0)}function m(z,k){if(z.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(z.charAt(0)=="-")return L(m(z.substring(1),k));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=h(Math.pow(k,8)),G=y,D=0;D<z.length;D+=8){var M=Math.min(8,z.length-D),F=parseInt(z.substring(D,D+M),k);8>M?(M=h(Math.pow(k,M)),G=G.j(M).add(h(F))):(G=G.j(U),G=G.add(h(F)))}return G}var y=c(0),_=c(1),w=c(16777216);n=a.prototype,n.m=function(){if(N(this))return-L(this).m();for(var z=0,k=1,U=0;U<this.g.length;U++){var G=this.i(U);z+=(0<=G?G:4294967296+G)*k,k*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(E(this))return"0";if(N(this))return"-"+L(this).toString(z);for(var k=h(Math.pow(z,6)),U=this,G="";;){var D=ee(U,k).g;U=I(U,D.j(k));var M=((0<U.g.length?U.g[0]:U.h)>>>0).toString(z);if(U=D,E(U))return M+G;for(;6>M.length;)M="0"+M;G=M+G}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function E(z){if(z.h!=0)return!1;for(var k=0;k<z.g.length;k++)if(z.g[k]!=0)return!1;return!0}function N(z){return z.h==-1}n.l=function(z){return z=I(this,z),N(z)?-1:E(z)?0:1};function L(z){for(var k=z.g.length,U=[],G=0;G<k;G++)U[G]=~z.g[G];return new a(U,~z.h).add(_)}n.abs=function(){return N(this)?L(this):this},n.add=function(z){for(var k=Math.max(this.g.length,z.g.length),U=[],G=0,D=0;D<=k;D++){var M=G+(this.i(D)&65535)+(z.i(D)&65535),F=(M>>>16)+(this.i(D)>>>16)+(z.i(D)>>>16);G=F>>>16,M&=65535,F&=65535,U[D]=F<<16|M}return new a(U,U[U.length-1]&-2147483648?-1:0)};function I(z,k){return z.add(L(k))}n.j=function(z){if(E(this)||E(z))return y;if(N(this))return N(z)?L(this).j(L(z)):L(L(this).j(z));if(N(z))return L(this.j(L(z)));if(0>this.l(w)&&0>z.l(w))return h(this.m()*z.m());for(var k=this.g.length+z.g.length,U=[],G=0;G<2*k;G++)U[G]=0;for(G=0;G<this.g.length;G++)for(var D=0;D<z.g.length;D++){var M=this.i(G)>>>16,F=this.i(G)&65535,se=z.i(D)>>>16,Le=z.i(D)&65535;U[2*G+2*D]+=F*Le,j(U,2*G+2*D),U[2*G+2*D+1]+=M*Le,j(U,2*G+2*D+1),U[2*G+2*D+1]+=F*se,j(U,2*G+2*D+1),U[2*G+2*D+2]+=M*se,j(U,2*G+2*D+2)}for(G=0;G<k;G++)U[G]=U[2*G+1]<<16|U[2*G];for(G=k;G<2*k;G++)U[G]=0;return new a(U,0)};function j(z,k){for(;(z[k]&65535)!=z[k];)z[k+1]+=z[k]>>>16,z[k]&=65535,k++}function q(z,k){this.g=z,this.h=k}function ee(z,k){if(E(k))throw Error("division by zero");if(E(z))return new q(y,y);if(N(z))return k=ee(L(z),k),new q(L(k.g),L(k.h));if(N(k))return k=ee(z,L(k)),new q(L(k.g),k.h);if(30<z.g.length){if(N(z)||N(k))throw Error("slowDivide_ only works with positive integers.");for(var U=_,G=k;0>=G.l(z);)U=ie(U),G=ie(G);var D=de(U,1),M=de(G,1);for(G=de(G,2),U=de(U,2);!E(G);){var F=M.add(G);0>=F.l(z)&&(D=D.add(U),M=F),G=de(G,1),U=de(U,1)}return k=I(z,D.j(k)),new q(D,k)}for(D=y;0<=z.l(k);){for(U=Math.max(1,Math.floor(z.m()/k.m())),G=Math.ceil(Math.log(U)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),M=h(U),F=M.j(k);N(F)||0<F.l(z);)U-=G,M=h(U),F=M.j(k);E(M)&&(M=_),D=D.add(M),z=I(z,F)}return new q(D,z)}n.A=function(z){return ee(this,z).h},n.and=function(z){for(var k=Math.max(this.g.length,z.g.length),U=[],G=0;G<k;G++)U[G]=this.i(G)&z.i(G);return new a(U,this.h&z.h)},n.or=function(z){for(var k=Math.max(this.g.length,z.g.length),U=[],G=0;G<k;G++)U[G]=this.i(G)|z.i(G);return new a(U,this.h|z.h)},n.xor=function(z){for(var k=Math.max(this.g.length,z.g.length),U=[],G=0;G<k;G++)U[G]=this.i(G)^z.i(G);return new a(U,this.h^z.h)};function ie(z){for(var k=z.g.length+1,U=[],G=0;G<k;G++)U[G]=z.i(G)<<1|z.i(G-1)>>>31;return new a(U,z.h)}function de(z,k){var U=k>>5;k%=32;for(var G=z.g.length-U,D=[],M=0;M<G;M++)D[M]=0<k?z.i(M+U)>>>k|z.i(M+U+1)<<32-k:z.i(M+U);return new a(D,z.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xS=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,Fu=a}).apply(typeof ew<"u"?ew:typeof self<"u"?self:typeof window<"u"?window:{});var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TS,jf,AS,Gp,m1,ES,IS,PS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,T,R){return p==Array.prototype||p==Object.prototype||(p[T]=R.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pp=="object"&&Pp];for(var T=0;T<p.length;++T){var R=p[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=t(this);function i(p,T){if(T)e:{var R=r;p=p.split(".");for(var Y=0;Y<p.length-1;Y++){var be=p[Y];if(!(be in R))break e;R=R[be]}p=p[p.length-1],Y=R[p],T=T(Y),T!=Y&&T!=null&&e(R,p,{configurable:!0,writable:!0,value:T})}}function s(p,T){p instanceof String&&(p+="");var R=0,Y=!1,be={next:function(){if(!Y&&R<p.length){var Re=R++;return{value:T(Re,p[Re]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(p){return p||function(){return s(this,function(T,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(p){var T=typeof p;return T=T!="object"?T:p?Array.isArray(p)?"array":T:"null",T=="array"||T=="object"&&typeof p.length=="number"}function h(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function m(p,T,R){return p.call.apply(p.bind,arguments)}function y(p,T,R){if(!p)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,Y),p.apply(T,be)}}return function(){return p.apply(T,arguments)}}function _(p,T,R){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function w(p,T){var R=Array.prototype.slice.call(arguments,1);return function(){var Y=R.slice();return Y.push.apply(Y,arguments),p.apply(this,Y)}}function E(p,T){function R(){}R.prototype=T.prototype,p.aa=T.prototype,p.prototype=new R,p.prototype.constructor=p,p.Qb=function(Y,be,Re){for(var et=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)et[Qt-2]=arguments[Qt];return T.prototype[be].apply(Y,et)}}function N(p){const T=p.length;if(0<T){const R=Array(T);for(let Y=0;Y<T;Y++)R[Y]=p[Y];return R}return[]}function L(p,T){for(let R=1;R<arguments.length;R++){const Y=arguments[R];if(c(Y)){const be=p.length||0,Re=Y.length||0;p.length=be+Re;for(let et=0;et<Re;et++)p[be+et]=Y[et]}else p.push(Y)}}class I{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function j(p){return/^[\s\xa0]*$/.test(p)}function q(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function ee(p){return ee[" "](p),p}ee[" "]=function(){};var ie=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function de(p,T,R){for(const Y in p)T.call(R,p[Y],Y,p)}function z(p,T){for(const R in p)T.call(void 0,p[R],R,p)}function k(p){const T={};for(const R in p)T[R]=p[R];return T}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(p,T){let R,Y;for(let be=1;be<arguments.length;be++){Y=arguments[be];for(R in Y)p[R]=Y[R];for(let Re=0;Re<U.length;Re++)R=U[Re],Object.prototype.hasOwnProperty.call(Y,R)&&(p[R]=Y[R])}}function D(p){var T=1;p=p.split(":");const R=[];for(;0<T&&p.length;)R.push(p.shift()),T--;return p.length&&R.push(p.join(":")),R}function M(p){u.setTimeout(()=>{throw p},0)}function F(){var p=ve;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class se{constructor(){this.h=this.g=null}add(T,R){const Y=Le.get();Y.set(T,R),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var Le=new I(()=>new Ne,p=>p.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ne=!1,ve=new se,ye=()=>{const p=u.Promise.resolve(void 0);Te=()=>{p.then(ue)}};var ue=()=>{for(var p;p=F();){try{p.h.call(p.g)}catch(R){M(R)}var T=Le;T.j(p),100>T.h&&(T.h++,p.next=T.g,T.g=p)}ne=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const R=()=>{};u.addEventListener("test",R,T),u.removeEventListener("test",R,T)}catch{}return p}();function oe(p,T){if(X.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var R=this.type=p.type,Y=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget){if(ie){e:{try{ee(T.nodeName);var be=!0;break e}catch{}be=!1}be||(T=null)}}else R=="mouseover"?T=p.fromElement:R=="mouseout"&&(T=p.toElement);this.relatedTarget=T,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ce[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&oe.aa.h.call(this)}}E(oe,X);var ce={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Ee(p,T,R,Y,be){this.listener=p,this.proxy=null,this.src=T,this.type=R,this.capture=!!Y,this.ha=be,this.key=++Ae,this.da=this.fa=!1}function Ke(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ye(p){this.src=p,this.g={},this.h=0}Ye.prototype.add=function(p,T,R,Y,be){var Re=p.toString();p=this.g[Re],p||(p=this.g[Re]=[],this.h++);var et=lt(p,T,Y,be);return-1<et?(T=p[et],R||(T.fa=!1)):(T=new Ee(T,this.src,Re,!!Y,be),T.fa=R,p.push(T)),T};function ft(p,T){var R=T.type;if(R in p.g){var Y=p.g[R],be=Array.prototype.indexOf.call(Y,T,void 0),Re;(Re=0<=be)&&Array.prototype.splice.call(Y,be,1),Re&&(Ke(T),p.g[R].length==0&&(delete p.g[R],p.h--))}}function lt(p,T,R,Y){for(var be=0;be<p.length;++be){var Re=p[be];if(!Re.da&&Re.listener==T&&Re.capture==!!R&&Re.ha==Y)return be}return-1}var Nt="closure_lm_"+(1e6*Math.random()|0),je={};function le(p,T,R,Y,be){if(Array.isArray(T)){for(var Re=0;Re<T.length;Re++)le(p,T[Re],R,Y,be);return null}return R=ot(R),p&&p[_e]?p.K(T,R,h(Y)?!!Y.capture:!1,be):jt(p,T,R,!1,Y,be)}function jt(p,T,R,Y,be,Re){if(!T)throw Error("Invalid event type");var et=h(be)?!!be.capture:!!be,Qt=Ce(p);if(Qt||(p[Nt]=Qt=new Ye(p)),R=Qt.add(T,R,Y,et,Re),R.proxy)return R;if(Y=xt(),R.proxy=Y,Y.src=p,Y.listener=R,p.addEventListener)Z||(be=et),be===void 0&&(be=!1),p.addEventListener(T.toString(),Y,be);else if(p.attachEvent)p.attachEvent(ht(T.toString()),Y);else if(p.addListener&&p.removeListener)p.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return R}function xt(){function p(R){return T.call(p.src,p.listener,R)}const T=ct;return p}function Ze(p,T,R,Y,be){if(Array.isArray(T))for(var Re=0;Re<T.length;Re++)Ze(p,T[Re],R,Y,be);else Y=h(Y)?!!Y.capture:!!Y,R=ot(R),p&&p[_e]?(p=p.i,T=String(T).toString(),T in p.g&&(Re=p.g[T],R=lt(Re,R,Y,be),-1<R&&(Ke(Re[R]),Array.prototype.splice.call(Re,R,1),Re.length==0&&(delete p.g[T],p.h--)))):p&&(p=Ce(p))&&(T=p.g[T.toString()],p=-1,T&&(p=lt(T,R,Y,be)),(R=-1<p?T[p]:null)&&it(R))}function it(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[_e])ft(T.i,p);else{var R=p.type,Y=p.proxy;T.removeEventListener?T.removeEventListener(R,Y,p.capture):T.detachEvent?T.detachEvent(ht(R),Y):T.addListener&&T.removeListener&&T.removeListener(Y),(R=Ce(T))?(ft(R,p),R.h==0&&(R.src=null,T[Nt]=null)):Ke(p)}}}function ht(p){return p in je?je[p]:je[p]="on"+p}function ct(p,T){if(p.da)p=!0;else{T=new oe(T,this);var R=p.listener,Y=p.ha||p.src;p.fa&&it(p),p=R.call(Y,T)}return p}function Ce(p){return p=p[Nt],p instanceof Ye?p:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(p){return typeof p=="function"?p:(p[We]||(p[We]=function(T){return p.handleEvent(T)}),p[We])}function He(){O.call(this),this.i=new Ye(this),this.M=this,this.F=null}E(He,O),He.prototype[_e]=!0,He.prototype.removeEventListener=function(p,T,R,Y){Ze(this,p,T,R,Y)};function at(p,T){var R,Y=p.F;if(Y)for(R=[];Y;Y=Y.F)R.push(Y);if(p=p.M,Y=T.type||T,typeof T=="string")T=new X(T,p);else if(T instanceof X)T.target=T.target||p;else{var be=T;T=new X(Y,p),G(T,be)}if(be=!0,R)for(var Re=R.length-1;0<=Re;Re--){var et=T.g=R[Re];be=vt(et,Y,!0,T)&&be}if(et=T.g=p,be=vt(et,Y,!0,T)&&be,be=vt(et,Y,!1,T)&&be,R)for(Re=0;Re<R.length;Re++)et=T.g=R[Re],be=vt(et,Y,!1,T)&&be}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var p=this.i,T;for(T in p.g){for(var R=p.g[T],Y=0;Y<R.length;Y++)Ke(R[Y]);delete p.g[T],p.h--}}this.F=null},He.prototype.K=function(p,T,R,Y){return this.i.add(String(p),T,!1,R,Y)},He.prototype.L=function(p,T,R,Y){return this.i.add(String(p),T,!0,R,Y)};function vt(p,T,R,Y){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();for(var be=!0,Re=0;Re<T.length;++Re){var et=T[Re];if(et&&!et.da&&et.capture==R){var Qt=et.listener,an=et.ha||et.src;et.fa&&ft(p.i,et),be=Qt.call(an,Y)!==!1&&be}}return be&&!Y.defaultPrevented}function bt(p,T,R){if(typeof p=="function")R&&(p=_(p,R));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(p,T||0)}function Ft(p){p.g=bt(()=>{p.g=null,p.i&&(p.i=!1,Ft(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class dt extends O{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ft(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(p){O.call(this),this.h=p,this.g={}}E(Wn,O);var nn=[];function jr(p){de(p.g,function(T,R){this.g.hasOwnProperty(R)&&it(T)},p),p.g={}}Wn.prototype.N=function(){Wn.aa.N.call(this),jr(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=u.JSON.stringify,_n=u.JSON.parse,Xr=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function rn(){}rn.prototype.h=null;function ze(p){return p.h||(p.h=p.i())}function Qe(){}var pt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zt(){X.call(this,"d")}E(zt,X);function Xe(){X.call(this,"c")}E(Xe,X);var nt={},Dt=null;function Rn(){return Dt=Dt||new He}nt.La="serverreachability";function un(p){X.call(this,nt.La,p)}E(un,X);function Gn(p){const T=Rn();at(T,new un(T))}nt.STAT_EVENT="statevent";function yr(p,T){X.call(this,nt.STAT_EVENT,p),this.stat=T}E(yr,X);function wt(p){const T=Rn();at(T,new yr(T,p))}nt.Ma="timingevent";function Kn(p,T){X.call(this,nt.Ma,p),this.size=T}E(Kn,X);function In(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},T)}function ir(){this.g=!0}ir.prototype.xa=function(){this.g=!1};function Fn(p,T,R,Y,be,Re){p.info(function(){if(p.g)if(Re)for(var et="",Qt=Re.split("&"),an=0;an<Qt.length;an++){var Xt=Qt[an].split("=");if(1<Xt.length){var Sn=Xt[0];Xt=Xt[1];var Cn=Sn.split("_");et=2<=Cn.length&&Cn[1]=="type"?et+(Sn+"="+Xt+"&"):et+(Sn+"=redacted&")}}else et=null;else et=Re;return"XMLHTTP REQ ("+Y+") [attempt "+be+"]: "+T+`
`+R+`
`+et})}function Vn(p,T,R,Y,be,Re,et){p.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+be+"]: "+T+`
`+R+`
`+Re+" "+et})}function Xn(p,T,R,Y){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+js(p,R)+(Y?" "+Y:"")})}function so(p,T){p.info(function(){return"TIMEOUT: "+T})}ir.prototype.info=function(){};function js(p,T){if(!p.g)return T;if(!T)return null;try{var R=JSON.parse(T);if(R){for(p=0;p<R.length;p++)if(Array.isArray(R[p])){var Y=R[p];if(!(2>Y.length)){var be=Y[1];if(Array.isArray(be)&&!(1>be.length)){var Re=be[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(var et=1;et<be.length;et++)be[et]=""}}}}return dn(R)}catch{return T}}var Jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function Zr(){}E(Zr,rn),Zr.prototype.g=function(){return new XMLHttpRequest},Zr.prototype.i=function(){return{}},hr=new Zr;function sr(p,T,R,Y){this.j=p,this.i=T,this.l=R,this.R=Y||1,this.U=new Wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}var Fs={},Vs={};function Bs(p,T,R){p.L=1,p.v=qs(Br(T)),p.m=R,p.P=!0,oo(p,null)}function oo(p,T){p.F=Date.now(),Dn(p),p.A=Br(p.v);var R=p.A,Y=p.R;Array.isArray(Y)||(Y=[String(Y)]),Ot(R.i,"t",Y),p.C=0,R=p.j.J,p.h=new Xi,p.g=B(p.j,R?T:null,!p.m),0<p.O&&(p.M=new dt(_(p.Y,p,p.g),p.O)),T=p.U,R=p.g,Y=p.ca;var be="readystatechange";Array.isArray(be)||(be&&(nn[0]=be.toString()),be=nn);for(var Re=0;Re<be.length;Re++){var et=le(R,be[Re],Y||T.handleEvent,!1,T.h||T);if(!et)break;T.g[et.key]=et}T=p.H?k(p.H):{},p.m?(p.u||(p.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,T)):(p.u="GET",p.g.ea(p.A,p.u,null,T)),Gn(),Fn(p.i,p.u,p.A,p.l,p.R,p.m)}sr.prototype.ca=function(p){p=p.target;const T=this.M;T&&ar(p)==3?T.j():this.Y(p)},sr.prototype.Y=function(p){try{if(p==this.g)e:{const Cn=ar(this.g);var T=this.g.Ba();const mi=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||il(this.g)))){this.J||Cn!=4||T==7||(T==8||0>=mi?Gn(3):Gn(2)),ms(this);var R=this.g.Z();this.X=R;t:if(Do(this)){var Y=il(this.g);p="";var be=Y.length,Re=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),Us(this);var et="";break t}this.h.i=new u.TextDecoder}for(T=0;T<be;T++)this.h.h=!0,p+=this.h.i.decode(Y[T],{stream:!(Re&&T==be-1)});Y.length=0,this.h.g+=p,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=R==200,Vn(this.i,this.u,this.A,this.l,this.R,Cn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,an=this.g;if((Qt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Qt)){var Xt=Qt;break t}}Xt=null}if(R=Xt)Xn(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,R);else{this.o=!1,this.s=3,wt(12),Ci(this),Us(this);break e}}if(this.P){R=!0;let qr;for(;!this.J&&this.C<et.length;)if(qr=ql(this,et),qr==Vs){Cn==4&&(this.s=4,wt(14),R=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(qr==Fs){this.s=4,wt(15),Xn(this.i,this.l,et,"[Invalid Chunk]"),R=!1;break}else Xn(this.i,this.l,qr,null),Oo(this,qr);if(Do(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||et.length!=0||this.h.h||(this.s=1,wt(16),R=!1),this.o=this.o&&R,!R)Xn(this.i,this.l,et,"[Invalid Chunked Response]"),Ci(this),Us(this);else if(0<et.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),xa(Sn),Sn.M=!0,wt(11))}}else Xn(this.i,this.l,et,null),Oo(this,et);Cn==4&&Ci(this),this.o&&!this.J&&(Cn==4?Ss(this.j,this):(this.o=!1,Dn(this)))}else es(this.g),R==400&&0<et.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Ci(this),Us(this)}}}catch{}finally{}};function Do(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ql(p,T){var R=p.C,Y=T.indexOf(`
`,R);return Y==-1?Vs:(R=Number(T.substring(R,Y)),isNaN(R)?Fs:(Y+=1,Y+R>T.length?Vs:(T=T.slice(Y,Y+R),p.C=Y+R,T)))}sr.prototype.cancel=function(){this.J=!0,Ci(this)};function Dn(p){p.S=Date.now()+p.I,Hl(p,p.I)}function Hl(p,T){if(p.B!=null)throw Error("WatchDog timer not null");p.B=In(_(p.ba,p),T)}function ms(p){p.B&&(u.clearTimeout(p.B),p.B=null)}sr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(so(this.i,this.A),this.L!=2&&(Gn(),wt(17)),Ci(this),this.s=2,Us(this)):Hl(this,this.S-p)};function Us(p){p.j.G==0||p.J||Ss(p.j,p)}function Ci(p){ms(p);var T=p.M;T&&typeof T.ma=="function"&&T.ma(),p.M=null,jr(p.U),p.g&&(T=p.g,p.g=null,T.abort(),T.ma())}function Oo(p,T){try{var R=p.j;if(R.G!=0&&(R.g==p||Fr(R.h,p))){if(!p.K&&Fr(R.h,p)&&R.G==3){try{var Y=R.Da.g.parse(T)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var be=Y;if(be[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<p.F)Gs(R),ts(R);else break e;vo(R),wt(18)}}else R.za=be[1],0<R.za-R.T&&37500>be[2]&&R.F&&R.v==0&&!R.C&&(R.C=In(_(R.Za,R),6e3));if(1>=Mo(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ni(R,11)}else if((p.K||R.g==p)&&Gs(R),!j(T))for(be=R.Da.g.parse(T),T=0;T<be.length;T++){let Xt=be[T];if(R.T=Xt[0],Xt=Xt[1],R.G==2)if(Xt[0]=="c"){R.K=Xt[1],R.ia=Xt[2];const Sn=Xt[3];Sn!=null&&(R.la=Sn,R.j.info("VER="+R.la));const Cn=Xt[4];Cn!=null&&(R.Aa=Cn,R.j.info("SVER="+R.Aa));const mi=Xt[5];mi!=null&&typeof mi=="number"&&0<mi&&(Y=1.5*mi,R.L=Y,R.j.info("backChannelRequestTimeoutMs_="+Y)),Y=R;const qr=p.g;if(qr){const Ks=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var Re=Y.h;Re.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(qn(Re,Re.h),Re.h=null))}if(Y.D){const Ys=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(Y.ya=Ys,Pn(Y.I,Y.D,Ys))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-p.F,R.j.info("Handshake RTT: "+R.R+"ms")),Y=R;var et=p;if(Y.qa=b(Y,Y.J?Y.ia:null,Y.W),et.K){el(Y.h,et);var Qt=et,an=Y.L;an&&(Qt.I=an),Qt.B&&(ms(Qt),Dn(Qt)),Y.g=et}else Ws(Y);0<R.i.length&&_s(R)}else Xt[0]!="stop"&&Xt[0]!="close"||ni(R,7);else R.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?ni(R,7):Jn(R):Xt[0]!="noop"&&R.l&&R.l.ta(Xt),R.v=0)}}Gn(4)}catch{}}var $l=class{constructor(p,T){this.g=p,this.map=T}};function ao(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fi(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Mo(p){return p.h?1:p.g?p.g.size:0}function Fr(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function qn(p,T){p.g?p.g.add(T):p.h=T}function el(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}ao.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function tl(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const R of p.g.values())T=T.concat(R.D);return T}return N(p.i)}function jo(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var T=[],R=p.length,Y=0;Y<R;Y++)T.push(p[Y]);return T}T=[],R=0;for(Y in p)T[R++]=p[Y];return T}function lo(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var T=[];p=p.length;for(var R=0;R<p;R++)T.push(R);return T}T=[],R=0;for(const Y in p)T[R++]=Y;return T}}}function uo(p,T){if(p.forEach&&typeof p.forEach=="function")p.forEach(T,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,T,void 0);else for(var R=lo(p),Y=jo(p),be=Y.length,Re=0;Re<be;Re++)T.call(void 0,Y[Re],R&&R[Re],p)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(p,T){if(p){p=p.split("&");for(var R=0;R<p.length;R++){var Y=p[R].indexOf("="),be=null;if(0<=Y){var Re=p[R].substring(0,Y);be=p[R].substring(Y+1)}else Re=p[R];T(Re,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function or(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof or){this.h=p.h,co(this,p.j),this.o=p.o,this.g=p.g,ho(this,p.s),this.l=p.l;var T=p.i,R=new Ji;R.i=T.i,T.g&&(R.g=new Map(T.g),R.h=T.h),zs(this,R),this.m=p.m}else p&&(T=String(p).match(Vr))?(this.h=!1,co(this,T[1]||"",!0),this.o=sn(T[2]||""),this.g=sn(T[3]||"",!0),ho(this,T[4]),this.l=sn(T[5]||"",!0),zs(this,T[6]||"",!0),this.m=sn(T[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}or.prototype.toString=function(){var p=[],T=this.j;T&&p.push(gs(T,wa,!0),":");var R=this.g;return(R||T=="file")&&(p.push("//"),(T=this.o)&&p.push(gs(T,wa,!0),"@"),p.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&p.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&p.push("/"),p.push(gs(R,R.charAt(0)=="/"?ys:Gl,!0))),(R=this.i.toString())&&p.push("?",R),(R=this.m)&&p.push("#",gs(R,fo)),p.join("")};function Br(p){return new or(p)}function co(p,T,R){p.j=R?sn(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function ho(p,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);p.s=T}else p.s=null}function zs(p,T,R){T instanceof Ji?(p.i=T,vs(p.i,p.h)):(R||(T=gs(T,Fo)),p.i=new Ji(T,p.h))}function Pn(p,T,R){p.i.set(T,R)}function qs(p){return Pn(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function sn(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function gs(p,T,R){return typeof p=="string"?(p=encodeURI(p).replace(T,Wl),R&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Wl(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var wa=/[#\/\?@]/g,Gl=/[#\?:]/g,ys=/[#\?]/g,Fo=/[#\?@]/g,fo=/#/g;function Ji(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function pn(p){p.g||(p.g=new Map,p.h=0,p.i&&va(p.i,function(T,R){p.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}n=Ji.prototype,n.add=function(p,T){pn(this),this.i=null,p=ki(this,p);var R=this.g.get(p);return R||this.g.set(p,R=[]),R.push(T),this.h+=1,this};function Zi(p,T){pn(p),T=ki(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function Ni(p,T){return pn(p),T=ki(p,T),p.g.has(T)}n.forEach=function(p,T){pn(this),this.g.forEach(function(R,Y){R.forEach(function(be){p.call(T,be,Y,this)},this)},this)},n.na=function(){pn(this);const p=Array.from(this.g.values()),T=Array.from(this.g.keys()),R=[];for(let Y=0;Y<T.length;Y++){const be=p[Y];for(let Re=0;Re<be.length;Re++)R.push(T[Y])}return R},n.V=function(p){pn(this);let T=[];if(typeof p=="string")Ni(this,p)&&(T=T.concat(this.g.get(ki(this,p))));else{p=Array.from(this.g.values());for(let R=0;R<p.length;R++)T=T.concat(p[R])}return T},n.set=function(p,T){return pn(this),this.i=null,p=ki(this,p),Ni(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},n.get=function(p,T){return p?(p=this.V(p),0<p.length?String(p[0]):T):T};function Ot(p,T,R){Zi(p,T),0<R.length&&(p.i=null,p.g.set(ki(p,T),N(R)),p.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(var R=0;R<T.length;R++){var Y=T[R];const Re=encodeURIComponent(String(Y)),et=this.V(Y);for(Y=0;Y<et.length;Y++){var be=Re;et[Y]!==""&&(be+="="+encodeURIComponent(String(et[Y]))),p.push(be)}}return this.i=p.join("&")};function ki(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function vs(p,T){T&&!p.j&&(pn(p),p.i=null,p.g.forEach(function(R,Y){var be=Y.toLowerCase();Y!=be&&(Zi(this,Y),Ot(this,be,R))},p)),p.j=T}function ws(p,T){const R=new ir;if(u.Image){const Y=new Image;Y.onload=w(Ur,R,"TestLoadImage: loaded",!0,T,Y),Y.onerror=w(Ur,R,"TestLoadImage: error",!1,T,Y),Y.onabort=w(Ur,R,"TestLoadImage: abort",!1,T,Y),Y.ontimeout=w(Ur,R,"TestLoadImage: timeout",!1,T,Y),u.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=p}else T(!1)}function nl(p,T){const R=new ir,Y=new AbortController,be=setTimeout(()=>{Y.abort(),Ur(R,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:Y.signal}).then(Re=>{clearTimeout(be),Re.ok?Ur(R,"TestPingServer: ok",!0,T):Ur(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(be),Ur(R,"TestPingServer: error",!1,T)})}function Ur(p,T,R,Y,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),Y(R)}catch{}}function _a(){this.g=new Xr}function ba(p,T,R){const Y=R||"";try{uo(p,function(be,Re){let et=be;h(be)&&(et=dn(be)),T.push(Y+Re+"="+encodeURIComponent(et))})}catch(be){throw T.push(Y+"type="+encodeURIComponent("_badmap")),be}}function Hs(p){this.l=p.Ub||null,this.j=p.eb||!1}E(Hs,rn),Hs.prototype.g=function(){return new Vo(this.l,this.j)},Hs.prototype.i=function(p){return function(){return p}}({});function Vo(p,T){He.call(this),this.D=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Vo,He),n=Vo.prototype,n.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=T,this.readyState=1,zr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(T.body=p),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kl(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kl(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?di(this):zr(this),this.readyState==3&&Kl(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,di(this))},n.Qa=function(p){this.g&&(this.response=p,di(this))},n.ga=function(){this.g&&di(this)};function di(p){p.readyState=4,p.l=null,p.j=null,p.v=null,zr(p)}n.setRequestHeader=function(p,T){this.u.append(p,T)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,p.push(R[0]+": "+R[1]),R=T.next();return p.join(`\r
`)};function zr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ei(p){let T="";return de(p,function(R,Y){T+=Y,T+=":",T+=R,T+=`\r
`}),T}function po(p,T,R){e:{for(Y in R){var Y=!1;break e}Y=!0}Y||(R=ei(R),typeof p=="string"?R!=null&&encodeURIComponent(String(R)):Pn(p,T,R))}function bn(p){He.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(bn,He);var rl=/^https?$/i,mo=["POST","PUT"];n=bn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,T,R,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?ze(this.o):ze(hr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(Re){go(this,Re);return}if(p=R||"",R=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var be in Y)R.set(be,Y[be]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const Re of Y.keys())R.set(Re,Y.get(Re));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(R.keys()).find(Re=>Re.toLowerCase()=="content-type"),be=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(mo,T,void 0))||Y||be||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,et]of R)this.g.setRequestHeader(Re,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pi(this),this.u=!0,this.g.send(p),this.u=!1}catch(Re){go(this,Re)}};function go(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.m=5,Bo(p),ti(p)}function Bo(p){p.A||(p.A=!0,at(p,"complete"),at(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,at(this,"complete"),at(this,"abort"),ti(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),bn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},n.bb=function(){Sa(this)};function Sa(p){if(p.h&&typeof a<"u"&&(!p.v[1]||ar(p)!=4||p.Z()!=2)){if(p.u&&ar(p)==4)bt(p.Ea,0,p);else if(at(p,"readystatechange"),ar(p)==4){p.h=!1;try{const et=p.Z();e:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var Y;if(Y=et===0){var be=String(p.D).match(Vr)[1]||null;!be&&u.self&&u.self.location&&(be=u.self.location.protocol.slice(0,-1)),Y=!rl.test(be?be.toLowerCase():"")}R=Y}if(R)at(p,"complete"),at(p,"success");else{p.m=6;try{var Re=2<ar(p)?p.g.statusText:""}catch{Re=""}p.l=Re+" ["+p.Z()+"]",Bo(p)}}finally{ti(p)}}}}function ti(p,T){if(p.g){pi(p);const R=p.g,Y=p.v[0]?()=>{}:null;p.g=null,p.v=null,T||at(p,"ready");try{R.onreadystatechange=Y}catch{}}}function pi(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function ar(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),_n(T)}};function il(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function es(p){const T={};p=(p.g&&2<=ar(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<p.length;Y++){if(j(p[Y]))continue;var R=D(p[Y]);const be=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const Re=T[be]||[];T[be]=Re,Re.push(R)}z(T,function(Y){return Y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(p,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[p]||T}function Uo(p){this.Aa=0,this.i=[],this.j=new ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vr("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vr("baseRetryDelayMs",5e3,p),this.cb=vr("retryDelaySeedMs",1e4,p),this.Wa=vr("forwardChannelMaxRetries",2,p),this.wa=vr("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ao(p&&p.concurrentRequestLimit),this.Da=new _a,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Uo.prototype,n.la=8,n.G=1,n.connect=function(p,T,R,Y){wt(0),this.W=p,this.H=T||{},R&&Y!==void 0&&(this.H.OSID=R,this.H.OAID=Y),this.F=this.X,this.I=b(this,null,this.W),_s(this)};function Jn(p){if($s(p),p.G==3){var T=p.U++,R=Br(p.I);if(Pn(R,"SID",p.K),Pn(R,"RID",T),Pn(R,"TYPE","terminate"),bs(p,R),T=new sr(p,p.j,T),T.L=2,T.v=qs(Br(R)),R=!1,u.navigator&&u.navigator.sendBeacon)try{R=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!R&&u.Image&&(new Image().src=T.v,R=!0),R||(T.g=B(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Dn(T)}Aa(p)}function ts(p){p.g&&(xa(p),p.g.cancel(),p.g=null)}function $s(p){ts(p),p.u&&(u.clearTimeout(p.u),p.u=null),Gs(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function _s(p){if(!fi(p.h)&&!p.s){p.s=!0;var T=p.Ga;Te||ye(),ne||(Te(),ne=!0),ve.add(T,p),p.B=0}}function sl(p,T){return Mo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=T.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=In(_(p.Ga,p,T),Ta(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const be=new sr(this,this.j,p);let Re=this.o;if(this.S&&(Re?(Re=k(Re),G(Re,this.S)):Re=this.S),this.m!==null||this.O||(be.H=Re,Re=null),this.P)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var Y=this.i[R];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(T+=Y,4096<T){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=ns(this,be,T),R=Br(this.I),Pn(R,"RID",p),Pn(R,"CVER",22),this.D&&Pn(R,"X-HTTP-Session-Id",this.D),bs(this,R),Re&&(this.O?T="headers="+encodeURIComponent(String(ei(Re)))+"&"+T:this.m&&po(R,this.m,Re)),qn(this.h,be),this.Ua&&Pn(R,"TYPE","init"),this.P?(Pn(R,"$req",T),Pn(R,"SID","null"),be.T=!0,Bs(be,R,null)):Bs(be,R,T),this.G=2}}else this.G==3&&(p?yo(this,p):this.i.length==0||fi(this.h)||yo(this))};function yo(p,T){var R;T?R=T.l:R=p.U++;const Y=Br(p.I);Pn(Y,"SID",p.K),Pn(Y,"RID",R),Pn(Y,"AID",p.T),bs(p,Y),p.m&&p.o&&po(Y,p.m,p.o),R=new sr(p,p.j,R,p.B+1),p.m===null&&(R.H=p.o),T&&(p.i=T.D.concat(p.i)),T=ns(p,R,1e3),R.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),qn(p.h,R),Bs(R,Y,T)}function bs(p,T){p.H&&de(p.H,function(R,Y){Pn(T,Y,R)}),p.l&&uo({},function(R,Y){Pn(T,Y,R)})}function ns(p,T,R){R=Math.min(p.i.length,R);var Y=p.l?_(p.l.Na,p.l,p):null;e:{var be=p.i;let Re=-1;for(;;){const et=["count="+R];Re==-1?0<R?(Re=be[0].g,et.push("ofs="+Re)):Re=0:et.push("ofs="+Re);let Qt=!0;for(let an=0;an<R;an++){let Xt=be[an].g;const Sn=be[an].map;if(Xt-=Re,0>Xt)Re=Math.max(0,be[an].g-100),Qt=!1;else try{ba(Sn,et,"req"+Xt+"_")}catch{Y&&Y(Sn)}}if(Qt){Y=et.join("&");break e}}}return p=p.i.splice(0,R),T.D=p,Y}function Ws(p){if(!p.g&&!p.u){p.Y=1;var T=p.Fa;Te||ye(),ne||(Te(),ne=!0),ve.add(T,p),p.v=0}}function vo(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=In(_(p.Fa,p),Ta(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Yl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=In(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),ts(this),Yl(this))};function xa(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Yl(p){p.g=new sr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var T=Br(p.qa);Pn(T,"RID","rpc"),Pn(T,"SID",p.K),Pn(T,"AID",p.T),Pn(T,"CI",p.F?"0":"1"),!p.F&&p.ja&&Pn(T,"TO",p.ja),Pn(T,"TYPE","xmlhttp"),bs(p,T),p.m&&p.o&&po(T,p.m,p.o),p.L&&(p.g.I=p.L);var R=p.g;p=p.ia,R.L=1,R.v=qs(Br(T)),R.m=null,R.P=!0,oo(R,p)}n.Za=function(){this.C!=null&&(this.C=null,ts(this),vo(this),wt(19))};function Gs(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Ss(p,T){var R=null;if(p.g==T){Gs(p),xa(p),p.g=null;var Y=2}else if(Fr(p.h,T))R=T.D,el(p.h,T),Y=1;else return;if(p.G!=0){if(T.o)if(Y==1){R=T.m?T.m.length:0,T=Date.now()-T.F;var be=p.B;Y=Rn(),at(Y,new Kn(Y,R)),_s(p)}else Ws(p);else if(be=T.s,be==3||be==0&&0<T.X||!(Y==1&&sl(p,T)||Y==2&&vo(p)))switch(R&&0<R.length&&(T=p.h,T.i=T.i.concat(R)),be){case 1:ni(p,5);break;case 4:ni(p,10);break;case 3:ni(p,6);break;default:ni(p,2)}}}function Ta(p,T){let R=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(R*=2),R*T}function ni(p,T){if(p.j.info("Error code "+T),T==2){var R=_(p.fb,p),Y=p.Xa;const be=!Y;Y=new or(Y||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||co(Y,"https"),qs(Y),be?ws(Y.toString(),R):nl(Y.toString(),R)}else wt(2);p.G=0,p.l&&p.l.sa(T),Aa(p),$s(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Aa(p){if(p.G=0,p.ka=[],p.l){const T=tl(p.h);(T.length!=0||p.i.length!=0)&&(L(p.ka,T),L(p.ka,p.i),p.h.i.length=0,N(p.i),p.i.length=0),p.l.ra()}}function b(p,T,R){var Y=R instanceof or?Br(R):new or(R);if(Y.g!="")T&&(Y.g=T+"."+Y.g),ho(Y,Y.s);else{var be=u.location;Y=be.protocol,T=T?T+"."+be.hostname:be.hostname,be=+be.port;var Re=new or(null);Y&&co(Re,Y),T&&(Re.g=T),be&&ho(Re,be),R&&(Re.l=R),Y=Re}return R=p.D,T=p.ya,R&&T&&Pn(Y,R,T),Pn(Y,"VER",p.la),bs(p,Y),Y}function B(p,T,R){if(T&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Ca&&!p.pa?new bn(new Hs({eb:R})):new bn(p.pa),T.Ha(p.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function te(){}n=te.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function he(){}he.prototype.g=function(p,T){return new xe(p,T)};function xe(p,T){He.call(this),this.g=new Uo(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(p?p["X-WebChannel-Client-Profile"]=T.va:p={"X-WebChannel-Client-Profile":T.va}),this.g.S=p,(p=T&&T.Sb)&&!j(p)&&(this.g.m=p),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.D=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new mt(this)}E(xe,He),xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xe.prototype.close=function(){Jn(this.g)},xe.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var R={};R.__data__=p,p=R}else this.u&&(R={},R.__data__=dn(p),p=R);T.i.push(new $l(T.Ya++,p)),T.G==3&&_s(T)},xe.prototype.N=function(){this.g.l=null,delete this.j,Jn(this.g),delete this.g,xe.aa.N.call(this)};function Fe(p){zt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const R in T){p=R;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}E(Fe,zt);function Je(){Xe.call(this),this.status=1}E(Je,Xe);function mt(p){this.g=p}E(mt,te),mt.prototype.ua=function(){at(this.g,"a")},mt.prototype.ta=function(p){at(this.g,new Fe(p))},mt.prototype.sa=function(p){at(this.g,new Je)},mt.prototype.ra=function(){at(this.g,"b")},he.prototype.createWebChannel=he.prototype.g,xe.prototype.send=xe.prototype.o,xe.prototype.open=xe.prototype.m,xe.prototype.close=xe.prototype.close,PS=function(){return new he},IS=function(){return Rn()},ES=nt,m1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Gp=Jr,Pi.COMPLETE="complete",AS=Pi,Qe.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",He.prototype.listen=He.prototype.K,jf=Qe,bn.prototype.listenOnce=bn.prototype.L,bn.prototype.getLastError=bn.prototype.Ka,bn.prototype.getLastErrorCode=bn.prototype.Ba,bn.prototype.getStatus=bn.prototype.Z,bn.prototype.getResponseJson=bn.prototype.Oa,bn.prototype.getResponseText=bn.prototype.oa,bn.prototype.send=bn.prototype.ea,bn.prototype.setWithCredentials=bn.prototype.Ha,TS=bn}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});const tw="@firebase/firestore",nw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new zm("@firebase/firestore");function yh(){return Mc.logLevel}function Tt(n,...e){if(Mc.logLevel<=hn.DEBUG){const t=e.map(Oy);Mc.debug(`Firestore (${rf}): ${n}`,...t)}}function Ol(n,...e){if(Mc.logLevel<=hn.ERROR){const t=e.map(Oy);Mc.error(`Firestore (${rf}): ${n}`,...t)}}function qh(n,...e){if(Mc.logLevel<=hn.WARN){const t=e.map(Oy);Mc.warn(`Firestore (${rf}): ${n}`,...t)}}function Oy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n="Unexpected state"){const e=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: `+n;throw Ol(e),new Error(e)}function jn(n,e){n||Kt()}function en(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends ma{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wi.UNAUTHENTICATED))}shutdown(){}}class i6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class s6{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){jn(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new Vu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vu,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vu)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jn(typeof r.accessToken=="string"),new CS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jn(e===null||typeof e=="string"),new Wi(e)}}class o6{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class a6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new o6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l6{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ha(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){jn(this.o===void 0);const r=s=>{s.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Tt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new rw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jn(typeof t.token=="string"),this.R=t.token,new rw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=u6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function on(n,e){return n<e?-1:n>e?1:0}function g1(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return on(r,i);{const s=NS(),a=c6(s.encode(iw(n,t)),s.encode(iw(e,t)));return a!==0?a:on(r,i)}}t+=r>65535?2:1}return on(n.length,e.length)}function iw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function c6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return on(n[t],e[t]);return on(n.length,e.length)}function Hh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=-62135596800,ow=1e6;class Yr{static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ow);return new Yr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new At($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new At($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sw)throw new At($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ow}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new Yr(0,0))}static max(){return new Jt(new Yr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__name__";class ja{constructor(e,t,r){t===void 0?t=0:t>e.length&&Kt(),r===void 0?r=e.length-t:r>e.length-t&&Kt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=ja.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return on(e.length,t.length)}static compareSegments(e,t){const r=ja.isNumericId(e),i=ja.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ja.extractNumericId(e).compare(ja.extractNumericId(t)):g1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fu.fromString(e.substring(4,e.length-2))}}class nr extends ja{construct(e,t,r){return new nr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new At($e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nr(t)}static emptyPath(){return new nr([])}}const h6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends ja{construct(e,t,r){return new Ei(e,t,r)}static isValidIdentifier(e){return h6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aw}static keyField(){return new Ei([aw])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new At($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new At($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new At($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new At($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ei(t)}static emptyPath(){return new Ei([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(nr.fromString(e))}static fromName(e){return new Mt(nr.fromString(e).popFirst(5))}static empty(){return new Mt(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new nr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=-1;function f6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Jt.fromTimestamp(r===1e9?new Yr(t+1,0):new Yr(t,r));return new zu(i,Mt.empty(),e)}function d6(n){return new zu(n.readTime,n.key,id)}class zu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zu(Jt.min(),Mt.empty(),id)}static max(){return new zu(Jt.max(),Mt.empty(),id)}}function p6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Mt.comparator(n.documentKey,e.documentKey),t!==0?t:on(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(n){if(n.code!==$e.FAILED_PRECONDITION||n.message!==m6)throw n;Tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ge((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ge?t:Ge.resolve(t)}catch(t){return Ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ge.reject(t)}static resolve(e){return new Ge((t,r)=>{t(e)})}static reject(e){return new Ge((t,r)=>{r(e)})}static waitFor(e){return new Ge((t,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&t()},c=>r(c))}),a=!0,s===i&&t()})}static or(e){let t=Ge.resolve(!1);for(const r of e)t=t.next(i=>i?Ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Ge((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const h=c;t(e[h]).next(m=>{a[h]=m,++u,u===s&&r(a)},m=>i(m))}})}static doWhile(e,t){return new Ge((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function y6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function of(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Gm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-1;function Km(n){return n==null}function pm(n){return n===0&&1/n==-1/0}function v6(n){return typeof n=="number"&&Number.isInteger(n)&&!pm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="";function w6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lw(e)),e=_6(n.get(t),e);return lw(e)}function _6(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case LS:t+="";break;default:t+=s}}return t}function lw(n){return n+LS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ju(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,t){this.comparator=e,this.root=t||Ai.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ai{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ai.RED,this.left=i??Ai.EMPTY,this.right=s??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ai(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1;Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qr(this.comparator);return t.data=e,t}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.fields=e,e.sort(Ei.comparator)}static empty(){return new to([])}unionWith(e){let t=new Qr(Ei.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new to(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new DS("Invalid base64 string: "+s):s}}(e);return new Ii(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ii(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const b6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qu(n){if(jn(!!n),typeof n=="string"){let e=0;const t=b6.exec(n);if(jn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nr(n.seconds),nanos:Nr(n.nanos)}}function Nr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hu(n){return typeof n=="string"?Ii.fromBase64String(n):Ii.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="server_timestamp",MS="__type__",jS="__previous_value__",FS="__local_write_time__";function jy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[MS])===null||t===void 0?void 0:t.stringValue)===OS}function Ym(n){const e=n.mapValue.fields[jS];return jy(e)?Ym(e):e}function sd(n){const e=qu(n.mapValue.fields[FS].timestampValue);return new Yr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,t,r,i,s,a,u,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}}const mm="(default)";class od{constructor(e,t){this.projectId=e,this.database=t||mm}static empty(){return new od("","")}get isDefaultDatabase(){return this.database===mm}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="__type__",x6="__max__",Np={mapValue:{}},BS="__vector__",gm="value";function $u(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jy(n)?4:A6(n)?9007199254740991:T6(n)?10:11:Kt()}function Qa(n,e){if(n===e)return!0;const t=$u(n);if(t!==$u(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sd(n).isEqual(sd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=qu(i.timestampValue),u=qu(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Hu(i.bytesValue).isEqual(Hu(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Nr(i.geoPointValue.latitude)===Nr(s.geoPointValue.latitude)&&Nr(i.geoPointValue.longitude)===Nr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nr(i.integerValue)===Nr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Nr(i.doubleValue),u=Nr(s.doubleValue);return a===u?pm(a)===pm(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Hh(n.arrayValue.values||[],e.arrayValue.values||[],Qa);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(uw(a)!==uw(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Qa(a[c],u[c])))return!1;return!0}(n,e);default:return Kt()}}function ad(n,e){return(n.values||[]).find(t=>Qa(t,e))!==void 0}function $h(n,e){if(n===e)return 0;const t=$u(n),r=$u(e);if(t!==r)return on(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return on(n.booleanValue,e.booleanValue);case 2:return function(s,a){const u=Nr(s.integerValue||s.doubleValue),c=Nr(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return hw(n.timestampValue,e.timestampValue);case 4:return hw(sd(n),sd(e));case 5:return g1(n.stringValue,e.stringValue);case 6:return function(s,a){const u=Hu(s),c=Hu(a);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let h=0;h<u.length&&h<c.length;h++){const m=on(u[h],c[h]);if(m!==0)return m}return on(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const u=on(Nr(s.latitude),Nr(a.latitude));return u!==0?u:on(Nr(s.longitude),Nr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fw(n.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,h,m;const y=s.fields||{},_=a.fields||{},w=(u=y[gm])===null||u===void 0?void 0:u.arrayValue,E=(c=_[gm])===null||c===void 0?void 0:c.arrayValue,N=on(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0);return N!==0?N:fw(w,E)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Np.mapValue&&a===Np.mapValue)return 0;if(s===Np.mapValue)return 1;if(a===Np.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),h=a.fields||{},m=Object.keys(h);c.sort(),m.sort();for(let y=0;y<c.length&&y<m.length;++y){const _=g1(c[y],m[y]);if(_!==0)return _;const w=$h(u[c[y]],h[m[y]]);if(w!==0)return w}return on(c.length,m.length)}(n.mapValue,e.mapValue);default:throw Kt()}}function hw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return on(n,e);const t=qu(n),r=qu(e),i=on(t.seconds,r.seconds);return i!==0?i:on(t.nanos,r.nanos)}function fw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=$h(t[i],r[i]);if(s)return s}return on(t.length,r.length)}function Wh(n){return y1(n)}function y1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=qu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Hu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Mt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=y1(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${y1(t.fields[a])}`;return i+"}"}(n.mapValue):Kt()}function Kp(n){switch($u(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ym(n);return e?16+Kp(e):16;case 5:return 2*n.stringValue.length;case 6:return Hu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Kp(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ju(r.fields,(s,a)=>{i+=s.length+Kp(a)}),i}(n.mapValue);default:throw Kt()}}function dw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function v1(n){return!!n&&"integerValue"in n}function Fy(n){return!!n&&"arrayValue"in n}function pw(n){return!!n&&"nullValue"in n}function mw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yp(n){return!!n&&"mapValue"in n}function T6(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[VS])===null||t===void 0?void 0:t.stringValue)===BS}function Hf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ju(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===x6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.value=e}static empty(){return new Ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hf(t)}setAll(e){let t=Ei.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}a?r[u.lastSegment()]=Hf(a):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Yp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Yp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ju(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ds(Hf(this.value))}}function US(n){const e=[];return Ju(n.fields,(t,r)=>{const i=new Ei([t]);if(Yp(r)){const s=US(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new to(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,r,i,s,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Gi(e,0,Jt.min(),Jt.min(),Jt.min(),Ds.empty(),0)}static newFoundDocument(e,t,r,i){return new Gi(e,1,t,Jt.min(),r,i,0)}static newNoDocument(e,t){return new Gi(e,2,t,Jt.min(),Jt.min(),Ds.empty(),0)}static newUnknownDocument(e,t){return new Gi(e,3,t,Jt.min(),Jt.min(),Ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t){this.position=e,this.inclusive=t}}function gw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=Mt.comparator(Mt.fromName(a.referenceValue),t.key):r=$h(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qa(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t="asc"){this.field=e,this.dir=t}}function E6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{}class Mr extends zS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new P6(e,t,r):t==="array-contains"?new k6(e,r):t==="in"?new L6(e,r):t==="not-in"?new R6(e,r):t==="array-contains-any"?new D6(e,r):new Mr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new C6(e,r):new N6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($h(t,this.value)):t!==null&&$u(this.value)===$u(t)&&this.matchesComparison($h(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pa extends zS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new pa(e,t)}matches(e){return qS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function qS(n){return n.op==="and"}function HS(n){return I6(n)&&qS(n)}function I6(n){for(const e of n.filters)if(e instanceof pa)return!1;return!0}function w1(n){if(n instanceof Mr)return n.field.canonicalString()+n.op.toString()+Wh(n.value);if(HS(n))return n.filters.map(e=>w1(e)).join(",");{const e=n.filters.map(t=>w1(t)).join(",");return`${n.op}(${e})`}}function $S(n,e){return n instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.field.isEqual(i.field)&&Qa(r.value,i.value)}(n,e):n instanceof pa?function(r,i){return i instanceof pa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&$S(a,i.filters[u]),!0):!1}(n,e):void Kt()}function WS(n){return n instanceof Mr?function(t){return`${t.field.canonicalString()} ${t.op} ${Wh(t.value)}`}(n):n instanceof pa?function(t){return t.op.toString()+" {"+t.getFilters().map(WS).join(" ,")+"}"}(n):"Filter"}class P6 extends Mr{constructor(e,t,r){super(e,t,r),this.key=Mt.fromName(r.referenceValue)}matches(e){const t=Mt.comparator(e.key,this.key);return this.matchesComparison(t)}}class C6 extends Mr{constructor(e,t){super(e,"in",t),this.keys=GS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class N6 extends Mr{constructor(e,t){super(e,"not-in",t),this.keys=GS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Mt.fromName(r.referenceValue))}class k6 extends Mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fy(t)&&ad(t.arrayValue,this.value)}}class L6 extends Mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ad(this.value.arrayValue,t)}}class R6 extends Mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ad(this.value.arrayValue,t)}}class D6 extends Mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ad(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.le=null}}function vw(n,e=null,t=[],r=[],i=null,s=null,a=null){return new O6(n,e,t,r,i,s,a)}function Vy(n){const e=en(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>w1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Km(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wh(r)).join(",")),e.le=t}return e.le}function By(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!E6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$S(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yw(n.startAt,e.startAt)&&yw(n.endAt,e.endAt)}function _1(n){return Mt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function M6(n,e,t,r,i,s,a,u){return new af(n,e,t,r,i,s,a,u)}function Uy(n){return new af(n)}function ww(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KS(n){return n.collectionGroup!==null}function $f(n){const e=en(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Qr(Ei.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new ld(s,r))}),t.has(Ei.keyField().canonicalString())||e.he.push(new ld(Ei.keyField(),r))}return e.he}function qa(n){const e=en(n);return e.Pe||(e.Pe=j6(e,$f(n))),e.Pe}function j6(n,e){if(n.limitType==="F")return vw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ld(i.field,s)});const t=n.endAt?new ym(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ym(n.startAt.position,n.startAt.inclusive):null;return vw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function b1(n,e){const t=n.filters.concat([e]);return new af(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function S1(n,e,t){return new af(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qm(n,e){return By(qa(n),qa(e))&&n.limitType===e.limitType}function YS(n){return`${Vy(qa(n))}|lt:${n.limitType}`}function vh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>WS(i)).join(", ")}]`),Km(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wh(i)).join(",")),`Target(${r})`}(qa(n))}; limitType=${n.limitType})`}function Xm(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Mt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of $f(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const h=gw(a,u,c);return a.inclusive?h<=0:h<0}(r.startAt,$f(r),i)||r.endAt&&!function(a,u,c){const h=gw(a,u,c);return a.inclusive?h>=0:h>0}(r.endAt,$f(r),i))}(n,e)}function F6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QS(n){return(e,t)=>{let r=!1;for(const i of $f(n)){const s=V6(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function V6(n,e,t){const r=n.field.isKeyField()?Mt.comparator(e.key,t.key):function(s,a,u){const c=a.data.field(s),h=u.data.field(s);return c!==null&&h!==null?$h(c,h):Kt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Kt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ju(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new gr(Mt.comparator);function Ml(){return B6}const XS=new gr(Mt.comparator);function Ff(...n){let e=XS;for(const t of n)e=e.insert(t.key,t);return e}function JS(n){let e=XS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ic(){return Wf()}function ZS(){return Wf()}function Wf(){return new Hc(n=>n.toString(),(n,e)=>n.isEqual(e))}const U6=new gr(Mt.comparator),z6=new Qr(Mt.comparator);function fn(...n){let e=z6;for(const t of n)e=e.add(t);return e}const q6=new Qr(on);function H6(){return q6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pm(e)?"-0":e}}function ex(n){return{integerValue:""+n}}function $6(n,e){return v6(e)?ex(e):zy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this._=void 0}}function W6(n,e,t){return n instanceof vm?function(i,s){const a={fields:{[MS]:{stringValue:OS},[FS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jy(s)&&(s=Ym(s)),s&&(a.fields[jS]=s),{mapValue:a}}(t,e):n instanceof ud?nx(n,e):n instanceof cd?rx(n,e):function(i,s){const a=tx(i,s),u=_w(a)+_w(i.Ie);return v1(a)&&v1(i.Ie)?ex(u):zy(i.serializer,u)}(n,e)}function G6(n,e,t){return n instanceof ud?nx(n,e):n instanceof cd?rx(n,e):t}function tx(n,e){return n instanceof wm?function(r){return v1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class vm extends Jm{}class ud extends Jm{constructor(e){super(),this.elements=e}}function nx(n,e){const t=ix(e);for(const r of n.elements)t.some(i=>Qa(i,r))||t.push(r);return{arrayValue:{values:t}}}class cd extends Jm{constructor(e){super(),this.elements=e}}function rx(n,e){let t=ix(e);for(const r of n.elements)t=t.filter(i=>!Qa(i,r));return{arrayValue:{values:t}}}class wm extends Jm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function _w(n){return Nr(n.integerValue||n.doubleValue)}function ix(n){return Fy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function K6(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ud&&i instanceof ud||r instanceof cd&&i instanceof cd?Hh(r.elements,i.elements,Qa):r instanceof wm&&i instanceof wm?Qa(r.Ie,i.Ie):r instanceof vm&&i instanceof vm}(n.transform,e.transform)}class Y6{constructor(e,t){this.version=e,this.transformResults=t}}class ds{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Zm{}function sx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new eg(n.key,ds.none()):new Nd(n.key,n.data,ds.none());{const t=n.data,r=Ds.empty();let i=new Qr(Ei.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Zu(n.key,r,new to(i.toArray()),ds.none())}}function Q6(n,e,t){n instanceof Nd?function(i,s,a){const u=i.value.clone(),c=Sw(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Zu?function(i,s,a){if(!Qp(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=Sw(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(ox(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Gf(n,e,t,r){return n instanceof Nd?function(s,a,u,c){if(!Qp(s.precondition,a))return u;const h=s.value.clone(),m=xw(s.fieldTransforms,c,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zu?function(s,a,u,c){if(!Qp(s.precondition,a))return u;const h=xw(s.fieldTransforms,c,a),m=a.data;return m.setAll(ox(s)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(s,a,u){return Qp(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(n,e,t)}function X6(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=tx(r.transform,i||null);s!=null&&(t===null&&(t=Ds.empty()),t.set(r.field,s))}return t||null}function bw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hh(r,i,(s,a)=>K6(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nd extends Zm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zu extends Zm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ox(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Sw(n,e,t){const r=new Map;jn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,G6(a,u,t[i]))}return r}function xw(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,W6(s,a,e))}return r}class eg extends Zm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J6 extends Zm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Q6(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZS();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=t.has(i.key)?null:u;const c=sx(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Jt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&Hh(this.mutations,e.mutations,(t,r)=>bw(t,r))&&Hh(this.baseMutations,e.baseMutations,(t,r)=>bw(t,r))}}class qy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){jn(e.mutations.length===r.length);let i=function(){return U6}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new qy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or,yn;function nL(n){switch(n){case $e.OK:return Kt();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0;default:return Kt()}}function ax(n){if(n===void 0)return Ol("GRPC error has no .code"),$e.UNKNOWN;switch(n){case Or.OK:return $e.OK;case Or.CANCELLED:return $e.CANCELLED;case Or.UNKNOWN:return $e.UNKNOWN;case Or.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case Or.INTERNAL:return $e.INTERNAL;case Or.UNAVAILABLE:return $e.UNAVAILABLE;case Or.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case Or.NOT_FOUND:return $e.NOT_FOUND;case Or.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case Or.ABORTED:return $e.ABORTED;case Or.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case Or.DATA_LOSS:return $e.DATA_LOSS;default:return Kt()}}(yn=Or||(Or={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new Fu([4294967295,4294967295],0);function Tw(n){const e=NS().encode(n),t=new xS;return t.update(e),new Uint8Array(t.digest())}function Aw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fu([t,r],0),new Fu([i,s],0)]}class Hy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vf(`Invalid padding: ${t}`);if(r<0)throw new Vf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vf(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Fu.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Fu.fromNumber(r)));return i.compare(rL)===1&&(i=new Fu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Tw(e),[r,i]=Aw(t);for(let s=0;s<this.hashCount;s++){const a=this.Ae(r,i,s);if(!this.Re(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Hy(s,i,t);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ee===0)return;const t=Tw(e),[r,i]=Aw(t);for(let s=0;s<this.hashCount;s++){const a=this.Ae(r,i,s);this.Ve(a)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,kd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tg(Jt.min(),i,new gr(on),Ml(),fn())}}class kd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new kd(r,t,fn(),fn(),fn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class lx{constructor(e,t){this.targetId=e,this.ge=t}}class ux{constructor(e,t,r=Ii.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Ew{constructor(){this.pe=0,this.ye=Iw(),this.we=Ii.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=fn(),t=fn(),r=fn();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Kt()}}),new kd(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=Iw()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,jn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class iL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ml(),this.$e=kp(),this.Ue=kp(),this.Ke=new gr(on)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Kt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(_1(s))if(r===0){const a=new Mt(s.path);this.ze(t,a,Gi.newNoDocument(a,Jt.min()))}else jn(r===1);else{const a=this.et(t);if(a!==r){const u=this.tt(e),c=u?this.nt(u,e,a):1;if(c!==0){this.Ye(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,u;try{a=Hu(r).toUint8Array()}catch(c){if(c instanceof DS)return qh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Hy(a,i,s)}catch(c){return qh(c instanceof Vf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const a=this.ke.it(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,a)=>{const u=this.Xe(a);if(u){if(s.current&&_1(u.target)){const c=new Mt(u.target.path);this._t(c).has(a)||this.ut(a,c)||this.ze(a,c,Gi.newNoDocument(c,e))}s.ve&&(t.set(a,s.Fe()),s.Me())}});let r=fn();this.Ue.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const h=this.Xe(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qe.forEach((s,a)=>a.setReadTime(e));const i=new tg(e,t,this.Ke,this.Qe,r);return this.Qe=Ml(),this.$e=kp(),this.Ue=kp(),this.Ke=new gr(on),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ew,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Qr(on),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Qr(on),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Tt("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ew),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function kp(){return new gr(Mt.comparator)}function Iw(){return new gr(Mt.comparator)}const sL={asc:"ASCENDING",desc:"DESCENDING"},oL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aL={and:"AND",or:"OR"};class lL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function x1(n,e){return n.useProto3Json||Km(e)?e:{value:e}}function _m(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uL(n,e){return _m(n,e.toTimestamp())}function Ha(n){return jn(!!n),Jt.fromTimestamp(function(t){const r=qu(t);return new Yr(r.seconds,r.nanos)}(n))}function $y(n,e){return T1(n,e).canonicalString()}function T1(n,e){const t=function(i){return new nr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hx(n){const e=nr.fromString(n);return jn(gx(e)),e}function A1(n,e){return $y(n.databaseId,e.path)}function A0(n,e){const t=hx(e);if(t.get(1)!==n.databaseId.projectId)throw new At($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new At($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Mt(dx(t))}function fx(n,e){return $y(n.databaseId,e)}function cL(n){const e=hx(n);return e.length===4?nr.emptyPath():dx(e)}function E1(n){return new nr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dx(n){return jn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Pw(n,e,t){return{name:A1(n,e),fields:t.value.mapValue.fields}}function hL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Kt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(jn(m===void 0||typeof m=="string"),Ii.fromBase64String(m||"")):(jn(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ii.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(h){const m=h.code===void 0?$e.UNKNOWN:ax(h.code);return new At(m,h.message||"")}(a);t=new ux(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=A0(n,r.document.name),s=Ha(r.document.updateTime),a=r.document.createTime?Ha(r.document.createTime):Jt.min(),u=new Ds({mapValue:{fields:r.document.fields}}),c=Gi.newFoundDocument(i,s,a,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new Xp(h,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=A0(n,r.document),s=r.readTime?Ha(r.readTime):Jt.min(),a=Gi.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Xp([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=A0(n,r.document),s=r.removedTargetIds||[];t=new Xp([],s,i,null)}else{if(!("filter"in e))return Kt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new tL(i,s),u=r.targetId;t=new lx(u,a)}}return t}function fL(n,e){let t;if(e instanceof Nd)t={update:Pw(n,e.key,e.value)};else if(e instanceof eg)t={delete:A1(n,e.key)};else if(e instanceof Zu)t={update:Pw(n,e.key,e.data),updateMask:bL(e.fieldMask)};else{if(!(e instanceof J6))return Kt();t={verify:A1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof vm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ud)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof wm)return{fieldPath:a.field.canonicalString(),increment:u.Ie};throw Kt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Kt()}(n,e.precondition)),t}function dL(n,e){return n&&n.length>0?(jn(e!==void 0),n.map(t=>function(i,s){let a=i.updateTime?Ha(i.updateTime):Ha(s);return a.isEqual(Jt.min())&&(a=Ha(s)),new Y6(a,i.transformResults||[])}(t,e))):[]}function pL(n,e){return{documents:[fx(n,e.path)]}}function mL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fx(n,i);const s=function(h){if(h.length!==0)return mx(pa.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:wh(_.field),direction:vL(_.dir)}}(m))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=x1(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function gL(n){let e=cL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){jn(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(y){const _=px(y);return _ instanceof pa&&HS(_)?_.getFilters():[_]}(t.where));let a=[];t.orderBy&&(a=function(y){return y.map(_=>function(E){return new ld(_h(E.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(y){let _;return _=typeof y=="object"?y.value:y,Km(_)?null:_}(t.limit));let c=null;t.startAt&&(c=function(y){const _=!!y.before,w=y.values||[];return new ym(w,_)}(t.startAt));let h=null;return t.endAt&&(h=function(y){const _=!y.before,w=y.values||[];return new ym(w,_)}(t.endAt)),M6(e,i,a,s,u,"F",c,h)}function yL(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function px(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_h(t.unaryFilter.field);return Mr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_h(t.unaryFilter.field);return Mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_h(t.unaryFilter.field);return Mr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_h(t.unaryFilter.field);return Mr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(n):n.fieldFilter!==void 0?function(t){return Mr.create(_h(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pa.create(t.compositeFilter.filters.map(r=>px(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Kt()}}(t.compositeFilter.op))}(n):Kt()}function vL(n){return sL[n]}function wL(n){return oL[n]}function _L(n){return aL[n]}function wh(n){return{fieldPath:n.canonicalString()}}function _h(n){return Ei.fromServerFormat(n.fieldPath)}function mx(n){return n instanceof Mr?function(t){if(t.op==="=="){if(mw(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NAN"}};if(pw(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mw(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NOT_NAN"}};if(pw(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wh(t.field),op:wL(t.op),value:t.value}}}(n):n instanceof pa?function(t){const r=t.getFilters().map(i=>mx(i));return r.length===1?r[0]:{compositeFilter:{op:_L(t.op),filters:r}}}(n):Kt()}function bL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t,r,i,s=Jt.min(),a=Jt.min(),u=Ii.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.Tt=e}}function xL(n){const e=gL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?S1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.Tn=new AL}addToCollectionParentIndex(e,t){return this.Tn.add(t),Ge.resolve()}getCollectionParents(e,t){return Ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Ge.resolve()}deleteFieldIndex(e,t){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,t){return Ge.resolve()}getDocumentsMatchingTarget(e,t){return Ge.resolve(null)}getIndexType(e,t){return Ge.resolve(0)}getFieldIndexes(e,t){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,t){return Ge.resolve(zu.min())}getMinOffsetFromCollectionGroup(e,t){return Ge.resolve(zu.min())}updateCollectionGroup(e,t,r){return Ge.resolve()}updateIndexEntries(e,t){return Ge.resolve()}}class AL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qr(nr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qr(nr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yx=41943040;class Rs{static withCacheSize(e){return new Rs(e,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(yx,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Gh(0)}static Kn(){return new Gh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LruGarbageCollector",EL=1048576;function kw([n,e],[t,r]){const i=on(n,t);return i===0?on(e,r):i}class IL{constructor(e){this.Hn=e,this.buffer=new Qr(kw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Tt(Nw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){of(t)?Tt(Nw,"Ignoring IndexedDB error during garbage collection: ",t):await sf(t)}await this.er(3e5)})}}class CL{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Ge.resolve(Gm.ae);const r=new IL(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(Cw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cw):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,a,u,c,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(s=y,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),yh()<=hn.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${y} documents in `+(h-c)+`ms
Total Duration: ${h-m}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}function NL(n,e){return new CL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.changes=new Hc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Gf(r.mutation,i,to.empty(),Yr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fn()){const i=Ic();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=Ff();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=Ic();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{t.set(a,u)})})}computeViews(e,t,r,i){let s=Ml();const a=Wf(),u=function(){return Wf()}();return t.forEach((c,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Zu)?s=s.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Gf(m.mutation,h,m.mutation.getFieldMask(),Yr.now())):a.set(h.key,to.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,m)=>a.set(h,m)),t.forEach((h,m)=>{var y;return u.set(h,new LL(m,(y=a.get(h))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Wf();let i=new gr((a,u)=>a-u),s=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const u of a)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let m=r.get(c)||to.empty();m=u.applyToLocalView(h,m),r.set(c,m);const y=(i.get(u.batchId)||fn()).add(c);i=i.insert(u.batchId,y)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,m=c.value,y=ZS();m.forEach(_=>{if(!s.has(_)){const w=sx(t.get(_),r.get(_));w!==null&&y.set(_,w),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,y))}return Ge.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return Mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Ge.resolve(Ic());let u=id,c=s;return a.next(h=>Ge.forEach(h,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),s.get(m)?Ge.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{c=c.insert(m,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,fn())).next(m=>({batchId:u,changes:JS(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mt(t)).next(r=>{let i=Ff();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=Ff();return this.indexManager.getCollectionParents(e,s).next(u=>Ge.forEach(u,c=>{const h=function(y,_){return new af(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((y,_)=>{a=a.insert(y,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((c,h)=>{const m=h.getKey();a.get(m)===null&&(a=a.insert(m,Gi.newInvalidDocument(m)))});let u=Ff();return a.forEach((c,h)=>{const m=s.get(c);m!==void 0&&Gf(m.mutation,h,to.empty(),Yr.now()),Xm(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ha(i.createTime)}}(t)),Ge.resolve()}getNamedQuery(e,t){return Ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:xL(i.bundledQuery),readTime:Ha(i.readTime)}}(t)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.overlays=new gr(Mt.comparator),this.Rr=new Map}getOverlay(e,t){return Ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ic();return Ge.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),Ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),Ge.resolve()}getOverlaysForCollection(e,t,r){const i=Ic(),s=t.length+1,a=new Mt(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new gr((h,m)=>h-m);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=Ic(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Ic(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return Ge.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new eL(t,r));let s=this.Rr.get(t);s===void 0&&(s=fn(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.sessionToken=Ii.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.Vr=new Qr(ci.mr),this.gr=new Qr(ci.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new ci(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new ci(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Mt(new nr([])),r=new ci(t,e),i=new ci(t,e+1),s=[];return this.gr.forEachInRange([r,i],a=>{this.wr(a),s.push(a.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Mt(new nr([])),r=new ci(t,e),i=new ci(t,e+1);let s=fn();return this.gr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new ci(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ci{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Mt.comparator(e.key,t.key)||on(e.Cr,t.Cr)}static pr(e,t){return on(e.Cr,t.Cr)||Mt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Qr(ci.mr)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Z6(s,t,r,i);this.mutationQueue.push(a);for(const u of i)this.Mr=this.Mr.add(new ci(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ge.resolve(a)}lookupMutationBatch(e,t){return Ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return Ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?My:this.Fr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ci(t,0),i=new ci(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],a=>{const u=this.Or(a.Cr);s.push(u)}),Ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qr(on);return t.forEach(i=>{const s=new ci(i,0),a=new ci(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,a],u=>{r=r.add(u.Cr)})}),Ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Mt.isDocumentKey(s)||(s=s.child(""));const a=new ci(new Mt(s),0);let u=new Qr(on);return this.Mr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Cr)),!0)},a),Ge.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){jn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Ge.forEach(t.mutations,i=>{const s=new ci(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new ci(t,0),i=this.Mr.firstAfterOrEqual(r);return Ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.kr=e,this.docs=function(){return new gr(Mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ge.resolve(r?r.document.mutableCopy():Gi.newInvalidDocument(t))}getEntries(e,t){let r=Ml();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gi.newInvalidDocument(i))}),Ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ml();const a=t.path,u=new Mt(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||p6(d6(m),r)<=0||(i.has(m.key)||Xm(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Ge.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Kt()}qr(e,t){return Ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new VL(this)}getSize(e){return Ge.resolve(this.size)}}class VL extends kL{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.persistence=e,this.Qr=new Hc(t=>Vy(t),By),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Wy,this.targetCount=0,this.Kr=Gh.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Gh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Ge.resolve()}updateTargetData(e,t){return this.zn(t),Ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((a,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Ge.waitFor(s).next(()=>i)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),Ge.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ge.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return Ge.resolve(r)}containsKey(e,t){return Ge.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Gm(0),this.zr=!1,this.zr=!0,this.jr=new ML,this.referenceDelegate=e(this),this.Hr=new BL(this),this.indexManager=new TL,this.remoteDocumentCache=function(i){return new FL(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new SL(t),this.Yr=new DL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new jL(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Tt("MemoryPersistence","Starting transaction:",e);const i=new UL(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return Ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class UL extends g6{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.ti=new Wy,this.ni=null}static ri(e){return new Gy(e)}get ii(){if(this.ni)return this.ni;throw Kt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.ii,r=>{const i=Mt.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,Jt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Ge.or([()=>Ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class bm{constructor(e,t){this.persistence=e,this.oi=new Hc(r=>w6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=NL(this,t)}static ri(e,t){return new bm(e,t)}Zr(){}Xr(e){return Ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Ge.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?Ge.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,a=>this.ar(e,a,t).next(u=>{u||(r++,s.removeEntry(a,Jt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kp(e.data.value)),t}ar(e,t,r){return Ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=fn(),i=fn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ky(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return xP()?8:y6(Qi())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new zL;return this._s(e,t,a).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,a,u.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(yh()<=hn.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",vh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ge.resolve()):(yh()<=hn.DEBUG&&Tt("QueryEngine","Query:",vh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(yh()<=hn.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",vh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qa(t))):Ge.resolve())}rs(e,t){if(ww(t))return Ge.resolve(null);let r=qa(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=S1(t,null,"F"),r=qa(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=fn(...s);return this.ns.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.cs(t,u);return this.ls(t,h,a,c.readTime)?this.rs(e,S1(t,null,"F")):this.hs(e,h,t,c)}))})))}ss(e,t,r,i){return ww(t)||i.isEqual(Jt.min())?Ge.resolve(null):this.ns.getDocuments(e,r).next(s=>{const a=this.cs(t,s);return this.ls(t,a,r,i)?Ge.resolve(null):(yh()<=hn.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vh(t)),this.hs(e,a,t,f6(i,id)).next(u=>u))})}cs(e,t){let r=new Qr(QS(e));return t.forEach((i,s)=>{Xm(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return yh()<=hn.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",vh(t)),this.ns.getDocumentsMatchingQuery(e,t,zu.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LocalStore",HL=3e8;class $L{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new gr(on),this.Is=new Hc(s=>Vy(s),By),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RL(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function WL(n,e,t,r){return new $L(n,e,t,r)}async function wx(n,e){const t=en(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=fn();for(const h of i){a.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}return t.localDocuments.getDocuments(r,c).next(h=>({Rs:h,removedBatchIds:a,addedBatchIds:u}))})})}function GL(n,e){const t=en(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,c,h,m){const y=h.batch,_=y.keys();let w=Ge.resolve();return _.forEach(E=>{w=w.next(()=>m.getEntry(c,E)).next(N=>{const L=h.docVersions.get(E);jn(L!==null),N.version.compareTo(L)<0&&(y.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),m.addEntry(N)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(c,y))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=fn();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _x(n){const e=en(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function KL(n,e){const t=en(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,y)=>{const _=i.get(y);if(!_)return;u.push(t.Hr.removeMatchingKeys(s,m.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(s,m.addedDocuments,y)));let w=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(Ii.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),i=i.insert(y,w),function(N,L,I){return N.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=HL?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(_,w,m)&&u.push(t.Hr.updateTargetData(s,w))});let c=Ml(),h=fn();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(YL(s,a,e.documentUpdates).next(m=>{c=m.Vs,h=m.fs})),!r.isEqual(Jt.min())){const m=t.Hr.getLastRemoteSnapshotVersion(s).next(y=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return Ge.waitFor(u).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(t.Ts=i,s))}function YL(n,e,t){let r=fn(),i=fn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=Ml();return t.forEach((u,c)=>{const h=s.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Jt.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Tt(Yy,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{Vs:a,fs:i}})}function QL(n,e){const t=en(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=My),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XL(n,e){const t=en(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,Ge.resolve(i)):t.Hr.allocateTargetId(r).next(a=>(i=new Ru(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function I1(n,e,t){const r=en(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!of(a))throw a;Tt(Yy,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Lw(n,e,t){const r=en(n);let i=Jt.min(),s=fn();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,m){const y=en(c),_=y.Is.get(m);return _!==void 0?Ge.resolve(y.Ts.get(_)):y.Hr.getTargetData(h,m)}(r,a,qa(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(a,e,t?i:Jt.min(),t?s:fn())).next(u=>(JL(r,F6(e),u),{documents:u,gs:s})))}function JL(n,e,t){let r=n.Es.get(e)||Jt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class Rw{constructor(){this.activeTargetIds=H6()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZL{constructor(){this.ho=new Rw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Rw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="ConnectivityMonitor";class Ow{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Tt(Dw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Tt(Dw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp=null;function P1(){return Lp===null?Lp=function(){return 268435456+Math.round(2147483648*Math.random())}():Lp++,"0x"+Lp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="RestConnection",tR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===mm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,s){const a=P1(),u=this.bo(e,t.toUriEncodedString());Tt(E0,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(e,u,c,r).then(h=>(Tt(E0,`Received RPC '${e}' ${a}: `,h),h),h=>{throw qh(E0,`RPC '${e}' ${a} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,s,a){return this.So(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,t){const r=tR[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="WebChannelConnection";class iR extends nR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=P1();return new Promise((a,u)=>{const c=new TS;c.setWithCredentials(!0),c.listenOnce(AS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Gp.NO_ERROR:const m=c.getResponseJson();Tt(Bi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),a(m);break;case Gp.TIMEOUT:Tt(Bi,`RPC '${e}' ${s} timed out`),u(new At($e.DEADLINE_EXCEEDED,"Request time out"));break;case Gp.HTTP_ERROR:const y=c.getStatus();if(Tt(Bi,`RPC '${e}' ${s} failed with status:`,y,"response text:",c.getResponseText()),y>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const E=function(L){const I=L.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(I)>=0?I:$e.UNKNOWN}(w.status);u(new At(E,w.message))}else u(new At($e.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new At($e.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{Tt(Bi,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Tt(Bi,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=P1(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=PS(),u=IS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const m=s.join("");Tt(Bi,`Creating RPC '${e}' stream ${i}: ${m}`,c);const y=a.createWebChannel(m,c);let _=!1,w=!1;const E=new rR({Fo:L=>{w?Tt(Bi,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(_||(Tt(Bi,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),Tt(Bi,`RPC '${e}' stream ${i} sending:`,L),y.send(L))},Mo:()=>y.close()}),N=(L,I,j)=>{L.listen(I,q=>{try{j(q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return N(y,jf.EventType.OPEN,()=>{w||(Tt(Bi,`RPC '${e}' stream ${i} transport opened.`),E.Qo())}),N(y,jf.EventType.CLOSE,()=>{w||(w=!0,Tt(Bi,`RPC '${e}' stream ${i} transport closed`),E.Uo())}),N(y,jf.EventType.ERROR,L=>{w||(w=!0,qh(Bi,`RPC '${e}' stream ${i} transport errored:`,L),E.Uo(new At($e.UNAVAILABLE,"The operation could not be completed")))}),N(y,jf.EventType.MESSAGE,L=>{var I;if(!w){const j=L.data[0];jn(!!j);const q=j,ee=(q==null?void 0:q.error)||((I=q[0])===null||I===void 0?void 0:I.error);if(ee){Tt(Bi,`RPC '${e}' stream ${i} received error:`,ee);const ie=ee.status;let de=function(U){const G=Or[U];if(G!==void 0)return ax(G)}(ie),z=ee.message;de===void 0&&(de=$e.INTERNAL,z="Unknown error status: "+ie+" with message "+ee.message),w=!0,E.Uo(new At(de,z)),y.close()}else Tt(Bi,`RPC '${e}' stream ${i} received:`,j),E.Ko(j)}}),N(u,ES.STAT_EVENT,L=>{L.stat===m1.PROXY?Tt(Bi,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===m1.NOPROXY&&Tt(Bi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function I0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n){return new lL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&Tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="PersistentStream";class Sx{constructor(e,t,r,i,s,a,u,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bx(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===$e.RESOURCE_EXHAUSTED?(Ol(t.toString()),Ol("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===$e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new At($e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Tt(Mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Tt(Mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sR extends Sx{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=hL(this.serializer,e),r=function(s){if(!("targetChange"in s))return Jt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Jt.min():a.readTime?Ha(a.readTime):Jt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=E1(this.serializer),t.addTarget=function(s,a){let u;const c=a.target;if(u=_1(c)?{documents:pL(s,c)}:{query:mL(s,c).ht},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=cx(s,a.resumeToken);const h=x1(s,a.expectedCount);h!==null&&(u.expectedCount=h)}else if(a.snapshotVersion.compareTo(Jt.min())>0){u.readTime=_m(s,a.snapshotVersion.toTimestamp());const h=x1(s,a.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=yL(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=E1(this.serializer),t.removeTarget=e,this.I_(t)}}class oR extends Sx{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return jn(!!e.streamToken),this.lastStreamToken=e.streamToken,jn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=dL(e.writeResults,e.commitTime),r=Ha(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=E1(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fL(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{}class lR extends aR{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new At($e.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,T1(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new At($e.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Co(e,T1(t,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new At($e.UNKNOWN,a.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class uR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ol(t),this.N_=!1):Tt("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="RemoteStore";class cR{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(a=>{r.enqueueAndForget(async()=>{$c(this)&&(Tt(jc,"Restarting streams for network reachability change."),await async function(c){const h=en(c);h.W_.add(4),await Ld(h),h.j_.set("Unknown"),h.W_.delete(4),await rg(h)}(this))})}),this.j_=new uR(r,i)}}async function rg(n){if($c(n))for(const e of n.G_)await e(!0)}async function Ld(n){for(const e of n.G_)await e(!1)}function xx(n,e){const t=en(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Zy(t)?Jy(t):lf(t).c_()&&Xy(t,e))}function Qy(n,e){const t=en(n),r=lf(t);t.K_.delete(e),r.c_()&&Tx(t,e),t.K_.size===0&&(r.c_()?r.P_():$c(t)&&t.j_.set("Unknown"))}function Xy(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lf(n).y_(e)}function Tx(n,e){n.H_.Ne(e),lf(n).w_(e)}function Jy(n){n.H_=new iL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),lf(n).start(),n.j_.B_()}function Zy(n){return $c(n)&&!lf(n).u_()&&n.K_.size>0}function $c(n){return en(n).W_.size===0}function Ax(n){n.H_=void 0}async function hR(n){n.j_.set("Online")}async function fR(n){n.K_.forEach((e,t)=>{Xy(n,e)})}async function dR(n,e){Ax(n),Zy(n)?(n.j_.q_(e),Jy(n)):n.j_.set("Unknown")}async function pR(n,e,t){if(n.j_.set("Online"),e instanceof ux&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.K_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.K_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){Tt(jc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sm(n,r)}else if(e instanceof Xp?n.H_.We(e):e instanceof lx?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Jt.min()))try{const r=await _x(n.localStore);t.compareTo(r)>=0&&await function(s,a){const u=s.H_.ot(a);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const m=s.K_.get(h);m&&s.K_.set(h,m.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,h)=>{const m=s.K_.get(c);if(!m)return;s.K_.set(c,m.withResumeToken(Ii.EMPTY_BYTE_STRING,m.snapshotVersion)),Tx(s,c);const y=new Ru(m.target,c,h,m.sequenceNumber);Xy(s,y)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){Tt(jc,"Failed to raise snapshot:",r),await Sm(n,r)}}async function Sm(n,e,t){if(!of(e))throw e;n.W_.add(1),await Ld(n),n.j_.set("Offline"),t||(t=()=>_x(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Tt(jc,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await rg(n)})}function Ex(n,e){return e().catch(t=>Sm(n,t,e))}async function ig(n){const e=en(n),t=Wu(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:My;for(;mR(e);)try{const i=await QL(e.localStore,r);if(i===null){e.U_.length===0&&t.P_();break}r=i.batchId,gR(e,i)}catch(i){await Sm(e,i)}Ix(e)&&Px(e)}function mR(n){return $c(n)&&n.U_.length<10}function gR(n,e){n.U_.push(e);const t=Wu(n);t.c_()&&t.S_&&t.b_(e.mutations)}function Ix(n){return $c(n)&&!Wu(n).u_()&&n.U_.length>0}function Px(n){Wu(n).start()}async function yR(n){Wu(n).C_()}async function vR(n){const e=Wu(n);for(const t of n.U_)e.b_(t.mutations)}async function wR(n,e,t){const r=n.U_.shift(),i=qy.from(r,e,t);await Ex(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ig(n)}async function _R(n,e){e&&Wu(n).S_&&await async function(r,i){if(function(a){return nL(a)&&a!==$e.ABORTED}(i.code)){const s=r.U_.shift();Wu(r).h_(),await Ex(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ig(r)}}(n,e),Ix(n)&&Px(n)}async function jw(n,e){const t=en(n);t.asyncQueue.verifyOperationInProgress(),Tt(jc,"RemoteStore received new credentials");const r=$c(t);t.W_.add(3),await Ld(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await rg(t)}async function bR(n,e){const t=en(n);e?(t.W_.delete(2),await rg(t)):e||(t.W_.add(2),await Ld(t),t.j_.set("Unknown"))}function lf(n){return n.J_||(n.J_=function(t,r,i){const s=en(t);return s.M_(),new sR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:hR.bind(null,n),No:fR.bind(null,n),Lo:dR.bind(null,n),p_:pR.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Zy(n)?Jy(n):n.j_.set("Unknown")):(await n.J_.stop(),Ax(n))})),n.J_}function Wu(n){return n.Y_||(n.Y_=function(t,r,i){const s=en(t);return s.M_(),new oR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:yR.bind(null,n),Lo:_R.bind(null,n),D_:vR.bind(null,n),v_:wR.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await ig(n)):(await n.Y_.stop(),n.U_.length>0&&(Tt(jc,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,u=new ev(e,t,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(n,e){if(Ol("AsyncQueue",`${e}: ${n}`),of(n))return new At($e.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{static emptySet(e){return new Dh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Mt.comparator(t.key,r.key):(t,r)=>Mt.comparator(t.key,r.key),this.keyedMap=Ff(),this.sortedSet=new gr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Dh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Z_=new gr(Mt.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Kt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Kh{constructor(e,t,r,i,s,a,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Kh(e,t,Dh.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class xR{constructor(){this.queries=Vw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=en(t),s=i.queries;i.queries=Vw(),s.forEach((a,u)=>{for(const c of u.ta)c.onError(r)})})(this,new At($e.ABORTED,"Firestore shutting down"))}}function Vw(){return new Hc(n=>YS(n),Qm)}async function Cx(n,e){const t=en(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new SR,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const u=tv(a,`Initialization of query '${vh(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&nv(t)}async function Nx(n,e){const t=en(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.ta.indexOf(e);a>=0&&(s.ta.splice(a,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function TR(n,e){const t=en(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const u of a.ta)u.oa(i)&&(r=!0);a.ea=i}}r&&nv(t)}function AR(n,e,t){const r=en(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function nv(n){n.ia.forEach(e=>{e.next()})}var C1,Bw;(Bw=C1||(C1={}))._a="default",Bw.Cache="cache";class kx{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Kh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==C1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.key=e}}class Rx{constructor(e){this.key=e}}class ER{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=fn(),this.mutatedKeys=fn(),this.ya=QS(e),this.wa=new Dh(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new Fw,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const _=i.get(m),w=Xm(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;_&&w?_.data.isEqual(w.data)?E!==N&&(r.track({type:3,doc:w}),L=!0):this.va(_,w)||(r.track({type:2,doc:w}),L=!0,(c&&this.ya(w,c)>0||h&&this.ya(w,h)<0)&&(u=!0)):!_&&w?(r.track({type:0,doc:w}),L=!0):_&&!w&&(r.track({type:1,doc:_}),L=!0,(c||h)&&(u=!0)),L&&(w?(a=a.add(w),s=N?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{wa:a,Da:r,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort((m,y)=>function(w,E){const N=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return N(w)-N(E)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,h=c!==this.ga;return this.ga=c,a.length!==0||h?{snapshot:new Kh(this.query,e.wa,s,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Fw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=fn(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Rx(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Lx(r))}),t}Oa(e){this.fa=e.gs,this.pa=fn();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Kh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const rv="SyncEngine";class IR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class PR{constructor(e){this.key=e,this.Ba=!1}}class CR{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new Hc(u=>YS(u),Qm),this.qa=new Map,this.Qa=new Set,this.$a=new gr(Mt.comparator),this.Ua=new Map,this.Ka=new Wy,this.Wa={},this.Ga=new Map,this.za=Gh.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function NR(n,e,t=!0){const r=Vx(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Dx(r,e,t,!0),i}async function kR(n,e){const t=Vx(n);await Dx(t,e,!0,!1)}async function Dx(n,e,t,r){const i=await XL(n.localStore,qa(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await LR(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&xx(n.remoteStore,i),u}async function LR(n,e,t,r,i){n.Ha=(y,_,w)=>async function(N,L,I,j){let q=L.view.ba(I);q.ls&&(q=await Lw(N.localStore,L.query,!1).then(({documents:z})=>L.view.ba(z,q)));const ee=j&&j.targetChanges.get(L.targetId),ie=j&&j.targetMismatches.get(L.targetId)!=null,de=L.view.applyChanges(q,N.isPrimaryClient,ee,ie);return zw(N,L.targetId,de.Ma),de.snapshot}(n,y,_,w);const s=await Lw(n.localStore,e,!0),a=new ER(e,s.gs),u=a.ba(s.documents),c=kd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=a.applyChanges(u,n.isPrimaryClient,c);zw(n,t,h.Ma);const m=new IR(e,t,a);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function RR(n,e,t){const r=en(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(a=>!Qm(a,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await I1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Qy(r.remoteStore,i.targetId),N1(r,i.targetId)}).catch(sf)):(N1(r,i.targetId),await I1(r.localStore,i.targetId,!0))}async function DR(n,e){const t=en(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Qy(t.remoteStore,r.targetId))}async function OR(n,e,t){const r=zR(n);try{const i=await function(a,u){const c=en(a),h=Yr.now(),m=u.reduce((w,E)=>w.add(E.key),fn());let y,_;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=Ml(),N=fn();return c.ds.getEntries(w,m).next(L=>{E=L,E.forEach((I,j)=>{j.isValidDocument()||(N=N.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,E)).next(L=>{y=L;const I=[];for(const j of u){const q=X6(j,y.get(j.key).overlayedDocument);q!=null&&I.push(new Zu(j.key,q,US(q.value.mapValue),ds.exists(!0)))}return c.mutationQueue.addMutationBatch(w,h,I,u)}).next(L=>{_=L;const I=L.applyToLocalDocumentSet(y,N);return c.documentOverlayCache.saveOverlays(w,L.batchId,I)})}).then(()=>({batchId:_.batchId,changes:JS(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let h=a.Wa[a.currentUser.toKey()];h||(h=new gr(on)),h=h.insert(u,c),a.Wa[a.currentUser.toKey()]=h}(r,i.batchId,t),await Rd(r,i.changes),await ig(r.remoteStore)}catch(i){const s=tv(i,"Failed to persist write");t.reject(s)}}async function Ox(n,e){const t=en(n);try{const r=await KL(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.Ua.get(s);a&&(jn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Ba=!0:i.modifiedDocuments.size>0?jn(a.Ba):i.removedDocuments.size>0&&(jn(a.Ba),a.Ba=!1))}),await Rd(t,r,e)}catch(r){await sf(r)}}function Uw(n,e,t){const r=en(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,a)=>{const u=a.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=en(a);c.onlineState=u;let h=!1;c.queries.forEach((m,y)=>{for(const _ of y.ta)_.sa(u)&&(h=!0)}),h&&nv(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MR(n,e,t){const r=en(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ua.get(e),s=i&&i.key;if(s){let a=new gr(Mt.comparator);a=a.insert(s,Gi.newNoDocument(s,Jt.min()));const u=fn().add(s),c=new tg(Jt.min(),new Map,new gr(on),a,u);await Ox(r,c),r.$a=r.$a.remove(s),r.Ua.delete(e),iv(r)}else await I1(r.localStore,e,!1).then(()=>N1(r,e,t)).catch(sf)}async function jR(n,e){const t=en(n),r=e.batch.batchId;try{const i=await GL(t.localStore,e);jx(t,r,null),Mx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Rd(t,i)}catch(i){await sf(i)}}async function FR(n,e,t){const r=en(n);try{const i=await function(a,u){const c=en(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return c.mutationQueue.lookupMutationBatch(h,u).next(y=>(jn(y!==null),m=y.keys(),c.mutationQueue.removeMutationBatch(h,y))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>c.localDocuments.getDocuments(h,m))})}(r.localStore,e);jx(r,e,t),Mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Rd(r,i)}catch(i){await sf(i)}}function Mx(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function jx(n,e,t){const r=en(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function N1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||Fx(n,r)})}function Fx(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Qy(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),iv(n))}function zw(n,e,t){for(const r of t)r instanceof Lx?(n.Ka.addReference(r.key,e),VR(n,r)):r instanceof Rx?(Tt(rv,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||Fx(n,r.key)):Kt()}function VR(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Tt(rv,"New document in limbo: "+t),n.Qa.add(r),iv(n))}function iv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Mt(nr.fromString(e)),r=n.za.next();n.Ua.set(r,new PR(t)),n.$a=n.$a.insert(t,r),xx(n.remoteStore,new Ru(qa(Uy(t.path)),r,"TargetPurposeLimboResolution",Gm.ae))}}async function Rd(n,e,t){const r=en(n),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach((u,c)=>{a.push(r.Ha(c,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const y=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(c.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(h){i.push(h);const y=Ky.Yi(c.targetId,h);s.push(y)}}))}),await Promise.all(a),r.La.p_(i),await async function(c,h){const m=en(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Ge.forEach(h,_=>Ge.forEach(_.Hi,w=>m.persistence.referenceDelegate.addReference(y,_.targetId,w)).next(()=>Ge.forEach(_.Ji,w=>m.persistence.referenceDelegate.removeReference(y,_.targetId,w)))))}catch(y){if(!of(y))throw y;Tt(Yy,"Failed to update sequence numbers: "+y)}for(const y of h){const _=y.targetId;if(!y.fromCache){const w=m.Ts.get(_),E=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(E);m.Ts=m.Ts.insert(_,N)}}}(r.localStore,s))}async function BR(n,e){const t=en(n);if(!t.currentUser.isEqual(e)){Tt(rv,"User change. New user:",e.toKey());const r=await wx(t.localStore,e);t.currentUser=e,function(s,a){s.Ga.forEach(u=>{u.forEach(c=>{c.reject(new At($e.CANCELLED,a))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rd(t,r.Rs)}}function UR(n,e){const t=en(n),r=t.Ua.get(e);if(r&&r.Ba)return fn().add(r.key);{let i=fn();const s=t.qa.get(e);if(!s)return i;for(const a of s){const u=t.ka.get(a);i=i.unionWith(u.view.Sa)}return i}}function Vx(n){const e=en(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MR.bind(null,e),e.La.p_=TR.bind(null,e.eventManager),e.La.Ja=AR.bind(null,e.eventManager),e}function zR(n){const e=en(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FR.bind(null,e),e}class xm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ng(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return WL(this.persistence,new qL,e.initialUser,this.serializer)}Xa(e){return new vx(Gy.ri,this.serializer)}Za(e){return new ZL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xm.provider={build:()=>new xm};class qR extends xm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){jn(this.persistence.referenceDelegate instanceof bm);const r=this.persistence.referenceDelegate.garbageCollector;return new PL(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new vx(r=>bm.ri(r,t),this.serializer)}}class k1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BR.bind(null,this.syncEngine),await bR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xR}()}createDatastore(e){const t=ng(e.databaseInfo.databaseId),r=function(s){return new iR(s)}(e.databaseInfo);return function(s,a,u,c){return new lR(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,u){return new cR(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Uw(this.syncEngine,t,0),function(){return Ow.D()?new Ow:new eR}())}createSyncEngine(e,t){return function(i,s,a,u,c,h,m){const y=new CR(i,s,a,u,c,h);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=en(i);Tt(jc,"RemoteStore shutting down."),s.W_.add(5),await Ld(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}k1.provider={build:()=>new k1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ol("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="FirestoreClient";class HR{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Wi.UNAUTHENTICATED,this.clientId=kS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{Tt(Gu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Tt(Gu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=tv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function P0(n,e){n.asyncQueue.verifyOperationInProgress(),Tt(Gu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function qw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $R(n);Tt(Gu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jw(e.remoteStore,i)),n._onlineComponents=e}async function $R(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Tt(Gu,"Using user provided OfflineComponentProvider");try{await P0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===$e.FAILED_PRECONDITION||i.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;qh("Error using user provided cache. Falling back to memory cache: "+t),await P0(n,new xm)}}else Tt(Gu,"Using default OfflineComponentProvider"),await P0(n,new qR(void 0));return n._offlineComponents}async function Ux(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Tt(Gu,"Using user provided OnlineComponentProvider"),await qw(n,n._uninitializedComponentsProvider._online)):(Tt(Gu,"Using default OnlineComponentProvider"),await qw(n,new k1))),n._onlineComponents}function WR(n){return Ux(n).then(e=>e.syncEngine)}async function L1(n){const e=await Ux(n),t=e.eventManager;return t.onListen=NR.bind(null,e.syncEngine),t.onUnlisten=RR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DR.bind(null,e.syncEngine),t}function GR(n,e,t={}){const r=new Vu;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,h){const m=new Bx({next:_=>{m.su(),a.enqueueAndForget(()=>Nx(s,y)),_.fromCache&&c.source==="server"?h.reject(new At($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),y=new kx(u,m,{includeMetadataChanges:!0,Ta:!0});return Cx(s,y)}(await L1(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(n,e,t){if(!t)throw new At($e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KR(n,e,t,r){if(e===!0&&r===!0)throw new At($e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $w(n){if(!Mt.isDocumentKey(n))throw new At($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ww(n){if(Mt.isDocumentKey(n))throw new At($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Kt()}function ro(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new At($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sg(n);throw new At($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firestore.googleapis.com",Gw=!0;class Kw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new At($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hx,this.ssl=Gw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Gw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EL)throw new At($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new At($e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new At($e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new At($e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new At($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r6;switch(r.type){case"firstParty":return new a6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new At($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Hw.get(t);r&&(Tt("ComponentProvider","Removing Datastore"),Hw.delete(t),r.terminate())}(this),Promise.resolve()}}function YR(n,e,t,r={}){var i;const s=(n=ro(n,og))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==Hx&&s.host!==u&&qh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:r});if(!Dc(c,a)&&(n._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Wi.MOCK_USER;else{h=yP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new At($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Wi(y)}n._authCredentials=new i6(new CS(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ec(this.firestore,e,this._query)}}class ps{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ps(this.firestore,e,this._key)}}class Bu extends ec{constructor(e,t,r){super(e,t,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ps(this.firestore,null,new Mt(e))}withConverter(e){return new Bu(this.firestore,e,this._path)}}function Fa(n,e,...t){if(n=cr(n),qx("collection","path",e),n instanceof og){const r=nr.fromString(e,...t);return Ww(r),new Bu(n,null,r)}{if(!(n instanceof ps||n instanceof Bu))throw new At($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return Ww(r),new Bu(n.firestore,null,r)}}function Va(n,e,...t){if(n=cr(n),arguments.length===1&&(e=kS.newId()),qx("doc","path",e),n instanceof og){const r=nr.fromString(e,...t);return $w(r),new ps(n,null,new Mt(r))}{if(!(n instanceof ps||n instanceof Bu))throw new At($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return $w(r),new ps(n.firestore,n instanceof Bu?n.converter:null,new Mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="AsyncQueue";class Qw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bx(this,"async_queue_retry"),this.Su=()=>{const r=I0();r&&Tt(Yw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=I0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=I0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Vu;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!of(e))throw e;Tt(Yw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Ol("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=ev.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Kt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Xw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class jl extends og{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Qw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qw(e),this._firestoreClient=void 0,await e}}}function QR(n,e){const t=typeof n=="object"?n:F4(),r=typeof n=="string"?n:mm,i=Ed(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mP("firestore");s&&YR(i,...s)}return i}function ag(n){if(n._terminated)throw new At($e.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||XR(n),n._firestoreClient}function XR(n){var e,t,r;const i=n._freezeSettings(),s=function(u,c,h,m){return new S6(u,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,zx(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new HR(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yh(Ii.fromBase64String(e))}catch(t){throw new At($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yh(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new At($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new At($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new At($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^__.*__$/;class ZR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nd(e,this.data,t,this.fieldTransforms)}}class $x{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class lv{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Tm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Wx(this.Lu)&&JR.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class e8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ng(e)}ju(e,t,r,i=!1){return new lv({Lu:e,methodName:t,zu:r,path:Ei.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(n){const e=n._freezeSettings(),t=ng(n._databaseId);return new e8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uv(n,e,t,r,i,s={}){const a=n.ju(s.merge||s.mergeFields?2:0,e,t,i);cv("Data must be an object, but it was:",a,r);const u=Yx(r,a);let c,h;if(s.merge)c=new to(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const y of s.mergeFields){const _=R1(e,y,t);if(!a.contains(_))throw new At($e.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Xx(m,_)||m.push(_)}c=new to(m),h=a.fieldTransforms.filter(y=>c.covers(y.field))}else c=null,h=a.fieldTransforms;return new ZR(new Ds(u),c,h)}class lg extends sv{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lg}}function Gx(n,e,t,r){const i=n.ju(1,e,t);cv("Data must be an object, but it was:",i,r);const s=[],a=Ds.empty();Ju(r,(c,h)=>{const m=hv(e,c,t);h=cr(h);const y=i.Uu(m);if(h instanceof lg)s.push(m);else{const _=Md(h,y);_!=null&&(s.push(m),a.set(m,_))}});const u=new to(s);return new $x(a,u,i.fieldTransforms)}function Kx(n,e,t,r,i,s){const a=n.ju(1,e,t),u=[R1(e,r,t)],c=[i];if(s.length%2!=0)throw new At($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(R1(e,s[_])),c.push(s[_+1]);const h=[],m=Ds.empty();for(let _=u.length-1;_>=0;--_)if(!Xx(h,u[_])){const w=u[_];let E=c[_];E=cr(E);const N=a.Uu(w);if(E instanceof lg)h.push(w);else{const L=Md(E,N);L!=null&&(h.push(w),m.set(w,L))}}const y=new to(h);return new $x(m,y,a.fieldTransforms)}function t8(n,e,t,r=!1){return Md(t,n.ju(r?4:3,e))}function Md(n,e){if(Qx(n=cr(n)))return cv("Unsupported field value:",e,n),Yx(n,e);if(n instanceof sv)return function(r,i){if(!Wx(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=Md(u,i.Ku(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Yr.fromDate(r);return{timestampValue:_m(i.serializer,s)}}if(r instanceof Yr){const s=new Yr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_m(i.serializer,s)}}if(r instanceof ov)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yh)return{bytesValue:cx(i.serializer,r._byteString)};if(r instanceof ps){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$y(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof av)return function(a,u){return{mapValue:{fields:{[VS]:{stringValue:BS},[gm]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return zy(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${sg(r)}`)}(n,e)}function Yx(n,e){const t={};return RS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ju(n,(r,i)=>{const s=Md(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Qx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Yr||n instanceof ov||n instanceof Yh||n instanceof ps||n instanceof sv||n instanceof av)}function cv(n,e,t){if(!Qx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=sg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function R1(n,e,t){if((e=cr(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return hv(n,e);throw Tm("Field path arguments must be of type string or ",n,!1,void 0,t)}const n8=new RegExp("[~\\*/\\[\\]]");function hv(n,e,t){if(e.search(n8)>=0)throw Tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dd(...e.split("."))._internalPath}catch{throw Tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Tm(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new At($e.INVALID_ARGUMENT,u+n+c)}function Xx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ps(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ug("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class r8 extends Jx{data(){return super.data()}}function ug(n,e){return typeof e=="string"?hv(n,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new At($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fv{}class eT extends fv{}function Jw(n,e,...t){let r=[];e instanceof fv&&r.push(e),r=r.concat(t),function(s){const a=s.filter(c=>c instanceof dv).length,u=s.filter(c=>c instanceof cg).length;if(a>1||a>0&&u>0)throw new At($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class cg extends eT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new cg(e,t,r)}_apply(e){const t=this._parse(e);return tT(e._query,t),new ec(e.firestore,e.converter,b1(e._query,t))}_parse(e){const t=Od(e.firestore);return function(s,a,u,c,h,m,y){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new At($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){t_(y,m);const E=[];for(const N of y)E.push(e_(c,s,N));_={arrayValue:{values:E}}}else _=e_(c,s,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||t_(y,m),_=t8(u,a,y,m==="in"||m==="not-in");return Mr.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Zw(n,e,t){const r=e,i=ug("where",n);return cg._create(i,r,t)}class dv extends fv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:pa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)tT(a,c),a=b1(a,c)}(e._query,t),new ec(e.firestore,e.converter,b1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pv extends eT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pv(e,t)}_apply(e){const t=function(i,s,a){if(i.startAt!==null)throw new At($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new At($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ld(s,a)}(e._query,this._field,this._direction);return new ec(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new af(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function i8(n,e="asc"){const t=e,r=ug("orderBy",n);return pv._create(r,t)}function e_(n,e,t){if(typeof(t=cr(t))=="string"){if(t==="")throw new At($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KS(e)&&t.indexOf("/")!==-1)throw new At($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nr.fromString(t));if(!Mt.isDocumentKey(r))throw new At($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dw(n,new Mt(r))}if(t instanceof ps)return dw(n,t._key);throw new At($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sg(t)}.`)}function t_(n,e){if(!Array.isArray(n)||n.length===0)throw new At($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tT(n,e){const t=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new At($e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new At($e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class s8{convertValue(e,t="none"){switch($u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Kt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ju(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[gm].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Nr(a.doubleValue));return new av(s)}convertGeoPoint(e){return new ov(Nr(e.latitude),Nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ym(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const t=qu(e);return new Yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nr.fromString(e);jn(gx(r));const i=new od(r.get(1),r.get(3)),s=new Mt(r.popFirst(5));return i.isEqual(t)||Ol(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nT extends Jx{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Jp extends nT{data(e={}){return super.data(e)}}class rT{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Jp(this._firestore,this._userDataWriter,r.key,r,new Bf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new At($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new Jp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Jp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:o8(u.type),doc:c,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function o8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}class gv extends s8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ps(this.firestore,null,t)}}function iT(n){n=ro(n,ec);const e=ro(n.firestore,jl),t=ag(e),r=new gv(e);return Zx(n._query),GR(t,n._query).then(i=>new rT(e,r,n,i))}function a8(n,e,t){n=ro(n,ps);const r=ro(n.firestore,jl),i=mv(n.converter,e,t);return jd(r,[uv(Od(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ds.none())])}function Oh(n,e,t,...r){n=ro(n,ps);const i=ro(n.firestore,jl),s=Od(i);let a;return a=typeof(e=cr(e))=="string"||e instanceof Dd?Kx(s,"updateDoc",n._key,e,t,r):Gx(s,"updateDoc",n._key,e),jd(i,[a.toMutation(n._key,ds.exists(!0))])}function C0(n){return jd(ro(n.firestore,jl),[new eg(n._key,ds.none())])}function sT(n,e){const t=ro(n.firestore,jl),r=Va(n),i=mv(n.converter,e);return jd(t,[uv(Od(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ds.exists(!1))]).then(()=>r)}function Th(n,...e){var t,r,i;n=cr(n);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Xw(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Xw(e[a])){const y=e[a];e[a]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[a+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[a+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let c,h,m;if(n instanceof ps)h=ro(n.firestore,jl),m=Uy(n._key.path),c={next:y=>{e[a]&&e[a](l8(h,n,y))},error:e[a+1],complete:e[a+2]};else{const y=ro(n,ec);h=ro(y.firestore,jl),m=y._query;const _=new gv(h);c={next:w=>{e[a]&&e[a](new rT(h,_,y,w))},error:e[a+1],complete:e[a+2]},Zx(n._query)}return function(_,w,E,N){const L=new Bx(N),I=new kx(w,L,E);return _.asyncQueue.enqueueAndForget(async()=>Cx(await L1(_),I)),()=>{L.su(),_.asyncQueue.enqueueAndForget(async()=>Nx(await L1(_),I))}}(ag(h),m,u,c)}function jd(n,e){return function(r,i){const s=new Vu;return r.asyncQueue.enqueueAndForget(async()=>OR(await WR(r),i,s)),s.promise}(ag(n),e)}function l8(n,e,t){const r=t.docs.get(e._key),i=new gv(n);return new nT(n,i,e._key,r,new Bf(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Od(e)}set(e,t,r){this._verifyNotCommitted();const i=N0(e,this._firestore),s=mv(i.converter,t,r),a=uv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ds.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=N0(e,this._firestore);let a;return a=typeof(t=cr(t))=="string"||t instanceof Dd?Kx(this._dataReader,"WriteBatch.update",s._key,t,r,i):Gx(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,ds.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=N0(e,this._firestore);return this._mutations=this._mutations.concat(new eg(t._key,ds.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new At($e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function N0(n,e){if((n=cr(n)).firestore!==e)throw new At($e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(n){return ag(n=ro(n,jl)),new u8(n,e=>jd(n,e))}(function(e,t=!0){(function(i){rf=i})(tf),Ya(new fa("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new jl(new s6(r.getProvider("auth-internal")),new l6(a,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new At($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(h.options.projectId,m)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Lo(tw,nw,e),Lo(tw,nw,"esm2017")})();var h8="firebase",f8="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lo(h8,f8,"app");const oT="@firebase/installations",yv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=1e4,lT=`w:${yv}`,uT="FIS_v2",d8="https://firebaseinstallations.googleapis.com/v1",p8=60*60*1e3,m8="installations",g8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fc=new zc(m8,g8,y8);function cT(n){return n instanceof ma&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT({projectId:n}){return`${d8}/projects/${n}/installations`}function fT(n){return{token:n.token,requestStatus:2,expiresIn:w8(n.expiresIn),creationTime:Date.now()}}async function dT(n,e){const r=(await e.json()).error;return Fc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function pT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function v8(n,{refreshToken:e}){const t=pT(n);return t.append("Authorization",_8(e)),t}async function mT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function w8(n){return Number(n.replace("s","000"))}function _8(n){return`${uT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=hT(n),i=pT(n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={fid:t,authVersion:uT,appId:n.appId,sdkVersion:lT},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await mT(()=>fetch(r,u));if(c.ok){const h=await c.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:fT(h.authToken)}}else throw await dT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=/^[cdef][\w-]{21}$/,D1="";function T8(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=A8(n);return x8.test(t)?t:D1}catch{return D1}}function A8(n){return S8(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new Map;function vT(n,e){const t=hg(n);wT(t,e),E8(t,e)}function wT(n,e){const t=yT.get(n);if(t)for(const r of t)r(e)}function E8(n,e){const t=I8();t&&t.postMessage({key:n,fid:e}),P8()}let Pc=null;function I8(){return!Pc&&"BroadcastChannel"in self&&(Pc=new BroadcastChannel("[Firebase] FID Change"),Pc.onmessage=n=>{wT(n.data.key,n.data.fid)}),Pc}function P8(){yT.size===0&&Pc&&(Pc.close(),Pc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="firebase-installations-database",N8=1,Vc="firebase-installations-store";let k0=null;function vv(){return k0||(k0=M4(C8,N8,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Vc)}}})),k0}async function Am(n,e){const t=hg(n),i=(await vv()).transaction(Vc,"readwrite"),s=i.objectStore(Vc),a=await s.get(t);return await s.put(e,t),await i.done,(!a||a.fid!==e.fid)&&vT(n,e.fid),e}async function _T(n){const e=hg(n),r=(await vv()).transaction(Vc,"readwrite");await r.objectStore(Vc).delete(e),await r.done}async function fg(n,e){const t=hg(n),i=(await vv()).transaction(Vc,"readwrite"),s=i.objectStore(Vc),a=await s.get(t),u=e(a);return u===void 0?await s.delete(t):await s.put(u,t),await i.done,u&&(!a||a.fid!==u.fid)&&vT(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wv(n){let e;const t=await fg(n.appConfig,r=>{const i=k8(r),s=L8(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===D1?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function k8(n){const e=n||{fid:T8(),registrationStatus:0};return bT(e)}function L8(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Fc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=R8(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:D8(n)}:{installationEntry:e}}async function R8(n,e){try{const t=await b8(n,e);return Am(n.appConfig,t)}catch(t){throw cT(t)&&t.customData.serverCode===409?await _T(n.appConfig):await Am(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function D8(n){let e=await n_(n.appConfig);for(;e.registrationStatus===1;)await gT(100),e=await n_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await wv(n);return r||t}return e}function n_(n){return fg(n,e=>{if(!e)throw Fc.create("installation-not-found");return bT(e)})}function bT(n){return O8(n)?{fid:n.fid,registrationStatus:0}:n}function O8(n){return n.registrationStatus===1&&n.registrationTime+aT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8({appConfig:n,heartbeatServiceProvider:e},t){const r=j8(n,t),i=v8(n,t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={installation:{sdkVersion:lT,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await mT(()=>fetch(r,u));if(c.ok){const h=await c.json();return fT(h)}else throw await dT("Generate Auth Token",c)}function j8(n,{fid:e}){return`${hT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _v(n,e=!1){let t;const r=await fg(n.appConfig,s=>{if(!ST(s))throw Fc.create("not-registered");const a=s.authToken;if(!e&&B8(a))return s;if(a.requestStatus===1)return t=F8(n,e),s;{if(!navigator.onLine)throw Fc.create("app-offline");const u=z8(s);return t=V8(n,u),u}});return t?await t:r.authToken}async function F8(n,e){let t=await r_(n.appConfig);for(;t.authToken.requestStatus===1;)await gT(100),t=await r_(n.appConfig);const r=t.authToken;return r.requestStatus===0?_v(n,e):r}function r_(n){return fg(n,e=>{if(!ST(e))throw Fc.create("not-registered");const t=e.authToken;return q8(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function V8(n,e){try{const t=await M8(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Am(n.appConfig,r),t}catch(t){if(cT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await _T(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Am(n.appConfig,r)}throw t}}function ST(n){return n!==void 0&&n.registrationStatus===2}function B8(n){return n.requestStatus===2&&!U8(n)}function U8(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+p8}function z8(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function q8(n){return n.requestStatus===1&&n.requestTime+aT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(n){const e=n,{installationEntry:t,registrationPromise:r}=await wv(e);return r?r.catch(console.error):_v(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(n,e=!1){const t=n;return await W8(t),(await _v(t,e)).token}async function W8(n){const{registrationPromise:e}=await wv(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(n){if(!n||!n.options)throw L0("App Configuration");if(!n.name)throw L0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw L0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function L0(n){return Fc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="installations",K8="installations-internal",Y8=n=>{const e=n.getProvider("app").getImmediate(),t=G8(e),r=Ed(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Q8=n=>{const e=n.getProvider("app").getImmediate(),t=Ed(e,xT).getImmediate();return{getId:()=>H8(t),getToken:i=>$8(t,i)}};function X8(){Ya(new fa(xT,Y8,"PUBLIC")),Ya(new fa(K8,Q8,"PRIVATE"))}X8();Lo(oT,yv);Lo(oT,yv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="analytics",J8="firebase_id",Z8="origin",eD=60*1e3,tD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new zm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ro=new zc("analytics","Analytics",nD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n){if(!n.startsWith(bv)){const e=Ro.create("invalid-gtag-resource",{gtagURL:n});return Os.warn(e.message),""}return n}function TT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function iD(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function sD(n,e){const t=iD("firebase-js-sdk-policy",{createScriptURL:rD}),r=document.createElement("script"),i=`${bv}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function oD(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function aD(n,e,t,r,i,s){const a=r[i];try{if(a)await e[a];else{const c=(await TT(t)).find(h=>h.measurementId===i);c&&await e[c.appId]}}catch(u){Os.error(u)}n("config",i,s)}async function lD(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const u=await TT(t);for(const c of a){const h=u.find(y=>y.measurementId===c),m=h&&e[h.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Os.error(s)}}function uD(n,e,t,r){async function i(s,...a){try{if(s==="event"){const[u,c]=a;await lD(n,e,t,u,c)}else if(s==="config"){const[u,c]=a;await aD(n,e,t,r,u,c)}else if(s==="consent"){const[u,c]=a;n("consent",u,c)}else if(s==="get"){const[u,c,h]=a;n("get",u,c,h)}else if(s==="set"){const[u]=a;n("set",u)}else n(s,...a)}catch(u){Os.error(u)}}return i}function cD(n,e,t,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=uD(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function hD(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(bv)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=30,dD=1e3;class pD{constructor(e={},t=dD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AT=new pD;function mD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function gD(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:mD(r)},s=tD.replace("{app-id}",t),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message)}catch{}throw Ro.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function yD(n,e=AT,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Ro.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ro.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new _D;return setTimeout(async()=>{u.abort()},eD),ET({appId:r,apiKey:i,measurementId:s},a,u,e)}async function ET(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=AT){var s;const{appId:a,measurementId:u}=n;try{await vD(r,e)}catch(c){if(u)return Os.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await gD(n);return i.deleteThrottleMetadata(a),c}catch(c){const h=c;if(!wD(h)){if(i.deleteThrottleMetadata(a),u)return Os.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw c}const m=Number((s=h==null?void 0:h.customData)===null||s===void 0?void 0:s.httpStatus)===503?T5(t,i.intervalMillis,fD):T5(t,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(a,y),Os.debug(`Calling attemptFetch again in ${m} millis`),ET(n,y,r,i)}}function vD(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Ro.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wD(n){if(!(n instanceof ma)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class _D{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bD(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});n("event",t,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(){if(L4())try{await R4()}catch(n){return Os.warn(Ro.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Os.warn(Ro.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xD(n,e,t,r,i,s,a){var u;const c=yD(n);c.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&Os.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Os.error(w)),e.push(c);const h=SD().then(w=>{if(w)return r.getId()}),[m,y]=await Promise.all([c,h]);hD(s)||sD(s,m.measurementId),i("js",new Date);const _=(u=a==null?void 0:a.config)!==null&&u!==void 0?u:{};return _[Z8]="firebase",_.update=!0,y!=null&&(_[J8]=y),i("config",m.measurementId,_),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.app=e}_delete(){return delete Kf[this.app.options.appId],Promise.resolve()}}let Kf={},s_=[];const o_={};let R0="dataLayer",AD="gtag",a_,IT,l_=!1;function ED(){const n=[];if(k4()&&n.push("This is a browser extension environment."),TP()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Ro.create("invalid-analytics-context",{errorInfo:e});Os.warn(t.message)}}function ID(n,e,t){ED();const r=n.options.appId;if(!r)throw Ro.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Os.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ro.create("no-api-key");if(Kf[r]!=null)throw Ro.create("already-exists",{id:r});if(!l_){oD(R0);const{wrappedGtag:s,gtagCore:a}=cD(Kf,s_,o_,R0,AD);IT=s,a_=a,l_=!0}return Kf[r]=xD(n,s_,o_,e,a_,R0,t),new TD(n)}function PD(n,e,t,r){n=cr(n),bD(IT,Kf[n.app.options.appId],e,t,r).catch(i=>Os.error(i))}const u_="@firebase/analytics",c_="0.10.12";function CD(){Ya(new fa(i_,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return ID(r,i,t)},"PUBLIC")),Ya(new fa("analytics-internal",n,"PRIVATE")),Lo(u_,c_),Lo(u_,c_,"esm2017");function n(e){try{const t=e.getProvider(i_).getImmediate();return{logEvent:(r,i,s)=>PD(t,r,i,s)}}catch(t){throw Ro.create("interop-component-reg-failed",{reason:t})}}}CD();function PT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=PT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function kc(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=PT(n))&&(r&&(r+=" "),r+=e);return r}function ND(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}ND(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Fd=n=>typeof n=="number"&&!isNaN(n),Bc=n=>typeof n=="string",Fl=n=>typeof n=="function",kD=n=>Bc(n)||Fd(n),O1=n=>Bc(n)||Fl(n)?n:null,LD=(n,e)=>n===!1||Fd(n)&&n>0?n:e,M1=n=>re.isValidElement(n)||Bc(n)||Fl(n)||Fd(n);function RD(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function DD({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:a,preventExitTransition:u,done:c,nodeRef:h,isIn:m,playToast:y}){let _=t?`${n}--${a}`:n,w=t?`${e}--${a}`:e,E=re.useRef(0);return re.useLayoutEffect(()=>{let N=h.current,L=_.split(" "),I=j=>{j.target===h.current&&(y(),N.removeEventListener("animationend",I),N.removeEventListener("animationcancel",I),E.current===0&&j.type!=="animationcancel"&&N.classList.remove(...L))};N.classList.add(...L),N.addEventListener("animationend",I),N.addEventListener("animationcancel",I)},[]),re.useEffect(()=>{let N=h.current,L=()=>{N.removeEventListener("animationend",L),r?RD(N,c,i):c()};m||(u?L():(E.current=1,N.className+=` ${w}`,N.addEventListener("animationend",L)))},[m]),En.createElement(En.Fragment,null,s)}}function h_(n,e){return{content:CT(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function CT(n,e,t=!1){return re.isValidElement(n)&&!Bc(n.type)?re.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Fl(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function OD({closeToast:n,theme:e,ariaLabel:t="close"}){return En.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},En.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},En.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function MD({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:s,controlledProgress:a,progress:u,rtl:c,isIn:h,theme:m}){let y=i||a&&u===0,_={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};a&&(_.transform=`scaleX(${u})`);let w=kc("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),E=Fl(s)?s({rtl:c,type:r,defaultClassName:w}):kc(w,s),N={[a&&u>=1?"onTransitionEnd":"onAnimationEnd"]:a&&u<1?null:()=>{h&&t()}};return En.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},En.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),En.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:E,style:_,...N}))}var jD=1,NT=()=>`${jD++}`;function FD(n,e,t){let r=1,i=0,s=[],a=[],u=e,c=new Map,h=new Set,m=j=>(h.add(j),()=>h.delete(j)),y=()=>{a=Array.from(c.values()),h.forEach(j=>j())},_=({containerId:j,toastId:q,updateId:ee})=>{let ie=j?j!==n:n!==1,de=c.has(q)&&ee==null;return ie||de},w=(j,q)=>{c.forEach(ee=>{var ie;(q==null||q===ee.props.toastId)&&((ie=ee.toggle)==null||ie.call(ee,j))})},E=j=>{var q,ee;(ee=(q=j.props)==null?void 0:q.onClose)==null||ee.call(q,j.removalReason),j.isActive=!1},N=j=>{if(j==null)c.forEach(E);else{let q=c.get(j);q&&E(q)}y()},L=()=>{i-=s.length,s=[]},I=j=>{var q,ee;let{toastId:ie,updateId:de}=j.props,z=de==null;j.staleId&&c.delete(j.staleId),j.isActive=!0,c.set(ie,j),y(),t(h_(j,z?"added":"updated")),z&&((ee=(q=j.props).onOpen)==null||ee.call(q))};return{id:n,props:u,observe:m,toggle:w,removeToast:N,toasts:c,clearQueue:L,buildToast:(j,q)=>{if(_(q))return;let{toastId:ee,updateId:ie,data:de,staleId:z,delay:k}=q,U=ie==null;U&&i++;let G={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(q).filter(([M,F])=>F!=null)),toastId:ee,updateId:ie,data:de,isIn:!1,className:O1(q.className||u.toastClassName),progressClassName:O1(q.progressClassName||u.progressClassName),autoClose:q.isLoading?!1:LD(q.autoClose,u.autoClose),closeToast(M){c.get(ee).removalReason=M,N(ee)},deleteToast(){let M=c.get(ee);if(M!=null){if(t(h_(M,"removed")),c.delete(ee),i--,i<0&&(i=0),s.length>0){I(s.shift());return}y()}}};G.closeButton=u.closeButton,q.closeButton===!1||M1(q.closeButton)?G.closeButton=q.closeButton:q.closeButton===!0&&(G.closeButton=M1(u.closeButton)?u.closeButton:!0);let D={content:j,props:G,staleId:z};u.limit&&u.limit>0&&i>u.limit&&U?s.push(D):Fd(k)?setTimeout(()=>{I(D)},k):I(D)},setProps(j){u=j},setToggle:(j,q)=>{let ee=c.get(j);ee&&(ee.toggle=q)},isToastActive:j=>{var q;return(q=c.get(j))==null?void 0:q.isActive},getSnapshot:()=>a}}var hs=new Map,hd=[],j1=new Set,VD=n=>j1.forEach(e=>e(n)),kT=()=>hs.size>0;function BD(){hd.forEach(n=>RT(n.content,n.options)),hd=[]}var UD=(n,{containerId:e})=>{var t;return(t=hs.get(e||1))==null?void 0:t.toasts.get(n)};function LT(n,e){var t;if(e)return!!((t=hs.get(e))!=null&&t.isToastActive(n));let r=!1;return hs.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function zD(n){if(!kT()){hd=hd.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||kD(n))hs.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=hs.get(n.containerId);e?e.removeToast(n.id):hs.forEach(t=>{t.removeToast(n.id)})}}var qD=(n={})=>{hs.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function RT(n,e){M1(n)&&(kT()||hd.push({content:n,options:e}),hs.forEach(t=>{t.buildToast(n,e)}))}function HD(n){var e;(e=hs.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function DT(n,e){hs.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function $D(n){let e=n.containerId||1;return{subscribe(t){let r=FD(e,n,VD);hs.set(e,r);let i=r.observe(t);return BD(),()=>{i(),hs.delete(e)}},setProps(t){var r;(r=hs.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=hs.get(e))==null?void 0:t.getSnapshot()}}}function WD(n){return j1.add(n),()=>{j1.delete(n)}}function GD(n){return n&&(Bc(n.toastId)||Fd(n.toastId))?n.toastId:NT()}function Vd(n,e){return RT(n,e),e.toastId}function dg(n,e){return{...e,type:e&&e.type||n,toastId:GD(e)}}function pg(n){return(e,t)=>Vd(e,dg(n,t))}function Ct(n,e){return Vd(n,dg("default",e))}Ct.loading=(n,e)=>Vd(n,dg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function KD(n,{pending:e,error:t,success:r},i){let s;e&&(s=Bc(e)?Ct.loading(e,i):Ct.loading(e.render,{...i,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,m,y)=>{if(m==null){Ct.dismiss(s);return}let _={type:h,...a,...i,data:y},w=Bc(m)?{render:m}:m;return s?Ct.update(s,{..._,...w}):Ct(w.render,{..._,...w}),y},c=Fl(n)?n():n;return c.then(h=>u("success",r,h)).catch(h=>u("error",t,h)),c}Ct.promise=KD;Ct.success=pg("success");Ct.info=pg("info");Ct.error=pg("error");Ct.warning=pg("warning");Ct.warn=Ct.warning;Ct.dark=(n,e)=>Vd(n,dg("default",{theme:"dark",...e}));function YD(n){zD(n)}Ct.dismiss=YD;Ct.clearWaitingQueue=qD;Ct.isActive=LT;Ct.update=(n,e={})=>{let t=UD(n,e);if(t){let{props:r,content:i}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:NT()};s.toastId!==n&&(s.staleId=n);let a=s.render||i;delete s.render,Vd(a,s)}};Ct.done=n=>{Ct.update(n,{progress:1})};Ct.onChange=WD;Ct.play=n=>DT(!0,n);Ct.pause=n=>DT(!1,n);function QD(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=re.useRef($D(n)).current;i(n);let s=(e=re.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function a(u){if(!s)return[];let c=new Map;return n.newestOnTop&&s.reverse(),s.forEach(h=>{let{position:m}=h.props;c.has(m)||c.set(m,[]),c.get(m).push(h)}),Array.from(c,h=>u(h[0],h[1]))}return{getToastToRender:a,isToastActive:LT,count:s==null?void 0:s.length}}function XD(n){let[e,t]=re.useState(!1),[r,i]=re.useState(!1),s=re.useRef(null),a=re.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:c,closeToast:h,onClick:m,closeOnClick:y}=n;HD({id:n.toastId,containerId:n.containerId,fn:t}),re.useEffect(()=>{if(n.pauseOnFocusLoss)return _(),()=>{w()}},[n.pauseOnFocusLoss]);function _(){document.hasFocus()||I(),window.addEventListener("focus",L),window.addEventListener("blur",I)}function w(){window.removeEventListener("focus",L),window.removeEventListener("blur",I)}function E(z){if(n.draggable===!0||n.draggable===z.pointerType){j();let k=s.current;a.canCloseOnClick=!0,a.canDrag=!0,k.style.transition="none",n.draggableDirection==="x"?(a.start=z.clientX,a.removalDistance=k.offsetWidth*(n.draggablePercent/100)):(a.start=z.clientY,a.removalDistance=k.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function N(z){let{top:k,bottom:U,left:G,right:D}=s.current.getBoundingClientRect();z.nativeEvent.type!=="touchend"&&n.pauseOnHover&&z.clientX>=G&&z.clientX<=D&&z.clientY>=k&&z.clientY<=U?I():L()}function L(){t(!0)}function I(){t(!1)}function j(){a.didMove=!1,document.addEventListener("pointermove",ee),document.addEventListener("pointerup",ie)}function q(){document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",ie)}function ee(z){let k=s.current;if(a.canDrag&&k){a.didMove=!0,e&&I(),n.draggableDirection==="x"?a.delta=z.clientX-a.start:a.delta=z.clientY-a.start,a.start!==z.clientX&&(a.canCloseOnClick=!1);let U=n.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;k.style.transform=`translate3d(${U},0)`,k.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function ie(){q();let z=s.current;if(a.canDrag&&a.didMove&&z){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}z.style.transition="transform 0.2s, opacity 0.2s",z.style.removeProperty("transform"),z.style.removeProperty("opacity")}}let de={onPointerDown:E,onPointerUp:N};return u&&c&&(de.onMouseEnter=I,n.stacked||(de.onMouseLeave=L)),y&&(de.onClick=z=>{m&&m(z),a.canCloseOnClick&&h(!0)}),{playToast:L,pauseToast:I,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:de}}var JD=typeof window<"u"?re.useLayoutEffect:re.useEffect,mg=({theme:n,type:e,isLoading:t,...r})=>En.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function ZD(n){return En.createElement(mg,{...n},En.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function e7(n){return En.createElement(mg,{...n},En.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function t7(n){return En.createElement(mg,{...n},En.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function n7(n){return En.createElement(mg,{...n},En.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function r7(){return En.createElement("div",{className:"Toastify__spinner"})}var F1={info:e7,warning:ZD,success:t7,error:n7,spinner:r7},i7=n=>n in F1;function s7({theme:n,type:e,isLoading:t,icon:r}){let i=null,s={theme:n,type:e};return r===!1||(Fl(r)?i=r({...s,isLoading:t}):re.isValidElement(r)?i=re.cloneElement(r,s):t?i=F1.spinner():i7(e)&&(i=F1[e](s))),i}var o7=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:s}=XD(n),{closeButton:a,children:u,autoClose:c,onClick:h,type:m,hideProgressBar:y,closeToast:_,transition:w,position:E,className:N,style:L,progressClassName:I,updateId:j,role:q,progress:ee,rtl:ie,toastId:de,deleteToast:z,isIn:k,isLoading:U,closeOnClick:G,theme:D,ariaLabel:M}=n,F=kc("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":ie},{"Toastify__toast--close-on-click":G}),se=Fl(N)?N({rtl:ie,position:E,type:m,defaultClassName:F}):kc(F,N),Le=s7(n),Ne=!!ee||!c,Te={closeToast:_,type:m,theme:D},ne=null;return a===!1||(Fl(a)?ne=a(Te):re.isValidElement(a)?ne=re.cloneElement(a,Te):ne=OD(Te)),En.createElement(w,{isIn:k,done:z,position:E,preventExitTransition:t,nodeRef:r,playToast:s},En.createElement("div",{id:de,tabIndex:0,onClick:h,"data-in":k,className:se,...i,style:L,ref:r,...k&&{role:q,"aria-label":M}},Le!=null&&En.createElement("div",{className:kc("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},Le),CT(u,n,!e),ne,!n.customProgressBar&&En.createElement(MD,{...j&&!Ne?{key:`p-${j}`}:{},rtl:ie,theme:D,delay:c,isRunning:e,isIn:k,closeToast:_,hide:y,type:m,className:I,controlledProgress:Ne,progress:ee||0})))},a7=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),l7=DD(a7("bounce",!0)),u7={position:"top-right",transition:l7,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function OT(n){let e={...u7,...n},t=n.stacked,[r,i]=re.useState(!0),s=re.useRef(null),{getToastToRender:a,isToastActive:u,count:c}=QD(e),{className:h,style:m,rtl:y,containerId:_,hotKeys:w}=e;function E(L){let I=kc("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":y});return Fl(h)?h({position:L,rtl:y,defaultClassName:I}):kc(I,O1(h))}function N(){t&&(i(!0),Ct.play())}return JD(()=>{var L;if(t){let I=s.current.querySelectorAll('[data-in="true"]'),j=12,q=(L=e.position)==null?void 0:L.includes("top"),ee=0,ie=0;Array.from(I).reverse().forEach((de,z)=>{let k=de;k.classList.add("Toastify__toast--stacked"),z>0&&(k.dataset.collapsed=`${r}`),k.dataset.pos||(k.dataset.pos=q?"top":"bot");let U=ee*(r?.2:1)+(r?0:j*z);k.style.setProperty("--y",`${q?U:U*-1}px`),k.style.setProperty("--g",`${j}`),k.style.setProperty("--s",`${1-(r?ie:0)}`),ee+=k.offsetHeight,ie+=.025})}},[r,c,t]),re.useEffect(()=>{function L(I){var j;let q=s.current;w(I)&&((j=q.querySelector('[tabIndex="0"]'))==null||j.focus(),i(!1),Ct.pause()),I.key==="Escape"&&(document.activeElement===q||q!=null&&q.contains(document.activeElement))&&(i(!0),Ct.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[w]),En.createElement("section",{ref:s,className:"Toastify",id:_,onMouseEnter:()=>{t&&(i(!1),Ct.pause())},onMouseLeave:N,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((L,I)=>{let j=I.length?{...m}:{...m,pointerEvents:"none"};return En.createElement("div",{tabIndex:-1,className:E(L),"data-stacked":t,style:j,key:`c-${L}`},I.map(({content:q,props:ee})=>En.createElement(o7,{...ee,stacked:t,collapseAll:N,isIn:u(ee.toastId,ee.containerId),key:`t-${ee.key}`},q)))}))}const c7={apiKey:"AIzaSyBc8RjtuaZOMWn4AA9ovmw1OOLDbwlSwWM",authDomain:"wildcats-express-pos.firebaseapp.com",databaseURL:"https://wildcats-express-pos-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wildcats-express-pos",storageBucket:"wildcats-express-pos.firebasestorage.app",messagingSenderId:"908404798026",appId:"1:908404798026:web:c14da08358320310f5ecb3",measurementId:"G-30FN1V543L"},MT=j4(c7),Bd=t6(MT),Kr=QR(MT),h7=async(n,e)=>{try{const t=await VN(Bd,n,e);return console.log("User logged in:",t.user),Ct.success("Login successful!"),t.user}catch(t){throw console.error("Error during login:",t.message),new Error("Error during login: Invalid Credentials")}},jT=n=>{const[e,t]=re.useState(!0);return re.useEffect(()=>{const r=fS(Bd,i=>{i?t(!1):(Ct.warn("Unauthorized access! Please log in."),setTimeout(()=>{n("/login-page")},100))});return()=>r()},[n]),e},f_=async n=>{try{await HN(Bd),localStorage.removeItem("token"),n("/login-page")}catch(e){console.error("Error during logout:",e)}},f7=n=>{const[e,t]=re.useState(!0);return re.useEffect(()=>{const r=fS(Bd,i=>{i?(console.log("Trying to access login/signup page while logged in."),n("/pos-page")):t(!1)});return()=>r()},[n]),e},d7="/assets/new-mainlogo-DdxHqH-1.svg",p7=()=>{const n=xd(),[e,t]=re.useState(!1),[r,i]=re.useState(!1),s=()=>{n("/login-page")};return r?C.jsx("p",{children:"Loading..."}):C.jsx(C.Fragment,{children:C.jsxs("main",{className:"main-content",children:[C.jsxs("div",{className:"text-container",children:[C.jsx("div",{className:"hide-mobile",children:C.jsxs("h1",{className:"wildcats-desktop",children:["Wildcats ",C.jsx("span",{className:"express-mobile",children:"Express"})]})}),C.jsx("div",{className:"hide-title"}),C.jsx("h3",{className:"typing-text",children:"Fast. Fresh. Fierce."}),C.jsx("h3",{className:"typing-text-mobile",children:"Fast. Fresh. Fierce."}),C.jsx("div",{className:"order-button",children:C.jsx("button",{onClick:s,className:"primary-cta",children:"Order Here"})})]}),C.jsx("div",{className:"cat",children:C.jsx("img",{src:d7,alt:"Photo of Wildcat chef"})})]})})},Sv=re.createContext({});function xv(n){const e=re.useRef(null);return e.current===null&&(e.current=n()),e.current}const Tv=typeof window<"u",FT=Tv?re.useLayoutEffect:re.useEffect,gg=re.createContext(null),Av=re.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class m7 extends re.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function g7({children:n,isPresent:e,anchorX:t}){const r=re.useId(),i=re.useRef(null),s=re.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=re.useContext(Av);return re.useInsertionEffect(()=>{const{width:u,height:c,top:h,left:m,right:y}=s.current;if(e||!i.current||!u||!c)return;const _=t==="left"?`left: ${m}`:`right: ${y}`;i.current.dataset.motionPopId=r;const w=document.createElement("style");return a&&(w.nonce=a),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${_}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),C.jsx(m7,{isPresent:e,childRef:i,sizeRef:s,children:re.cloneElement(n,{ref:i})})}const y7=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:u})=>{const c=xv(v7),h=re.useId(),m=re.useCallback(_=>{c.set(_,!0);for(const w of c.values())if(!w)return;r&&r()},[c,r]),y=re.useMemo(()=>({id:h,initial:e,isPresent:t,custom:i,onExitComplete:m,register:_=>(c.set(_,!1),()=>c.delete(_))}),s?[Math.random(),m]:[t,m]);return re.useMemo(()=>{c.forEach((_,w)=>c.set(w,!1))},[t]),re.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),a==="popLayout"&&(n=C.jsx(g7,{isPresent:t,anchorX:u,children:n})),C.jsx(gg.Provider,{value:y,children:n})};function v7(){return new Map}function VT(n=!0){const e=re.useContext(gg);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=re.useId();re.useEffect(()=>{if(n)return i(s)},[n]);const a=re.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,a]:[!0]}const Rp=n=>n.key||"";function d_(n){const e=[];return re.Children.forEach(n,t=>{re.isValidElement(t)&&e.push(t)}),e}const fd=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:u="left"})=>{const[c,h]=VT(a),m=re.useMemo(()=>d_(n),[n]),y=a&&!c?[]:m.map(Rp),_=re.useRef(!0),w=re.useRef(m),E=xv(()=>new Map),[N,L]=re.useState(m),[I,j]=re.useState(m);FT(()=>{_.current=!1,w.current=m;for(let ie=0;ie<I.length;ie++){const de=Rp(I[ie]);y.includes(de)?E.delete(de):E.get(de)!==!0&&E.set(de,!1)}},[I,y.length,y.join("-")]);const q=[];if(m!==N){let ie=[...m];for(let de=0;de<I.length;de++){const z=I[de],k=Rp(z);y.includes(k)||(ie.splice(de,0,z),q.push(z))}return s==="wait"&&q.length&&(ie=q),j(d_(ie)),L(m),null}const{forceRender:ee}=re.useContext(Sv);return C.jsx(C.Fragment,{children:I.map(ie=>{const de=Rp(ie),z=a&&!c?!1:m===I||y.includes(de),k=()=>{if(E.has(de))E.set(de,!0);else return;let U=!0;E.forEach(G=>{G||(U=!1)}),U&&(ee==null||ee(),j(w.current),a&&(h==null||h()),r&&r())};return C.jsx(y7,{isPresent:z,initial:!_.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:z?void 0:k,anchorX:u,children:ie},de)})})};function Ev(n,e){n.indexOf(e)===-1&&n.push(e)}function Iv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const io=n=>n;let BT=io;const w7={useManualTiming:!1};function Pv(n){let e;return()=>(e===void 0&&(e=n()),e)}const Qh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Cv{constructor(){this.subscriptions=[]}add(e){return Ev(this.subscriptions,e),()=>Iv(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nl=n=>n*1e3,kl=n=>n/1e3;function UT(n,e){return e?n*(1e3/e):0}const _7=Pv(()=>window.ScrollTimeline!==void 0);class b7{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(_7()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class S7 extends b7{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Nv(n,e){return n?n[e]||n.default||n:void 0}const V1=2e4;function zT(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<V1;)e+=t,r=n.next(e);return e>=V1?1/0:e}function kv(n){return typeof n=="function"}function p_(n,e){n.timeline=e,n.onfinish=null}const Lv=n=>Array.isArray(n)&&typeof n[0]=="number",x7={linearEasing:void 0};function T7(n,e){const t=Pv(n);return()=>{var r;return(r=x7[e])!==null&&r!==void 0?r:t()}}const Em=T7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qT=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(Qh(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function HT(n){return!!(typeof n=="function"&&Em()||!n||typeof n=="string"&&(n in B1||Em())||Lv(n)||Array.isArray(n)&&n.every(HT))}const Uf=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,B1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uf([0,.65,.55,1]),circOut:Uf([.55,0,1,.45]),backIn:Uf([.31,.01,.66,-.59]),backOut:Uf([.33,1.53,.69,.99])};function $T(n,e){if(n)return typeof n=="function"&&Em()?qT(n,e):Lv(n)?Uf(n):Array.isArray(n)?n.map(t=>$T(t,e)||B1.easeOut):B1[n]}const Dp=["read","resolveKeyframes","update","preRender","render","postRender"],m_={value:null};function A7(n,e){let t=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},c=0;function h(y){a.has(y)&&(m.schedule(y),n()),c++,y(u)}const m={schedule:(y,_=!1,w=!1)=>{const N=w&&i?t:r;return _&&a.add(y),N.has(y)||N.add(y),y},cancel:y=>{r.delete(y),a.delete(y)},process:y=>{if(u=y,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(h),e&&m_.value&&m_.value.frameloop[e].push(c),c=0,t.clear(),i=!1,s&&(s=!1,m.process(y))}};return m}const E7=40;function WT(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=Dp.reduce((I,j)=>(I[j]=A7(s,e?j:void 0),I),{}),{read:u,resolveKeyframes:c,update:h,preRender:m,render:y,postRender:_}=a,w=()=>{const I=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(I-i.timestamp,E7),1),i.timestamp=I,i.isProcessing=!0,u.process(i),c.process(i),h.process(i),m.process(i),y.process(i),_.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(w))},E=()=>{t=!0,r=!0,i.isProcessing||n(w)};return{schedule:Dp.reduce((I,j)=>{const q=a[j];return I[j]=(ee,ie=!1,de=!1)=>(t||E(),q.schedule(ee,ie,de)),I},{}),cancel:I=>{for(let j=0;j<Dp.length;j++)a[Dp[j]].cancel(I)},state:i,steps:a}}const{schedule:Qn,cancel:Ku,state:Ti,steps:D0}=WT(typeof requestAnimationFrame<"u"?requestAnimationFrame:io,!0),{schedule:Rv}=WT(queueMicrotask,!1);let Zp;function I7(){Zp=void 0}const $a={now:()=>(Zp===void 0&&$a.set(Ti.isProcessing||w7.useManualTiming?Ti.timestamp:performance.now()),Zp),set:n=>{Zp=n,queueMicrotask(I7)}},ua={x:!1,y:!1};function GT(){return ua.x||ua.y}function P7(n){return n==="x"||n==="y"?ua[n]?null:(ua[n]=!0,()=>{ua[n]=!1}):ua.x||ua.y?null:(ua.x=ua.y=!0,()=>{ua.x=ua.y=!1})}function C7(n,e,t){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function KT(n,e){const t=C7(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function g_(n){return!(n.pointerType==="touch"||GT())}function N7(n,e,t={}){const[r,i,s]=KT(n,t),a=u=>{if(!g_(u))return;const{target:c}=u,h=e(c,u);if(typeof h!="function"||!c)return;const m=y=>{g_(y)&&(h(y),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,i)};return r.forEach(u=>{u.addEventListener("pointerenter",a,i)}),s}const YT=(n,e)=>e?n===e?!0:YT(n,e.parentElement):!1,Dv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,k7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L7(n){return k7.has(n.tagName)||n.tabIndex!==-1}const zf=new WeakSet;function y_(n){return e=>{e.key==="Enter"&&n(e)}}function O0(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const R7=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=y_(()=>{if(zf.has(t))return;O0(t,"down");const i=y_(()=>{O0(t,"up")}),s=()=>O0(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function v_(n){return Dv(n)&&!GT()}function D7(n,e,t={}){const[r,i,s]=KT(n,t),a=u=>{const c=u.currentTarget;if(!v_(u)||zf.has(c))return;zf.add(c);const h=e(c,u),m=(w,E)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!v_(w)||!zf.has(c))&&(zf.delete(c),typeof h=="function"&&h(w,{success:E}))},y=w=>{m(w,c===window||c===document||t.useGlobalTarget||YT(c,w.target))},_=w=>{m(w,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",_,i)};return r.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",a,i),u instanceof HTMLElement&&(u.addEventListener("focus",h=>R7(h,i)),!L7(u)&&u.tabIndex===null&&(u.tabIndex=0))}),s}const w_=30,O7=n=>!isNaN(parseFloat(n));class M7{constructor(e,t={}){this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=$a.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=$a.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=O7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Cv);const r=this.events[e].add(t);return e==="change"?()=>{r(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$a.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>w_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,w_);return UT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dd(n,e){return new M7(n,e)}const QT=re.createContext({strict:!1}),__={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xh={};for(const n in __)Xh[n]={isEnabled:e=>__[n].some(t=>!!e[t])};function j7(n){for(const e in n)Xh[e]={...Xh[e],...n[e]}}const F7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Im(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||F7.has(n)}let XT=n=>!Im(n);function V7(n){n&&(XT=e=>e.startsWith("on")?!Im(e):n(e))}try{V7(require("@emotion/is-prop-valid").default)}catch{}function B7(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(XT(i)||t===!0&&Im(i)||!e&&!Im(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function U7(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const yg=re.createContext({});function vg(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function pd(n){return typeof n=="string"||Array.isArray(n)}const Ov=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mv=["initial",...Ov];function wg(n){return vg(n.animate)||Mv.some(e=>pd(n[e]))}function JT(n){return!!(wg(n)||n.variants)}function z7(n,e){if(wg(n)){const{initial:t,animate:r}=n;return{initial:t===!1||pd(t)?t:void 0,animate:pd(r)?r:void 0}}return n.inherit!==!1?e:{}}function q7(n){const{initial:e,animate:t}=z7(n,re.useContext(yg));return re.useMemo(()=>({initial:e,animate:t}),[b_(e),b_(t)])}function b_(n){return Array.isArray(n)?n.join(" "):n}const H7=Symbol.for("motionComponentSymbol");function Ah(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function $7(n,e,t){return re.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ah(t)&&(t.current=r))},[e])}const jv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),W7="framerAppearId",ZT="data-"+jv(W7),eA=re.createContext({});function G7(n,e,t,r,i){var s,a;const{visualElement:u}=re.useContext(yg),c=re.useContext(QT),h=re.useContext(gg),m=re.useContext(Av).reducedMotion,y=re.useRef(null);r=r||c.renderer,!y.current&&r&&(y.current=r(n,{visualState:e,parent:u,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const _=y.current,w=re.useContext(eA);_&&!_.projection&&i&&(_.type==="html"||_.type==="svg")&&K7(y.current,t,i,w);const E=re.useRef(!1);re.useInsertionEffect(()=>{_&&E.current&&_.update(t,h)});const N=t[ZT],L=re.useRef(!!N&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,N))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,N)));return FT(()=>{_&&(E.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),Rv.render(_.render),L.current&&_.animationState&&_.animationState.animateChanges())}),re.useEffect(()=>{_&&(!L.current&&_.animationState&&_.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)===null||I===void 0||I.call(window,N)}),L.current=!1))}),_}function K7(n,e,t,r){const{layoutId:i,layout:s,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:tA(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||u&&Ah(u),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:h})}function tA(n){if(n)return n.options.allowProjection!==!1?n.projection:tA(n.parent)}function Y7({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var s,a;n&&j7(n);function u(h,m){let y;const _={...re.useContext(Av),...h,layoutId:Q7(h)},{isStatic:w}=_,E=q7(h),N=r(h,w);if(!w&&Tv){X7();const L=J7(_);y=L.MeasureLayout,E.visualElement=G7(i,N,_,e,L.ProjectionNode)}return C.jsxs(yg.Provider,{value:E,children:[y&&E.visualElement?C.jsx(y,{visualElement:E.visualElement,..._}):null,t(i,h,$7(N,E.visualElement,m),N,w,E.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const c=re.forwardRef(u);return c[H7]=i,c}function Q7({layoutId:n}){const e=re.useContext(Sv).id;return e&&n!==void 0?e+"-"+n:n}function X7(n,e){re.useContext(QT).strict}function J7(n){const{drag:e,layout:t}=Xh;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const nA=n=>e=>typeof e=="string"&&e.startsWith(n),Fv=nA("--"),Z7=nA("var(--"),Vv=n=>Z7(n)?eO.test(n.split("/*")[0].trim()):!1,eO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,md={};function tO(n){for(const e in n)md[e]=n[e],Fv(e)&&(md[e].isCSSVariable=!0)}const uf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wc=new Set(uf);function rA(n,{layout:e,layoutId:t}){return Wc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!md[n]||n==="opacity")}const Yi=n=>!!(n&&n.getVelocity),iA=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Vl=(n,e,t)=>t>e?e:t<n?n:t,cf={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},gd={...cf,transform:n=>Vl(0,1,n)},Op={...cf,default:1},Ud=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Pu=Ud("deg"),Wa=Ud("%"),qt=Ud("px"),nO=Ud("vh"),rO=Ud("vw"),S_={...Wa,parse:n=>Wa.parse(n)/100,transform:n=>Wa.transform(n*100)},iO={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,backgroundPositionX:qt,backgroundPositionY:qt},sO={rotate:Pu,rotateX:Pu,rotateY:Pu,rotateZ:Pu,scale:Op,scaleX:Op,scaleY:Op,scaleZ:Op,skew:Pu,skewX:Pu,skewY:Pu,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:gd,originX:S_,originY:S_,originZ:qt},x_={...cf,transform:Math.round},Bv={...iO,...sO,zIndex:x_,size:qt,fillOpacity:gd,strokeOpacity:gd,numOctaves:x_},oO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aO=uf.length;function lO(n,e,t){let r="",i=!0;for(let s=0;s<aO;s++){const a=uf[s],u=n[a];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(a.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||t){const h=iA(u,Bv[a]);if(!c){i=!1;const m=oO[a]||a;r+=`${m}(${h}) `}t&&(e[a]=h)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function Uv(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let a=!1,u=!1;for(const c in e){const h=e[c];if(Wc.has(c)){a=!0;continue}else if(Fv(c)){i[c]=h;continue}else{const m=iA(h,Bv[c]);c.startsWith("origin")?(u=!0,s[c]=m):r[c]=m}}if(e.transform||(a||t?r.transform=lO(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:h="50%",originZ:m=0}=s;r.transformOrigin=`${c} ${h} ${m}`}}const zv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sA(n,e,t){for(const r in e)!Yi(e[r])&&!rA(r,t)&&(n[r]=e[r])}function uO({transformTemplate:n},e){return re.useMemo(()=>{const t=zv();return Uv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function cO(n,e){const t=n.style||{},r={};return sA(r,t,n),Object.assign(r,uO(n,e)),r}function hO(n,e){const t={},r=cO(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const fO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qv(n){return typeof n!="string"||n.includes("-")?!1:!!(fO.indexOf(n)>-1||/[A-Z]/u.test(n))}const dO={offset:"stroke-dashoffset",array:"stroke-dasharray"},pO={offset:"strokeDashoffset",array:"strokeDasharray"};function mO(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?dO:pO;n[s.offset]=qt.transform(-r);const a=qt.transform(e),u=qt.transform(t);n[s.array]=`${a} ${u}`}function T_(n,e,t){return typeof n=="string"?n:qt.transform(e+t*n)}function gO(n,e,t){const r=T_(e,n.x,n.width),i=T_(t,n.y,n.height);return`${r} ${i}`}function Hv(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:u=1,pathOffset:c=0,...h},m,y){if(Uv(n,h,y),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:w,dimensions:E}=n;_.transform&&(E&&(w.transform=_.transform),delete _.transform),E&&(i!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=gO(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),r!==void 0&&(_.scale=r),a!==void 0&&mO(_,a,u,c,!1)}const oA=()=>({...zv(),attrs:{}}),$v=n=>typeof n=="string"&&n.toLowerCase()==="svg";function yO(n,e,t,r){const i=re.useMemo(()=>{const s=oA();return Hv(s,e,$v(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};sA(s,n.style,n),i.style={...s,...i.style}}return i}function vO(n=!1){return(t,r,i,{latestValues:s},a)=>{const c=(qv(t)?yO:hO)(r,s,a,t),h=B7(r,typeof t=="string",n),m=t!==re.Fragment?{...h,...c,ref:i}:{},{children:y}=r,_=re.useMemo(()=>Yi(y)?y.get():y,[y]);return re.createElement(t,{...m,children:_})}}function A_(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Wv(n,e,t,r){if(typeof e=="function"){const[i,s]=A_(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=A_(r);e=e(t!==void 0?t:n.custom,i,s)}return e}const U1=n=>Array.isArray(n),wO=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),_O=n=>U1(n)?n[n.length-1]||0:n;function em(n){const e=Yi(n)?n.get():n;return wO(e)?e.toValue():e}function bO({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,s){const a={latestValues:SO(r,i,s,n),renderState:e()};return t&&(a.onMount=u=>t({props:r,current:u,...a}),a.onUpdate=u=>t(u)),a}const aA=n=>(e,t)=>{const r=re.useContext(yg),i=re.useContext(gg),s=()=>bO(n,e,r,i);return t?s():xv(s)};function SO(n,e,t,r){const i={},s=r(n,{});for(const _ in s)i[_]=em(s[_]);let{initial:a,animate:u}=n;const c=wg(n),h=JT(n);e&&h&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const y=m?u:a;if(y&&typeof y!="boolean"&&!vg(y)){const _=Array.isArray(y)?y:[y];for(let w=0;w<_.length;w++){const E=Wv(n,_[w]);if(E){const{transitionEnd:N,transition:L,...I}=E;for(const j in I){let q=I[j];if(Array.isArray(q)){const ee=m?q.length-1:0;q=q[ee]}q!==null&&(i[j]=q)}for(const j in N)i[j]=N[j]}}}return i}function Gv(n,e,t){var r;const{style:i}=n,s={};for(const a in i)(Yi(i[a])||e.style&&Yi(e.style[a])||rA(a,n)||((r=t==null?void 0:t.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const xO={useVisualState:aA({scrapeMotionValuesFromProps:Gv,createRenderState:zv})};function lA(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function uA(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const cA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hA(n,e,t,r){uA(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(cA.has(i)?i:jv(i),e.attrs[i])}function fA(n,e,t){const r=Gv(n,e,t);for(const i in n)if(Yi(n[i])||Yi(e[i])){const s=uf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const E_=["x","y","width","height","cx","cy","r"],TO={useVisualState:aA({scrapeMotionValuesFromProps:fA,createRenderState:oA,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let s=!!n.drag;if(!s){for(const u in i)if(Wc.has(u)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let u=0;u<E_.length;u++){const c=E_[u];n[c]!==e[c]&&(a=!0)}a&&Qn.read(()=>{lA(t,r),Qn.render(()=>{Hv(r,i,$v(t.tagName),n.transformTemplate),hA(t,r)})})}})};function AO(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...qv(r)?TO:xO,preloadedFeatures:n,useRender:vO(i),createVisualElement:e,Component:r};return Y7(a)}}function yd(n,e,t){const r=n.getProps();return Wv(r,e,t!==void 0?t:r.custom,n)}const dA=new Set(["width","height","top","left","right","bottom",...uf]);function EO(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,dd(t))}function IO(n,e){const t=yd(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const a in s){const u=_O(s[a]);EO(n,a,u)}}function PO(n){return!!(Yi(n)&&n.add)}function z1(n,e){const t=n.getValue("willChange");if(PO(t))return t.add(e)}function pA(n){return n.props[ZT]}const mA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,CO=1e-7,NO=12;function kO(n,e,t,r,i){let s,a,u=0;do a=e+(t-e)/2,s=mA(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>CO&&++u<NO);return a}function zd(n,e,t,r){if(n===e&&t===r)return io;const i=s=>kO(s,0,1,n,t);return s=>s===0||s===1?s:mA(i(s),e,r)}const gA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,yA=n=>e=>1-n(1-e),vA=zd(.33,1.53,.69,.99),Kv=yA(vA),wA=gA(Kv),_A=n=>(n*=2)<1?.5*Kv(n):.5*(2-Math.pow(2,-10*(n-1))),Yv=n=>1-Math.sin(Math.acos(n)),bA=yA(Yv),SA=gA(Yv),xA=n=>/^0[^.\s]+$/u.test(n);function LO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||xA(n):!0}const Yf=n=>Math.round(n*1e5)/1e5,Qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RO(n){return n==null}const DO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xv=(n,e)=>t=>!!(typeof t=="string"&&DO.test(t)&&t.startsWith(n)||e&&!RO(t)&&Object.prototype.hasOwnProperty.call(t,e)),TA=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,a,u]=r.match(Qv);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},OO=n=>Vl(0,255,n),M0={...cf,transform:n=>Math.round(OO(n))},Cc={test:Xv("rgb","red"),parse:TA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+M0.transform(n)+", "+M0.transform(e)+", "+M0.transform(t)+", "+Yf(gd.transform(r))+")"};function MO(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const q1={test:Xv("#"),parse:MO,transform:Cc.transform},Eh={test:Xv("hsl","hue"),parse:TA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Wa.transform(Yf(e))+", "+Wa.transform(Yf(t))+", "+Yf(gd.transform(r))+")"},$i={test:n=>Cc.test(n)||q1.test(n)||Eh.test(n),parse:n=>Cc.test(n)?Cc.parse(n):Eh.test(n)?Eh.parse(n):q1.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Cc.transform(n):Eh.transform(n)},jO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FO(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Qv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(jO))===null||t===void 0?void 0:t.length)||0)>0}const AA="number",EA="color",VO="var",BO="var(",I_="${}",UO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vd(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const u=e.replace(UO,c=>($i.test(c)?(r.color.push(s),i.push(EA),t.push($i.parse(c))):c.startsWith(BO)?(r.var.push(s),i.push(VO),t.push(c)):(r.number.push(s),i.push(AA),t.push(parseFloat(c))),++s,I_)).split(I_);return{values:t,split:u,indexes:r,types:i}}function IA(n){return vd(n).values}function PA(n){const{split:e,types:t}=vd(n),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const u=t[a];u===AA?s+=Yf(i[a]):u===EA?s+=$i.transform(i[a]):s+=i[a]}return s}}const zO=n=>typeof n=="number"?0:n;function qO(n){const e=IA(n);return PA(n)(e.map(zO))}const Yu={test:FO,parse:IA,createTransformer:PA,getAnimatableNone:qO},HO=new Set(["brightness","contrast","saturate","opacity"]);function $O(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Qv)||[];if(!r)return n;const i=t.replace(r,"");let s=HO.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const WO=/\b([a-z-]*)\(.*?\)/gu,H1={...Yu,getAnimatableNone:n=>{const e=n.match(WO);return e?e.map($O).join(" "):n}},GO={...Bv,color:$i,backgroundColor:$i,outlineColor:$i,fill:$i,stroke:$i,borderColor:$i,borderTopColor:$i,borderRightColor:$i,borderBottomColor:$i,borderLeftColor:$i,filter:H1,WebkitFilter:H1},CA=n=>GO[n];function NA(n,e){let t=CA(n);return t!==H1&&(t=Yu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const KO=new Set(["auto","none","0"]);function YO(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!KO.has(s)&&vd(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=NA(t,i)}const Nc=n=>n*180/Math.PI,$1=n=>{const e=Nc(Math.atan2(n[1],n[0]));return W1(e)},QO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:$1,rotateZ:$1,skewX:n=>Nc(Math.atan(n[1])),skewY:n=>Nc(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},W1=n=>(n=n%360,n<0&&(n+=360),n),P_=$1,C_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),N_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),XO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:C_,scaleY:N_,scale:n=>(C_(n)+N_(n))/2,rotateX:n=>W1(Nc(Math.atan2(n[6],n[5]))),rotateY:n=>W1(Nc(Math.atan2(-n[2],n[0]))),rotateZ:P_,rotate:P_,skewX:n=>Nc(Math.atan(n[4])),skewY:n=>Nc(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function k_(n){return n.includes("scale")?1:0}function G1(n,e){if(!n||n==="none")return k_(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=XO,i=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QO,i=u}if(!i)return k_(e);const s=r[e],a=i[1].split(",").map(ZO);return typeof s=="function"?s(a):a[s]}const JO=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return G1(t,e)};function ZO(n){return parseFloat(n.trim())}const L_=n=>n===cf||n===qt,eM=new Set(["x","y","z"]),tM=uf.filter(n=>!eM.has(n));function nM(n){const e=[];return tM.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Jh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>G1(e,"x"),y:(n,{transform:e})=>G1(e,"y")};Jh.translateX=Jh.x;Jh.translateY=Jh.y;const Lc=new Set;let K1=!1,Y1=!1;function kA(){if(Y1){const n=Array.from(Lc).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=nM(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,a])=>{var u;(u=r.getValue(s))===null||u===void 0||u.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Y1=!1,K1=!1,Lc.forEach(n=>n.complete()),Lc.clear()}function LA(){Lc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Y1=!0)})}function rM(){LA(),kA()}class Jv{constructor(e,t,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Lc.add(this),K1||(K1=!0,Qn.read(LA),Qn.resolveKeyframes(kA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const c=r.readValue(t,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Lc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Lc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),iM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sM(n){const e=iM.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function DA(n,e,t=1){const[r,i]=sM(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return RA(a)?parseFloat(a):a}return Vv(i)?DA(i,e,t+1):i}const OA=n=>e=>e.test(n),oM={test:n=>n==="auto",parse:n=>n},MA=[cf,qt,Wa,Pu,rO,nO,oM],R_=n=>MA.find(OA(n));class jA extends Jv{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),Vv(h))){const m=DA(h,t.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!dA.has(r)||e.length!==2)return;const[i,s]=e,a=R_(i),u=R_(s);if(a!==u)if(L_(a)&&L_(u))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)LO(e[i])&&r.push(i);r.length&&YO(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Jh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,h])=>{t.getValue(c).set(h)}),this.resolveNoneKeyframes()}}const D_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Yu.test(n)||n==="0")&&!n.startsWith("url("));function aM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function lM(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=D_(i,e),u=D_(s,e);return!a||!u?!1:aM(n)||(t==="spring"||kv(t))&&r}const uM=n=>n!==null;function _g(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(uM),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const cM=40;class FA{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$a.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:a,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&rM(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=$a.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:u,onUpdate:c,isGenerator:h}=this.options;if(!h&&!lM(e,r,i,s))if(a)this.options.duration=0;else{c&&c(_g(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const pr=(n,e,t)=>n+(e-n)*t;function j0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function hM({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const u=t<.5?t*(1+e):t+e-t*e,c=2*t-u;i=j0(c,u,n+1/3),s=j0(c,u,n),a=j0(c,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Pm(n,e){return t=>t>0?e:n}const F0=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fM=[q1,Cc,Eh],dM=n=>fM.find(e=>e.test(n));function O_(n){const e=dM(n);if(!e)return!1;let t=e.parse(n);return e===Eh&&(t=hM(t)),t}const M_=(n,e)=>{const t=O_(n),r=O_(e);if(!t||!r)return Pm(n,e);const i={...t};return s=>(i.red=F0(t.red,r.red,s),i.green=F0(t.green,r.green,s),i.blue=F0(t.blue,r.blue,s),i.alpha=pr(t.alpha,r.alpha,s),Cc.transform(i))},pM=(n,e)=>t=>e(n(t)),qd=(...n)=>n.reduce(pM),Q1=new Set(["none","hidden"]);function mM(n,e){return Q1.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function gM(n,e){return t=>pr(n,e,t)}function Zv(n){return typeof n=="number"?gM:typeof n=="string"?Vv(n)?Pm:$i.test(n)?M_:wM:Array.isArray(n)?VA:typeof n=="object"?$i.test(n)?M_:yM:Pm}function VA(n,e){const t=[...n],r=t.length,i=n.map((s,a)=>Zv(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}}function yM(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Zv(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function vM(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=n.indexes[a][i[a]],c=(t=n.values[u])!==null&&t!==void 0?t:0;r[s]=c,i[a]++}return r}const wM=(n,e)=>{const t=Yu.createTransformer(e),r=vd(n),i=vd(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Q1.has(n)&&!i.values.length||Q1.has(e)&&!r.values.length?mM(n,e):qd(VA(vM(r,i),i.values),t):Pm(n,e)};function BA(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?pr(n,e,t):Zv(n)(n,e)}const _M=5;function UA(n,e,t){const r=Math.max(e-_M,0);return UT(t-n(r),e-r)}const Tr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},j_=.001;function bM({duration:n=Tr.duration,bounce:e=Tr.bounce,velocity:t=Tr.velocity,mass:r=Tr.mass}){let i,s,a=1-e;a=Vl(Tr.minDamping,Tr.maxDamping,a),n=Vl(Tr.minDuration,Tr.maxDuration,kl(n)),a<1?(i=h=>{const m=h*a,y=m*n,_=m-t,w=X1(h,a),E=Math.exp(-y);return j_-_/w*E},s=h=>{const y=h*a*n,_=y*t+t,w=Math.pow(a,2)*Math.pow(h,2)*n,E=Math.exp(-y),N=X1(Math.pow(h,2),a);return(-i(h)+j_>0?-1:1)*((_-w)*E)/N}):(i=h=>{const m=Math.exp(-h*n),y=(h-t)*n+1;return-.001+m*y},s=h=>{const m=Math.exp(-h*n),y=(t-h)*(n*n);return m*y});const u=5/n,c=xM(i,s,u);if(n=Nl(n),isNaN(c))return{stiffness:Tr.stiffness,damping:Tr.damping,duration:n};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:n}}}const SM=12;function xM(n,e,t){let r=t;for(let i=1;i<SM;i++)r=r-n(r)/e(r);return r}function X1(n,e){return n*Math.sqrt(1-e*e)}const TM=["duration","bounce"],AM=["stiffness","damping","mass"];function F_(n,e){return e.some(t=>n[t]!==void 0)}function EM(n){let e={velocity:Tr.velocity,stiffness:Tr.stiffness,damping:Tr.damping,mass:Tr.mass,isResolvedFromDuration:!1,...n};if(!F_(n,AM)&&F_(n,TM))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Vl(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Tr.mass,stiffness:i,damping:s}}else{const t=bM(n);e={...e,...t,mass:Tr.mass},e.isResolvedFromDuration=!0}return e}function zA(n=Tr.visualDuration,e=Tr.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],u={done:!1,value:s},{stiffness:c,damping:h,mass:m,duration:y,velocity:_,isResolvedFromDuration:w}=EM({...t,velocity:-kl(t.velocity||0)}),E=_||0,N=h/(2*Math.sqrt(c*m)),L=a-s,I=kl(Math.sqrt(c/m)),j=Math.abs(L)<5;r||(r=j?Tr.restSpeed.granular:Tr.restSpeed.default),i||(i=j?Tr.restDelta.granular:Tr.restDelta.default);let q;if(N<1){const ie=X1(I,N);q=de=>{const z=Math.exp(-N*I*de);return a-z*((E+N*I*L)/ie*Math.sin(ie*de)+L*Math.cos(ie*de))}}else if(N===1)q=ie=>a-Math.exp(-I*ie)*(L+(E+I*L)*ie);else{const ie=I*Math.sqrt(N*N-1);q=de=>{const z=Math.exp(-N*I*de),k=Math.min(ie*de,300);return a-z*((E+N*I*L)*Math.sinh(k)+ie*L*Math.cosh(k))/ie}}const ee={calculatedDuration:w&&y||null,next:ie=>{const de=q(ie);if(w)u.done=ie>=y;else{let z=0;N<1&&(z=ie===0?Nl(E):UA(q,ie,de));const k=Math.abs(z)<=r,U=Math.abs(a-de)<=i;u.done=k&&U}return u.value=u.done?a:de,u},toString:()=>{const ie=Math.min(zT(ee),V1),de=qT(z=>ee.next(ie*z).value,ie,30);return ie+"ms "+de}};return ee}function V_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:u,max:c,restDelta:h=.5,restSpeed:m}){const y=n[0],_={done:!1,value:y},w=k=>u!==void 0&&k<u||c!==void 0&&k>c,E=k=>u===void 0?c:c===void 0||Math.abs(u-k)<Math.abs(c-k)?u:c;let N=t*e;const L=y+N,I=a===void 0?L:a(L);I!==L&&(N=I-y);const j=k=>-N*Math.exp(-k/r),q=k=>I+j(k),ee=k=>{const U=j(k),G=q(k);_.done=Math.abs(U)<=h,_.value=_.done?I:G};let ie,de;const z=k=>{w(_.value)&&(ie=k,de=zA({keyframes:[_.value,E(_.value)],velocity:UA(q,k,_.value),damping:i,stiffness:s,restDelta:h,restSpeed:m}))};return z(0),{calculatedDuration:null,next:k=>{let U=!1;return!de&&ie===void 0&&(U=!0,ee(k),z(k)),ie!==void 0&&k>=ie?de.next(k-ie):(!U&&ee(k),_)}}}const IM=zd(.42,0,1,1),PM=zd(0,0,.58,1),qA=zd(.42,0,.58,1),CM=n=>Array.isArray(n)&&typeof n[0]!="number",NM={linear:io,easeIn:IM,easeInOut:qA,easeOut:PM,circIn:Yv,circInOut:SA,circOut:bA,backIn:Kv,backInOut:wA,backOut:vA,anticipate:_A},B_=n=>{if(Lv(n)){BT(n.length===4);const[e,t,r,i]=n;return zd(e,t,r,i)}else if(typeof n=="string")return NM[n];return n};function kM(n,e,t){const r=[],i=t||BA,s=n.length-1;for(let a=0;a<s;a++){let u=i(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||io:e;u=qd(c,u)}r.push(u)}return r}function LM(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(BT(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=kM(e,r,i),c=u.length,h=m=>{if(a&&m<n[0])return e[0];let y=0;if(c>1)for(;y<n.length-2&&!(m<n[y+1]);y++);const _=Qh(n[y],n[y+1],m);return u[y](_)};return t?m=>h(Vl(n[0],n[s-1],m)):h}function RM(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Qh(0,e,r);n.push(pr(t,1,i))}}function DM(n){const e=[0];return RM(e,n.length-1),e}function OM(n,e){return n.map(t=>t*e)}function MM(n,e){return n.map(()=>e||qA).splice(0,n.length-1)}function Cm({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=CM(r)?r.map(B_):B_(r),s={done:!1,value:e[0]},a=OM(t&&t.length===e.length?t:DM(e),n),u=LM(a,e,{ease:Array.isArray(i)?i:MM(e,i)});return{calculatedDuration:n,next:c=>(s.value=u(c),s.done=c>=n,s)}}const jM=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Qn.update(e,!0),stop:()=>Ku(e),now:()=>Ti.isProcessing?Ti.timestamp:$a.now()}},FM={decay:V_,inertia:V_,tween:Cm,keyframes:Cm,spring:zA},VM=n=>n/100;class e2 extends FA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||Jv,u=(c,h)=>this.onKeyframesResolved(c,h);this.resolver=new a(s,u,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,u=kv(t)?t:FM[t]||Cm;let c,h;u!==Cm&&typeof e[0]!="number"&&(c=qd(VM,BA(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});s==="mirror"&&(h=u({...this.options,keyframes:[...e].reverse(),velocity:-a})),m.calculatedDuration===null&&(m.calculatedDuration=zT(m));const{calculatedDuration:y}=m,_=y+i,w=_*(r+1)-i;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:c,calculatedDuration:y,resolvedDuration:_,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:u,keyframes:c,calculatedDuration:h,totalDuration:m,resolvedDuration:y}=r;if(this.startTime===null)return s.next(0);const{delay:_,repeat:w,repeatType:E,repeatDelay:N,onUpdate:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const I=this.currentTime-_*(this.speed>=0?1:-1),j=this.speed>=0?I<0:I>m;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let q=this.currentTime,ee=s;if(w){const k=Math.min(this.currentTime,m)/y;let U=Math.floor(k),G=k%1;!G&&k>=1&&(G=1),G===1&&U--,U=Math.min(U,w+1),!!(U%2)&&(E==="reverse"?(G=1-G,N&&(G-=N/y)):E==="mirror"&&(ee=a)),q=Vl(0,1,G)*y}const ie=j?{done:!1,value:c[0]}:ee.next(q);u&&(ie.value=u(ie.value));let{done:de}=ie;!j&&h!==null&&(de=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return z&&i!==void 0&&(ie.value=_g(c,this.options,i)),L&&L(ie.value),z&&this.finish(),ie}get duration(){const{resolved:e}=this;return e?kl(e.calculatedDuration):0}get time(){return kl(this.currentTime)}set time(e){e=Nl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=kl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=jM,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const BM=new Set(["opacity","clipPath","filter","transform"]);function UM(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:u="easeInOut",times:c}={}){const h={[e]:t};c&&(h.offset=c);const m=$T(u,i);return Array.isArray(m)&&(h.easing=m),n.animate(h,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const zM=Pv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nm=10,qM=2e4;function HM(n){return kv(n.type)||n.type==="spring"||!HT(n.ease)}function $M(n,e){const t=new e2({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let s=0;for(;!r.done&&s<qM;)r=t.sample(s),i.push(r.value),s+=Nm;return{times:void 0,keyframes:i,duration:s-Nm,ease:"linear"}}const HA={anticipate:_A,backInOut:wA,circInOut:SA};function WM(n){return n in HA}class U_ extends FA{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new jA(s,(a,u)=>this.onKeyframesResolved(a,u),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:s,type:a,motionValue:u,name:c,startTime:h}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof s=="string"&&Em()&&WM(s)&&(s=HA[s]),HM(this.options)){const{onComplete:y,onUpdate:_,motionValue:w,element:E,...N}=this.options,L=$M(e,N);e=L.keyframes,e.length===1&&(e[1]=e[0]),r=L.duration,i=L.times,s=L.ease,a="keyframes"}const m=UM(u.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return m.startTime=h??this.calcStartTime(),this.pendingTimeline?(p_(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;u.set(_g(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return kl(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return kl(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Nl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return io;const{animation:r}=t;p_(r,e)}return io}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:s,ease:a,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:y,element:_,...w}=this.options,E=new e2({...w,keyframes:r,duration:i,type:s,ease:a,times:u,isGenerator:!0}),N=Nl(this.time);h.setWithVelocity(E.sample(N-Nm).value,E.sample(N).value,Nm)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:a,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=t.owner.getProps();return zM()&&r&&BM.has(r)&&(r!=="transform"||!h)&&!c&&!i&&s!=="mirror"&&a!==0&&u!=="inertia"}}const GM={type:"spring",stiffness:500,damping:25,restSpeed:10},KM=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),YM={type:"keyframes",duration:.8},QM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XM=(n,{keyframes:e})=>e.length>2?YM:Wc.has(n)?n.startsWith("scale")?KM(e[1]):GM:QM;function JM({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:u,from:c,elapsed:h,...m}){return!!Object.keys(m).length}const t2=(n,e,t,r={},i,s)=>a=>{const u=Nv(r,n)||{},c=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Nl(c);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:_=>{e.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:s?void 0:i};JM(u)||(m={...m,...XM(n,m)}),m.duration&&(m.duration=Nl(m.duration)),m.repeatDelay&&(m.repeatDelay=Nl(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),m.allowFlatten=!u.type&&!u.ease,y&&!s&&e.get()!==void 0){const _=_g(m.keyframes,u);if(_!==void 0)return Qn.update(()=>{m.onUpdate(_),m.onComplete()}),new S7([])}return!s&&U_.supports(m)?new U_(m):new e2(m)};function ZM({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function $A(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:a=n.getDefaultTransition(),transitionEnd:u,...c}=e;r&&(a=r);const h=[],m=i&&n.animationState&&n.animationState.getState()[i];for(const y in c){const _=n.getValue(y,(s=n.latestValues[y])!==null&&s!==void 0?s:null),w=c[y];if(w===void 0||m&&ZM(m,y))continue;const E={delay:t,...Nv(a||{},y)};let N=!1;if(window.MotionHandoffAnimation){const I=pA(n);if(I){const j=window.MotionHandoffAnimation(I,y,Qn);j!==null&&(E.startTime=j,N=!0)}}z1(n,y),_.start(t2(y,_,w,n.shouldReduceMotion&&dA.has(y)?{type:!1}:E,n,N));const L=_.animation;L&&h.push(L)}return u&&Promise.all(h).then(()=>{Qn.update(()=>{u&&IO(n,u)})}),h}function J1(n,e,t={}){var r;const i=yd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const a=i?()=>Promise.all($A(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=s;return ej(n,e,m+h,y,_,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,m]=c==="beforeChildren"?[a,u]:[u,a];return h().then(()=>m())}else return Promise.all([a(),u(t.delay)])}function ej(n,e,t=0,r=0,i=1,s){const a=[],u=(n.variantChildren.size-1)*r,c=i===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(n.variantChildren).sort(tj).forEach((h,m)=>{h.notify("AnimationStart",e),a.push(J1(h,e,{...s,delay:t+c(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function tj(n,e){return n.sortNodePosition(e)}function nj(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>J1(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=J1(n,e,t);else{const i=typeof e=="function"?yd(n,e,t.custom):e;r=Promise.all($A(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function WA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const rj=Mv.length;function GA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?GA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<rj;t++){const r=Mv[t],i=n.props[r];(pd(i)||i===!1)&&(e[r]=i)}return e}const ij=[...Ov].reverse(),sj=Ov.length;function oj(n){return e=>Promise.all(e.map(({animation:t,options:r})=>nj(n,t,r)))}function aj(n){let e=oj(n),t=z_(),r=!0;const i=c=>(h,m)=>{var y;const _=yd(n,m,c==="exit"?(y=n.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(_){const{transition:w,transitionEnd:E,...N}=_;h={...h,...N,...E}}return h};function s(c){e=c(n)}function a(c){const{props:h}=n,m=GA(n.parent)||{},y=[],_=new Set;let w={},E=1/0;for(let L=0;L<sj;L++){const I=ij[L],j=t[I],q=h[I]!==void 0?h[I]:m[I],ee=pd(q),ie=I===c?j.isActive:null;ie===!1&&(E=L);let de=q===m[I]&&q!==h[I]&&ee;if(de&&r&&n.manuallyAnimateOnMount&&(de=!1),j.protectedKeys={...w},!j.isActive&&ie===null||!q&&!j.prevProp||vg(q)||typeof q=="boolean")continue;const z=lj(j.prevProp,q);let k=z||I===c&&j.isActive&&!de&&ee||L>E&&ee,U=!1;const G=Array.isArray(q)?q:[q];let D=G.reduce(i(I),{});ie===!1&&(D={});const{prevResolvedValues:M={}}=j,F={...M,...D},se=Te=>{k=!0,_.has(Te)&&(U=!0,_.delete(Te)),j.needsAnimating[Te]=!0;const ne=n.getValue(Te);ne&&(ne.liveStyle=!1)};for(const Te in F){const ne=D[Te],ve=M[Te];if(w.hasOwnProperty(Te))continue;let ye=!1;U1(ne)&&U1(ve)?ye=!WA(ne,ve):ye=ne!==ve,ye?ne!=null?se(Te):_.add(Te):ne!==void 0&&_.has(Te)?se(Te):j.protectedKeys[Te]=!0}j.prevProp=q,j.prevResolvedValues=D,j.isActive&&(w={...w,...D}),r&&n.blockInitialAnimation&&(k=!1),k&&(!(de&&z)||U)&&y.push(...G.map(Te=>({animation:Te,options:{type:I}})))}if(_.size){const L={};if(typeof h.initial!="boolean"){const I=yd(n,Array.isArray(h.initial)?h.initial[0]:h.initial);I&&I.transition&&(L.transition=I.transition)}_.forEach(I=>{const j=n.getBaseTarget(I),q=n.getValue(I);q&&(q.liveStyle=!0),L[I]=j??null}),y.push({animation:L})}let N=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(y):Promise.resolve()}function u(c,h){var m;if(t[c].isActive===h)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(_=>{var w;return(w=_.animationState)===null||w===void 0?void 0:w.setActive(c,h)}),t[c].isActive=h;const y=a(c);for(const _ in t)t[_].protectedKeys={};return y}return{animateChanges:a,setActive:u,setAnimateFunction:s,getState:()=>t,reset:()=>{t=z_(),r=!0}}}function lj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!WA(e,n):!1}function Sc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function z_(){return{animate:Sc(!0),whileInView:Sc(),whileHover:Sc(),whileTap:Sc(),whileDrag:Sc(),whileFocus:Sc(),exit:Sc()}}class tc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uj extends tc{constructor(e){super(e),e.animationState||(e.animationState=aj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let cj=0;class hj extends tc{constructor(){super(...arguments),this.id=cj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const fj={animation:{Feature:uj},exit:{Feature:hj}};function wd(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Hd(n){return{point:{x:n.pageX,y:n.pageY}}}const dj=n=>e=>Dv(e)&&n(e,Hd(e));function Qf(n,e,t,r){return wd(n,e,dj(t),r)}function KA({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function pj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function mj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const YA=1e-4,gj=1-YA,yj=1+YA,QA=.01,vj=0-QA,wj=0+QA;function fs(n){return n.max-n.min}function _j(n,e,t){return Math.abs(n-e)<=t}function q_(n,e,t,r=.5){n.origin=r,n.originPoint=pr(e.min,e.max,n.origin),n.scale=fs(t)/fs(e),n.translate=pr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=gj&&n.scale<=yj||isNaN(n.scale))&&(n.scale=1),(n.translate>=vj&&n.translate<=wj||isNaN(n.translate))&&(n.translate=0)}function Xf(n,e,t,r){q_(n.x,e.x,t.x,r?r.originX:void 0),q_(n.y,e.y,t.y,r?r.originY:void 0)}function H_(n,e,t){n.min=t.min+e.min,n.max=n.min+fs(e)}function bj(n,e,t){H_(n.x,e.x,t.x),H_(n.y,e.y,t.y)}function $_(n,e,t){n.min=e.min-t.min,n.max=n.min+fs(e)}function Jf(n,e,t){$_(n.x,e.x,t.x),$_(n.y,e.y,t.y)}const W_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ih=()=>({x:W_(),y:W_()}),G_=()=>({min:0,max:0}),Cr=()=>({x:G_(),y:G_()});function ko(n){return[n("x"),n("y")]}function V0(n){return n===void 0||n===1}function Z1({scale:n,scaleX:e,scaleY:t}){return!V0(n)||!V0(e)||!V0(t)}function Tc(n){return Z1(n)||XA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function XA(n){return K_(n.x)||K_(n.y)}function K_(n){return n&&n!=="0%"}function km(n,e,t){const r=n-t,i=e*r;return t+i}function Y_(n,e,t,r,i){return i!==void 0&&(n=km(n,i,r)),km(n,t,r)+e}function ey(n,e=0,t=1,r,i){n.min=Y_(n.min,e,t,r,i),n.max=Y_(n.max,e,t,r,i)}function JA(n,{x:e,y:t}){ey(n.x,e.translate,e.scale,e.originPoint),ey(n.y,t.translate,t.scale,t.originPoint)}const Q_=.999999999999,X_=1.0000000000001;function Sj(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let u=0;u<i;u++){s=t[u],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ch(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,JA(n,a)),r&&Tc(s.latestValues)&&Ch(n,s.latestValues))}e.x<X_&&e.x>Q_&&(e.x=1),e.y<X_&&e.y>Q_&&(e.y=1)}function Ph(n,e){n.min=n.min+e,n.max=n.max+e}function J_(n,e,t,r,i=.5){const s=pr(n.min,n.max,i);ey(n,e,t,s,r)}function Ch(n,e){J_(n.x,e.x,e.scaleX,e.scale,e.originX),J_(n.y,e.y,e.scaleY,e.scale,e.originY)}function ZA(n,e){return KA(mj(n.getBoundingClientRect(),e))}function xj(n,e,t){const r=ZA(n,t),{scroll:i}=e;return i&&(Ph(r.x,i.offset.x),Ph(r.y,i.offset.y)),r}const e3=({current:n})=>n?n.ownerDocument.defaultView:null,Z_=(n,e)=>Math.abs(n-e);function Tj(n,e){const t=Z_(n.x,e.x),r=Z_(n.y,e.y);return Math.sqrt(t**2+r**2)}class t3{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=U0(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,w=Tj(y.offset,{x:0,y:0})>=3;if(!_&&!w)return;const{point:E}=y,{timestamp:N}=Ti;this.history.push({...E,timestamp:N});const{onStart:L,onMove:I}=this.handlers;_||(L&&L(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=B0(_,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=U0(y.type==="pointercancel"?this.lastMoveEventInfo:B0(_,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,L),E&&E(y,L)},!Dv(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const a=Hd(e),u=B0(a,this.transformPagePoint),{point:c}=u,{timestamp:h}=Ti;this.history=[{...c,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,U0(u,this.history)),this.removeListeners=qd(Qf(this.contextWindow,"pointermove",this.handlePointerMove),Qf(this.contextWindow,"pointerup",this.handlePointerUp),Qf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ku(this.updatePoint)}}function B0(n,e){return e?{point:e(n.point)}:n}function eb(n,e){return{x:n.x-e.x,y:n.y-e.y}}function U0({point:n},e){return{point:n,delta:eb(n,n3(e)),offset:eb(n,Aj(e)),velocity:Ej(e,.1)}}function Aj(n){return n[0]}function n3(n){return n[n.length-1]}function Ej(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=n3(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Nl(e)));)t--;if(!r)return{x:0,y:0};const s=kl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ij(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?pr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?pr(t,n,r.max):Math.min(n,t)),n}function tb(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Pj(n,{top:e,left:t,bottom:r,right:i}){return{x:tb(n.x,t,i),y:tb(n.y,e,r)}}function nb(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Cj(n,e){return{x:nb(n.x,e.x),y:nb(n.y,e.y)}}function Nj(n,e){let t=.5;const r=fs(n),i=fs(e);return i>r?t=Qh(e.min,e.max-r,n.min):r>i&&(t=Qh(n.min,n.max-i,e.min)),Vl(0,1,t)}function kj(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ty=.35;function Lj(n=ty){return n===!1?n=0:n===!0&&(n=ty),{x:rb(n,"left","right"),y:rb(n,"top","bottom")}}function rb(n,e,t){return{min:ib(n,e),max:ib(n,t)}}function ib(n,e){return typeof n=="number"?n:n[e]||0}const Rj=new WeakMap;class Dj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Hd(m).point)},s=(m,y)=>{const{drag:_,dragPropagation:w,onDragStart:E}=this.getProps();if(_&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=P7(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ko(L=>{let I=this.getAxisMotionValue(L).get()||0;if(Wa.test(I)){const{projection:j}=this.visualElement;if(j&&j.layout){const q=j.layout.layoutBox[L];q&&(I=fs(q)*(parseFloat(I)/100))}}this.originPoint[L]=I}),E&&Qn.postRender(()=>E(m,y)),z1(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},a=(m,y)=>{const{dragPropagation:_,dragDirectionLock:w,onDirectionLock:E,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:L}=y;if(w&&this.currentDirection===null){this.currentDirection=Oj(L),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,L),this.updateAxis("y",y.point,L),this.visualElement.render(),N&&N(m,y)},u=(m,y)=>this.stop(m,y),c=()=>ko(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new t3(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:e3(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Qn.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Mp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Ij(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Ah(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Pj(i.layoutBox,t):this.constraints=!1,this.elastic=Lj(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ko(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=kj(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ah(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=xj(r,i.root,this.visualElement.getTransformPagePoint());let a=Cj(i.layout.layoutBox,s);if(t){const u=t(pj(a));this.hasMutatedConstraints=!!u,u&&(a=KA(u))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},h=ko(m=>{if(!Mp(m,t,this.currentDirection))return;let y=c&&c[m]||{};a&&(y={min:0,max:0});const _=i?200:1e6,w=i?40:1e7,E={type:"inertia",velocity:r?e[m]:0,bounceStiffness:_,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...s,...y};return this.startAxisValueAnimation(m,E)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return z1(this.visualElement,e),r.start(t2(e,r,0,t,this.visualElement,!1))}stopAnimation(){ko(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ko(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ko(t=>{const{drag:r}=this.getProps();if(!Mp(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:u}=i.layout.layoutBox[t];s.set(e[t]-pr(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ah(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ko(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();i[a]=Nj({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ko(a=>{if(!Mp(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];u.set(pr(c,h,i[a]))})}addListeners(){if(!this.visualElement.current)return;Rj.set(this.visualElement,this);const e=this.visualElement.current,t=Qf(e,"pointerdown",c=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ah(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Qn.read(r);const a=wd(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(ko(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=c[m].translate,y.set(y.get()+c[m].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=ty,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:u}}}function Mp(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Oj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Mj extends tc{constructor(e){super(e),this.removeGroupControls=io,this.removeListeners=io,this.controls=new Dj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||io}unmount(){this.removeGroupControls(),this.removeListeners()}}const sb=n=>(e,t)=>{n&&Qn.postRender(()=>n(e,t))};class jj extends tc{constructor(){super(...arguments),this.removePointerDownListener=io}onPointerDown(e){this.session=new t3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:sb(e),onStart:sb(t),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Qn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Qf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ob(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const kf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(qt.test(n))n=parseFloat(n);else return n;const t=ob(n,e.target.x),r=ob(n,e.target.y);return`${t}% ${r}%`}},Fj={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Yu.parse(n);if(i.length>5)return r;const s=Yu.createTransformer(n),a=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,c=t.y.scale*e.y;i[0+a]/=u,i[1+a]/=c;const h=pr(u,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=h),typeof i[3+a]=="number"&&(i[3+a]/=h),s(i)}};class Vj extends re.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;tO(Bj),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),tm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Qn.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function r3(n){const[e,t]=VT(),r=re.useContext(Sv);return C.jsx(Vj,{...n,layoutGroup:r,switchLayoutGroup:re.useContext(eA),isPresent:e,safeToRemove:t})}const Bj={borderRadius:{...kf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kf,borderTopRightRadius:kf,borderBottomLeftRadius:kf,borderBottomRightRadius:kf,boxShadow:Fj};function Uj(n,e,t){const r=Yi(n)?n:dd(n);return r.start(t2("",r,e,t)),r.animation}function zj(n){return n instanceof SVGElement&&n.tagName!=="svg"}const qj=(n,e)=>n.depth-e.depth;class Hj{constructor(){this.children=[],this.isDirty=!1}add(e){Ev(this.children,e),this.isDirty=!0}remove(e){Iv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qj),this.isDirty=!1,this.children.forEach(e)}}function $j(n,e){const t=$a.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Ku(r),n(s-e))};return Qn.read(r,!0),()=>Ku(r)}const i3=["TopLeft","TopRight","BottomLeft","BottomRight"],Wj=i3.length,ab=n=>typeof n=="string"?parseFloat(n):n,lb=n=>typeof n=="number"||qt.test(n);function Gj(n,e,t,r,i,s){i?(n.opacity=pr(0,t.opacity!==void 0?t.opacity:1,Kj(r)),n.opacityExit=pr(e.opacity!==void 0?e.opacity:1,0,Yj(r))):s&&(n.opacity=pr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let a=0;a<Wj;a++){const u=`border${i3[a]}Radius`;let c=ub(e,u),h=ub(t,u);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||lb(c)===lb(h)?(n[u]=Math.max(pr(ab(c),ab(h),r),0),(Wa.test(h)||Wa.test(c))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=pr(e.rotate||0,t.rotate||0,r))}function ub(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Kj=s3(0,.5,bA),Yj=s3(.5,.95,io);function s3(n,e,t){return r=>r<n?0:r>e?1:t(Qh(n,e,r))}function cb(n,e){n.min=e.min,n.max=e.max}function No(n,e){cb(n.x,e.x),cb(n.y,e.y)}function hb(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function fb(n,e,t,r,i){return n-=e,n=km(n,1/t,r),i!==void 0&&(n=km(n,1/i,r)),n}function Qj(n,e=0,t=1,r=.5,i,s=n,a=n){if(Wa.test(e)&&(e=parseFloat(e),e=pr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=pr(s.min,s.max,r);n===s&&(u-=e),n.min=fb(n.min,e,t,u,i),n.max=fb(n.max,e,t,u,i)}function db(n,e,[t,r,i],s,a){Qj(n,e[t],e[r],e[i],e.scale,s,a)}const Xj=["x","scaleX","originX"],Jj=["y","scaleY","originY"];function pb(n,e,t,r){db(n.x,e,Xj,t?t.x:void 0,r?r.x:void 0),db(n.y,e,Jj,t?t.y:void 0,r?r.y:void 0)}function mb(n){return n.translate===0&&n.scale===1}function o3(n){return mb(n.x)&&mb(n.y)}function gb(n,e){return n.min===e.min&&n.max===e.max}function Zj(n,e){return gb(n.x,e.x)&&gb(n.y,e.y)}function yb(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function a3(n,e){return yb(n.x,e.x)&&yb(n.y,e.y)}function vb(n){return fs(n.x)/fs(n.y)}function wb(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class eF{constructor(){this.members=[]}add(e){Ev(this.members,e),e.scheduleRender()}remove(e){if(Iv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tF(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:m,rotateX:y,rotateY:_,skewX:w,skewY:E}=t;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),w&&(r+=`skewX(${w}deg) `),E&&(r+=`skewY(${E}deg) `)}const u=n.x.scale*e.x,c=n.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const z0=["","X","Y","Z"],nF={visibility:"hidden"},_b=1e3;let rF=0;function q0(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function l3(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=pA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Qn,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&l3(r)}function u3({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},u=e==null?void 0:e()){this.id=rF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oF),this.nodes.forEach(hF),this.nodes.forEach(fF),this.nodes.forEach(aF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hj)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Cv),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const c=this.eventHandlers.get(a);c&&c.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zj(a),this.instance=a;const{layoutId:c,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||c)&&(this.isLayoutDirty=!0),n){let y;const _=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=$j(_,250),tm.hasAnimatedSinceResize&&(tm.hasAnimatedSinceResize=!1,this.nodes.forEach(Sb))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||m.getDefaultTransition()||yF,{onLayoutAnimationStart:L,onLayoutAnimationComplete:I}=m.getProps(),j=!this.targetLayout||!a3(this.targetLayout,E),q=!_&&w;if(this.options.layoutRoot||this.resumeFrom||q||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,q);const ee={...Nv(N,"layout"),onPlay:L,onComplete:I};(m.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee)}else _||Sb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ku(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bb);return}this.isUpdating||this.nodes.forEach(uF),this.isUpdating=!1,this.nodes.forEach(cF),this.nodes.forEach(iF),this.nodes.forEach(sF),this.clearAllSnapshots();const u=$a.now();Ti.delta=Vl(0,1e3/60,u-Ti.timestamp),Ti.timestamp=u,Ti.isProcessing=!0,D0.update.process(Ti),D0.preRender.process(Ti),D0.render.process(Ti),Ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lF),this.sharedNodes.forEach(pF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fs(this.snapshot.measuredBox.x)&&!fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!o3(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&(u||Tc(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return a&&(c=this.removeTransform(c)),vF(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:u}=this.options;if(!u)return Cr();const c=u.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(wF))){const{scroll:m}=this.root;m&&(Ph(c.x,m.offset.x),Ph(c.y,m.offset.y))}return c}removeElementScroll(a){var u;const c=Cr();if(No(c,a),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&No(c,a),Ph(c.x,y.offset.x),Ph(c.y,y.offset.y))}return c}applyTransform(a,u=!1){const c=Cr();No(c,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ch(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Tc(m.latestValues)&&Ch(c,m.latestValues)}return Tc(this.latestValues)&&Ch(c,this.latestValues),c}removeTransform(a){const u=Cr();No(u,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!Tc(h.latestValues))continue;Z1(h.latestValues)&&h.updateSnapshot();const m=Cr(),y=h.measurePageBox();No(m,y),pb(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Tc(this.latestValues)&&pb(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var u;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Ti.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),Jf(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),No(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cr(),this.targetWithTransforms=Cr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):No(this.target,this.layout.layoutBox),JA(this.target,this.targetDelta)):No(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),Jf(this.relativeTargetOrigin,this.target,w.target),No(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Z1(this.parent.latestValues)||XA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ti.timestamp&&(h=!1),h)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;No(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;Sj(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Cr());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hb(this.prevProjectionDelta.x,this.projectionDelta.x),hb(this.prevProjectionDelta.y,this.projectionDelta.y)),Xf(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!wb(this.projectionDelta.x,this.prevProjectionDelta.x)||!wb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ih(),this.projectionDelta=Ih(),this.projectionDeltaWithTransform=Ih()}setAnimationOrigin(a,u=!1){const c=this.snapshot,h=c?c.latestValues:{},m={...this.latestValues},y=Ih();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=Cr(),w=c?c.source:void 0,E=this.layout?this.layout.source:void 0,N=w!==E,L=this.getStack(),I=!L||L.members.length<=1,j=!!(N&&!I&&this.options.crossfade===!0&&!this.path.some(gF));this.animationProgress=0;let q;this.mixTargetDelta=ee=>{const ie=ee/1e3;xb(y.x,a.x,ie),xb(y.y,a.y,ie),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jf(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mF(this.relativeTarget,this.relativeTargetOrigin,_,ie),q&&Zj(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Cr()),No(q,this.relativeTarget)),N&&(this.animationValues=m,Gj(m,h,this.latestValues,ie,j,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ku(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{tm.hasAnimatedSinceResize=!0,this.currentAnimation=Uj(0,_b,{...a,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_b),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:c,layout:h,latestValues:m}=a;if(!(!u||!c||!h)){if(this!==a&&this.layout&&h&&c3(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Cr();const y=fs(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+y;const _=fs(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+_}No(u,c),Ch(u,m),Xf(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new eF),this.sharedNodes.get(a).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:u}=this.options;return u?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:u}=this.options;return u?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const h={};c.z&&q0("z",a,h,this.animationValues);for(let m=0;m<z0.length;m++)q0(`rotate${z0[m]}`,a,h,this.animationValues),q0(`skew${z0[m]}`,a,h,this.animationValues);a.render();for(const m in h)a.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);a.scheduleRender()}getProjectionStyles(a){var u,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nF;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=em(a==null?void 0:a.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=em(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Tc(this.latestValues)&&(N.transform=m?m({},""):"none",this.hasProjected=!1),N}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),h.transform=tF(this.projectionDeltaWithTransform,this.treeScale,_),m&&(h.transform=m(_,h.transform));const{x:w,y:E}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,y.animationValues?h.opacity=y===this?(c=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:h.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const N in md){if(_[N]===void 0)continue;const{correct:L,applyTo:I,isCSSVariable:j}=md[N],q=h.transform==="none"?_[N]:L(_[N],y);if(I){const ee=I.length;for(let ie=0;ie<ee;ie++)h[I[ie]]=q}else j?this.options.visualElement.renderState.vars[N]=q:h[N]=q}return this.options.layoutId&&(h.pointerEvents=y===this?em(a==null?void 0:a.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(bb),this.root.sharedNodes.clear()}}}function iF(n){n.updateLayout()}function sF(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?ko(y=>{const _=a?t.measuredBox[y]:t.layoutBox[y],w=fs(_);_.min=r[y].min,_.max=_.min+w}):c3(s,t.layoutBox,r)&&ko(y=>{const _=a?t.measuredBox[y]:t.layoutBox[y],w=fs(r[y]);_.max=_.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const u=Ih();Xf(u,r,t.layoutBox);const c=Ih();a?Xf(c,n.applyTransform(i,!0),t.measuredBox):Xf(c,r,t.layoutBox);const h=!o3(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:w}=y;if(_&&w){const E=Cr();Jf(E,t.layoutBox,_.layoutBox);const N=Cr();Jf(N,r,w.layoutBox),a3(E,N)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=E,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function oF(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function aF(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function lF(n){n.clearSnapshot()}function bb(n){n.clearMeasurements()}function uF(n){n.isLayoutDirty=!1}function cF(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Sb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function hF(n){n.resolveTargetDelta()}function fF(n){n.calcProjection()}function dF(n){n.resetSkewAndRotation()}function pF(n){n.removeLeadSnapshot()}function xb(n,e,t){n.translate=pr(e.translate,0,t),n.scale=pr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Tb(n,e,t,r){n.min=pr(e.min,t.min,r),n.max=pr(e.max,t.max,r)}function mF(n,e,t,r){Tb(n.x,e.x,t.x,r),Tb(n.y,e.y,t.y,r)}function gF(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const yF={duration:.45,ease:[.4,0,.1,1]},Ab=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Eb=Ab("applewebkit/")&&!Ab("chrome/")?Math.round:io;function Ib(n){n.min=Eb(n.min),n.max=Eb(n.max)}function vF(n){Ib(n.x),Ib(n.y)}function c3(n,e,t){return n==="position"||n==="preserve-aspect"&&!_j(vb(e),vb(t),.2)}function wF(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const _F=u3({attachResizeListener:(n,e)=>wd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),H0={current:void 0},h3=u3({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!H0.current){const n=new _F({});n.mount(window),n.setOptions({layoutScroll:!0}),H0.current=n}return H0.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),bF={pan:{Feature:jj},drag:{Feature:Mj,ProjectionNode:h3,MeasureLayout:r3}};function Pb(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&Qn.postRender(()=>s(e,Hd(e)))}class SF extends tc{mount(){const{current:e}=this.node;e&&(this.unmount=N7(e,(t,r)=>(Pb(this.node,r,"Start"),i=>Pb(this.node,i,"End"))))}unmount(){}}class xF extends tc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qd(wd(this.node.current,"focus",()=>this.onFocus()),wd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Cb(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&Qn.postRender(()=>s(e,Hd(e)))}class TF extends tc{mount(){const{current:e}=this.node;e&&(this.unmount=D7(e,(t,r)=>(Cb(this.node,r,"Start"),(i,{success:s})=>Cb(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ny=new WeakMap,$0=new WeakMap,AF=n=>{const e=ny.get(n.target);e&&e(n)},EF=n=>{n.forEach(AF)};function IF({root:n,...e}){const t=n||document;$0.has(t)||$0.set(t,{});const r=$0.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(EF,{root:n,...e})),r[i]}function PF(n,e,t){const r=IF(e);return ny.set(n,t),r.observe(n),()=>{ny.delete(n),r.unobserve(n)}}const CF={some:0,all:1};class NF extends tc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:CF[i]},u=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),_=h?m:y;_&&_(c)};return PF(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(kF(e,t))&&this.startObserver()}unmount(){}}function kF({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const LF={inView:{Feature:NF},tap:{Feature:TF},focus:{Feature:xF},hover:{Feature:SF}},RF={layout:{ProjectionNode:h3,MeasureLayout:r3}},ry={current:null},f3={current:!1};function DF(){if(f3.current=!0,!!Tv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ry.current=n.matches;n.addListener(e),e()}else ry.current=!1}const OF=[...MA,$i,Yu],MF=n=>OF.find(OA(n)),jF=new WeakMap;function FF(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Yi(i))n.addValue(r,i);else if(Yi(s))n.addValue(r,dd(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(r);n.addValue(r,dd(a!==void 0?a:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Nb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VF{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=$a.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Qn.render(this.render,!1,!0))};const{latestValues:c,renderState:h,onUpdate:m}=a;this.onUpdate=m,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=wg(t),this.isVariantNode=JT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in _){const E=_[w];c[w]!==void 0&&Yi(E)&&E.set(c[w],!1)}}mount(e){this.current=e,jF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),f3.current||DF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ry.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ku(this.notifyUpdate),Ku(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Qn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xh){const t=Xh[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Nb.length;r++){const i=Nb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=FF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=dd(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(RA(i)||xA(i))?i=parseFloat(i):!MF(i)&&Yu.test(t)&&(i=NA(e,t)),this.setBaseTarget(e,Yi(i)?i.get():i)),Yi(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=Wv(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Yi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Cv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class d3 extends VF{constructor(){super(...arguments),this.KeyframeResolver=jA}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function BF(n){return window.getComputedStyle(n)}class UF extends d3{constructor(){super(...arguments),this.type="html",this.renderInstance=uA}readValueFromInstance(e,t){if(Wc.has(t))return JO(e,t);{const r=BF(e),i=(Fv(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ZA(e,t)}build(e,t,r){Uv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Gv(e,t,r)}}class zF extends d3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&lA(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Wc.has(t)){const r=CA(t);return r&&r.default||0}return t=cA.has(t)?t:jv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return fA(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Qn.postRender(this.updateDimensions)}build(e,t,r){Hv(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){hA(e,t,r,i)}mount(e){this.isSVGTag=$v(e.tagName),super.mount(e)}}const qF=(n,e)=>qv(n)?new zF(e):new UF(e,{allowProjection:n!==re.Fragment}),HF=AO({...fj,...LF,...bF,...RF},qF),Gt=U7(HF);var p3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kb=En.createContext&&En.createContext(p3),$F=["attr","size","title"];function WF(n,e){if(n==null)return{};var t=GF(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function GF(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Lm(){return Lm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Lm.apply(this,arguments)}function Lb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Rm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(t),!0).forEach(function(r){KF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KF(n,e,t){return e=YF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YF(n){var e=QF(n,"string");return typeof e=="symbol"?e:e+""}function QF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function m3(n){return n&&n.map((e,t)=>En.createElement(e.tag,Rm({key:t},e.attr),m3(e.child)))}function Ja(n){return e=>En.createElement(XF,Lm({attr:Rm({},n.attr)},e),m3(n.child))}function XF(n){var e=t=>{var{attr:r,size:i,title:s}=n,a=WF(n,$F),u=i||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),En.createElement("svg",Lm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:c,style:Rm(Rm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&En.createElement("title",null,s),n.children)};return kb!==void 0?En.createElement(kb.Consumer,null,t=>e(t)):e(p3)}function JF(n){return Ja({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function ZF(n){return Ja({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function e9(n){return Ja({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function t9(n){return Ja({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function n9(n){return Ja({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"},child:[]}]})(n)}function r9(n){return Ja({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3V2"},child:[]},{tag:"path",attr:{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5"},child:[]},{tag:"path",attr:{d:"M2 14h12a2 2 0 0 1 0 4h-2"},child:[]},{tag:"path",attr:{d:"M4 10h16"},child:[]},{tag:"path",attr:{d:"M5 10a7 7 0 0 1 14 0"},child:[]},{tag:"path",attr:{d:"M5 14v6a1 1 0 0 1-1 1H2"},child:[]}]})(n)}function i9(n){return Ja({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(n)}function s9(n){return Ja({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{width:"3",height:"9",x:"7",y:"7"},child:[]},{tag:"rect",attr:{width:"3",height:"5",x:"14",y:"7"},child:[]}]})(n)}function Rb(n){return Ja({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Image_Off"},child:[{tag:"path",attr:{d:"M19.937,14.218l0,-8.654c0,-0.829 -0.672,-1.5 -1.5,-1.5l-10.628,-0c-0.276,-0 -0.5,-0.225 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l10.628,-0c1.38,-0 2.5,1.118 2.5,2.5l0,10.624c0,0.276 -0.224,0.5 -0.5,0.501c-0.276,-0 -0.5,-0.225 -0.5,-0.5l0,-0.556l-4.583,-4.584c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.162,0.162 2.37,2.37 3.876,3.876Zm-0.121,6.304c-0.395,0.262 -0.869,0.415 -1.379,0.415l-12.874,-0c-1.381,-0 -2.5,-1.119 -2.5,-2.5l0,-12.873c0,-0.51 0.153,-0.984 0.414,-1.38l-0.263,-0.263c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.088,0.088 0.176,0.176 0.263,0.263c0.245,0.245 16.095,16.094 16.339,16.338l0.263,0.263c0.455,0.456 -0.252,1.163 -0.707,0.707c-0.088,-0.087 -0.175,-0.175 -0.263,-0.263Zm-11.104,-11.103l-2.001,-2.001c-0.094,0.196 -0.146,0.415 -0.146,0.647c-0,0.829 0.672,1.5 1.5,1.5c0.232,-0 0.451,-0.052 0.647,-0.146Zm-2.733,-2.733l-1.77,-1.77c-0.093,0.196 -0.146,0.416 -0.146,0.648l0,10.717l1.926,-1.926c0.587,-0.586 1.536,-0.586 2.122,-0l0.555,0.554c0.195,0.196 0.511,0.196 0.706,0l2.415,-2.415l-2.343,-2.343c-0.395,0.262 -0.869,0.414 -1.379,0.414c-1.38,-0 -2.5,-1.119 -2.5,-2.5c-0,-0.509 0.152,-0.983 0.414,-1.379Zm-1.916,11.009l0,0.741c0,0.829 0.671,1.5 1.5,1.5l12.874,0c0.232,0 0.451,-0.052 0.647,-0.145c-0.165,-0.165 -3.264,-3.263 -6.59,-6.59l-2.414,2.415c-0.585,0.586 -1.537,0.586 -2.122,0l-0.554,-0.554c-0.195,-0.196 -0.512,-0.196 -0.708,0l-2.633,2.633Z"},child:[]}]}]})(n)}const o9="/new-mainlogo.svg",a9="/cat_profile.svg",l9="modulepreload",u9=function(n){return"/"+n},Db={},iy=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=u9(c),c in Db)return;Db[c]=!0;const h=c.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":l9,h||(y.as="script"),y.crossOrigin="",y.href=c,u&&y.setAttribute("nonce",u),document.head.appendChild(y),h)return new Promise((_,w)=>{y.addEventListener("load",_),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function zn(n){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(n)}var Ki=Uint8Array,no=Uint16Array,n2=Int32Array,bg=new Ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sg=new Ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sy=new Ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g3=function(n,e){for(var t=new no(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new n2(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},y3=g3(bg,2),v3=y3.b,oy=y3.r;v3[28]=258,oy[258]=28;var w3=g3(Sg,0),c9=w3.b,Ob=w3.r,ay=new no(32768);for(var rr=0;rr<32768;++rr){var Eu=(rr&43690)>>1|(rr&21845)<<1;Eu=(Eu&52428)>>2|(Eu&13107)<<2,Eu=(Eu&61680)>>4|(Eu&3855)<<4,ay[rr]=((Eu&65280)>>8|(Eu&255)<<8)>>1}var Ga=function(n,e,t){for(var r=n.length,i=0,s=new no(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new no(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var u;if(t){u=new no(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],m=e-n[i],y=a[n[i]-1]++<<m,_=y|(1<<m)-1;y<=_;++y)u[ay[y]>>c]=h}else for(u=new no(r),i=0;i<r;++i)n[i]&&(u[i]=ay[a[n[i]-1]++]>>15-n[i]);return u},Qu=new Ki(288);for(var rr=0;rr<144;++rr)Qu[rr]=8;for(var rr=144;rr<256;++rr)Qu[rr]=9;for(var rr=256;rr<280;++rr)Qu[rr]=7;for(var rr=280;rr<288;++rr)Qu[rr]=8;var _d=new Ki(32);for(var rr=0;rr<32;++rr)_d[rr]=5;var h9=Ga(Qu,9,0),f9=Ga(Qu,9,1),d9=Ga(_d,5,0),p9=Ga(_d,5,1),W0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},aa=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},G0=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},r2=function(n){return(n+7)/8|0},_3=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ki(n.subarray(e,t))},m9=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ca=function(n,e,t){var r=new Error(e||m9[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,ca),!t)throw r;return r},g9=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new Ki(0);var a=!t,u=a||e.i!=2,c=e.i;a&&(t=new Ki(i*3));var h=function(Ye){var ft=t.length;if(Ye>ft){var lt=new Ki(Math.max(ft*2,Ye));lt.set(t),t=lt}},m=e.f||0,y=e.p||0,_=e.b||0,w=e.l,E=e.d,N=e.m,L=e.n,I=i*8;do{if(!w){m=aa(n,y,1);var j=aa(n,y+1,3);if(y+=3,j)if(j==1)w=f9,E=p9,N=9,L=5;else if(j==2){var de=aa(n,y,31)+257,z=aa(n,y+10,15)+4,k=de+aa(n,y+5,31)+1;y+=14;for(var U=new Ki(k),G=new Ki(19),D=0;D<z;++D)G[sy[D]]=aa(n,y+D*3,7);y+=z*3;for(var M=W0(G),F=(1<<M)-1,se=Ga(G,M,1),D=0;D<k;){var Le=se[aa(n,y,F)];y+=Le&15;var q=Le>>4;if(q<16)U[D++]=q;else{var Ne=0,Te=0;for(q==16?(Te=3+aa(n,y,3),y+=2,Ne=U[D-1]):q==17?(Te=3+aa(n,y,7),y+=3):q==18&&(Te=11+aa(n,y,127),y+=7);Te--;)U[D++]=Ne}}var ne=U.subarray(0,de),ve=U.subarray(de);N=W0(ne),L=W0(ve),w=Ga(ne,N,1),E=Ga(ve,L,1)}else ca(1);else{var q=r2(y)+4,ee=n[q-4]|n[q-3]<<8,ie=q+ee;if(ie>i){c&&ca(0);break}u&&h(_+ee),t.set(n.subarray(q,ie),_),e.b=_+=ee,e.p=y=ie*8,e.f=m;continue}if(y>I){c&&ca(0);break}}u&&h(_+131072);for(var ye=(1<<N)-1,ue=(1<<L)-1,O=y;;O=y){var Ne=w[G0(n,y)&ye],X=Ne>>4;if(y+=Ne&15,y>I){c&&ca(0);break}if(Ne||ca(2),X<256)t[_++]=X;else if(X==256){O=y,w=null;break}else{var Z=X-254;if(X>264){var D=X-257,oe=bg[D];Z=aa(n,y,(1<<oe)-1)+v3[D],y+=oe}var ce=E[G0(n,y)&ue],_e=ce>>4;ce||ca(3),y+=ce&15;var ve=c9[_e];if(_e>3){var oe=Sg[_e];ve+=G0(n,y)&(1<<oe)-1,y+=oe}if(y>I){c&&ca(0);break}u&&h(_+131072);var Ae=_+Z;if(_<ve){var Ee=s-ve,Ke=Math.min(ve,Ae);for(Ee+_<0&&ca(3);_<Ke;++_)t[_]=r[Ee+_]}for(;_<Ae;++_)t[_]=t[_-ve]}}e.l=w,e.p=O,e.b=_,e.f=m,w&&(m=1,e.m=N,e.d=E,e.n=L)}while(!m);return _!=t.length&&a?_3(t,0,_):t.subarray(0,_)},Tl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Lf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},K0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:S3,l:0};if(i==1){var a=new Ki(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(ie,de){return ie.f-de.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],h=0,m=1,y=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};m!=i-1;)u=t[t[h].f<t[y].f?h++:y++],c=t[h!=m&&t[h].f<t[y].f?h++:y++],t[m++]={s:-1,f:u.f+c.f,l:u,r:c};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var w=new no(_+1),E=ly(t[m-1],w,0);if(E>e){var r=0,N=0,L=E-e,I=1<<L;for(s.sort(function(de,z){return w[z.s]-w[de.s]||de.f-z.f});r<i;++r){var j=s[r].s;if(w[j]>e)N+=I-(1<<E-w[j]),w[j]=e;else break}for(N>>=L;N>0;){var q=s[r].s;w[q]<e?N-=1<<e-w[q]++-1:++r}for(;r>=0&&N;--r){var ee=s[r].s;w[ee]==e&&(--w[ee],++N)}E=e}return{t:new Ki(w),l:E}},ly=function(n,e,t){return n.s==-1?Math.max(ly(n.l,e,t+1),ly(n.r,e,t+1)):e[n.s]=t},Mb=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new no(++e),r=0,i=n[0],s=1,a=function(c){t[r++]=c},u=1;u<=e;++u)if(n[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[u]}return{c:t.subarray(0,r),n:e}},Rf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},b3=function(n,e,t){var r=t.length,i=r2(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},jb=function(n,e,t,r,i,s,a,u,c,h,m){Tl(e,m++,t),++i[256];for(var y=K0(i,15),_=y.t,w=y.l,E=K0(s,15),N=E.t,L=E.l,I=Mb(_),j=I.c,q=I.n,ee=Mb(N),ie=ee.c,de=ee.n,z=new no(19),k=0;k<j.length;++k)++z[j[k]&31];for(var k=0;k<ie.length;++k)++z[ie[k]&31];for(var U=K0(z,7),G=U.t,D=U.l,M=19;M>4&&!G[sy[M-1]];--M);var F=h+5<<3,se=Rf(i,Qu)+Rf(s,_d)+a,Le=Rf(i,_)+Rf(s,N)+a+14+3*M+Rf(z,G)+2*z[16]+3*z[17]+7*z[18];if(c>=0&&F<=se&&F<=Le)return b3(e,m,n.subarray(c,c+h));var Ne,Te,ne,ve;if(Tl(e,m,1+(Le<se)),m+=2,Le<se){Ne=Ga(_,w,0),Te=_,ne=Ga(N,L,0),ve=N;var ye=Ga(G,D,0);Tl(e,m,q-257),Tl(e,m+5,de-1),Tl(e,m+10,M-4),m+=14;for(var k=0;k<M;++k)Tl(e,m+3*k,G[sy[k]]);m+=3*M;for(var ue=[j,ie],O=0;O<2;++O)for(var X=ue[O],k=0;k<X.length;++k){var Z=X[k]&31;Tl(e,m,ye[Z]),m+=G[Z],Z>15&&(Tl(e,m,X[k]>>5&127),m+=X[k]>>12)}}else Ne=h9,Te=Qu,ne=d9,ve=_d;for(var k=0;k<u;++k){var oe=r[k];if(oe>255){var Z=oe>>18&31;Lf(e,m,Ne[Z+257]),m+=Te[Z+257],Z>7&&(Tl(e,m,oe>>23&31),m+=bg[Z]);var ce=oe&31;Lf(e,m,ne[ce]),m+=ve[ce],ce>3&&(Lf(e,m,oe>>5&8191),m+=Sg[ce])}else Lf(e,m,Ne[oe]),m+=Te[oe]}return Lf(e,m,Ne[256]),m+Te[256]},y9=new n2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),S3=new Ki(0),v9=function(n,e,t,r,i,s){var a=s.z||n.length,u=new Ki(r+a+5*(1+Math.ceil(a/7e3))+i),c=u.subarray(r,u.length-i),h=s.l,m=(s.r||0)&7;if(e){m&&(c[0]=s.r>>3);for(var y=y9[e-1],_=y>>13,w=y&8191,E=(1<<t)-1,N=s.p||new no(32768),L=s.h||new no(E+1),I=Math.ceil(t/3),j=2*I,q=function(Nt){return(n[Nt]^n[Nt+1]<<I^n[Nt+2]<<j)&E},ee=new n2(25e3),ie=new no(288),de=new no(32),z=0,k=0,U=s.i||0,G=0,D=s.w||0,M=0;U+2<a;++U){var F=q(U),se=U&32767,Le=L[F];if(N[se]=Le,L[F]=se,D<=U){var Ne=a-U;if((z>7e3||G>24576)&&(Ne>423||!h)){m=jb(n,c,0,ee,ie,de,k,G,M,U-M,m),G=z=k=0,M=U;for(var Te=0;Te<286;++Te)ie[Te]=0;for(var Te=0;Te<30;++Te)de[Te]=0}var ne=2,ve=0,ye=w,ue=se-Le&32767;if(Ne>2&&F==q(U-ue))for(var O=Math.min(_,Ne)-1,X=Math.min(32767,U),Z=Math.min(258,Ne);ue<=X&&--ye&&se!=Le;){if(n[U+ne]==n[U+ne-ue]){for(var oe=0;oe<Z&&n[U+oe]==n[U+oe-ue];++oe);if(oe>ne){if(ne=oe,ve=ue,oe>O)break;for(var ce=Math.min(ue,oe-2),_e=0,Te=0;Te<ce;++Te){var Ae=U-ue+Te&32767,Ee=N[Ae],Ke=Ae-Ee&32767;Ke>_e&&(_e=Ke,Le=Ae)}}}se=Le,Le=N[se],ue+=se-Le&32767}if(ve){ee[G++]=268435456|oy[ne]<<18|Ob[ve];var Ye=oy[ne]&31,ft=Ob[ve]&31;k+=bg[Ye]+Sg[ft],++ie[257+Ye],++de[ft],D=U+ne,++z}else ee[G++]=n[U],++ie[n[U]]}}for(U=Math.max(U,D);U<a;++U)ee[G++]=n[U],++ie[n[U]];m=jb(n,c,h,ee,ie,de,k,G,M,U-M,m),h||(s.r=m&7|c[m/8|0]<<3,m-=7,s.h=L,s.p=N,s.i=U,s.w=D)}else{for(var U=s.w||0;U<a+h;U+=65535){var lt=U+65535;lt>=a&&(c[m/8|0]=h,lt=a),m=b3(c,m+1,n.subarray(U,lt))}s.i=a}return _3(u,0,r+r2(m)+i)},x3=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var u=Math.min(a+2655,s);a<u;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},w9=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ki(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return v9(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},T3=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},_9=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=x3();i.p(e.dictionary),T3(n,2,i.d())}},b9=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ca(6,"invalid zlib data"),(n[1]>>5&1)==1&&ca(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function uy(n,e){e||(e={});var t=x3();t.p(n);var r=w9(n,e,e.dictionary?6:2,4);return _9(r,e),T3(r,r.length-4,t.d()),r}function S9(n,e){return g9(n.subarray(b9(n),-4),{i:2},e,e)}var x9=typeof TextDecoder<"u"&&new TextDecoder,T9=0;try{x9.decode(S3,{stream:!0}),T9=1}catch{}var Ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Y0(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var $n={log:Y0,warn:function(n){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):Y0.call(null,arguments))},error:function(n){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):Y0(n))}};function Q0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ac(r.response,e,t)},r.onerror=function(){$n.error("could not download file")},r.send()}function Fb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function jp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Zf,cy,Ac=Ht.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ht.URL||Ht.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Fb(i.href)?Q0(n,e,t):jp(i,i.target="_blank"):jp(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){jp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Fb(n))Q0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){jp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:zn(s)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Q0(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Ht.HTMLElement)||Ht.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var m=u.result;m=a?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},u.readAsDataURL(n)}else{var c=Ht.URL||Ht.webkitURL,h=c.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function A3(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+u+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function X0(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Ui(t,r,i,s,e[0],7,-680876936),s=Ui(s,t,r,i,e[1],12,-389564586),i=Ui(i,s,t,r,e[2],17,606105819),r=Ui(r,i,s,t,e[3],22,-1044525330),t=Ui(t,r,i,s,e[4],7,-176418897),s=Ui(s,t,r,i,e[5],12,1200080426),i=Ui(i,s,t,r,e[6],17,-1473231341),r=Ui(r,i,s,t,e[7],22,-45705983),t=Ui(t,r,i,s,e[8],7,1770035416),s=Ui(s,t,r,i,e[9],12,-1958414417),i=Ui(i,s,t,r,e[10],17,-42063),r=Ui(r,i,s,t,e[11],22,-1990404162),t=Ui(t,r,i,s,e[12],7,1804603682),s=Ui(s,t,r,i,e[13],12,-40341101),i=Ui(i,s,t,r,e[14],17,-1502002290),t=zi(t,r=Ui(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=zi(s,t,r,i,e[6],9,-1069501632),i=zi(i,s,t,r,e[11],14,643717713),r=zi(r,i,s,t,e[0],20,-373897302),t=zi(t,r,i,s,e[5],5,-701558691),s=zi(s,t,r,i,e[10],9,38016083),i=zi(i,s,t,r,e[15],14,-660478335),r=zi(r,i,s,t,e[4],20,-405537848),t=zi(t,r,i,s,e[9],5,568446438),s=zi(s,t,r,i,e[14],9,-1019803690),i=zi(i,s,t,r,e[3],14,-187363961),r=zi(r,i,s,t,e[8],20,1163531501),t=zi(t,r,i,s,e[13],5,-1444681467),s=zi(s,t,r,i,e[2],9,-51403784),i=zi(i,s,t,r,e[7],14,1735328473),t=qi(t,r=zi(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=qi(s,t,r,i,e[8],11,-2022574463),i=qi(i,s,t,r,e[11],16,1839030562),r=qi(r,i,s,t,e[14],23,-35309556),t=qi(t,r,i,s,e[1],4,-1530992060),s=qi(s,t,r,i,e[4],11,1272893353),i=qi(i,s,t,r,e[7],16,-155497632),r=qi(r,i,s,t,e[10],23,-1094730640),t=qi(t,r,i,s,e[13],4,681279174),s=qi(s,t,r,i,e[0],11,-358537222),i=qi(i,s,t,r,e[3],16,-722521979),r=qi(r,i,s,t,e[6],23,76029189),t=qi(t,r,i,s,e[9],4,-640364487),s=qi(s,t,r,i,e[12],11,-421815835),i=qi(i,s,t,r,e[15],16,530742520),t=Hi(t,r=qi(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Hi(s,t,r,i,e[7],10,1126891415),i=Hi(i,s,t,r,e[14],15,-1416354905),r=Hi(r,i,s,t,e[5],21,-57434055),t=Hi(t,r,i,s,e[12],6,1700485571),s=Hi(s,t,r,i,e[3],10,-1894986606),i=Hi(i,s,t,r,e[10],15,-1051523),r=Hi(r,i,s,t,e[1],21,-2054922799),t=Hi(t,r,i,s,e[8],6,1873313359),s=Hi(s,t,r,i,e[15],10,-30611744),i=Hi(i,s,t,r,e[6],15,-1560198380),r=Hi(r,i,s,t,e[13],21,1309151649),t=Hi(t,r,i,s,e[4],6,-145523070),s=Hi(s,t,r,i,e[11],10,-1120210379),i=Hi(i,s,t,r,e[2],15,718787259),r=Hi(r,i,s,t,e[9],21,-343485551),n[0]=Du(t,n[0]),n[1]=Du(r,n[1]),n[2]=Du(i,n[2]),n[3]=Du(s,n[3])}function xg(n,e,t,r,i,s){return e=Du(Du(e,n),Du(r,s)),Du(e<<i|e>>>32-i,t)}function Ui(n,e,t,r,i,s,a){return xg(e&t|~e&r,n,e,i,s,a)}function zi(n,e,t,r,i,s,a){return xg(e&r|t&~r,n,e,i,s,a)}function qi(n,e,t,r,i,s,a){return xg(e^t^r,n,e,i,s,a)}function Hi(n,e,t,r,i,s,a){return xg(t^(e|~r),n,e,i,s,a)}function E3(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)X0(r,A9(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(X0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,X0(r,i),r}function A9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Zf=Ht.atob.bind(Ht),cy=Ht.btoa.bind(Ht);var Vb="0123456789abcdef".split("");function E9(n){for(var e="",t=0;t<4;t++)e+=Vb[n>>8*t+4&15]+Vb[n>>8*t&15];return e}function I9(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function hy(n){return E3(n).map(I9).join("")}var P9=function(n){for(var e=0;e<n.length;e++)n[e]=E9(n[e]);return n.join("")}(E3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Du(n,e){if(P9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fy(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),u=[],c=0;c<256;c++)u[c]=c;var h=0;for(c=0;c<256;c++){var m=u[c];h=(h+m+a.charCodeAt(c))%256,u[c]=u[h],u[h]=m}t=n,r=u}else u=r;var y=e.length,_=0,w=0,E="";for(c=0;c<y;c++)w=(w+(m=u[_=(_+1)%256]))%256,u[_]=u[w],u[w]=m,a=u[(u[_]+u[w])%256],E+=String.fromCharCode(e.charCodeAt(c)^a);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Bb={print:4,modify:8,copy:16,"annot-forms":32};function bh(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(Bb.perm!==void 0)throw new Error("Invalid permission: "+u);i+=Bb[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=hy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=fy(this.encryptionKey,this.padding)}function Sh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function Ub(n){if(zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(u){Ht.console&&$n.error("jsPDF PubSub Error",u.message,u)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Dm(n){if(!(this instanceof Dm))return new Dm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function I3(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ec(n,e,t,r,i){if(!(this instanceof Ec))return new Ec(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,I3.call(this,r,i)}function Nh(n,e,t,r,i){if(!(this instanceof Nh))return new Nh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,I3.call(this,r,i)}function Ut(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],u=1,c=16,h="S",m=null;zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(m=n.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,_={},w={internal:{},__private__:{}};w.__private__.PubSub=Ub;var E="1.3",N=w.__private__.getPdfVersion=function(){return E};w.__private__.setPdfVersion=function(b){E=b};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return L};var I=w.__private__.getPageFormat=function(b){return L[b]};i=i||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},q=j.COMPAT;function ee(){this.saveGraphicsState(),le(new wt(dt,0,0,-dt,0,ni()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),h="n",q=j.ADVANCED}function ie(){this.restoreGraphicsState(),h="S",q=j.COMPAT}var de=w.__private__.combineFontStyleAndFontWeight=function(b,B){if(b=="bold"&&B=="normal"||b=="bold"&&B==400||b=="normal"&&B=="italic"||b=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(b=B==400||B==="normal"?b==="italic"?"italic":"normal":B!=700&&B!=="bold"||b!=="normal"?(B==700?"bold":B)+""+b:"bold"),b};w.advancedAPI=function(b){var B=q===j.COMPAT;return B&&ee.call(this),typeof b!="function"||(b(this),B&&ie.call(this)),this},w.compatAPI=function(b){var B=q===j.ADVANCED;return B&&ie.call(this),typeof b!="function"||(b(this),B&&ee.call(this)),this},w.isAdvancedAPI=function(){return q===j.ADVANCED};var z,k=function(b){if(q!==j.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=w.roundToPrecision=w.__private__.roundToPrecision=function(b,B){var te=e||B;if(isNaN(b)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(te).replace(/0+$/,"")};z=w.hpf=w.__private__.hpf=typeof c=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,c)}:c==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,16)};var G=w.f2=w.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return U(b,2)},D=w.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return U(b,3)},M=w.scale=w.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return q===j.COMPAT?b*dt:q===j.ADVANCED?b:void 0},F=function(b){return q===j.COMPAT?ni()-b:q===j.ADVANCED?b:void 0},se=function(b){return M(F(b))};w.__private__.setPrecision=w.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var Le,Ne="00000000000000000000000000000000",Te=w.__private__.getFileId=function(){return Ne},ne=w.__private__.setFileId=function(b){return Ne=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():Ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(pn=new bh(m.userPermissions,m.userPassword,m.ownerPassword,Ne)),Ne};w.setFileId=function(b){return ne(b),this},w.getFileId=function(){return Te()};var ve=w.__private__.convertDateToPDFDate=function(b){var B=b.getTimezoneOffset(),te=B<0?"+":"-",he=Math.floor(Math.abs(B/60)),xe=Math.abs(B%60),Fe=[te,Z(he),"'",Z(xe),"'"].join("");return["D:",b.getFullYear(),Z(b.getMonth()+1),Z(b.getDate()),Z(b.getHours()),Z(b.getMinutes()),Z(b.getSeconds()),Fe].join("")},ye=w.__private__.convertPDFDateToDate=function(b){var B=parseInt(b.substr(2,4),10),te=parseInt(b.substr(6,2),10)-1,he=parseInt(b.substr(8,2),10),xe=parseInt(b.substr(10,2),10),Fe=parseInt(b.substr(12,2),10),Je=parseInt(b.substr(14,2),10);return new Date(B,te,he,xe,Fe,Je,0)},ue=w.__private__.setCreationDate=function(b){var B;if(b===void 0&&(b=new Date),b instanceof Date)B=ve(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=b}return Le=B},O=w.__private__.getCreationDate=function(b){var B=Le;return b==="jsDate"&&(B=ye(Le)),B};w.setCreationDate=function(b){return ue(b),this},w.getCreationDate=function(b){return O(b)};var X,Z=w.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},oe=w.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},ce=0,_e=[],Ae=[],Ee=0,Ke=[],Ye=[],ft=!1,lt=Ae,Nt=function(){ce=0,Ee=0,Ae=[],_e=[],Ke=[],js=Vn(),Jr=Vn()};w.__private__.setCustomOutputDestination=function(b){ft=!0,lt=b};var je=function(b){ft||(lt=b)};w.__private__.resetCustomOutputDestination=function(){ft=!1,lt=Ae};var le=w.__private__.out=function(b){return b=b.toString(),Ee+=b.length+1,lt.push(b),lt},jt=w.__private__.write=function(b){return le(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},xt=w.__private__.getArrayBuffer=function(b){for(var B=b.length,te=new ArrayBuffer(B),he=new Uint8Array(te);B--;)he[B]=b.charCodeAt(B);return te},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Ze};var it=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(b){return it=q===j.ADVANCED?b/dt:b,this};var ht,ct=w.__private__.getFontSize=w.getFontSize=function(){return q===j.COMPAT?it:it*dt},Ce=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(b){return Ce=b,this},w.__private__.getR2L=w.getR2L=function(){return Ce};var We,ot=w.__private__.setZoomMode=function(b){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))ht=b;else if(isNaN(b)){if(B.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');ht=b}else ht=parseInt(b,10)};w.__private__.getZoomMode=function(){return ht};var He,at=w.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');We=b};w.__private__.getPageMode=function(){return We};var vt=w.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');He=b};w.__private__.getLayoutMode=function(){return He},w.__private__.setDisplayMode=w.setDisplayMode=function(b,B,te){return ot(b),vt(B),at(te),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(b){if(Object.keys(bt).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[b]},w.__private__.getDocumentProperties=function(){return bt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(b){for(var B in bt)bt.hasOwnProperty(B)&&b[B]&&(bt[B]=b[B]);return this},w.__private__.setDocumentProperty=function(b,B){if(Object.keys(bt).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[b]=B};var Ft,dt,Wn,nn,jr,dn={},_n={},Xr=[],rn={},ze={},Qe={},pt={},zt=null,Xe=0,nt=[],Dt=new Ub(w),Rn=n.hotfixes||[],un={},Gn={},yr=[],wt=function b(B,te,he,xe,Fe,Je){if(!(this instanceof b))return new b(B,te,he,xe,Fe,Je);isNaN(B)&&(B=1),isNaN(te)&&(te=0),isNaN(he)&&(he=0),isNaN(xe)&&(xe=1),isNaN(Fe)&&(Fe=0),isNaN(Je)&&(Je=0),this._matrix=[B,te,he,xe,Fe,Je]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(b)},wt.prototype.multiply=function(b){var B=b.sx*this.sx+b.shy*this.shx,te=b.sx*this.shy+b.shy*this.sy,he=b.shx*this.sx+b.sy*this.shx,xe=b.shx*this.shy+b.sy*this.sy,Fe=b.tx*this.sx+b.ty*this.shx+this.tx,Je=b.tx*this.shy+b.ty*this.sy+this.ty;return new wt(B,te,he,xe,Fe,Je)},wt.prototype.decompose=function(){var b=this.sx,B=this.shy,te=this.shx,he=this.sy,xe=this.tx,Fe=this.ty,Je=Math.sqrt(b*b+B*B),mt=(b/=Je)*te+(B/=Je)*he;te-=b*mt,he-=B*mt;var p=Math.sqrt(te*te+he*he);return mt/=p,b*(he/=p)<B*(te/=p)&&(b=-b,B=-B,mt=-mt,Je=-Je),{scale:new wt(Je,0,0,p,0,0),translate:new wt(1,0,0,1,xe,Fe),rotate:new wt(b,B,-B,b,0,0),skew:new wt(1,0,mt,1,0,0)}},wt.prototype.toString=function(b){return this.join(" ")},wt.prototype.inversed=function(){var b=this.sx,B=this.shy,te=this.shx,he=this.sy,xe=this.tx,Fe=this.ty,Je=1/(b*he-B*te),mt=he*Je,p=-B*Je,T=-te*Je,R=b*Je;return new wt(mt,p,T,R,-mt*xe-T*Fe,-p*xe-R*Fe)},wt.prototype.applyToPoint=function(b){var B=b.x*this.sx+b.y*this.shx+this.tx,te=b.x*this.shy+b.y*this.sy+this.ty;return new ns(B,te)},wt.prototype.applyToRectangle=function(b){var B=this.applyToPoint(b),te=this.applyToPoint(new ns(b.x+b.w,b.y+b.h));return new Ws(B.x,B.y,te.x-B.x,te.y-B.y)},wt.prototype.clone=function(){var b=this.sx,B=this.shy,te=this.shx,he=this.sy,xe=this.tx,Fe=this.ty;return new wt(b,B,te,he,xe,Fe)},w.Matrix=wt;var Kn=w.matrixMult=function(b,B){return B.multiply(b)},In=new wt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=In;var ir=function(b,B){if(!ze[b]){var te=(B instanceof Ec?"Sh":"P")+(Object.keys(rn).length+1).toString(10);B.id=te,ze[b]=te,rn[te]=B,Dt.publish("addPattern",B)}};w.ShadingPattern=Ec,w.TilingPattern=Nh,w.addShadingPattern=function(b,B){return k("addShadingPattern()"),ir(b,B),this},w.beginTilingPattern=function(b){k("beginTilingPattern()"),xa(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},w.endTilingPattern=function(b,B){k("endTilingPattern()"),B.stream=Ye[X].join(`
`),ir(b,B),Dt.publish("endTilingPattern",B),yr.pop().restore()};var Fn=w.__private__.newObject=function(){var b=Vn();return Xn(b,!0),b},Vn=w.__private__.newObjectDeferred=function(){return ce++,_e[ce]=function(){return Ee},ce},Xn=function(b,B){return B=typeof B=="boolean"&&B,_e[b]=Ee,B&&le(b+" 0 obj"),b},so=w.__private__.newAdditionalObject=function(){var b={objId:Vn(),content:""};return Ke.push(b),b},js=Vn(),Jr=Vn(),Pi=w.__private__.decodeColorString=function(b){var B=b.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var te=parseFloat(B[0]);B=[te,te,te,"r"]}for(var he="#",xe=0;xe<3;xe++)he+=("0"+Math.floor(255*parseFloat(B[xe])).toString(16)).slice(-2);return he},hr=w.__private__.encodeColorString=function(b){var B;typeof b=="string"&&(b={ch1:b});var te=b.ch1,he=b.ch2,xe=b.ch3,Fe=b.ch4,Je=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var mt=new A3(te);if(mt.ok)te=mt.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var p=parseInt(te.substr(1),16);te=p>>16&255,he=p>>8&255,xe=255&p}if(he===void 0||Fe===void 0&&te===he&&he===xe)if(typeof te=="string")B=te+" "+Je[0];else switch(b.precision){case 2:B=G(te/255)+" "+Je[0];break;case 3:default:B=D(te/255)+" "+Je[0]}else if(Fe===void 0||zn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return B=["1.","1.","1.",Je[1]].join(" ");if(typeof te=="string")B=[te,he,xe,Je[1]].join(" ");else switch(b.precision){case 2:B=[G(te/255),G(he/255),G(xe/255),Je[1]].join(" ");break;default:case 3:B=[D(te/255),D(he/255),D(xe/255),Je[1]].join(" ")}}else if(typeof te=="string")B=[te,he,xe,Fe,Je[2]].join(" ");else switch(b.precision){case 2:B=[G(te),G(he),G(xe),G(Fe),Je[2]].join(" ");break;case 3:default:B=[D(te),D(he),D(xe),D(Fe),Je[2]].join(" ")}return B},Zr=w.__private__.getFilters=function(){return a},sr=w.__private__.putStream=function(b){var B=(b=b||{}).data||"",te=b.filters||Zr(),he=b.alreadyAppliedFilters||[],xe=b.addLength1||!1,Fe=B.length,Je=b.objectId,mt=function(Qt){return Qt};if(m!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(mt=pn.encryptor(Je,0));var p={};te===!0&&(te=["FlateEncode"]);var T=b.additionalKeyValues||[],R=(p=Ut.API.processDataByFilters!==void 0?Ut.API.processDataByFilters(B,te):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(p.data.length!==0&&(T.push({key:"Length",value:p.data.length}),xe===!0&&T.push({key:"Length1",value:Fe})),R.length!=0)if(R.split("/").length-1==1)T.push({key:"Filter",value:R});else{T.push({key:"Filter",value:"["+R+"]"});for(var Y=0;Y<T.length;Y+=1)if(T[Y].key==="DecodeParms"){for(var be=[],Re=0;Re<p.reverseChain.split("/").length-1;Re+=1)be.push("null");be.push(T[Y].value),T[Y].value="["+be.join(" ")+"]"}}le("<<");for(var et=0;et<T.length;et++)le("/"+T[et].key+" "+T[et].value);le(">>"),p.data.length!==0&&(le("stream"),le(mt(p.data)),le("endstream"))},Xi=w.__private__.putPage=function(b){var B=b.number,te=b.data,he=b.objId,xe=b.contentsObjId;Xn(he,!0),le("<</Type /Page"),le("/Parent "+b.rootDictionaryObjId+" 0 R"),le("/Resources "+b.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(z(b.mediaBox.bottomLeftX))+" "+parseFloat(z(b.mediaBox.bottomLeftY))+" "+z(b.mediaBox.topRightX)+" "+z(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&le("/CropBox ["+z(b.cropBox.bottomLeftX)+" "+z(b.cropBox.bottomLeftY)+" "+z(b.cropBox.topRightX)+" "+z(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&le("/BleedBox ["+z(b.bleedBox.bottomLeftX)+" "+z(b.bleedBox.bottomLeftY)+" "+z(b.bleedBox.topRightX)+" "+z(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&le("/TrimBox ["+z(b.trimBox.bottomLeftX)+" "+z(b.trimBox.bottomLeftY)+" "+z(b.trimBox.topRightX)+" "+z(b.trimBox.topRightY)+"]"),b.artBox!==null&&le("/ArtBox ["+z(b.artBox.bottomLeftX)+" "+z(b.artBox.bottomLeftY)+" "+z(b.artBox.topRightX)+" "+z(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&le("/UserUnit "+b.userUnit),Dt.publish("putPage",{objId:he,pageContext:nt[B],pageNumber:B,page:te}),le("/Contents "+xe+" 0 R"),le(">>"),le("endobj");var Fe=te.join(`
`);return q===j.ADVANCED&&(Fe+=`
Q`),Xn(xe,!0),sr({data:Fe,filters:Zr(),objectId:xe}),le("endobj"),he},Fs=w.__private__.putPages=function(){var b,B,te=[];for(b=1;b<=Xe;b++)nt[b].objId=Vn(),nt[b].contentsObjId=Vn();for(b=1;b<=Xe;b++)te.push(Xi({number:b,data:Ye[b],objId:nt[b].objId,contentsObjId:nt[b].contentsObjId,mediaBox:nt[b].mediaBox,cropBox:nt[b].cropBox,bleedBox:nt[b].bleedBox,trimBox:nt[b].trimBox,artBox:nt[b].artBox,userUnit:nt[b].userUnit,rootDictionaryObjId:js,resourceDictionaryObjId:Jr}));Xn(js,!0),le("<</Type /Pages");var he="/Kids [";for(B=0;B<Xe;B++)he+=te[B]+" 0 R ";le(he+"]"),le("/Count "+Xe),le(">>"),le("endobj"),Dt.publish("postPutPages")},Vs=function(b){Dt.publish("putFont",{font:b,out:le,newObject:Fn,putStream:sr}),b.isAlreadyPutted!==!0&&(b.objectNumber=Fn(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Sh(b.postScriptName)),le("/Subtype /Type1"),typeof b.encoding=="string"&&le("/Encoding /"+b.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Bs=function(){for(var b in dn)dn.hasOwnProperty(b)&&(y===!1||y===!0&&_.hasOwnProperty(b))&&Vs(dn[b])},oo=function(b){b.objectNumber=Fn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[z(b.x),z(b.y),z(b.x+b.width),z(b.y+b.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var te=b.pages[1].join(`
`);sr({data:te,additionalKeyValues:B,objectId:b.objectNumber}),le("endobj")},Do=function(){for(var b in un)un.hasOwnProperty(b)&&oo(un[b])},ql=function(b,B){var te,he=[],xe=1/(B-1);for(te=0;te<1;te+=xe)he.push(te);if(he.push(1),b[0].offset!=0){var Fe={offset:0,color:b[0].color};b.unshift(Fe)}if(b[b.length-1].offset!=1){var Je={offset:1,color:b[b.length-1].color};b.push(Je)}for(var mt="",p=0,T=0;T<he.length;T++){for(te=he[T];te>b[p+1].offset;)p++;var R=b[p].offset,Y=(te-R)/(b[p+1].offset-R),be=b[p].color,Re=b[p+1].color;mt+=oe(Math.round((1-Y)*be[0]+Y*Re[0]).toString(16))+oe(Math.round((1-Y)*be[1]+Y*Re[1]).toString(16))+oe(Math.round((1-Y)*be[2]+Y*Re[2]).toString(16))}return mt.trim()},Dn=function(b,B){B||(B=21);var te=Fn(),he=ql(b.colors,B),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+B+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),sr({data:he,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),le("endobj"),b.objectNumber=Fn(),le("<< /ShadingType "+b.type),le("/ColorSpace /DeviceRGB");var Fe="/Coords ["+z(parseFloat(b.coords[0]))+" "+z(parseFloat(b.coords[1]))+" ";b.type===2?Fe+=z(parseFloat(b.coords[2]))+" "+z(parseFloat(b.coords[3])):Fe+=z(parseFloat(b.coords[2]))+" "+z(parseFloat(b.coords[3]))+" "+z(parseFloat(b.coords[4]))+" "+z(parseFloat(b.coords[5])),le(Fe+="]"),b.matrix&&le("/Matrix ["+b.matrix.toString()+"]"),le("/Function "+te+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Hl=function(b,B){var te=Vn(),he=Fn();B.push({resourcesOid:te,objectOid:he}),b.objectNumber=he;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+b.boundingBox.map(z).join(" ")+"]"}),xe.push({key:"XStep",value:z(b.xStep)}),xe.push({key:"YStep",value:z(b.yStep)}),xe.push({key:"Resources",value:te+" 0 R"}),b.matrix&&xe.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),sr({data:b.stream,additionalKeyValues:xe,objectId:b.objectNumber}),le("endobj")},ms=function(b){var B;for(B in rn)rn.hasOwnProperty(B)&&(rn[B]instanceof Ec?Dn(rn[B]):rn[B]instanceof Nh&&Hl(rn[B],b))},Us=function(b){for(var B in b.objectNumber=Fn(),le("<<"),b)switch(B){case"opacity":le("/ca "+G(b[B]));break;case"stroke-opacity":le("/CA "+G(b[B]))}le(">>"),le("endobj")},Ci=function(){var b;for(b in Qe)Qe.hasOwnProperty(b)&&Us(Qe[b])},Oo=function(){for(var b in le("/XObject <<"),un)un.hasOwnProperty(b)&&un[b].objectNumber>=0&&le("/"+b+" "+un[b].objectNumber+" 0 R");Dt.publish("putXobjectDict"),le(">>")},$l=function(){pn.oid=Fn(),le("<<"),le("/Filter /Standard"),le("/V "+pn.v),le("/R "+pn.r),le("/U <"+pn.toHexString(pn.U)+">"),le("/O <"+pn.toHexString(pn.O)+">"),le("/P "+pn.P),le(">>"),le("endobj")},ao=function(){for(var b in le("/Font <<"),dn)dn.hasOwnProperty(b)&&(y===!1||y===!0&&_.hasOwnProperty(b))&&le("/"+b+" "+dn[b].objectNumber+" 0 R");le(">>")},fi=function(){if(Object.keys(rn).length>0){for(var b in le("/Shading <<"),rn)rn.hasOwnProperty(b)&&rn[b]instanceof Ec&&rn[b].objectNumber>=0&&le("/"+b+" "+rn[b].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),le(">>")}},Mo=function(b){if(Object.keys(rn).length>0){for(var B in le("/Pattern <<"),rn)rn.hasOwnProperty(B)&&rn[B]instanceof w.TilingPattern&&rn[B].objectNumber>=0&&rn[B].objectNumber<b&&le("/"+B+" "+rn[B].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),le(">>")}},Fr=function(){if(Object.keys(Qe).length>0){var b;for(b in le("/ExtGState <<"),Qe)Qe.hasOwnProperty(b)&&Qe[b].objectNumber>=0&&le("/"+b+" "+Qe[b].objectNumber+" 0 R");Dt.publish("putGStateDict"),le(">>")}},qn=function(b){Xn(b.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ao(),fi(),Mo(b.objectOid),Fr(),Oo(),le(">>"),le("endobj")},el=function(){var b=[];Bs(),Ci(),Do(),ms(b),Dt.publish("putResources"),b.forEach(qn),qn({resourcesOid:Jr,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources")},tl=function(){Dt.publish("putAdditionalObjects");for(var b=0;b<Ke.length;b++){var B=Ke[b];Xn(B.objId,!0),le(B.content),le("endobj")}Dt.publish("postPutAdditionalObjects")},jo=function(b){_n[b.fontName]=_n[b.fontName]||{},_n[b.fontName][b.fontStyle]=b.id},lo=function(b,B,te,he,xe){var Fe={id:"F"+(Object.keys(dn).length+1).toString(10),postScriptName:b,fontName:B,fontStyle:te,encoding:he,isStandardFont:xe||!1,metadata:{}};return Dt.publish("addFont",{font:Fe,instance:this}),dn[Fe.id]=Fe,jo(Fe),Fe.id},uo=function(b){for(var B=0,te=Ze.length;B<te;B++){var he=lo.call(this,b[B][0],b[B][1],b[B][2],Ze[B][3],!0);y===!1&&(_[he]=!0);var xe=b[B][0].split("-");jo({id:he,fontName:xe[0],fontStyle:xe[1]||""})}Dt.publish("addFonts",{fonts:dn,dictionary:_n})},Vr=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(he){var B=he.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var te="Error in function "+B.split(`
`)[0].split("<")[0]+": "+he.message;if(!Ht.console)throw new Error(te);Ht.console.error(te,he),Ht.alert&&alert(te)}},b.foo.bar=b,b.foo},va=function(b,B){var te,he,xe,Fe,Je,mt,p,T,R;if(xe=(B=B||{}).sourceEncoding||"Unicode",Je=B.outputEncoding,(B.autoencode||Je)&&dn[Ft].metadata&&dn[Ft].metadata[xe]&&dn[Ft].metadata[xe].encoding&&(Fe=dn[Ft].metadata[xe].encoding,!Je&&dn[Ft].encoding&&(Je=dn[Ft].encoding),!Je&&Fe.codePages&&(Je=Fe.codePages[0]),typeof Je=="string"&&(Je=Fe[Je]),Je)){for(p=!1,mt=[],te=0,he=b.length;te<he;te++)(T=Je[b.charCodeAt(te)])?mt.push(String.fromCharCode(T)):mt.push(b[te]),mt[te].charCodeAt(0)>>8&&(p=!0);b=mt.join("")}for(te=b.length;p===void 0&&te!==0;)b.charCodeAt(te-1)>>8&&(p=!0),te--;if(!p)return b;for(mt=B.noBOM?[]:[254,255],te=0,he=b.length;te<he;te++){if((R=(T=b.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(R),mt.push(T-(R<<8))}return String.fromCharCode.apply(void 0,mt)},or=w.__private__.pdfEscape=w.pdfEscape=function(b,B){return va(b,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Br=w.__private__.beginPage=function(b){Ye[++Xe]=[],nt[Xe]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},zs(Xe),je(Ye[X])},co=function(b,B){var te,he,xe;switch(t=B||t,typeof b=="string"&&(te=I(b.toLowerCase()),Array.isArray(te)&&(he=te[0],xe=te[1])),Array.isArray(b)&&(he=b[0]*dt,xe=b[1]*dt),isNaN(he)&&(he=i[0],xe=i[1]),(he>14400||xe>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),xe=Math.min(14400,xe)),i=[he,xe],t.substr(0,1)){case"l":xe>he&&(i=[xe,he]);break;case"p":he>xe&&(i=[xe,he])}Br(i),go(rl),le(vr),sl!==0&&le(sl+" J"),yo!==0&&le(yo+" j"),Dt.publish("addPage",{pageNumber:Xe})},ho=function(b){b>0&&b<=Xe&&(Ye.splice(b,1),nt.splice(b,1),Xe--,X>Xe&&(X=Xe),this.setPage(X))},zs=function(b){b>0&&b<=Xe&&(X=b)},Pn=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ye.length-1},qs=function(b,B,te){var he,xe=void 0;return te=te||{},b=b!==void 0?b:dn[Ft].fontName,B=B!==void 0?B:dn[Ft].fontStyle,he=b.toLowerCase(),_n[he]!==void 0&&_n[he][B]!==void 0?xe=_n[he][B]:_n[b]!==void 0&&_n[b][B]!==void 0?xe=_n[b][B]:te.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+b+"', '"+B+"'. Refer to getFontList() for available fonts."),xe||te.noFallback||(xe=_n.times[B])==null&&(xe=_n.times.normal),xe},sn=w.__private__.putInfo=function(){var b=Fn(),B=function(he){return he};for(var te in m!==null&&(B=pn.encryptor(b,0)),le("<<"),le("/Producer ("+or(B("jsPDF "+Ut.version))+")"),bt)bt.hasOwnProperty(te)&&bt[te]&&le("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+or(B(bt[te]))+")");le("/CreationDate ("+or(B(Le))+")"),le(">>"),le("endobj")},gs=w.__private__.putCatalog=function(b){var B=(b=b||{}).rootDictionaryObjId||js;switch(Fn(),le("<<"),le("/Type /Catalog"),le("/Pages "+B+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+ht;te.substr(te.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&le("/OpenAction [3 0 R /XYZ null null "+G(ht)+"]")}switch(He||(He="continuous"),He){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}We&&le("/PageMode /"+We),Dt.publish("putCatalog"),le(">>"),le("endobj")},Wl=w.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(ce+1)),le("/Root "+ce+" 0 R"),le("/Info "+(ce-1)+" 0 R"),m!==null&&le("/Encrypt "+pn.oid+" 0 R"),le("/ID [ <"+Ne+"> <"+Ne+"> ]"),le(">>")},wa=w.__private__.putHeader=function(){le("%PDF-"+E),le("%")},Gl=w.__private__.putXRef=function(){var b="0000000000";le("xref"),le("0 "+(ce+1)),le("0000000000 65535 f ");for(var B=1;B<=ce;B++)typeof _e[B]=="function"?le((b+_e[B]()).slice(-10)+" 00000 n "):_e[B]!==void 0?le((b+_e[B]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},ys=w.__private__.buildDocument=function(){Nt(),je(Ae),Dt.publish("buildDocument"),wa(),Fs(),tl(),el(),m!==null&&$l(),sn(),gs();var b=Ee;return Gl(),Wl(),le("startxref"),le(""+b),le("%%EOF"),je(Ye[X]),Ae.join(`
`)},Fo=w.__private__.getBlob=function(b){return new Blob([xt(b)],{type:"application/pdf"})},fo=w.output=w.__private__.output=Vr(function(b,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",b){case void 0:return ys();case"save":w.save(B.filename);break;case"arraybuffer":return xt(ys());case"blob":return Fo(ys());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(Fo(ys()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",he=ys();try{te=cy(he)}catch{te=cy(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+B.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(xe=B.pdfObjectUrl,Fe="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",mt=Ht.open();return mt!==null&&mt.document.write(Je),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var p='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',T=Ht.open();if(T!==null){T.document.write(p);var R=this;T.document.documentElement.querySelector("#pdfViewer").onload=function(){T.document.title=B.filename,T.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(R.output("bloburl"))}}return T}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Y='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',be=Ht.open();if(be!==null&&(be.document.write(Y),be.document.title=B.filename),be||typeof safari>"u")return be;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",B);default:return null}}),Ji=function(b){return Array.isArray(Rn)===!0&&Rn.indexOf(b)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=Ji("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);dt=r}var pn=null;ue(),ne();var Zi=function(b){return m!==null?pn.encryptor(b,0):function(B){return B}},Ni=w.__private__.getPageInfo=w.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[b].objId,pageNumber:b,pageContext:nt[b]}},Ot=w.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in nt)if(nt[B].objId===b)break;return Ni(B)},ki=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:nt[X].objId,pageNumber:X,pageContext:nt[X]}};w.addPage=function(){return co.apply(this,arguments),this},w.setPage=function(){return zs.apply(this,arguments),je.call(this,Ye[X]),this},w.insertPage=function(b){return this.addPage(),this.movePage(X,b),this},w.movePage=function(b,B){var te,he;if(b>B){te=Ye[b],he=nt[b];for(var xe=b;xe>B;xe--)Ye[xe]=Ye[xe-1],nt[xe]=nt[xe-1];Ye[B]=te,nt[B]=he,this.setPage(B)}else if(b<B){te=Ye[b],he=nt[b];for(var Fe=b;Fe<B;Fe++)Ye[Fe]=Ye[Fe+1],nt[Fe]=nt[Fe+1];Ye[B]=te,nt[B]=he,this.setPage(B)}return this},w.deletePage=function(){return ho.apply(this,arguments),this},w.__private__.text=w.text=function(b,B,te,he,xe){var Fe,Je,mt,p,T,R,Y,be,Re,et=(he=he||{}).scope||this;if(typeof b=="number"&&typeof B=="number"&&(typeof te=="string"||Array.isArray(te))){var Qt=te;te=B,B=b,b=Qt}if(arguments[3]instanceof wt?(k("The transform parameter of text() with a Matrix value"),Re=xe):(mt=arguments[4],p=arguments[5],zn(Y=arguments[3])==="object"&&Y!==null||(typeof mt=="string"&&(p=mt,mt=null),typeof Y=="string"&&(p=Y,Y=null),typeof Y=="number"&&(mt=Y,Y=null),he={flags:Y,angle:mt,align:p})),isNaN(B)||isNaN(te)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return et;var an="",Xt=!1,Sn=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:bn,Cn=et.internal.scaleFactor;function mi(Bn){return Bn=Bn.split("	").join(Array(he.TabLen||9).join(" ")),or(Bn,Y)}function qr(Bn){for(var Nn,ur=Bn.concat(),wr=[],bo=ur.length;bo--;)typeof(Nn=ur.shift())=="string"?wr.push(Nn):Array.isArray(Bn)&&(Nn.length===1||Nn[1]===void 0&&Nn[2]===void 0)?wr.push(Nn[0]):wr.push([Nn[0],Nn[1],Nn[2]]);return wr}function Ks(Bn,Nn){var ur;if(typeof Bn=="string")ur=Nn(Bn)[0];else if(Array.isArray(Bn)){for(var wr,bo,su=Bn.concat(),fl=[],sc=su.length;sc--;)typeof(wr=su.shift())=="string"?fl.push(Nn(wr)[0]):Array.isArray(wr)&&typeof wr[0]=="string"&&(bo=Nn(wr[0],wr[1],wr[2]),fl.push([bo[0],bo[1],bo[2]]));ur=fl}return ur}var Ys=!1,Ql=!0;if(typeof b=="string")Ys=!0;else if(Array.isArray(b)){var Xl=b.concat();Je=[];for(var ol,lr=Xl.length;lr--;)(typeof(ol=Xl.shift())!="string"||Array.isArray(ol)&&typeof ol[0]!="string")&&(Ql=!1);Ys=Ql}if(Ys===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Jl=it/et.internal.scaleFactor,Zl=Jl*(Sn-1);switch(he.baseline){case"bottom":te-=Zl;break;case"top":te+=Jl-Zl;break;case"hanging":te+=Jl-2*Zl;break;case"middle":te+=Jl/2-Zl}if((R=he.maxWidth||0)>0&&(typeof b=="string"?b=et.splitTextToSize(b,R):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(Bn,Nn){return Bn.concat(et.splitTextToSize(Nn,R))},[]))),Fe={text:b,x:B,y:te,options:he,mutex:{pdfEscape:or,activeFontKey:Ft,fonts:dn,activeFontSize:it}},Dt.publish("preProcessText",Fe),b=Fe.text,mt=(he=Fe.options).angle,!(Re instanceof wt)&&mt&&typeof mt=="number"){mt*=Math.PI/180,he.rotationDirection===0&&(mt=-mt),q===j.ADVANCED&&(mt=-mt);var eu=Math.cos(mt),tu=Math.sin(mt);Re=new wt(eu,tu,-tu,eu,0,0)}else mt&&mt instanceof wt&&(Re=mt);q!==j.ADVANCED||Re||(Re=In),(T=he.charSpace||$s)!==void 0&&(an+=z(M(T))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(be=he.horizontalScale)!==void 0&&(an+=z(100*be)+` Tz
`),he.lang;var gi=-1,al=he.renderingMode!==void 0?he.renderingMode:he.stroke,zo=et.internal.getCurrentPageInfo().pageContext;switch(al){case 0:case!1:case"fill":gi=0;break;case 1:case!0:case"stroke":gi=1;break;case 2:case"fillThenStroke":gi=2;break;case 3:case"invisible":gi=3;break;case 4:case"fillAndAddForClipping":gi=4;break;case 5:case"strokeAndAddPathForClipping":gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gi=6;break;case 7:case"addToPathForClipping":gi=7}var Kc=zo.usedRenderingMode!==void 0?zo.usedRenderingMode:-1;gi!==-1?an+=gi+` Tr
`:Kc!==-1&&(an+=`0 Tr
`),gi!==-1&&(zo.usedRenderingMode=gi),p=he.align||"left";var yi,nu=it*Sn,rc=et.internal.pageSize.getWidth(),ru=dn[Ft];T=he.charSpace||$s,R=he.maxWidth||0,Y=Object.assign({autoencode:!0,noBOM:!0},he.flags);var wo=[],Ea=function(Bn){return et.getStringUnitWidth(Bn,{font:ru,charSpace:T,fontSize:it,doKerning:!1})*it/Cn};if(Object.prototype.toString.call(b)==="[object Array]"){var vi;Je=qr(b),p!=="left"&&(yi=Je.map(Ea));var ri,Ia=0;if(p==="right"){B-=yi[0],b=[],lr=Je.length;for(var qo=0;qo<lr;qo++)qo===0?(ri=pi(B),vi=ar(te)):(ri=M(Ia-yi[qo]),vi=-nu),b.push([Je[qo],ri,vi]),Ia=yi[qo]}else if(p==="center"){B-=yi[0]/2,b=[],lr=Je.length;for(var Ho=0;Ho<lr;Ho++)Ho===0?(ri=pi(B),vi=ar(te)):(ri=M((Ia-yi[Ho])/2),vi=-nu),b.push([Je[Ho],ri,vi]),Ia=yi[Ho]}else if(p==="left"){b=[],lr=Je.length;for(var iu=0;iu<lr;iu++)b.push(Je[iu])}else if(p==="justify"&&ru.encoding==="Identity-H"){b=[],lr=Je.length,R=R!==0?R:rc;for(var $o=0,vn=0;vn<lr;vn++)if(vi=vn===0?ar(te):-nu,ri=vn===0?pi(B):$o,vn<lr-1){var Wo=M((R-yi[vn])/(Je[vn].split(" ").length-1)),ii=Je[vn].split(" ");b.push([ii[0]+" ",ri,vi]),$o=0;for(var rs=1;rs<ii.length;rs++){var ll=(Ea(ii[rs-1]+" "+ii[rs])-Ea(ii[rs]))*Cn+Wo;rs==ii.length-1?b.push([ii[rs],ll,0]):b.push([ii[rs]+" ",ll,0]),$o-=ll}}else b.push([Je[vn],ri,vi]);b.push(["",$o,0])}else{if(p!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],lr=Je.length,R=R!==0?R:rc,vn=0;vn<lr;vn++)vi=vn===0?ar(te):-nu,ri=vn===0?pi(B):0,vn<lr-1?wo.push(z(M((R-yi[vn])/(Je[vn].split(" ").length-1)))):wo.push(0),b.push([Je[vn],ri,vi])}}var ic=typeof he.R2L=="boolean"?he.R2L:Ce;ic===!0&&(b=Ks(b,function(Bn,Nn,ur){return[Bn.split("").reverse().join(""),Nn,ur]})),Fe={text:b,x:B,y:te,options:he,mutex:{pdfEscape:or,activeFontKey:Ft,fonts:dn,activeFontSize:it}},Dt.publish("postProcessText",Fe),b=Fe.text,Xt=Fe.mutex.isHex||!1;var ul=dn[Ft].encoding;ul!=="WinAnsiEncoding"&&ul!=="StandardEncoding"||(b=Ks(b,function(Bn,Nn,ur){return[mi(Bn),Nn,ur]})),Je=qr(b),b=[];for(var cl,hl,is,Go=0,_o=1,Ko=Array.isArray(Je[0])?_o:Go,Yo="",Pa=function(Bn,Nn,ur){var wr="";return ur instanceof wt?(ur=typeof he.angle=="number"?Kn(ur,new wt(1,0,0,1,Bn,Nn)):Kn(new wt(1,0,0,1,Bn,Nn),ur),q===j.ADVANCED&&(ur=Kn(new wt(1,0,0,-1,0,0),ur)),wr=ur.join(" ")+` Tm
`):wr=z(Bn)+" "+z(Nn)+` Td
`,wr},Hr=0;Hr<Je.length;Hr++){switch(Yo="",Ko){case _o:is=(Xt?"<":"(")+Je[Hr][0]+(Xt?">":")"),cl=parseFloat(Je[Hr][1]),hl=parseFloat(Je[Hr][2]);break;case Go:is=(Xt?"<":"(")+Je[Hr]+(Xt?">":")"),cl=pi(B),hl=ar(te)}wo!==void 0&&wo[Hr]!==void 0&&(Yo=wo[Hr]+` Tw
`),Hr===0?b.push(Yo+Pa(cl,hl,Re)+is):Ko===Go?b.push(Yo+is):Ko===_o&&b.push(Yo+Pa(cl,hl,Re)+is)}b=Ko===Go?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var Li=`BT
/`;return Li+=Ft+" "+it+` Tf
`,Li+=z(it*Sn)+` TL
`,Li+=Jn+`
`,Li+=an,Li+=b,le(Li+="ET"),_[Ft]=!0,et};var vs=w.__private__.clip=w.clip=function(b){return le(b==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return vs("evenodd")},w.__private__.discardPath=w.discardPath=function(){return le("n"),this};var ws=w.__private__.isValidStyle=function(b){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(B=!0),B};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(b){return ws(b)&&(h=b),this};var nl=w.__private__.getStyle=w.getStyle=function(b){var B=h;switch(b){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=b}return B},Ur=w.close=function(){return le("h"),this};w.stroke=function(){return le("S"),this},w.fill=function(b){return _a("f",b),this},w.fillEvenOdd=function(b){return _a("f*",b),this},w.fillStroke=function(b){return _a("B",b),this},w.fillStrokeEvenOdd=function(b){return _a("B*",b),this};var _a=function(b,B){zn(B)==="object"?Vo(B,b):le(b)},ba=function(b){b===null||q===j.ADVANCED&&b===void 0||(b=nl(b),le(b))};function Hs(b,B,te,he,xe){var Fe=new Nh(B||this.boundingBox,te||this.xStep,he||this.yStep,this.gState,xe||this.matrix);Fe.stream=this.stream;var Je=b+"$$"+this.cloneIndex+++"$$";return ir(Je,Fe),Fe}var Vo=function(b,B){var te=ze[b.key],he=rn[te];if(he instanceof Ec)le("q"),le(Kl(B)),he.gState&&w.setGState(he.gState),le(b.matrix.toString()+" cm"),le("/"+te+" sh"),le("Q");else if(he instanceof Nh){var xe=new wt(1,0,0,-1,0,ni());b.matrix&&(xe=xe.multiply(b.matrix||In),te=Hs.call(he,b.key,b.boundingBox,b.xStep,b.yStep,xe).id),le("q"),le("/Pattern cs"),le("/"+te+" scn"),he.gState&&w.setGState(he.gState),le(B),le("Q")}},Kl=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},di=w.moveTo=function(b,B){return le(z(M(b))+" "+z(se(B))+" m"),this},zr=w.lineTo=function(b,B){return le(z(M(b))+" "+z(se(B))+" l"),this},ei=w.curveTo=function(b,B,te,he,xe,Fe){return le([z(M(b)),z(se(B)),z(M(te)),z(se(he)),z(M(xe)),z(se(Fe)),"c"].join(" ")),this};w.__private__.line=w.line=function(b,B,te,he,xe){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||!ws(xe))throw new Error("Invalid arguments passed to jsPDF.line");return q===j.COMPAT?this.lines([[te-b,he-B]],b,B,[1,1],xe||"S"):this.lines([[te-b,he-B]],b,B,[1,1]).stroke()},w.__private__.lines=w.lines=function(b,B,te,he,xe,Fe){var Je,mt,p,T,R,Y,be,Re,et,Qt,an,Xt;if(typeof b=="number"&&(Xt=te,te=B,B=b,b=Xt),he=he||[1,1],Fe=Fe||!1,isNaN(B)||isNaN(te)||!Array.isArray(b)||!Array.isArray(he)||!ws(xe)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(di(B,te),Je=he[0],mt=he[1],T=b.length,Qt=B,an=te,p=0;p<T;p++)(R=b[p]).length===2?(Qt=R[0]*Je+Qt,an=R[1]*mt+an,zr(Qt,an)):(Y=R[0]*Je+Qt,be=R[1]*mt+an,Re=R[2]*Je+Qt,et=R[3]*mt+an,Qt=R[4]*Je+Qt,an=R[5]*mt+an,ei(Y,be,Re,et,Qt,an));return Fe&&Ur(),ba(xe),this},w.path=function(b){for(var B=0;B<b.length;B++){var te=b[B],he=te.c;switch(te.op){case"m":di(he[0],he[1]);break;case"l":zr(he[0],he[1]);break;case"c":ei.apply(this,he);break;case"h":Ur()}}return this},w.__private__.rect=w.rect=function(b,B,te,he,xe){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||!ws(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return q===j.COMPAT&&(he=-he),le([z(M(b)),z(se(B)),z(M(te)),z(M(he)),"re"].join(" ")),ba(xe),this},w.__private__.triangle=w.triangle=function(b,B,te,he,xe,Fe,Je){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||isNaN(xe)||isNaN(Fe)||!ws(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-b,he-B],[xe-te,Fe-he],[b-xe,B-Fe]],b,B,[1,1],Je,!0),this},w.__private__.roundedRect=w.roundedRect=function(b,B,te,he,xe,Fe,Je){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||isNaN(xe)||isNaN(Fe)||!ws(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*te),Fe=Math.min(Fe,.5*he),this.lines([[te-2*xe,0],[xe*mt,0,xe,Fe-Fe*mt,xe,Fe],[0,he-2*Fe],[0,Fe*mt,-xe*mt,Fe,-xe,Fe],[2*xe-te,0],[-xe*mt,0,-xe,-Fe*mt,-xe,-Fe],[0,2*Fe-he],[0,-Fe*mt,xe*mt,-Fe,xe,-Fe]],b+xe,B,[1,1],Je,!0),this},w.__private__.ellipse=w.ellipse=function(b,B,te,he,xe){if(isNaN(b)||isNaN(B)||isNaN(te)||isNaN(he)||!ws(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*te,Je=4/3*(Math.SQRT2-1)*he;return di(b+te,B),ei(b+te,B-Je,b+Fe,B-he,b,B-he),ei(b-Fe,B-he,b-te,B-Je,b-te,B),ei(b-te,B+Je,b-Fe,B+he,b,B+he),ei(b+Fe,B+he,b+te,B+Je,b+te,B),ba(xe),this},w.__private__.circle=w.circle=function(b,B,te,he){if(isNaN(b)||isNaN(B)||isNaN(te)||!ws(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,B,te,te,he)},w.setFont=function(b,B,te){return te&&(B=de(B,te)),Ft=qs(b,B,{disableWarning:!1}),this};var po=w.__private__.getFont=w.getFont=function(){return dn[qs.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var b,B,te={};for(b in _n)if(_n.hasOwnProperty(b))for(B in te[b]=[],_n[b])_n[b].hasOwnProperty(B)&&te[b].push(B);return te},w.addFont=function(b,B,te,he,xe){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(te=de(te,he)),xe=xe||"Identity-H",lo.call(this,b,B,te,xe)};var bn,rl=n.lineWidth||.200025,mo=w.__private__.getLineWidth=w.getLineWidth=function(){return rl},go=w.__private__.setLineWidth=w.setLineWidth=function(b){return rl=b,le(z(M(b))+" w"),this};w.__private__.setLineDash=Ut.API.setLineDash=Ut.API.setLineDashPattern=function(b,B){if(b=b||[],B=B||0,isNaN(B)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(te){return z(M(te))}).join(" "),B=z(M(B)),le("["+b+"] "+B+" d"),this};var Bo=w.__private__.getLineHeight=w.getLineHeight=function(){return it*bn};w.__private__.getLineHeight=w.getLineHeight=function(){return it*bn};var Sa=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(bn=b),this},ti=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return bn};Sa(n.lineHeight);var pi=w.__private__.getHorizontalCoordinate=function(b){return M(b)},ar=w.__private__.getVerticalCoordinate=function(b){return q===j.ADVANCED?b:nt[X].mediaBox.topRightY-nt[X].mediaBox.bottomLeftY-M(b)},il=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(b){return z(pi(b))},es=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(b){return z(ar(b))},vr=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Pi(vr)},w.__private__.setStrokeColor=w.setDrawColor=function(b,B,te,he){return vr=hr({ch1:b,ch2:B,ch3:te,ch4:he,pdfColorType:"draw",precision:2}),le(vr),this};var Uo=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Pi(Uo)},w.__private__.setFillColor=w.setFillColor=function(b,B,te,he){return Uo=hr({ch1:b,ch2:B,ch3:te,ch4:he,pdfColorType:"fill",precision:2}),le(Uo),this};var Jn=n.textColor||"0 g",ts=w.__private__.getTextColor=w.getTextColor=function(){return Pi(Jn)};w.__private__.setTextColor=w.setTextColor=function(b,B,te,he){return Jn=hr({ch1:b,ch2:B,ch3:te,ch4:he,pdfColorType:"text",precision:3}),this};var $s=n.charSpace,_s=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat($s||0)};w.__private__.setCharSpace=w.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $s=b,this};var sl=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(b){var B=w.CapJoinStyles[b];if(B===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sl=B,le(B+" J"),this};var yo=0;w.__private__.setLineJoin=w.setLineJoin=function(b){var B=w.CapJoinStyles[b];if(B===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yo=B,le(B+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(z(M(b))+" M"),this},w.GState=Dm,w.setGState=function(b){(b=typeof b=="string"?Qe[pt[b]]:bs(null,b)).equals(zt)||(le("/"+b.id+" gs"),zt=b)};var bs=function(b,B){if(!b||!pt[b]){var te=!1;for(var he in Qe)if(Qe.hasOwnProperty(he)&&Qe[he].equals(B)){te=!0;break}if(te)B=Qe[he];else{var xe="GS"+(Object.keys(Qe).length+1).toString(10);Qe[xe]=B,B.id=xe}return b&&(pt[b]=B.id),Dt.publish("addGState",B),B}};w.addGState=function(b,B){return bs(b,B),this},w.saveGraphicsState=function(){return le("q"),Xr.push({key:Ft,size:it,color:Jn}),this},w.restoreGraphicsState=function(){le("Q");var b=Xr.pop();return Ft=b.key,it=b.size,Jn=b.color,zt=null,this},w.setCurrentTransformationMatrix=function(b){return le(b.toString()+" cm"),this},w.comment=function(b){return le("#"+b),this};var ns=function(b,B){var te=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Fe){isNaN(Fe)||(te=parseFloat(Fe))}});var he=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Fe){isNaN(Fe)||(he=parseFloat(Fe))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Fe){xe=Fe.toString()}}),this},Ws=function(b,B,te,he){ns.call(this,b,B),this.type="rect";var xe=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(Je){isNaN(Je)||(xe=parseFloat(Je))}});var Fe=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Je){isNaN(Je)||(Fe=parseFloat(Je))}}),this},vo=function(){this.page=Xe,this.currentPage=X,this.pages=Ye.slice(0),this.pagesContext=nt.slice(0),this.x=Wn,this.y=nn,this.matrix=jr,this.width=Ss(X),this.height=ni(X),this.outputDestination=lt,this.id="",this.objectNumber=-1};vo.prototype.restore=function(){Xe=this.page,X=this.currentPage,nt=this.pagesContext,Ye=this.pages,Wn=this.x,nn=this.y,jr=this.matrix,Ta(X,this.width),Aa(X,this.height),lt=this.outputDestination};var xa=function(b,B,te,he,xe){yr.push(new vo),Xe=X=0,Ye=[],Wn=b,nn=B,jr=xe,Br([te,he])},Yl=function(b){if(Gn[b])yr.pop().restore();else{var B=new vo,te="Xo"+(Object.keys(un).length+1).toString(10);B.id=te,Gn[b]=te,un[te]=B,Dt.publish("addFormObject",B),yr.pop().restore()}};for(var Gs in w.beginFormObject=function(b,B,te,he,xe){return xa(b,B,te,he,xe),this},w.endFormObject=function(b){return Yl(b),this},w.doFormObject=function(b,B){var te=un[Gn[b]];return le("q"),le(B.toString()+" cm"),le("/"+te.id+" Do"),le("Q"),this},w.getFormObject=function(b){var B=un[Gn[b]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},w.save=function(b,B){return b=b||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Ac(Fo(ys()),b),typeof Ac.unload=="function"&&Ht.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(te,he){try{var xe=Ac(Fo(ys()),b);typeof Ac.unload=="function"&&Ht.setTimeout&&setTimeout(Ac.unload,911),te(xe)}catch(Fe){he(Fe.message)}})},Ut.API)Ut.API.hasOwnProperty(Gs)&&(Gs==="events"&&Ut.API.events.length?function(b,B){var te,he,xe;for(xe=B.length-1;xe!==-1;xe--)te=B[xe][0],he=B[xe][1],b.subscribe.apply(b,[te].concat(typeof he=="function"?[he]:he))}(Dt,Ut.API.events):w[Gs]=Ut.API[Gs]);var Ss=w.getPageWidth=function(b){return(nt[b=b||X].mediaBox.topRightX-nt[b].mediaBox.bottomLeftX)/dt},Ta=w.setPageWidth=function(b,B){nt[b].mediaBox.topRightX=B*dt+nt[b].mediaBox.bottomLeftX},ni=w.getPageHeight=function(b){return(nt[b=b||X].mediaBox.topRightY-nt[b].mediaBox.bottomLeftY)/dt},Aa=w.setPageHeight=function(b,B){nt[b].mediaBox.topRightY=B*dt+nt[b].mediaBox.bottomLeftY};return w.internal={pdfEscape:or,getStyle:nl,getFont:po,getFontSize:ct,getCharSpace:_s,getTextColor:ts,getLineHeight:Bo,getLineHeightFactor:ti,getLineWidth:mo,write:jt,getHorizontalCoordinate:pi,getVerticalCoordinate:ar,getCoordinateString:il,getVerticalCoordinateString:es,collections:{},newObject:Fn,newAdditionalObject:so,newObjectDeferred:Vn,newObjectDeferredBegin:Xn,getFilters:Zr,putStream:sr,events:Dt,scaleFactor:dt,pageSize:{getWidth:function(){return Ss(X)},setWidth:function(b){Ta(X,b)},getHeight:function(){return ni(X)},setHeight:function(b){Aa(X,b)}},encryptionOptions:m,encryption:pn,getEncryptor:Zi,output:fo,getNumberOfPages:Pn,pages:Ye,out:le,f2:G,f3:D,getPageInfo:Ni,getPageInfoByObjId:Ot,getCurrentPageInfo:ki,getPDFVersion:N,Point:ns,Rectangle:Ws,Matrix:wt,hasHotfix:Ji},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Ss(X)},set:function(b){Ta(X,b)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return ni(X)},set:function(b){Aa(X,b)},enumerable:!0,configurable:!0}),uo.call(w,Ze),Ft="F1",co(i,t),Dt.publish("initialized"),w}bh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},bh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},bh.prototype.processOwnerPassword=function(n,e){return fy(hy(e).substr(0,5),n)},bh.prototype.encryptor=function(n,e){var t=hy(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return fy(t,r)}},Dm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||zn(n)!==zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Ut.API={events:[]},Ut.version="3.0.1";var xr=Ut.API,i2=1,Gc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(n){return n.toFixed(2)},Iu=function(n){return n.toFixed(5)};xr.__acroform__={};var Ms=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},zb=function(n){return n*i2},Ma=function(n){var e=new C3,t=Pt.internal.getHeight(n)||0,r=Pt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Zt(r)),Number(Zt(t))],e},C9=xr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},N9=xr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},k9=xr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},kr=xr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return k9(n,e-1)},Lr=xr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return C9(n,e-1)},Rr=xr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return N9(n,e-1)},L9=xr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],u=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+u)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=r(s)||0,[Number(Zt(c.lowerLeft_X)),Number(Zt(c.lowerLeft_Y)),Number(Zt(c.upperRight_X)),Number(Zt(c.upperRight_Y))]},R9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=dy(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Zt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ma(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},dy=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var s=t,a=Pt.internal.getHeight(n)||0;a=a<0?-a:a;var u=Pt.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(D,M,F){if(D+1<i.length){var se=M+" "+i[D+1][0];return Fp(se,n,F).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var h,m,y=Fp("3",n,s).height,_=n.multiline?a-s:(a-y)/2,w=_+=2,E=0,N=0,L=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Fp(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var I="",j=0,q=0;q<i.length;q++)if(i.hasOwnProperty(q)){var ee=!1;if(i[q].length!==1&&L!==i[q].length-1){if((y+2)*(j+2)+2>a)continue e;I+=i[q][L],ee=!0,N=q,q--}else{I=(I+=i[q][L]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var ie=parseInt(q),de=c(ie,I,s),z=q>=i.length-1;if(de&&!z){I+=" ",L=0;continue}if(de||z){if(z)N=ie;else if(n.multiline&&(y+2)*(j+2)+2>a)continue e}else{if(!n.multiline||(y+2)*(j+2)+2>a)continue e;N=ie}}for(var k="",U=E;U<=N;U++){var G=i[U];if(n.multiline){if(U===N){k+=G[L]+" ",L=(L+1)%G.length;continue}if(U===E){k+=G[G.length-1]+" ";continue}}k+=G[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,m=Fp(k,n,s).width,n.textAlign){case"right":h=u-m-2;break;case"center":h=(u-m)/2;break;case"left":default:h=2}e+=Zt(h)+" "+Zt(w)+` Td
`,e+="("+Gc(k)+`) Tj
`,e+=-Zt(h)+` 0 Td
`,w=-(s+2),m=0,E=ee?N:N+1,j++,I=""}break}return r.text=e,r.fontSize=s,r},Fp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},D9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},O9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},M9=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),zn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},j9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ga.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(D9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");i2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new N3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&O9(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var u=r[a],c=[],h=u.Rect;if(u.Rect&&(u.Rect=L9(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Pt.createDefaultAppearanceStream(u),zn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var m=R9(u);c.push({key:"AP",value:"<</N "+m+">>"}),i.internal.acroformPlugin.xForms.push(m)}if(u.appearanceStreamContent){var y="";for(var _ in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(_)){var w=u.appearanceStreamContent[_];if(y+="/"+_+" ",y+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var a in w)if(w.hasOwnProperty(a)){var E=w[a];typeof E=="function"&&(E=E.call(i,u)),y+="/"+a+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=w)=="function"&&(E=E.call(i,u)),y+="/"+a+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);y+=">>"}c.push({key:"AP",value:`<<
`+y+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:u.objId}),i.internal.out("endobj")}s&&M9(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},P3=xr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),zn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Gc(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},J0=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Gc(r(n))+")"},Ba=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ba.prototype.toString=function(){return this.objId+" 0 R"},Ba.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ba.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:P3(i,this.objId,this.scope)}):i instanceof Ba?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var C3=function(){Ba.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ms(C3,Ba);var N3=function(){Ba.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Gc(t(n))+")"}},set:function(t){n=t}})};Ms(N3,Ba);var ga=function n(){Ba.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kr(e,3)},set:function(I){I?this.F=Lr(e,3):this.F=Rr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');t=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Om)return;s="FieldObject"+n.FieldNum++}var I=function(j){return j};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Gc(I(s))+")"},set:function(I){s=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(I){s=I}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(I){a=I}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/i2:h},set:function(I){h=I}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(I){m=I}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Om||this instanceof Rc))return J0(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=I}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof hi?_:J0(_,this.objId,this.scope)},set:function(I){I=I.toString(),_=this instanceof hi?I:I.substr(0,1)==="("?mh(I.substr(1,I.length-2)):mh(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi?mh(_.substr(1,_.length-1)):_},set:function(I){I=I.toString(),_=this instanceof hi?"/"+I:I}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof hi?w:J0(w,this.objId,this.scope)},set:function(I){I=I.toString(),w=this instanceof hi?I:I.substr(0,1)==="("?mh(I.substr(1,I.length-2)):mh(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi?mh(w.substr(1,w.length-1)):w},set:function(I){I=I.toString(),w=this instanceof hi?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(I){I=!!I,N=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(I){E=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,1)},set:function(I){I?this.Ff=Lr(this.Ff,1):this.Ff=Rr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,2)},set:function(I){I?this.Ff=Lr(this.Ff,2):this.Ff=Rr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,3)},set:function(I){I?this.Ff=Lr(this.Ff,3):this.Ff=Rr(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');L=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(L){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};Ms(ga,Ba);var Mh=function(){ga.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return P3(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,a,u){u||(u=1);for(var c,h=[];c=a.exec(s);)h.push(c[u]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,18)},set:function(t){t?this.Ff=Lr(this.Ff,18):this.Ff=Rr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Lr(this.Ff,19):this.Ff=Rr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,20)},set:function(t){t?(this.Ff=Lr(this.Ff,20),e.sort()):this.Ff=Rr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,22)},set:function(t){t?this.Ff=Lr(this.Ff,22):this.Ff=Rr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,23)},set:function(t){t?this.Ff=Lr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,27)},set:function(t){t?this.Ff=Lr(this.Ff,27):this.Ff=Rr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ms(Mh,ga);var jh=function(){Mh.call(this),this.fontName="helvetica",this.combo=!1};Ms(jh,Mh);var Fh=function(){jh.call(this),this.combo=!0};Ms(Fh,jh);var nm=function(){Fh.call(this),this.edit=!0};Ms(nm,Fh);var hi=function(){ga.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,15)},set:function(t){t?this.Ff=Lr(this.Ff,15):this.Ff=Rr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,16)},set:function(t){t?this.Ff=Lr(this.Ff,16):this.Ff=Rr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,17)},set:function(t){t?this.Ff=Lr(this.Ff,17):this.Ff=Rr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,26)},set:function(t){t?this.Ff=Lr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Gc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ms(hi,ga);var rm=function(){hi.call(this),this.pushButton=!0};Ms(rm,hi);var Vh=function(){hi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ms(Vh,hi);var Om=function(){var n,e;ga.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Gc(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){zn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ms(Om,ga),Vh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Vh.prototype.createOption=function(n){var e=new Om;return e.Parent=this,e.optionName=n,this.Kids.push(e),F9.call(this.scope,e),e};var im=function(){hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};Ms(im,hi);var Rc=function(){ga.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,13)},set:function(e){e?this.Ff=Lr(this.Ff,13):this.Ff=Rr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,21)},set:function(e){e?this.Ff=Lr(this.Ff,21):this.Ff=Rr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,23)},set:function(e){e?this.Ff=Lr(this.Ff,23):this.Ff=Rr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,24)},set:function(e){e?this.Ff=Lr(this.Ff,24):this.Ff=Rr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,25)},set:function(e){e?this.Ff=Lr(this.Ff,25):this.Ff=Rr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,26)},set:function(e){e?this.Ff=Lr(this.Ff,26):this.Ff=Rr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ms(Rc,ga);var sm=function(){Rc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,14)},set:function(n){n?this.Ff=Lr(this.Ff,14):this.Ff=Rr(this.Ff,14)}}),this.password=!0};Ms(sm,Rc);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=dy(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Zt(Pt.internal.getWidth(n))+" "+Zt(Pt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Zt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ma(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Pt.internal.getHeight(n),a=Pt.internal.getWidth(n),u=dy(n,n.caption);return i.push("1 g"),i.push("0 0 "+Zt(a)+" "+Zt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Zt(a-1)+" "+Zt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Zt(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zt(Pt.internal.getWidth(n))+" "+Zt(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Circle.YesNormal,e.D[n]=Pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Pt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Iu(Pt.internal.getWidth(n)/2)+" "+Iu(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pt.internal.Bezier_C).toFixed(5)),a=Number((r*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Iu(Pt.internal.getWidth(n)/2)+" "+Iu(Pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Iu(Pt.internal.getWidth(n)/2)+" "+Iu(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Iu(Pt.internal.getWidth(n)/2)+" "+Iu(Pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Cross.YesNormal,e.D[n]=Pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ma(n);e.scope=n.scope;var t=[],r=Pt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Zt(Pt.internal.getWidth(n)-2)+" "+Zt(Pt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Zt(r.x1.x)+" "+Zt(r.x1.y)+" m"),t.push(Zt(r.x2.x)+" "+Zt(r.x2.y)+" l"),t.push(Zt(r.x4.x)+" "+Zt(r.x4.y)+" m"),t.push(Zt(r.x3.x)+" "+Zt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=Pt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(Pt.internal.getWidth(n))+" "+Zt(Pt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Zt(Pt.internal.getWidth(n)-2)+" "+Zt(Pt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Zt(t.x1.x)+" "+Zt(t.x1.y)+" m"),r.push(Zt(t.x2.x)+" "+Zt(t.x2.y)+" l"),r.push(Zt(t.x4.x)+" "+Zt(t.x4.y)+" m"),r.push(Zt(t.x3.x)+" "+Zt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ma(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zt(Pt.internal.getWidth(n))+" "+Zt(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Pt.internal.getWidth(n),t=Pt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Pt.internal.getWidth=function(n){var e=0;return zn(n)==="object"&&(e=zb(n.Rect[2])),e},Pt.internal.getHeight=function(n){var e=0;return zn(n)==="object"&&(e=zb(n.Rect[3])),e};var F9=xr.addField=function(n){if(j9(this,n),!(n instanceof ga))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};xr.AcroFormChoiceField=Mh,xr.AcroFormListBox=jh,xr.AcroFormComboBox=Fh,xr.AcroFormEditBox=nm,xr.AcroFormButton=hi,xr.AcroFormPushButton=rm,xr.AcroFormRadioButton=Vh,xr.AcroFormCheckBox=im,xr.AcroFormTextField=Rc,xr.AcroFormPasswordField=sm,xr.AcroFormAppearance=Pt,xr.AcroForm={ChoiceField:Mh,ListBox:jh,ComboBox:Fh,EditBox:nm,Button:hi,PushButton:rm,RadioButton:Vh,CheckBox:im,TextField:Rc,PasswordField:sm,Appearance:Pt},Ut.AcroForm={ChoiceField:Mh,ListBox:jh,ComboBox:Fh,EditBox:nm,Button:hi,PushButton:rm,RadioButton:Vh,CheckBox:im,TextField:Rc,PasswordField:sm,Appearance:Pt};Ut.AcroForm;function k3(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(D,M){var F,se,Le,Ne,Te,ne=e;if((M=M||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(de(D))for(Te in t)for(Le=t[Te],F=0;F<Le.length;F+=1){for(Ne=!0,se=0;se<Le[F].length;se+=1)if(Le[F][se]!==void 0&&Le[F][se]!==D[se]){Ne=!1;break}if(Ne===!0){ne=Te;break}}else for(Te in t)for(Le=t[Te],F=0;F<Le.length;F+=1){for(Ne=!0,se=0;se<Le[F].length;se+=1)if(Le[F][se]!==void 0&&Le[F][se]!==D.charCodeAt(se)){Ne=!1;break}if(Ne===!0){ne=Te;break}}return ne===e&&M!==e&&(ne=M),ne},i=function D(M){for(var F=this.internal.write,se=this.internal.putStream,Le=(0,this.internal.getFilters)();Le.indexOf("FlateEncode")!==-1;)Le.splice(Le.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var Ne=[];if(Ne.push({key:"Type",value:"/XObject"}),Ne.push({key:"Subtype",value:"/Image"}),Ne.push({key:"Width",value:M.width}),Ne.push({key:"Height",value:M.height}),M.colorSpace===L.INDEXED?Ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(Ne.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===L.DEVICE_CMYK&&Ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ne.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&Ne.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var Te="",ne=0,ve=M.transparency.length;ne<ve;ne++)Te+=M.transparency[ne]+" "+M.transparency[ne]+" ";Ne.push({key:"Mask",value:"["+Te+"]"})}M.sMask!==void 0&&Ne.push({key:"SMask",value:M.objectId+1+" 0 R"});var ye=M.filter!==void 0?["/"+M.filter]:void 0;if(se({data:M.data,additionalKeyValues:Ne,alreadyAppliedFilters:ye,objectId:M.objectId}),F("endobj"),"sMask"in M&&M.sMask!==void 0){var ue="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,O={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:ue,data:M.sMask};"filter"in M&&(O.filter=M.filter),D.call(this,O)}if(M.colorSpace===L.INDEXED){var X=this.internal.newObject();se({data:k(new Uint8Array(M.palette)),objectId:X}),F("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var M in D)i.call(this,D[M])},a=function(){var D,M=this.internal.collections.addImage_images,F=this.internal.write;for(var se in M)F("/I"+(D=M[se]).index,D.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var D=this.internal.collections.addImage_images;return u.call(this),D},h=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(D){return typeof n["process"+D.toUpperCase()]=="function"},y=function(D){return zn(D)==="object"&&D.nodeType===1},_=function(D,M){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var F=""+D.getAttribute("src");if(F.indexOf("data:image/")===0)return Zf(unescape(F).split("base64,").pop());var se=n.loadFile(F,!0);if(se!==void 0)return se}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var Le;switch(M){case"PNG":Le="image/png";break;case"WEBP":Le="image/webp";break;case"JPEG":case"JPG":default:Le="image/jpeg"}return Zf(D.toDataURL(Le,1).split("base64,").pop())}},w=function(D){var M=this.internal.collections.addImage_images;if(M){for(var F in M)if(D===M[F].alias)return M[F]}},E=function(D,M,F){return D||M||(D=-96,M=-96),D<0&&(D=-1*F.width*72/D/this.internal.scaleFactor),M<0&&(M=-1*F.height*72/M/this.internal.scaleFactor),D===0&&(D=M*F.width/F.height),M===0&&(M=D*F.height/F.width),[D,M]},N=function(D,M,F,se,Le,Ne){var Te=E.call(this,F,se,Le),ne=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,ye=c.call(this);if(F=Te[0],se=Te[1],ye[Le.index]=Le,Ne){Ne*=Math.PI/180;var ue=Math.cos(Ne),O=Math.sin(Ne),X=function(oe){return oe.toFixed(4)},Z=[X(ue),X(O),X(-1*O),X(ue),0,0,"cm"]}this.internal.write("q"),Ne?(this.internal.write([1,"0","0",1,ne(D),ve(M+se),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ne(F),"0","0",ne(se),"0","0","cm"].join(" "))):this.internal.write([ne(F),"0","0",ne(se),ne(D),ve(M+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Le.index+" Do"),this.internal.write("Q")},L=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=n.__addimage__.sHashCode=function(D){var M,F,se=0;if(typeof D=="string")for(F=D.length,M=0;M<F;M++)se=(se<<5)-se+D.charCodeAt(M),se|=0;else if(de(D))for(F=D.byteLength/2,M=0;M<F;M++)se=(se<<5)-se+D[M],se|=0;return se},q=n.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var M=!0;return D.length===0&&(M=!1),D.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(M=!1),M},ee=n.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var M=D.indexOf(",");return M<0?null:D.substring(0,M).trim().endsWith("base64")?D.substring(M+1):null},ie=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(D){return ie()&&D instanceof ArrayBuffer};var de=n.__addimage__.isArrayBufferView=function(D){return ie()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},z=n.__addimage__.binaryStringToUint8Array=function(D){for(var M=D.length,F=new Uint8Array(M),se=0;se<M;se++)F[se]=D.charCodeAt(se);return F},k=n.__addimage__.arrayBufferToBinaryString=function(D){for(var M="",F=de(D)?D:new Uint8Array(D),se=0;se<F.length;se+=8192)M+=String.fromCharCode.apply(null,F.subarray(se,se+8192));return M};n.addImage=function(){var D,M,F,se,Le,Ne,Te,ne,ve;if(typeof arguments[1]=="number"?(M=e,F=arguments[1],se=arguments[2],Le=arguments[3],Ne=arguments[4],Te=arguments[5],ne=arguments[6],ve=arguments[7]):(M=arguments[1],F=arguments[2],se=arguments[3],Le=arguments[4],Ne=arguments[5],Te=arguments[6],ne=arguments[7],ve=arguments[8]),zn(D=arguments[0])==="object"&&!y(D)&&"imageData"in D){var ye=D;D=ye.imageData,M=ye.format||M||e,F=ye.x||F||0,se=ye.y||se||0,Le=ye.w||ye.width||Le,Ne=ye.h||ye.height||Ne,Te=ye.alias||Te,ne=ye.compression||ne,ve=ye.rotation||ye.angle||ve}var ue=this.internal.getFilters();if(ne===void 0&&ue.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(F)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var O=U.call(this,D,M,Te,ne);return N.call(this,F,se,Le,Ne,O,ve),this};var U=function(D,M,F,se){var Le,Ne,Te;if(typeof D=="string"&&r(D)===e){D=unescape(D);var ne=G(D,!1);(ne!==""||(ne=n.loadFile(D,!0))!==void 0)&&(D=ne)}if(y(D)&&(D=_(D,M)),M=r(D,M),!m(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((Te=F)==null||Te.length===0)&&(F=function(ve){return typeof ve=="string"||de(ve)?j(ve):de(ve.data)?j(ve.data):null}(D)),(Le=w.call(this,F))||(ie()&&(D instanceof Uint8Array||M==="RGBA"||(Ne=D,D=z(D))),Le=this["process"+M.toUpperCase()](D,h.call(this),F,function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in n.image_compression?ve:I.NONE}(se),Ne)),!Le)throw new Error("An unknown error occurred whilst processing the image.");return Le},G=n.__addimage__.convertBase64ToBinaryString=function(D,M){M=typeof M!="boolean"||M;var F,se="";if(typeof D=="string"){var Le;F=(Le=ee(D))!==null&&Le!==void 0?Le:D;try{se=Zf(F)}catch(Ne){if(M)throw q(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};n.getImageProperties=function(D){var M,F,se="";if(y(D)&&(D=_(D)),typeof D=="string"&&r(D)===e&&((se=G(D,!1))===""&&(se=n.loadFile(D)||""),D=se),F=r(D),!m(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!ie()||D instanceof Uint8Array||(D=z(D)),!(M=this["process"+F.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=F,M}})(Ut.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ut.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,m=!1,y=0;y<h.length&&!m;y++)switch((r=h[y]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var _=0;_<h.length;_++){r=h[_];var w=this.internal.pdfEscape,E=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(N.objId),j=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+w(I(r.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+w(I(j))+") >>",N.content=s;var q=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+q,r.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(N.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+u(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var ee=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+w(E(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ee+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ie=this.annotations._nameMap[r.options.name];r.options.pageNumber=ie.page,r.options.top=ie.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+w(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var de=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+de+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:h(r),w:c(t+i),h:h(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,u,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var m=this.splitTextToSize(t,u).length;a=Math.ceil(h*m)}else u=c,a=h;return this.text(t,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,u,a,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Ut.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},u=n.__arabicParser__.isArabicEndLetter=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(N){return a(N)&&i.indexOf(N.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var m=n.__arabicParser__.arabicLetterHasMedialForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(N){var L=0,I=t,j="",q=0;for(L=0;L<N.length;L+=1)I[N.charCodeAt(L)]!==void 0?(q++,typeof(I=I[N.charCodeAt(L)])=="number"&&(j+=String.fromCharCode(I),I=t,q=0),L===N.length-1&&(I=t,j+=N.charAt(L-(q-1)),L-=q-1,q=0)):(I=t,j+=N.charAt(L-q),L-=q,q=0);return j};n.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(N,L,I){return a(N)?s(N)===!1?-1:!h(N)||!a(L)&&!a(I)||!a(I)&&u(L)||u(N)&&!a(L)||u(N)&&c(L)||u(N)&&u(L)?0:m(N)&&a(L)&&!u(L)&&a(I)&&h(I)?3:u(N)||!a(I)?1:2:-1},w=function(N){var L=0,I=0,j=0,q="",ee="",ie="",de=(N=N||"").split("\\s+"),z=[];for(L=0;L<de.length;L+=1){for(z.push(""),I=0;I<de[L].length;I+=1)q=de[L][I],ee=de[L][I-1],ie=de[L][I+1],a(q)?(j=_(q,ee,ie),z[L]+=j!==-1?String.fromCharCode(e[q.charCodeAt(0)][j]):q):z[L]+=q;z[L]=y(z[L])}return z.join(" ")},E=n.__arabicParser__.processArabic=n.processArabic=function(){var N,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(L)){var j=0;for(I=[],j=0;j<L.length;j+=1)Array.isArray(L[j])?I.push([w(L[j][0]),L[j][1],L[j][2]]):I.push([w(L[j])]);N=I}else N=w(L);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};n.events.push(["preProcessText",E])}(Ut.API),Ut.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(u){a=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ut.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(N){E=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){r.call(this);var m=(h=h||{}).fontSize||this.getFontSize(),y=h.font||this.getFont(),_=h.scaleFactor||this.internal.scaleFactor,w=0,E=0,N=0,L=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var I=h.maxWidth;I>0?typeof c=="string"?c=this.splitTextToSize(c,I):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(q,ee){return q.concat(L.splitTextToSize(ee,I))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)w<(N=this.getStringUnitWidth(c[j],{font:y})*m)&&(w=N);return w!==0&&(E=c.length),{w:w/=_,h:Math.max((E*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=y.top,w&&_&&(this.printHeaderRow(c.lineNumber,!0),c.y+=_[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-m,c.y+m,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+m,{align:"center",baseline:"top",maxWidth:c.width-m-m}):this.text(c.text,c.x+m,c.y+m,{align:"left",baseline:"top",maxWidth:c.width-m-m})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,m,y,_){if(r.call(this),!m)throw new Error("No data for PDF table.");var w,E,N,L,I=[],j=[],q=[],ee={},ie={},de=[],z=[],k=(_=_||{}).autoSize||!1,U=_.printHeaders!==!1,G=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,D=_.margins||Object.assign({width:this.getPageWidth()},e),M=typeof _.padding=="number"?_.padding:3,F=_.headerBackgroundColor||"#c8c8c8",se=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=se,this.setFontSize(G),y==null)j=I=Object.keys(m[0]),q=I.map(function(){return"left"});else if(Array.isArray(y)&&zn(y[0])==="object")for(I=y.map(function(ye){return ye.name}),j=y.map(function(ye){return ye.prompt||ye.name||""}),q=y.map(function(ye){return ye.align||"left"}),w=0;w<y.length;w+=1)ie[y[w].name]=y[w].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(j=I=y,q=I.map(function(){return"left"}));if(k||Array.isArray(y)&&typeof y[0]=="string")for(w=0;w<I.length;w+=1){for(ee[L=I[w]]=m.map(function(ye){return ye[L]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(j[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=ee[L],this.setFont(void 0,"normal"),N=0;N<E.length;N+=1)de.push(this.getTextDimensions(E[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[L]=Math.max.apply(null,de)+M+M,de=[]}if(U){var Le={};for(w=0;w<I.length;w+=1)Le[I[w]]={},Le[I[w]].text=j[w],Le[I[w]].align=q[w];var Ne=u.call(this,Le,ie);z=I.map(function(ye){return new s(c,h,ie[ye],Ne,Le[ye].text,void 0,Le[ye].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var Te=y.reduce(function(ye,ue){return ye[ue.name]=ue.align,ye},{});for(w=0;w<m.length;w+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:w,data:m[w]},this);var ne=u.call(this,m[w],ie);for(N=0;N<I.length;N+=1){var ve=m[w][I[N]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:w,col:N,data:ve},this),a.call(this,new s(c,h,ie[I[N]],ne,ve,w+2,Te[I[N]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var u=function(c,h){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(c).map(function(w){var E=c[w];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,h[w]-m-m)},this).map(function(w){return this.getLineHeightFactor()*w.length*y/_+m+m},this).reduce(function(w,E){return Math.max(w,E)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){m=this.internal.__cell__.tableHeaderRow[w].clone(),h&&(m.y=this.internal.__cell__.margins.top||0,_.push(m)),m.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,m),this.setTextColor(E)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}}(Ut.API);var L3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},R3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],py=k3(R3),D3=[100,200,300,400,500,600,700,800,900],V9=k3(D3);function my(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return L3[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof py[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function qb(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var B9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Hb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $b(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function U9(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},B9,t.genericFontFamilies||{}),s=null,a=null,u=0;u<e.length;++u)if(i[(s=my(e[u])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){a=n[s.family];break}if(!(a=a||n[r]))throw new Error("Could not find a font-family for the rule '"+$b(s)+"' and default family '"+r+"'.");if(a=function(c,h){if(h[c])return h[c];var m=py[c],y=m<=py.normal?-1:1,_=qb(h,R3,m,y);if(!_)throw new Error("Could not find a matching font-stretch value for "+c);return _}(s.stretch,a),a=function(c,h){if(h[c])return h[c];for(var m=L3[c],y=0;y<m.length;++y)if(h[m[y]])return h[m[y]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var m=V9[c],y=qb(h,D3,m,c<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+c);return y}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+$b(s)+"'.");return a}function Wb(n){return n.trimLeft()}function z9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function q9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Vp,Gb,Kb,Z0=["times"];(function(n){var e,t,r,i,s,a,u,c,h,m=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new a,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new a,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,h=new m}]);var y=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=O;Object.defineProperty(this,"pdf",{get:function(){return X}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(je){Z=!!je}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(je){oe=!!je}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(je){isNaN(je)||(ce=je)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(je){isNaN(je)||(_e=je)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(je){var le;typeof je=="number"?le=[je,je,je,je]:((le=new Array(4))[0]=je[0],le[1]=je.length>=2?je[1]:le[0],le[2]=je.length>=3?je[2]:le[0],le[3]=je.length>=4?je[3]:le[1]),h.margin=le}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(je){Ae=je}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(je){Ee=je}});var Ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ke},set:function(je){Ke=je}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(je){je instanceof m&&(h=je)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(je){h.path=je}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(je){Ye=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var le;le=_(je),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var le=_(je);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var ft=null;function lt(je,le){if(ft===null){var jt=function(xt){var Ze=[];return Object.keys(xt).forEach(function(it){xt[it].forEach(function(ht){var ct=null;switch(ht){case"bold":ct={family:it,weight:"bold"};break;case"italic":ct={family:it,style:"italic"};break;case"bolditalic":ct={family:it,weight:"bold",style:"italic"};break;case"":case"normal":ct={family:it}}ct!==null&&(ct.ref={name:it,style:ht},Ze.push(ct))})}),Ze}(je.getFontList());ft=function(xt){for(var Ze={},it=0;it<xt.length;++it){var ht=my(xt[it]),ct=ht.family,Ce=ht.stretch,We=ht.style,ot=ht.weight;Ze[ct]=Ze[ct]||{},Ze[ct][Ce]=Ze[ct][Ce]||{},Ze[ct][Ce][We]=Ze[ct][Ce][We]||{},Ze[ct][Ce][We][ot]=ht}return Ze}(jt.concat(le))}return ft}var Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(je){ft=null,Nt=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var le;if(this.ctx.font=je,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var jt=le[1];le[2];var xt=le[3],Ze=le[4];le[5];var it=le[6],ht=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(ht==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:ht==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var ct=function(bt){var Ft,dt,Wn=[],nn=bt.trim();if(nn==="")return Z0;if(nn in Hb)return[Hb[nn]];for(;nn!=="";){switch(dt=null,Ft=(nn=Wb(nn)).charAt(0)){case'"':case"'":dt=z9(nn.substring(1),Ft);break;default:dt=q9(nn)}if(dt===null||(Wn.push(dt[0]),(nn=Wb(dt[1]))!==""&&nn.charAt(0)!==","))return Z0;nn=nn.replace(/^,/,"")}return Wn}(it);if(this.fontFaces){var Ce=U9(lt(this.pdf,this.fontFaces),ct.map(function(bt){return{family:bt,stretch:"normal",weight:xt,style:jt}}));this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var We="";(xt==="bold"||parseInt(xt,10)>=700||jt==="bold")&&(We="bold"),jt==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var ot="",He={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<ct.length;at++){if(this.pdf.internal.getFont(ct[at],We,{noFallback:!0,disableWarning:!0})!==void 0){ot=ct[at];break}if(We==="bolditalic"&&this.pdf.internal.getFont(ct[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=ct[at],We="bold";else if(this.pdf.internal.getFont(ct[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=ct[at],We="normal";break}}if(ot===""){for(var vt=0;vt<ct.length;vt++)if(He[ct[vt]]){ot=He[ct[vt]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};y.prototype.setLineDash=function(O){this.lineDash=O},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){ee.call(this,"fill",!1)},y.prototype.stroke=function(){ee.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(O,X){if(isNaN(O)||isNaN(X))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new a(O,X));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(O,X)},y.prototype.closePath=function(){var O=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&zn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){O=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(O.x,O.y)},y.prototype.lineTo=function(O,X){if(isNaN(O)||isNaN(X))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new a(O,X));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ee.call(this,null,!0)},y.prototype.quadraticCurveTo=function(O,X,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(O)||isNaN(X))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new a(Z,oe)),_e=this.ctx.transform.applyToPoint(new a(O,X));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},y.prototype.bezierCurveTo=function(O,X,Z,oe,ce,_e){if(isNaN(ce)||isNaN(_e)||isNaN(O)||isNaN(X)||isNaN(Z)||isNaN(oe))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new a(ce,_e)),Ee=this.ctx.transform.applyToPoint(new a(O,X)),Ke=this.ctx.transform.applyToPoint(new a(Z,oe));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Ke.x,y2:Ke.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new a(Ae.x,Ae.y)},y.prototype.arc=function(O,X,Z,oe,ce,_e){if(isNaN(O)||isNaN(X)||isNaN(Z)||isNaN(oe)||isNaN(ce))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new a(O,X));O=Ae.x,X=Ae.y;var Ee=this.ctx.transform.applyToPoint(new a(0,Z)),Ke=this.ctx.transform.applyToPoint(new a(0,0));Z=Math.sqrt(Math.pow(Ee.x-Ke.x,2)+Math.pow(Ee.y-Ke.y,2))}Math.abs(ce-oe)>=2*Math.PI&&(oe=0,ce=2*Math.PI),this.path.push({type:"arc",x:O,y:X,radius:Z,startAngle:oe,endAngle:ce,counterclockwise:_e})},y.prototype.arcTo=function(O,X,Z,oe,ce){throw new Error("arcTo not implemented.")},y.prototype.rect=function(O,X,Z,oe){if(isNaN(O)||isNaN(X)||isNaN(Z)||isNaN(oe))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,X),this.lineTo(O+Z,X),this.lineTo(O+Z,X+oe),this.lineTo(O,X+oe),this.lineTo(O,X),this.lineTo(O+Z,X),this.lineTo(O,X)},y.prototype.fillRect=function(O,X,Z,oe){if(isNaN(O)||isNaN(X)||isNaN(Z)||isNaN(oe))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,X,Z,oe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},y.prototype.strokeRect=function(O,X,Z,oe){if(isNaN(O)||isNaN(X)||isNaN(Z)||isNaN(oe))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(O,X,Z,oe),this.stroke())},y.prototype.clearRect=function(O,X,Z,oe){if(isNaN(O)||isNaN(X)||isNaN(Z)||isNaN(oe))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,X,Z,oe))},y.prototype.save=function(O){O=typeof O!="boolean"||O;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},y.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(X),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(O){var X,Z,oe,ce;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))X=0,Z=0,oe=0,ce=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(_e!==null)X=parseInt(_e[1]),Z=parseInt(_e[2]),oe=parseInt(_e[3]),ce=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)X=parseInt(_e[1]),Z=parseInt(_e[2]),oe=parseInt(_e[3]),ce=parseFloat(_e[4]);else{if(ce=1,typeof O=="string"&&O.charAt(0)!=="#"){var Ae=new A3(O);O=Ae.ok?Ae.toHex():"#000000"}O.length===4?(X=O.substring(1,2),X+=X,Z=O.substring(2,3),Z+=Z,oe=O.substring(3,4),oe+=oe):(X=O.substring(1,3),Z=O.substring(3,5),oe=O.substring(5,7)),X=parseInt(X,16),Z=parseInt(Z,16),oe=parseInt(oe,16)}}return{r:X,g:Z,b:oe,a:ce,style:O}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(O,X,Z,oe){if(isNaN(X)||isNaN(Z)||typeof O!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!w.call(this)){var ce=ne(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;M.call(this,{text:O,x:X,y:Z,scale:_e,angle:ce,align:this.textAlign,maxWidth:oe})}},y.prototype.strokeText=function(O,X,Z,oe){if(isNaN(X)||isNaN(Z)||typeof O!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){oe=isNaN(oe)?void 0:oe;var ce=ne(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;M.call(this,{text:O,x:X,y:Z,scale:_e,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:oe})}},y.prototype.measureText=function(O){if(typeof O!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,Z=this.pdf.internal.scaleFactor,oe=X.internal.getFontSize(),ce=X.getStringUnitWidth(O)*oe/X.internal.scaleFactor,_e=function(Ae){var Ee=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new _e({width:ce*=Math.round(96*Z/72*1e4)/1e4})},y.prototype.scale=function(O,X){if(isNaN(O)||isNaN(X))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(O,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.rotate=function(O){if(isNaN(O))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.translate=function(O,X){if(isNaN(O)||isNaN(X))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,O,X);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.transform=function(O,X,Z,oe,ce,_e){if(isNaN(O)||isNaN(X)||isNaN(Z)||isNaN(oe)||isNaN(ce)||isNaN(_e))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new c(O,X,Z,oe,ce,_e);this.ctx.transform=this.ctx.transform.multiply(Ae)},y.prototype.setTransform=function(O,X,Z,oe,ce,_e){O=isNaN(O)?1:O,X=isNaN(X)?0:X,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?1:oe,ce=isNaN(ce)?0:ce,_e=isNaN(_e)?0:_e,this.ctx.transform=new c(O,X,Z,oe,ce,_e)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(O,X,Z,oe,ce,_e,Ae,Ee,Ke){var Ye=this.pdf.getImageProperties(O),ft=1,lt=1,Nt=1,je=1;oe!==void 0&&Ee!==void 0&&(Nt=Ee/oe,je=Ke/ce,ft=Ye.width/oe*Ee/oe,lt=Ye.height/ce*Ke/ce),_e===void 0&&(_e=X,Ae=Z,X=0,Z=0),oe!==void 0&&Ee===void 0&&(Ee=oe,Ke=ce),oe===void 0&&Ee===void 0&&(Ee=Ye.width,Ke=Ye.height);for(var le,jt=this.ctx.transform.decompose(),xt=ne(jt.rotate.shx),Ze=new c,it=(Ze=(Ze=(Ze=Ze.multiply(jt.translate)).multiply(jt.skew)).multiply(jt.scale)).applyToRectangle(new u(_e-X*Nt,Ae-Z*je,oe*ft,ce*lt)),ht=L.call(this,it),ct=[],Ce=0;Ce<ht.length;Ce+=1)ct.indexOf(ht[Ce])===-1&&ct.push(ht[Ce]);if(q(ct),this.autoPaging)for(var We=ct[0],ot=ct[ct.length-1],He=We;He<ot+1;He++){this.pdf.setPage(He);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=He===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=He===1?0:bt+(He-2)*Ft;if(this.ctx.clip_path.length!==0){var Wn=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(le,this.posX+this.margin[3],-dt+vt+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=Wn}var nn=JSON.parse(JSON.stringify(it));nn=j([nn],this.posX+this.margin[3],-dt+vt+this.ctx.prevPageLastElemOffset)[0];var jr=(He>We||He<ot)&&N.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ft,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,xt),jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",it.x,it.y,it.w,it.h,null,null,xt)};var L=function(O,X,Z){var oe=[];X=X||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":oe.push(Math.floor((O.y+ce)/Z)+1);break;case"arc":oe.push(Math.floor((O.y+ce-O.radius)/Z)+1),oe.push(Math.floor((O.y+ce+O.radius)/Z)+1);break;case"qct":var _e=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);oe.push(Math.floor((_e.y+ce)/Z)+1),oe.push(Math.floor((_e.y+_e.h+ce)/Z)+1);break;case"bct":var Ae=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);oe.push(Math.floor((Ae.y+ce)/Z)+1),oe.push(Math.floor((Ae.y+Ae.h+ce)/Z)+1);break;case"rect":oe.push(Math.floor((O.y+ce)/Z)+1),oe.push(Math.floor((O.y+O.h+ce)/Z)+1)}for(var Ee=0;Ee<oe.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Ee];)I.call(this);return oe},I=function(){var O=this.fillStyle,X=this.strokeStyle,Z=this.font,oe=this.lineCap,ce=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=X,this.font=Z,this.lineCap=oe,this.lineWidth=ce,this.lineJoin=_e},j=function(O,X,Z){for(var oe=0;oe<O.length;oe++)switch(O[oe].type){case"bct":O[oe].x2+=X,O[oe].y2+=Z;case"qct":O[oe].x1+=X,O[oe].y1+=Z;case"mt":case"lt":case"arc":default:O[oe].x+=X,O[oe].y+=Z}return O},q=function(O){return O.sort(function(X,Z){return X-Z})},ee=function(O,X){for(var Z,oe,ce=this.fillStyle,_e=this.strokeStyle,Ae=this.lineCap,Ee=this.lineWidth,Ke=Math.abs(Ee*this.ctx.transform.scaleX),Ye=this.lineJoin,ft=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),Nt=[],je=0;je<lt.length;je++)if(lt[je].x!==void 0)for(var le=L.call(this,lt[je]),jt=0;jt<le.length;jt+=1)Nt.indexOf(le[jt])===-1&&Nt.push(le[jt]);for(var xt=0;xt<Nt.length;xt++)for(;this.pdf.internal.getNumberOfPages()<Nt[xt];)I.call(this);if(q(Nt),this.autoPaging)for(var Ze=Nt[0],it=Nt[Nt.length-1],ht=Ze;ht<it+1;ht++){this.pdf.setPage(ht),this.fillStyle=ce,this.strokeStyle=_e,this.lineCap=Ae,this.lineWidth=Ke,this.lineJoin=Ye;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=ht===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=ht===1?0:We+(ht-2)*ot;if(this.ctx.clip_path.length!==0){var at=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Z,this.posX+this.margin[3],-He+Ce+this.ctx.prevPageLastElemOffset),ie.call(this,O,!0),this.path=at}if(oe=JSON.parse(JSON.stringify(ft)),this.path=j(oe,this.posX+this.margin[3],-He+Ce+this.ctx.prevPageLastElemOffset),X===!1||ht===0){var vt=(ht>Ze||ht<it)&&N.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,ot,null).clip().discardPath()),ie.call(this,O,X),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=Ke,ie.call(this,O,X),this.lineWidth=Ee;this.path=ft},ie=function(O,X){if((O!=="stroke"||X||!E.call(this))&&(O==="stroke"||X||!w.call(this))){for(var Z,oe,ce=[],_e=this.path,Ae=0;Ae<_e.length;Ae++){var Ee=_e[Ae];switch(Ee.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Ke=ce.length;if(_e[Ae-1]&&!isNaN(_e[Ae-1].x)&&(Z=[Ee.x-_e[Ae-1].x,Ee.y-_e[Ae-1].y],Ke>0)){for(;Ke>=0;Ke--)if(ce[Ke-1].close!==!0&&ce[Ke-1].begin!==!0){ce[Ke-1].deltas.push(Z),ce[Ke-1].abs.push(Ee);break}}break;case"bct":Z=[Ee.x1-_e[Ae-1].x,Ee.y1-_e[Ae-1].y,Ee.x2-_e[Ae-1].x,Ee.y2-_e[Ae-1].y,Ee.x-_e[Ae-1].x,Ee.y-_e[Ae-1].y],ce[ce.length-1].deltas.push(Z);break;case"qct":var Ye=_e[Ae-1].x+2/3*(Ee.x1-_e[Ae-1].x),ft=_e[Ae-1].y+2/3*(Ee.y1-_e[Ae-1].y),lt=Ee.x+2/3*(Ee.x1-Ee.x),Nt=Ee.y+2/3*(Ee.y1-Ee.y),je=Ee.x,le=Ee.y;Z=[Ye-_e[Ae-1].x,ft-_e[Ae-1].y,lt-_e[Ae-1].x,Nt-_e[Ae-1].y,je-_e[Ae-1].x,le-_e[Ae-1].y],ce[ce.length-1].deltas.push(Z);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ee)}}oe=X?null:O==="stroke"?"stroke":"fill";for(var jt=!1,xt=0;xt<ce.length;xt++)if(ce[xt].arc)for(var Ze=ce[xt].abs,it=0;it<Ze.length;it++){var ht=Ze[it];ht.type==="arc"?k.call(this,ht.x,ht.y,ht.radius,ht.startAngle,ht.endAngle,ht.counterclockwise,void 0,X,!jt):F.call(this,ht.x,ht.y),jt=!0}else if(ce[xt].close===!0)this.pdf.internal.out("h"),jt=!1;else if(ce[xt].begin!==!0){var ct=ce[xt].start.x,Ce=ce[xt].start.y;se.call(this,ce[xt].deltas,ct,Ce),jt=!0}oe&&U.call(this,oe),X&&G.call(this)}},de=function(O){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-Z;case"top":return O+X-Z;case"hanging":return O+X-2*Z;case"middle":return O+X/2-Z;case"ideographic":return O;case"alphabetic":default:return O}},z=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(X,Z){this.colorStops.push([X,Z])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(O,X,Z,oe,ce,_e,Ae,Ee,Ke){for(var Ye=Ne.call(this,Z,oe,ce,_e),ft=0;ft<Ye.length;ft++){var lt=Ye[ft];ft===0&&(Ke?D.call(this,lt.x1+O,lt.y1+X):F.call(this,lt.x1+O,lt.y1+X)),Le.call(this,O,X,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}Ee?G.call(this):U.call(this,Ae)},U=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(O,X){this.pdf.internal.out(t(O)+" "+r(X)+" m")},M=function(O){var X;switch(O.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var Z=this.pdf.getTextDimensions(O.text),oe=de.call(this,O.y),ce=z.call(this,oe)-Z.h,_e=this.ctx.transform.applyToPoint(new a(O.x,oe)),Ae=this.ctx.transform.decompose(),Ee=new c;Ee=(Ee=(Ee=Ee.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var Ke,Ye,ft,lt=this.ctx.transform.applyToRectangle(new u(O.x,oe,Z.w,Z.h)),Nt=Ee.applyToRectangle(new u(O.x,ce,Z.w,Z.h)),je=L.call(this,Nt),le=[],jt=0;jt<je.length;jt+=1)le.indexOf(je[jt])===-1&&le.push(je[jt]);if(q(le),this.autoPaging)for(var xt=le[0],Ze=le[le.length-1],it=xt;it<Ze+1;it++){this.pdf.setPage(it);var ht=it===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],We=Ce-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],He=ot-this.margin[3],at=it===1?0:ct+(it-2)*We;if(this.ctx.clip_path.length!==0){var vt=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ke,this.posX+this.margin[3],-1*at+ht),ie.call(this,"fill",!0),this.path=vt}var bt=j([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-at+ht+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*O.scale),ft=this.lineWidth,this.lineWidth=ft*O.scale);var Ft=this.autoPaging!=="text";if(Ft||bt.y+bt.h<=Ce){if(Ft||bt.y>=ht&&bt.x<=ot){var dt=Ft?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||ot-bt.x)[0],Wn=j([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-at+ht+this.ctx.prevPageLastElemOffset)[0],nn=Ft&&(it>xt||it<Ze)&&N.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,We,null).clip().discardPath()),this.pdf.text(dt,Wn.x,Wn.y,{angle:O.angle,align:X,renderingMode:O.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else bt.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-bt.y);O.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=ft)}else O.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*O.scale),ft=this.lineWidth,this.lineWidth=ft*O.scale),this.pdf.text(O.text,_e.x+this.posX,_e.y+this.posY,{angle:O.angle,align:X,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=ft)},F=function(O,X,Z,oe){Z=Z||0,oe=oe||0,this.pdf.internal.out(t(O+Z)+" "+r(X+oe)+" l")},se=function(O,X,Z){return this.pdf.lines(O,X,Z,null,null)},Le=function(O,X,Z,oe,ce,_e,Ae,Ee){this.pdf.internal.out([e(i(Z+O)),e(s(oe+X)),e(i(ce+O)),e(s(_e+X)),e(i(Ae+O)),e(s(Ee+X)),"c"].join(" "))},Ne=function(O,X,Z,oe){for(var ce=2*Math.PI,_e=Math.PI/2;X>Z;)X-=ce;var Ae=Math.abs(Z-X);Ae<ce&&oe&&(Ae=ce-Ae);for(var Ee=[],Ke=oe?-1:1,Ye=X;Ae>1e-5;){var ft=Ye+Ke*Math.min(Ae,_e);Ee.push(Te.call(this,O,Ye,ft)),Ae-=Math.abs(ft-Ye),Ye=ft}return Ee},Te=function(O,X,Z){var oe=(Z-X)/2,ce=O*Math.cos(oe),_e=O*Math.sin(oe),Ae=ce,Ee=-_e,Ke=Ae*Ae+Ee*Ee,Ye=Ke+Ae*ce+Ee*_e,ft=4/3*(Math.sqrt(2*Ke*Ye)-Ye)/(Ae*_e-Ee*ce),lt=Ae-ft*Ee,Nt=Ee+ft*Ae,je=lt,le=-Nt,jt=oe+X,xt=Math.cos(jt),Ze=Math.sin(jt);return{x1:O*Math.cos(X),y1:O*Math.sin(X),x2:lt*xt-Nt*Ze,y2:lt*Ze+Nt*xt,x3:je*xt-le*Ze,y3:je*Ze+le*xt,x4:O*Math.cos(Z),y4:O*Math.sin(Z)}},ne=function(O){return 180*O/Math.PI},ve=function(O,X,Z,oe,ce,_e){var Ae=O+.5*(Z-O),Ee=X+.5*(oe-X),Ke=ce+.5*(Z-ce),Ye=_e+.5*(oe-_e),ft=Math.min(O,ce,Ae,Ke),lt=Math.max(O,ce,Ae,Ke),Nt=Math.min(X,_e,Ee,Ye),je=Math.max(X,_e,Ee,Ye);return new u(ft,Nt,lt-ft,je-Nt)},ye=function(O,X,Z,oe,ce,_e,Ae,Ee){var Ke,Ye,ft,lt,Nt,je,le,jt,xt,Ze,it,ht,ct,Ce,We=Z-O,ot=oe-X,He=ce-Z,at=_e-oe,vt=Ae-ce,bt=Ee-_e;for(Ye=0;Ye<41;Ye++)xt=(le=(ft=O+(Ke=Ye/40)*We)+Ke*((Nt=Z+Ke*He)-ft))+Ke*(Nt+Ke*(ce+Ke*vt-Nt)-le),Ze=(jt=(lt=X+Ke*ot)+Ke*((je=oe+Ke*at)-lt))+Ke*(je+Ke*(_e+Ke*bt-je)-jt),Ye==0?(it=xt,ht=Ze,ct=xt,Ce=Ze):(it=Math.min(it,xt),ht=Math.min(ht,Ze),ct=Math.max(ct,xt),Ce=Math.max(Ce,Ze));return new u(Math.round(it),Math.round(ht),Math.round(ct-it),Math.round(Ce-ht))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,X,Z=(O=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:X}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Ut.API),function(n){var e=function(s){var a,u,c,h,m,y,_,w,E,N;for(u=[],c=0,h=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(m=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(y=(m=((m=((m=((m=(m-(N=m%85))/85)-(E=m%85))/85)-(w=m%85))/85)-(_=m%85))/85)%85,u.push(y+33,_+33,w+33,E+33,N+33)):u.push(122);return function(L,I){for(var j=I;j>0;j--)L.pop()}(u,a.length),String.fromCharCode.apply(String,u)+"~>"},t=function(s){var a,u,c,h,m,y=String,_="length",w=255,E="charCodeAt",N="slice",L="replace";for(s[N](-2),s=s[N](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),c=[],h=0,m=(s+=a="uuuuu"[N](s[_]%5||5))[_];m>h;h+=5)u=52200625*(s[E](h)-33)+614125*(s[E](h+1)-33)+7225*(s[E](h+2)-33)+85*(s[E](h+3)-33)+(s[E](h+4)-33),c.push(w&u>>24,w&u>>16,w&u>>8,w&u);return function(I,j){for(var q=j;q>0;q--)I.pop()}(c,a[_]),y.fromCharCode.apply(y,c)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var u="",c=0;c<s.length;c+=2)u+=String.fromCharCode("0x"+(s[c]+s[c+1]));return u},i=function(s){for(var a=new Uint8Array(s.length),u=s.length;u--;)a[u]=s.charCodeAt(u);return s=(a=uy(a)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};n.processDataByFilters=function(s,a){var u=0,c=s||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),u=0;u<a.length;u+=1)switch(a[u]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[u]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Ut.API),function(n){n.loadFile=function(e,t,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var u=void 0;try{u=function(c,h,m){var y=new XMLHttpRequest,_=0,w=function(E){var N=E.length,L=[],I=String.fromCharCode;for(_=0;_<N;_+=1)L.push(I(255&E.charCodeAt(_)));return L.join("")};if(y.open("GET",c,!h),y.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(y.onload=function(){y.status===200?m(w(this.responseText)):m(void 0)}),y.send(null),h&&y.status===200)return w(y.responseText)}(i,s,a)}catch{}return u}(e,t,r)},n.loadImageFile=n.loadFile}(Ut.API),function(n){function e(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):iy(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):iy(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var u=zn(a);return u==="undefined"?"undefined":u==="string"||a instanceof String?"string":u==="number"||a instanceof Number?"number":u==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(a,u){var c=document.createElement(a);for(var h in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[h]=u.style[h];return c},s=function a(u){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,a,1,[a])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,u){return a.__proto__=u||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,u){return this.then(function(){switch(u=u||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(h,m){for(var y=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),_=h.firstChild;_;_=_.nextSibling)m!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||y.appendChild(c(_,m));return h.nodeType===1&&(h.nodeName==="CANVAS"?(y.width=h.width,y.height=h.height,y.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(y.value=h.value),y.addEventListener("load",function(){y.scrollTop=h.scrollTop,y.scrollLeft=h.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(u){var c=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var _=0;_<h.length;++_){var w=h[_],E=w.src.find(function(N){return N.format==="truetype"});E&&c.addFont(E.url,w.ref.name,w.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,c.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,u):this.outputPdf(a,u)},s.prototype.outputPdf=function(a,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,u)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var u=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(a,u){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return u?u(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function u(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(a=a||Ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:u(a.inner.width,a.k),height:u(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,u,c,h){return a!=null&&(this.progress.val=a),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,u,c,h){return this.setProgress(a?this.progress.val+a:null,u||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(a,u){var c=this;return this.thenCore(a,u,function(h,m){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return c.updateProgress(null,h),y}).then(h,m).then(function(y){return c.updateProgress(1),y})})},s.prototype.thenCore=function(a,u,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),u&&(u=u.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),m=c.call(h,a,u);return s.convert(m,this.__proto__)},s.prototype.thenExternal=function(a,u){return Promise.prototype.then.call(this,a,u)},s.prototype.thenList=function(a){var u=this;return a.forEach(function(c){u=u.thenCore(c)}),u},s.prototype.catch=function(a){a&&(a=a.bind(this));var u=Promise.prototype.catch.call(this,a);return s.convert(u,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ut.getPageSize=function(a,u,c){if(zn(a)==="object"){var h=a;a=h.orientation,u=h.unit||u,c=h.format||c}u=u||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var m,y=(""+c).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var w,E=0,N=0;if(_.hasOwnProperty(y))E=_[y][1]/m,N=_[y][0]/m;else try{E=c[1],N=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",N>E&&(w=N,N=E,E=w);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",E>N&&(w=N,N=E,E=w)}return{width:N,height:E,unit:u,k:m,orientation:a}},n.html=function(a,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(my):null;var c=new s(u);return u.worker?c:c.from(a).doCallback()}}(Ut.API),Ut.API.addJS=function(n){return Kb=n,this.internal.events.subscribe("postPutResources",function(){Vp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Gb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Kb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vp!==void 0&&Gb!==void 0&&this.internal.out("/Names <</JavaScript "+Vp+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],u=r.exec(a);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,m=[];for(s=0;s<h;s++){var y=t.internal.newObject();m.push(y);var _=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<m.length;s++)t.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var u=this.count=this.count_r({count:0},a);if(u>0&&this.line("/Count "+u),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ut.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,u){var c,h=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(y){for(var _,w=256*y.charCodeAt(4)+y.charCodeAt(5),E=y.length,N={width:0,height:0,numcomponents:1},L=4;L<E;L+=2){if(L+=w,e.indexOf(y.charCodeAt(L+1))!==-1){_=256*y.charCodeAt(L+5)+y.charCodeAt(L+6),N={width:256*y.charCodeAt(L+7)+y.charCodeAt(L+8),height:_,numcomponents:y.charCodeAt(L+9)};break}w=256*y.charCodeAt(L+2)+y.charCodeAt(L+3)}return N}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}m={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:h,index:r,alias:i}}return m}}(Ut.API);var gh,Bp,Yb,Qb,Xb,H9=function(){var n,e,t;function r(s){var a,u,c,h,m,y,_,w,E,N,L,I,j,q;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(a=this.readUInt32(),E=(function(){var ee,ie;for(ie=[],ee=0;ee<4;++ee)ie.push(String.fromCharCode(this.data[this.pos++]));return ie}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),h=this.readUInt16()||100,y.delay=1e3*m/h,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,a-=4),s=(y!=null?y.data:void 0)||this.imgData,I=0;0<=a?I<a:I>a;0<=a?++I:--I)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((N=c-this.transparency.indexed.length)>0)for(j=0;0<=N?j<N:j>N;0<=N?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":_=(L=this.read(a)).indexOf(0),w=String.fromCharCode.apply(String,L.slice(0,_)),this.text[w]=String.fromCharCode.apply(String,L.slice(_+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(q=this.colorType)===4||q===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,u;for(u=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*a),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function m(y,_,w,E){var N,L,I,j,q,ee,ie,de,z,k,U,G,D,M,F,se,Le,Ne,Te,ne,ve,ye=Math.ceil((h.width-y)/w),ue=Math.ceil((h.height-_)/E),O=h.width==ye&&h.height==ue;for(M=a*ye,G=O?u:new Uint8Array(M*ue),ee=s.length,D=0,L=0;D<ue&&c<ee;){switch(s[c++]){case 0:for(j=Le=0;Le<M;j=Le+=1)G[L++]=s[c++];break;case 1:for(j=Ne=0;Ne<M;j=Ne+=1)N=s[c++],q=j<a?0:G[L-a],G[L++]=(N+q)%256;break;case 2:for(j=Te=0;Te<M;j=Te+=1)N=s[c++],I=(j-j%a)/a,F=D&&G[(D-1)*M+I*a+j%a],G[L++]=(F+N)%256;break;case 3:for(j=ne=0;ne<M;j=ne+=1)N=s[c++],I=(j-j%a)/a,q=j<a?0:G[L-a],F=D&&G[(D-1)*M+I*a+j%a],G[L++]=(N+Math.floor((q+F)/2))%256;break;case 4:for(j=ve=0;ve<M;j=ve+=1)N=s[c++],I=(j-j%a)/a,q=j<a?0:G[L-a],D===0?F=se=0:(F=G[(D-1)*M+I*a+j%a],se=I&&G[(D-1)*M+(I-1)*a+j%a]),ie=q+F-se,de=Math.abs(ie-q),k=Math.abs(ie-F),U=Math.abs(ie-se),z=de<=k&&de<=U?q:k<=U?F:se,G[L++]=(N+z)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!O){var X=((_+D*E)*h.width+y)*a,Z=D*M;for(j=0;j<ye;j+=1){for(var oe=0;oe<a;oe+=1)u[X++]=G[Z++];X+=(w-1)*a}}D++}}return s=S9(s),h.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),u},r.prototype.decodePalette=function(){var s,a,u,c,h,m,y,_,w;for(u=this.palette,m=this.transparency.indexed||[],h=new Uint8Array((m.length||0)+u.length),c=0,s=0,a=y=0,_=u.length;y<_;a=y+=3)h[c++]=u[a],h[c++]=u[a+1],h[c++]=u[a+2],h[c++]=(w=m[s++])!=null?w:255;return h},r.prototype.copyToImageData=function(s,a){var u,c,h,m,y,_,w,E,N,L,I;if(c=this.colors,N=null,u=this.hasAlphaChannel,this.palette.length&&(N=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),c=4,u=!0),E=(h=s.data||s).length,y=N||a,m=_=0,c===1)for(;m<E;)w=N?4*a[m/4]:_,L=y[w++],h[m++]=L,h[m++]=L,h[m++]=L,h[m++]=u?y[w++]:255,_=w;else for(;m<E;)w=N?4*a[m/4]:_,h[m++]=y[w++],h[m++]=y[w++],h[m++]=y[w++],h[m++]=u?y[w++]:255,_=w},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ht)==="[object Window]"){try{e=Ht.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,u,c,h,m,y,_,w;if(this.animation){for(w=[],u=m=0,y=(_=this.animation.frames).length;m<y;u=++m)a=_[u],c=s.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,h),a.imageData=c,w.push(a.image=n(c));return w}},r.prototype.renderFrame=function(s,a){var u,c,h;return u=(c=this.animation.frames)[a],h=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(s){var a,u,c,h,m,y,_=this;return u=0,y=this.animation,h=y.numFrames,c=y.frames,m=y.numPlays,(a=function(){var w,E;if(w=u++%h,E=c[w],_.renderFrame(s,w),h>1&&u/h<m)return _.animation._timeout=setTimeout(a,E.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(u=a.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),a.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $9(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<(7&i)+1;n[e++],n[e++];var u=null,c=null;s&&(u=e,c=a,e+=3*a);var h=!0,m=[],y=0,_=null,w=0,E=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,E=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((D=n[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=n[e++];y=n[e++]|n[e++]<<8,_=n[e++],(1&N)==0&&(_=null),w=N>>2&7,e++;break;case 254:for(;;){if(!((D=n[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var L=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,q=n[e++]|n[e++]<<8,ee=n[e++],ie=ee>>6&1,de=1<<(7&ee)+1,z=u,k=c,U=!1;ee>>7&&(U=!0,z=e,k=de,e+=3*de);var G=e;for(e++;;){var D;if(!((D=n[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}m.push({x:L,y:I,width:j,height:q,has_local_palette:U,palette_offset:z,palette_size:k,data_offset:G,data_length:e-G,transparent_index:_,interlaced:!!ie,delay:y,disposal:w});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return E},this.frameInfo=function(M){if(M<0||M>=m.length)throw new Error("Frame index out of range.");return m[M]},this.decodeAndBlitFrameBGRA=function(M,F){var se=this.frameInfo(M),Le=se.width*se.height,Ne=new Uint8Array(Le);Jb(n,se.data_offset,Ne,Le);var Te=se.palette_offset,ne=se.transparent_index;ne===null&&(ne=256);var ve=se.width,ye=t-ve,ue=ve,O=4*(se.y*t+se.x),X=4*((se.y+se.height)*t+se.x),Z=O,oe=4*ye;se.interlaced===!0&&(oe+=4*t*7);for(var ce=8,_e=0,Ae=Ne.length;_e<Ae;++_e){var Ee=Ne[_e];if(ue===0&&(ue=ve,(Z+=oe)>=X&&(oe=4*ye+4*t*(ce-1),Z=O+(ve+ye)*(ce<<1),ce>>=1)),Ee===ne)Z+=4;else{var Ke=n[Te+3*Ee],Ye=n[Te+3*Ee+1],ft=n[Te+3*Ee+2];F[Z++]=ft,F[Z++]=Ye,F[Z++]=Ke,F[Z++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(M,F){var se=this.frameInfo(M),Le=se.width*se.height,Ne=new Uint8Array(Le);Jb(n,se.data_offset,Ne,Le);var Te=se.palette_offset,ne=se.transparent_index;ne===null&&(ne=256);var ve=se.width,ye=t-ve,ue=ve,O=4*(se.y*t+se.x),X=4*((se.y+se.height)*t+se.x),Z=O,oe=4*ye;se.interlaced===!0&&(oe+=4*t*7);for(var ce=8,_e=0,Ae=Ne.length;_e<Ae;++_e){var Ee=Ne[_e];if(ue===0&&(ue=ve,(Z+=oe)>=X&&(oe=4*ye+4*t*(ce-1),Z=O+(ve+ye)*(ce<<1),ce>>=1)),Ee===ne)Z+=4;else{var Ke=n[Te+3*Ee],Ye=n[Te+3*Ee+1],ft=n[Te+3*Ee+2];F[Z++]=Ke,F[Z++]=Ye,F[Z++]=ft,F[Z++]=255}--ue}}}function Jb(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,u=a+1,c=i+1,h=(1<<c)-1,m=0,y=0,_=0,w=n[e++],E=new Int32Array(4096),N=null;;){for(;m<16&&w!==0;)y|=n[e++]<<m,m+=8,w===1?w=n[e++]:--w;if(m<c)break;var L=y&h;if(y>>=c,m-=c,L!==s){if(L===a)break;for(var I=L<u?L:N,j=0,q=I;q>s;)q=E[q]>>8,++j;var ee=q;if(_+j+(I!==L?1:0)>r)return void $n.log("Warning, gif stream longer than expected.");t[_++]=ee;var ie=_+=j;for(I!==L&&(t[_++]=ee),q=I;j--;)q=E[q],t[--ie]=255&q,q>>=8;N!==null&&u<4096&&(E[u++]=N<<8|ee,u>=h+1&&c<12&&(++c,h=h<<1|1)),N=L}else u=a+1,h=(1<<(c=i+1))-1,N=null}return _!==r&&$n.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function e1(n){var e,t,r,i,s,a=Math.floor,u=new Array(64),c=new Array(64),h=new Array(64),m=new Array(64),y=new Array(65535),_=new Array(65535),w=new Array(64),E=new Array(64),N=[],L=0,I=7,j=new Array(64),q=new Array(64),ee=new Array(64),ie=new Array(256),de=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ne(O,X){for(var Z=0,oe=0,ce=new Array,_e=1;_e<=16;_e++){for(var Ae=1;Ae<=O[_e];Ae++)ce[X[oe]]=[],ce[X[oe]][0]=Z,ce[X[oe]][1]=_e,oe++,Z++;Z*=2}return ce}function Te(O){for(var X=O[0],Z=O[1]-1;Z>=0;)X&1<<Z&&(L|=1<<I),Z--,--I<0&&(L==255?(ne(255),ne(0)):ne(L),I=7,L=0)}function ne(O){N.push(O)}function ve(O){ne(O>>8&255),ne(255&O)}function ye(O,X,Z,oe,ce){for(var _e,Ae=ce[0],Ee=ce[240],Ke=function(Ze,it){var ht,ct,Ce,We,ot,He,at,vt,bt,Ft,dt=0;for(bt=0;bt<8;++bt){ht=Ze[dt],ct=Ze[dt+1],Ce=Ze[dt+2],We=Ze[dt+3],ot=Ze[dt+4],He=Ze[dt+5],at=Ze[dt+6];var Wn=ht+(vt=Ze[dt+7]),nn=ht-vt,jr=ct+at,dn=ct-at,_n=Ce+He,Xr=Ce-He,rn=We+ot,ze=We-ot,Qe=Wn+rn,pt=Wn-rn,zt=jr+_n,Xe=jr-_n;Ze[dt]=Qe+zt,Ze[dt+4]=Qe-zt;var nt=.707106781*(Xe+pt);Ze[dt+2]=pt+nt,Ze[dt+6]=pt-nt;var Dt=.382683433*((Qe=ze+Xr)-(Xe=dn+nn)),Rn=.5411961*Qe+Dt,un=1.306562965*Xe+Dt,Gn=.707106781*(zt=Xr+dn),yr=nn+Gn,wt=nn-Gn;Ze[dt+5]=wt+Rn,Ze[dt+3]=wt-Rn,Ze[dt+1]=yr+un,Ze[dt+7]=yr-un,dt+=8}for(dt=0,bt=0;bt<8;++bt){ht=Ze[dt],ct=Ze[dt+8],Ce=Ze[dt+16],We=Ze[dt+24],ot=Ze[dt+32],He=Ze[dt+40],at=Ze[dt+48];var Kn=ht+(vt=Ze[dt+56]),In=ht-vt,ir=ct+at,Fn=ct-at,Vn=Ce+He,Xn=Ce-He,so=We+ot,js=We-ot,Jr=Kn+so,Pi=Kn-so,hr=ir+Vn,Zr=ir-Vn;Ze[dt]=Jr+hr,Ze[dt+32]=Jr-hr;var sr=.707106781*(Zr+Pi);Ze[dt+16]=Pi+sr,Ze[dt+48]=Pi-sr;var Xi=.382683433*((Jr=js+Xn)-(Zr=Fn+In)),Fs=.5411961*Jr+Xi,Vs=1.306562965*Zr+Xi,Bs=.707106781*(hr=Xn+Fn),oo=In+Bs,Do=In-Bs;Ze[dt+40]=Do+Fs,Ze[dt+24]=Do-Fs,Ze[dt+8]=oo+Vs,Ze[dt+56]=oo-Vs,dt++}for(bt=0;bt<64;++bt)Ft=Ze[bt]*it[bt],w[bt]=Ft>0?Ft+.5|0:Ft-.5|0;return w}(O,X),Ye=0;Ye<64;++Ye)E[z[Ye]]=Ke[Ye];var ft=E[0]-Z;Z=E[0],ft==0?Te(oe[0]):(Te(oe[_[_e=32767+ft]]),Te(y[_e]));for(var lt=63;lt>0&&E[lt]==0;)lt--;if(lt==0)return Te(Ae),Z;for(var Nt,je=1;je<=lt;){for(var le=je;E[je]==0&&je<=lt;)++je;var jt=je-le;if(jt>=16){Nt=jt>>4;for(var xt=1;xt<=Nt;++xt)Te(Ee);jt&=15}_e=32767+E[je],Te(ce[(jt<<4)+_[_e]]),Te(y[_e]),je++}return lt!=63&&Te(Ae),Z}function ue(O){O=Math.min(Math.max(O,1),100),s!=O&&(function(X){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ce=a((Z[oe]*X+50)/100);ce=Math.min(Math.max(ce,1),255),u[z[oe]]=ce}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Ee=a((_e[Ae]*X+50)/100);Ee=Math.min(Math.max(Ee,1),255),c[z[Ae]]=Ee}for(var Ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,ft=0;ft<8;ft++)for(var lt=0;lt<8;lt++)h[Ye]=1/(u[z[Ye]]*Ke[ft]*Ke[lt]*8),m[Ye]=1/(c[z[Ye]]*Ke[ft]*Ke[lt]*8),Ye++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,X){X&&ue(X),N=new Array,L=0,I=7,ve(65496),ve(65504),ve(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),ve(1),ve(1),ne(0),ne(0),function(){ve(65499),ve(132),ne(0);for(var ct=0;ct<64;ct++)ne(u[ct]);ne(1);for(var Ce=0;Ce<64;Ce++)ne(c[Ce])}(),function(ct,Ce){ve(65472),ve(17),ne(8),ve(Ce),ve(ct),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(O.width,O.height),function(){ve(65476),ve(418),ne(0);for(var ct=0;ct<16;ct++)ne(k[ct+1]);for(var Ce=0;Ce<=11;Ce++)ne(U[Ce]);ne(16);for(var We=0;We<16;We++)ne(G[We+1]);for(var ot=0;ot<=161;ot++)ne(D[ot]);ne(1);for(var He=0;He<16;He++)ne(M[He+1]);for(var at=0;at<=11;at++)ne(F[at]);ne(17);for(var vt=0;vt<16;vt++)ne(se[vt+1]);for(var bt=0;bt<=161;bt++)ne(Le[bt])}(),ve(65498),ve(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var Z=0,oe=0,ce=0;L=0,I=7,this.encode.displayName="_encode_";for(var _e,Ae,Ee,Ke,Ye,ft,lt,Nt,je,le=O.data,jt=O.width,xt=O.height,Ze=4*jt,it=0;it<xt;){for(_e=0;_e<Ze;){for(Ye=Ze*it+_e,lt=-1,Nt=0,je=0;je<64;je++)ft=Ye+(Nt=je>>3)*Ze+(lt=4*(7&je)),it+Nt>=xt&&(ft-=Ze*(it+1+Nt-xt)),_e+lt>=Ze&&(ft-=_e+lt-Ze+4),Ae=le[ft++],Ee=le[ft++],Ke=le[ft++],j[je]=(de[Ae]+de[Ee+256>>0]+de[Ke+512>>0]>>16)-128,q[je]=(de[Ae+768>>0]+de[Ee+1024>>0]+de[Ke+1280>>0]>>16)-128,ee[je]=(de[Ae+1280>>0]+de[Ee+1536>>0]+de[Ke+1792>>0]>>16)-128;Z=ye(j,h,Z,e,r),oe=ye(q,m,oe,t,i),ce=ye(ee,m,ce,t,i),_e+=32}it+=8}if(I>=0){var ht=[];ht[1]=I+1,ht[0]=(1<<I+1)-1,Te(ht)}return ve(65497),new Uint8Array(N)},n=n||50,function(){for(var O=String.fromCharCode,X=0;X<256;X++)ie[X]=O(X)}(),e=Ne(k,U),t=Ne(M,F),r=Ne(G,D),i=Ne(se,Le),function(){for(var O=1,X=2,Z=1;Z<=15;Z++){for(var oe=O;oe<X;oe++)_[32767+oe]=Z,y[32767+oe]=[],y[32767+oe][1]=Z,y[32767+oe][0]=oe;for(var ce=-(X-1);ce<=-O;ce++)_[32767+ce]=Z,y[32767+ce]=[],y[32767+ce][1]=Z,y[32767+ce][0]=X-1+ce;O<<=1,X<<=1}}(),function(){for(var O=0;O<256;O++)de[O]=19595*O,de[O+256>>0]=38470*O,de[O+512>>0]=7471*O+32768,de[O+768>>0]=-11059*O,de[O+1024>>0]=-21709*O,de[O+1280>>0]=32768*O+8421375,de[O+1536>>0]=-27439*O,de[O+1792>>0]=-5329*O}(),ue(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function la(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Zb(n){function e(k){if(!k)throw Error("assert :P")}function t(k,U,G){for(var D=0;4>D;D++)if(k[U+D]!=G.charCodeAt(D))return!0;return!1}function r(k,U,G,D,M){for(var F=0;F<M;F++)k[U+F]=G[D+F]}function i(k,U,G,D){for(var M=0;M<D;M++)k[U+M]=G}function s(k){return new Int32Array(k)}function a(k,U){for(var G=[],D=0;D<k;D++)G.push(new U);return G}function u(k,U){var G=[];return function D(M,F,se){for(var Le=se[F],Ne=0;Ne<Le&&(M.push(se.length>F+1?[]:new U),!(se.length<F+1));Ne++)D(M[Ne],F+1,se)}(G,0,k),G}var c=function(){var k=this;function U(d,v){for(var x=1<<v-1>>>0;d&x;)x>>>=1;return x?(d&x-1)+x:d}function G(d,v,x,P,V){e(!(P%x));do d[v+(P-=x)]=V;while(0<P)}function D(d,v,x,P,V){if(e(2328>=V),512>=V)var H=s(512);else if((H=s(V))==null)return 0;return function(W,K,Q,J,fe,Ie){var Pe,Se,qe=K,Me=1<<Q,me=s(16),ge=s(16);for(e(fe!=0),e(J!=null),e(W!=null),e(0<Q),Se=0;Se<fe;++Se){if(15<J[Se])return 0;++me[J[Se]]}if(me[0]==fe)return 0;for(ge[1]=0,Pe=1;15>Pe;++Pe){if(me[Pe]>1<<Pe)return 0;ge[Pe+1]=ge[Pe]+me[Pe]}for(Se=0;Se<fe;++Se)Pe=J[Se],0<J[Se]&&(Ie[ge[Pe]++]=Se);if(ge[15]==1)return(J=new M).g=0,J.value=Ie[0],G(W,qe,1,Me,J),Me;var Be,Ve=-1,Ue=Me-1,_t=0,gt=1,Rt=1,yt=1<<Q;for(Se=0,Pe=1,fe=2;Pe<=Q;++Pe,fe<<=1){if(gt+=Rt<<=1,0>(Rt-=me[Pe]))return 0;for(;0<me[Pe];--me[Pe])(J=new M).g=Pe,J.value=Ie[Se++],G(W,qe+_t,fe,yt,J),_t=U(_t,Pe)}for(Pe=Q+1,fe=2;15>=Pe;++Pe,fe<<=1){if(gt+=Rt<<=1,0>(Rt-=me[Pe]))return 0;for(;0<me[Pe];--me[Pe]){if(J=new M,(_t&Ue)!=Ve){for(qe+=yt,Be=1<<(Ve=Pe)-Q;15>Ve&&!(0>=(Be-=me[Ve]));)++Ve,Be<<=1;Me+=yt=1<<(Be=Ve-Q),W[K+(Ve=_t&Ue)].g=Be+Q,W[K+Ve].value=qe-K-Ve}J.g=Pe-Q,J.value=Ie[Se++],G(W,qe+(_t>>Q),fe,yt,J),_t=U(_t,Pe)}}return gt!=2*ge[15]-1?0:Me}(d,v,x,P,V,H)}function M(){this.value=this.g=0}function F(){this.value=this.g=0}function se(){this.G=a(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(lr,F)}function Le(d,v,x,P){e(d!=null),e(v!=null),e(2147483648>P),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=v,d.pa=x,d.Jd=v,d.Yc=x+P,d.Zc=4<=P?x+P-4+1:x,_e(d)}function Ne(d,v){for(var x=0;0<v--;)x|=Ee(d,128)<<v;return x}function Te(d,v){var x=Ne(d,v);return Ae(d)?-x:x}function ne(d,v,x,P){var V,H=0;for(e(d!=null),e(v!=null),e(4294967288>P),d.Sb=P,d.Ra=0,d.u=0,d.h=0,4<P&&(P=4),V=0;V<P;++V)H+=v[x+V]<<8*V;d.Ra=H,d.bb=P,d.oa=v,d.pa=x}function ve(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<eu-8>>>0,++d.bb,d.u-=8;Z(d)&&(d.h=1,d.u=0)}function ye(d,v){if(e(0<=v),!d.h&&v<=Zl){var x=X(d)&Jl[v];return d.u+=v,ve(d),x}return d.h=1,d.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(d){return d.Ra>>>(d.u&eu-1)>>>0}function Z(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>eu}function oe(d,v){d.u=v,d.h=Z(d)}function ce(d){d.u>=tu&&(e(d.u>=tu),ve(d))}function _e(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Ae(d){return Ne(d,1)}function Ee(d,v){var x=d.Ca;0>d.b&&_e(d);var P=d.b,V=x*v>>>8,H=(d.I>>>P>V)+0;for(H?(x-=V,d.I-=V+1<<P>>>0):x=V+1,P=x,V=0;256<=P;)V+=8,P>>=8;return P=7^V+gi[P],d.b-=P,d.Ca=(x<<P)-1,H}function Ke(d,v,x){d[v+0]=x>>24&255,d[v+1]=x>>16&255,d[v+2]=x>>8&255,d[v+3]=x>>0&255}function Ye(d,v){return d[v+0]<<0|d[v+1]<<8}function ft(d,v){return Ye(d,v)|d[v+2]<<16}function lt(d,v){return Ye(d,v)|Ye(d,v+2)<<16}function Nt(d,v){var x=1<<v;return e(d!=null),e(0<v),d.X=s(x),d.X==null?0:(d.Mb=32-v,d.Xa=v,1)}function je(d,v){e(d!=null),e(v!=null),e(d.Xa==v.Xa),r(v.X,0,d.X,0,1<<v.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function jt(d,v,x,P){e(x!=null),e(P!=null);var V=x[0],H=P[0];return V==0&&(V=(d*H+v/2)/v),H==0&&(H=(v*V+d/2)/d),0>=V||0>=H?0:(x[0]=V,P[0]=H,1)}function xt(d,v){return d+(1<<v)-1>>>v}function Ze(d,v){return((4278255360&d)+(4278255360&v)>>>0&4278255360)+((16711935&d)+(16711935&v)>>>0&16711935)>>>0}function it(d,v){k[v]=function(x,P,V,H,W,K,Q){var J;for(J=0;J<W;++J){var fe=k[d](K[Q+J-1],V,H+J);K[Q+J]=Ze(x[P+J],fe)}}}function ht(){this.ud=this.hd=this.jd=0}function ct(d,v){return((4278124286&(d^v))>>>1)+(d&v)>>>0}function Ce(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function We(d,v){return Ce(d+(d-v+.5>>1))}function ot(d,v,x){return Math.abs(v-x)-Math.abs(d-x)}function He(d,v,x,P,V,H,W){for(P=H[W-1],x=0;x<V;++x)H[W+x]=P=Ze(d[v+x],P)}function at(d,v,x,P,V){var H;for(H=0;H<x;++H){var W=d[v+H],K=W>>8&255,Q=16711935&(Q=(Q=16711935&W)+((K<<16)+K));P[V+H]=(4278255360&W)+Q>>>0}}function vt(d,v){v.jd=d>>0&255,v.hd=d>>8&255,v.ud=d>>16&255}function bt(d,v,x,P,V,H){var W;for(W=0;W<P;++W){var K=v[x+W],Q=K>>>8,J=K,fe=255&(fe=(fe=K>>>16)+((d.jd<<24>>24)*(Q<<24>>24)>>>5));J=255&(J=(J=J+((d.hd<<24>>24)*(Q<<24>>24)>>>5))+((d.ud<<24>>24)*(fe<<24>>24)>>>5)),V[H+W]=(4278255360&K)+(fe<<16)+J}}function Ft(d,v,x,P,V){k[v]=function(H,W,K,Q,J,fe,Ie,Pe,Se){for(Q=Ie;Q<Pe;++Q)for(Ie=0;Ie<Se;++Ie)J[fe++]=V(K[P(H[W++])])},k[d]=function(H,W,K,Q,J,fe,Ie){var Pe=8>>H.b,Se=H.Ea,qe=H.K[0],Me=H.w;if(8>Pe)for(H=(1<<H.b)-1,Me=(1<<Pe)-1;W<K;++W){var me,ge=0;for(me=0;me<Se;++me)me&H||(ge=P(Q[J++])),fe[Ie++]=V(qe[ge&Me]),ge>>=Pe}else k["VP8LMapColor"+x](Q,J,qe,Me,fe,Ie,W,K,Se)}}function dt(d,v,x,P,V){for(x=v+x;v<x;){var H=d[v++];P[V++]=H>>16&255,P[V++]=H>>8&255,P[V++]=H>>0&255}}function Wn(d,v,x,P,V){for(x=v+x;v<x;){var H=d[v++];P[V++]=H>>16&255,P[V++]=H>>8&255,P[V++]=H>>0&255,P[V++]=H>>24&255}}function nn(d,v,x,P,V){for(x=v+x;v<x;){var H=(W=d[v++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;P[V++]=H,P[V++]=W}}function jr(d,v,x,P,V){for(x=v+x;v<x;){var H=(W=d[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;P[V++]=H,P[V++]=W}}function dn(d,v,x,P,V){for(x=v+x;v<x;){var H=d[v++];P[V++]=H>>0&255,P[V++]=H>>8&255,P[V++]=H>>16&255}}function _n(d,v,x,P,V,H){if(H==0)for(x=v+x;v<x;)Ke(P,((H=d[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),V+=32;else r(P,V,d,v,x)}function Xr(d,v){k[v][0]=k[d+"0"],k[v][1]=k[d+"1"],k[v][2]=k[d+"2"],k[v][3]=k[d+"3"],k[v][4]=k[d+"4"],k[v][5]=k[d+"5"],k[v][6]=k[d+"6"],k[v][7]=k[d+"7"],k[v][8]=k[d+"8"],k[v][9]=k[d+"9"],k[v][10]=k[d+"10"],k[v][11]=k[d+"11"],k[v][12]=k[d+"12"],k[v][13]=k[d+"13"],k[v][14]=k[d+"0"],k[v][15]=k[d+"0"]}function rn(d){return d==au||d==dl||d==lc||d==uc}function ze(){this.eb=[],this.size=this.A=this.fb=0}function Qe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ze,this.f.kb=new Qe,this.sd=null}function zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Dt(d,v){var x=d.T,P=v.ba.f.RGBA,V=P.eb,H=P.fb+d.ka*P.A,W=Di[v.ba.S],K=d.y,Q=d.O,J=d.f,fe=d.N,Ie=d.ea,Pe=d.W,Se=v.cc,qe=v.dc,Me=v.Mc,me=v.Nc,ge=d.ka,Be=d.ka+d.T,Ve=d.U,Ue=Ve+1>>1;for(ge==0?W(K,Q,null,null,J,fe,Ie,Pe,J,fe,Ie,Pe,V,H,null,null,Ve):(W(v.ec,v.fc,K,Q,Se,qe,Me,me,J,fe,Ie,Pe,V,H-P.A,V,H,Ve),++x);ge+2<Be;ge+=2)Se=J,qe=fe,Me=Ie,me=Pe,fe+=d.Rc,Pe+=d.Rc,H+=2*P.A,W(K,(Q+=2*d.fa)-d.fa,K,Q,Se,qe,Me,me,J,fe,Ie,Pe,V,H-P.A,V,H,Ve);return Q+=d.fa,d.j+Be<d.o?(r(v.ec,v.fc,K,Q,Ve),r(v.cc,v.dc,J,fe,Ue),r(v.Mc,v.Nc,Ie,Pe,Ue),x--):1&Be||W(K,Q,null,null,J,fe,Ie,Pe,J,fe,Ie,Pe,V,H+P.A,null,null,Ve),x}function Rn(d,v,x){var P=d.F,V=[d.J];if(P!=null){var H=d.U,W=v.ba.S,K=W==ac||W==lc;v=v.ba.f.RGBA;var Q=[0],J=d.ka;Q[0]=d.T,d.Kb&&(J==0?--Q[0]:(--J,V[0]-=d.width),d.j+d.ka+d.T==d.o&&(Q[0]=d.o-d.j-J));var fe=v.eb;J=v.fb+J*v.A,d=Nn(P,V[0],d.width,H,Q,fe,J+(K?0:3),v.A),e(x==Q),d&&rn(W)&&Li(fe,J,K,H,Q,v.A)}return 0}function un(d){var v=d.ma,x=v.ba.S,P=11>x,V=x==Ca||x==oc||x==ac||x==Un||x==12||rn(x);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Ql(v.Oa,d,V?11:12))return 0;if(V&&rn(x)&&Je(),d.da)alert("todo:use_scaling");else{if(P){if(v.Ib=nt,d.Kb){if(x=d.U+1>>1,v.memory=s(d.U+2*x),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+d.U,v.Mc=v.cc,v.Nc=v.dc+x,v.Ib=Dt,Je()}}else alert("todo:EmitYUV");V&&(v.Jb=Rn,P&&xe())}if(P&&!$r){for(d=0;256>d;++d)Oi[d]=89858*(d-128)+Qs>>Qo,Mi[d]=-22014*(d-128)+Qs,hu[d]=-45773*(d-128),yl[d]=113618*(d-128)+Qs>>Qo;for(d=kn;d<On;++d)v=76283*(d-16)+Qs>>Qo,Zc[d-kn]=Sn(v,255),Qd[d-kn]=Sn(v+8>>4,15);$r=1}return 1}function Gn(d){var v=d.ma,x=d.U,P=d.T;return e(!(1&d.ka)),0>=x||0>=P?0:(x=v.Ib(d,v),v.Jb!=null&&v.Jb(d,v,x),v.Dc+=x,1)}function yr(d){d.ma.memory=null}function wt(d,v,x,P){return ye(d,8)!=47?0:(v[0]=ye(d,14)+1,x[0]=ye(d,14)+1,P[0]=ye(d,1),ye(d,3)!=0?0:!d.h)}function Kn(d,v){if(4>d)return d+1;var x=d-2>>1;return(2+(1&d)<<x)+ye(v,x)+1}function In(d,v){return 120<v?v-120:1<=(x=((x=Eg[v-1])>>4)*d+(8-(15&x)))?x:1;var x}function ir(d,v,x){var P=X(x),V=d[v+=255&P].g-8;return 0<V&&(oe(x,x.u+8),P=X(x),v+=d[v].value,v+=P&(1<<V)-1),oe(x,x.u+d[v].g),d[v].value}function Fn(d,v,x){return x.g+=d.g,x.value+=d.value<<v>>>0,e(8>=x.g),d.g}function Vn(d,v,x){var P=d.xc;return e((v=P==0?0:d.vc[d.md*(x>>P)+(v>>P)])<d.Wb),d.Ya[v]}function Xn(d,v,x,P){var V=d.ab,H=d.c*v,W=d.C;v=W+v;var K=x,Q=P;for(P=d.Ta,x=d.Ua;0<V--;){var J=d.gc[V],fe=W,Ie=v,Pe=K,Se=Q,qe=(Q=P,K=x,J.Ea);switch(e(fe<Ie),e(Ie<=J.nc),J.hc){case 2:Kc(Pe,Se,(Ie-fe)*qe,Q,K);break;case 0:var Me=fe,me=Ie,ge=Q,Be=K,Ve=(yt=J).Ea;Me==0&&(al(Pe,Se,null,null,1,ge,Be),He(Pe,Se+1,0,0,Ve-1,ge,Be+1),Se+=Ve,Be+=Ve,++Me);for(var Ue=1<<yt.b,_t=Ue-1,gt=xt(Ve,yt.b),Rt=yt.K,yt=yt.w+(Me>>yt.b)*gt;Me<me;){var mn=Rt,gn=yt,cn=1;for(zo(Pe,Se,ge,Be-Ve,1,ge,Be);cn<Ve;){var tn=(cn&~_t)+Ue;tn>Ve&&(tn=Ve),(0,wo[mn[gn++]>>8&15])(Pe,Se+ +cn,ge,Be+cn-Ve,tn-cn,ge,Be+cn),cn=tn}Se+=Ve,Be+=Ve,++Me&_t||(yt+=gt)}Ie!=J.nc&&r(Q,K-qe,Q,K+(Ie-fe-1)*qe,qe);break;case 1:for(qe=Pe,me=Se,Ve=(Pe=J.Ea)-(Be=Pe&~(ge=(Se=1<<J.b)-1)),Me=xt(Pe,J.b),Ue=J.K,J=J.w+(fe>>J.b)*Me;fe<Ie;){for(_t=Ue,gt=J,Rt=new ht,yt=me+Be,mn=me+Pe;me<yt;)vt(_t[gt++],Rt),Ea(Rt,qe,me,Se,Q,K),me+=Se,K+=Se;me<mn&&(vt(_t[gt++],Rt),Ea(Rt,qe,me,Ve,Q,K),me+=Ve,K+=Ve),++fe&ge||(J+=Me)}break;case 3:if(Pe==Q&&Se==K&&0<J.b){for(me=Q,Pe=qe=K+(Ie-fe)*qe-(Be=(Ie-fe)*xt(J.Ea,J.b)),Se=Q,ge=K,Me=[],Be=(Ve=Be)-1;0<=Be;--Be)Me[Be]=Se[ge+Be];for(Be=Ve-1;0<=Be;--Be)me[Pe+Be]=Me[Be];yi(J,fe,Ie,Q,qe,Q,K)}else yi(J,fe,Ie,Pe,Se,Q,K)}K=P,Q=x}Q!=x&&r(P,x,K,Q,H)}function so(d,v){var x=d.V,P=d.Ba+d.c*d.C,V=v-d.C;if(e(v<=d.l.o),e(16>=V),0<V){var H=d.l,W=d.Ta,K=d.Ua,Q=H.width;if(Xn(d,V,x,P),V=K=[K],e((x=d.C)<(P=v)),e(H.v<H.va),P>H.o&&(P=H.o),x<H.j){var J=H.j-x;x=H.j,V[0]+=J*Q}if(x>=P?x=0:(V[0]+=4*H.v,H.ka=x-H.j,H.U=H.va-H.v,H.T=P-x,x=1),x){if(K=K[0],11>(x=d.ca).S){var fe=x.f.RGBA,Ie=(P=x.S,V=H.U,H=H.T,J=fe.eb,fe.A),Pe=H;for(fe=fe.fb+d.Ma*fe.A;0<Pe--;){var Se=W,qe=K,Me=V,me=J,ge=fe;switch(P){case Yc:vi(Se,qe,Me,me,ge);break;case Ca:ri(Se,qe,Me,me,ge);break;case au:ri(Se,qe,Me,me,ge),Li(me,ge,0,Me,1,0);break;case $d:Ho(Se,qe,Me,me,ge);break;case oc:_n(Se,qe,Me,me,ge,1);break;case dl:_n(Se,qe,Me,me,ge,1),Li(me,ge,0,Me,1,0);break;case ac:_n(Se,qe,Me,me,ge,0);break;case lc:_n(Se,qe,Me,me,ge,0),Li(me,ge,1,Me,1,0);break;case Un:Ia(Se,qe,Me,me,ge);break;case uc:Ia(Se,qe,Me,me,ge),Bn(me,ge,Me,1,0);break;case Qc:qo(Se,qe,Me,me,ge);break;default:e(0)}K+=Q,fe+=Ie}d.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=x.height)}}d.C=v,e(d.C<=d.i)}function js(d){var v;if(0<d.ua)return 0;for(v=0;v<d.Wb;++v){var x=d.Ya[v].G,P=d.Ya[v].H;if(0<x[1][P[1]+0].g||0<x[2][P[2]+0].g||0<x[3][P[3]+0].g)return 0}return 1}function Jr(d,v,x,P,V,H){if(d.Z!=0){var W=d.qd,K=d.rd;for(e(si[d.Z]!=null);v<x;++v)si[d.Z](W,K,P,V,P,V,H),W=P,K=V,V+=H;d.qd=W,d.rd=K}}function Pi(d,v){var x=d.l.ma,P=x.Z==0||x.Z==1?d.l.j:d.C;if(P=d.C<P?P:d.C,e(v<=d.l.o),v>P){var V=d.l.width,H=x.ca,W=x.tb+V*P,K=d.V,Q=d.Ba+d.c*P,J=d.gc;e(d.ab==1),e(J[0].hc==3),rc(J[0],P,v,K,Q,H,W),Jr(x,P,v,H,W,V)}d.C=d.Ma=v}function hr(d,v,x,P,V,H,W){var K=d.$/P,Q=d.$%P,J=d.m,fe=d.s,Ie=x+d.$,Pe=Ie;V=x+P*V;var Se=x+P*H,qe=280+fe.ua,Me=d.Pb?K:16777216,me=0<fe.ua?fe.Wa:null,ge=fe.wc,Be=Ie<Se?Vn(fe,Q,K):null;e(d.C<H),e(Se<=V);var Ve=!1;e:for(;;){for(;Ve||Ie<Se;){var Ue=0;if(K>=Me){var _t=Ie-x;e((Me=d).Pb),Me.wd=Me.m,Me.xd=_t,0<Me.s.ua&&je(Me.s.Wa,Me.s.vb),Me=K+Jc}if(Q&ge||(Be=Vn(fe,Q,K)),e(Be!=null),Be.Qb&&(v[Ie]=Be.qb,Ve=!0),!Ve)if(ce(J),Be.jc){Ue=J,_t=v;var gt=Ie,Rt=Be.pd[X(Ue)&lr-1];e(Be.jc),256>Rt.g?(oe(Ue,Ue.u+Rt.g),_t[gt]=Rt.value,Ue=0):(oe(Ue,Ue.u+Rt.g-256),e(256<=Rt.value),Ue=Rt.value),Ue==0&&(Ve=!0)}else Ue=ir(Be.G[0],Be.H[0],J);if(J.h)break;if(Ve||256>Ue){if(!Ve)if(Be.nd)v[Ie]=(Be.qb|Ue<<8)>>>0;else{if(ce(J),Ve=ir(Be.G[1],Be.H[1],J),ce(J),_t=ir(Be.G[2],Be.H[2],J),gt=ir(Be.G[3],Be.H[3],J),J.h)break;v[Ie]=(gt<<24|Ve<<16|Ue<<8|_t)>>>0}if(Ve=!1,++Ie,++Q>=P&&(Q=0,++K,W!=null&&K<=H&&!(K%16)&&W(d,K),me!=null))for(;Pe<Ie;)Ue=v[Pe++],me.X[(506832829*Ue&4294967295)>>>me.Mb]=Ue}else if(280>Ue){if(Ue=Kn(Ue-256,J),_t=ir(Be.G[4],Be.H[4],J),ce(J),_t=In(P,_t=Kn(_t,J)),J.h)break;if(Ie-x<_t||V-Ie<Ue)break e;for(gt=0;gt<Ue;++gt)v[Ie+gt]=v[Ie+gt-_t];for(Ie+=Ue,Q+=Ue;Q>=P;)Q-=P,++K,W!=null&&K<=H&&!(K%16)&&W(d,K);if(e(Ie<=V),Q&ge&&(Be=Vn(fe,Q,K)),me!=null)for(;Pe<Ie;)Ue=v[Pe++],me.X[(506832829*Ue&4294967295)>>>me.Mb]=Ue}else{if(!(Ue<qe))break e;for(Ve=Ue-280,e(me!=null);Pe<Ie;)Ue=v[Pe++],me.X[(506832829*Ue&4294967295)>>>me.Mb]=Ue;Ue=Ie,e(!(Ve>>>(_t=me).Xa)),v[Ue]=_t.X[Ve],Ve=!0}Ve||e(J.h==Z(J))}if(d.Pb&&J.h&&Ie<V)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&je(d.s.vb,d.s.Wa);else{if(J.h)break e;W!=null&&W(d,K>H?H:K),d.a=0,d.$=Ie-x}return 1}return d.a=3,0}function Zr(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var v=d.Wa;v!=null&&(v.X=null),d.vb=null,e(d!=null)}function sr(){var d=new Yl;return d==null?null:(d.a=0,d.xb=uu,Xr("Predictor","VP8LPredictors"),Xr("Predictor","VP8LPredictors_C"),Xr("PredictorAdd","VP8LPredictorsAdd"),Xr("PredictorAdd","VP8LPredictorsAdd_C"),Kc=at,Ea=bt,vi=dt,ri=Wn,Ia=nn,qo=jr,Ho=dn,k.VP8LMapColor32b=nu,k.VP8LMapColor8b=ru,d)}function Xi(d,v,x,P,V){var H=1,W=[d],K=[v],Q=P.m,J=P.s,fe=null,Ie=0;e:for(;;){if(x)for(;H&&ye(Q,1);){var Pe=W,Se=K,qe=P,Me=1,me=qe.m,ge=qe.gc[qe.ab],Be=ye(me,2);if(qe.Oc&1<<Be)H=0;else{switch(qe.Oc|=1<<Be,ge.hc=Be,ge.Ea=Pe[0],ge.nc=Se[0],ge.K=[null],++qe.ab,e(4>=qe.ab),Be){case 0:case 1:ge.b=ye(me,3)+2,Me=Xi(xt(ge.Ea,ge.b),xt(ge.nc,ge.b),0,qe,ge.K),ge.K=ge.K[0];break;case 3:var Ve,Ue=ye(me,8)+1,_t=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Pe[0]=xt(ge.Ea,_t),ge.b=_t,Ve=Me=Xi(Ue,1,0,qe,ge.K)){var gt,Rt=Ue,yt=ge,mn=1<<(8>>yt.b),gn=s(mn);if(gn==null)Ve=0;else{var cn=yt.K[0],tn=yt.w;for(gn[0]=yt.K[0][0],gt=1;gt<1*Rt;++gt)gn[gt]=Ze(cn[tn+gt],gn[gt-1]);for(;gt<4*mn;++gt)gn[gt]=0;yt.K[0]=null,yt.K[0]=gn,Ve=1}}Me=Ve;break;case 2:break;default:e(0)}H=Me}}if(W=W[0],K=K[0],H&&ye(Q,1)&&!(H=1<=(Ie=ye(Q,4))&&11>=Ie)){P.a=3;break e}var Ln;if(Ln=H)t:{var Mn,Wt,Zn,bi=P,fr=W,Ar=K,xn=Ie,oi=x,ai=bi.m,er=bi.s,Er=[null],Wr=1,ji=0,As=Gd[xn];n:for(;;){if(oi&&ye(ai,1)){var tr=ye(ai,3)+2,_r=xt(fr,tr),ss=xt(Ar,tr),La=_r*ss;if(!Xi(_r,ss,0,bi,Er))break n;for(Er=Er[0],er.xc=tr,Mn=0;Mn<La;++Mn){var Jo=Er[Mn]>>8&65535;Er[Mn]=Jo,Jo>=Wr&&(Wr=Jo+1)}}if(ai.h)break n;for(Wt=0;5>Wt;++Wt){var Tn=pl[Wt];!Wt&&0<xn&&(Tn+=1<<xn),ji<Tn&&(ji=Tn)}var To=a(Wr*As,M),eh=Wr,gf=a(eh,se);if(gf==null)var Es=null;else e(65536>=eh),Es=gf;var Is=s(ji);if(Es==null||Is==null||To==null){bi.a=1;break n}var wl=To;for(Mn=Zn=0;Mn<Wr;++Mn){var Ps=Es[Mn],Zo=Ps.G,_l=Ps.H,fu=0,os=1,du=0;for(Wt=0;5>Wt;++Wt){Tn=pl[Wt],Zo[Wt]=wl,_l[Wt]=Zn,!Wt&&0<xn&&(Tn+=1<<xn);i:{var Ra,ea=Tn,pu=bi,Ao=Is,Jd=wl,yf=Zn,Hn=0,Xs=pu.m,vf=ye(Xs,1);if(i(Ao,0,0,ea),vf){var wf=ye(Xs,1)+1,th=ye(Xs,1),nh=ye(Xs,th==0?1:8);Ao[nh]=1,wf==2&&(Ao[nh=ye(Xs,8)]=1);var Eo=1}else{var Yn=s(19),br=ye(Xs,4)+4;if(19<br){pu.a=3;var dr=0;break i}for(Ra=0;Ra<br;++Ra)Yn[Ag[Ra]]=ye(Xs,3);var mu=void 0,ta=void 0,gu=pu,kg=Yn,Ir=ea,rh=Ao,pc=0,Io=gu.m,Js=8,as=a(128,M);r:for(;D(as,0,7,kg,19);){if(ye(Io,1)){var mc=2+2*ye(Io,3);if((mu=2+ye(Io,mc))>Ir)break r}else mu=Ir;for(ta=0;ta<Ir&&mu--;){ce(Io);var ih=as[0+(127&X(Io))];oe(Io,Io.u+ih.g);var Da=ih.value;if(16>Da)rh[ta++]=Da,Da!=0&&(Js=Da);else{var Zd=Da==16,_f=Da-16,ep=Xc[_f],bf=ye(Io,cc[_f])+ep;if(ta+bf>Ir)break r;for(var tp=Zd?Js:0;0<bf--;)rh[ta++]=tp}}pc=1;break r}pc||(gu.a=3),Eo=pc}(Eo=Eo&&!Xs.h)&&(Hn=D(Jd,yf,8,Ao,ea)),Eo&&Hn!=0?dr=Hn:(pu.a=3,dr=0)}if(dr==0)break n;if(os&&Wd[Wt]==1&&(os=wl[Zn].g==0),fu+=wl[Zn].g,Zn+=dr,3>=Wt){var yu,sh=Is[0];for(yu=1;yu<Tn;++yu)Is[yu]>sh&&(sh=Is[yu]);du+=sh}}if(Ps.nd=os,Ps.Qb=0,os&&(Ps.qb=(Zo[3][_l[3]+0].value<<24|Zo[1][_l[1]+0].value<<16|Zo[2][_l[2]+0].value)>>>0,fu==0&&256>Zo[0][_l[0]+0].value&&(Ps.Qb=1,Ps.qb+=Zo[0][_l[0]+0].value<<8)),Ps.jc=!Ps.Qb&&6>du,Ps.jc){var gc,ls=Ps;for(gc=0;gc<lr;++gc){var na=gc,Zs=ls.pd[na],bl=ls.G[0][ls.H[0]+na];256<=bl.value?(Zs.g=bl.g+256,Zs.value=bl.value):(Zs.g=0,Zs.value=0,na>>=Fn(bl,8,Zs),na>>=Fn(ls.G[1][ls.H[1]+na],16,Zs),na>>=Fn(ls.G[2][ls.H[2]+na],0,Zs),Fn(ls.G[3][ls.H[3]+na],24,Zs))}}}er.vc=Er,er.Wb=Wr,er.Ya=Es,er.yc=To,Ln=1;break t}Ln=0}if(!(H=Ln)){P.a=3;break e}if(0<Ie){if(J.ua=1<<Ie,!Nt(J.Wa,Ie)){P.a=1,H=0;break e}}else J.ua=0;var oh=P,ah=W,np=K,lh=oh.s,uh=lh.xc;if(oh.c=ah,oh.i=np,lh.md=xt(ah,uh),lh.wc=uh==0?-1:(1<<uh)-1,x){P.xb=xo;break e}if((fe=s(W*K))==null){P.a=1,H=0;break e}H=(H=hr(P,fe,0,W,K,K,null))&&!Q.h;break e}return H?(V!=null?V[0]=fe:(e(fe==null),e(x)),P.$=0,x||Zr(J)):Zr(J),H}function Fs(d,v){var x=d.c*d.i,P=x+v+16*v;return e(d.c<=v),d.V=s(P),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+x+v,1)}function Vs(d,v){var x=d.C,P=v-x,V=d.V,H=d.Ba+d.c*x;for(e(v<=d.l.o);0<P;){var W=16<P?16:P,K=d.l.ma,Q=d.l.width,J=Q*W,fe=K.ca,Ie=K.tb+Q*x,Pe=d.Ta,Se=d.Ua;Xn(d,W,V,H),ur(Pe,Se,fe,Ie,J),Jr(K,x,x+W,fe,Ie,Q),P-=W,V+=W*d.c,x+=W}e(x==v),d.C=d.Ma=v}function Bs(){this.ub=this.yd=this.td=this.Rb=0}function oo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Do(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ql(){this.Yb=function(){var d=[];return function v(x,P,V){for(var H=V[P],W=0;W<H&&(x.push(V.length>P+1?[]:0),!(V.length<P+1));W++)v(x[W],P+1,V)}(d,0,[3,11]),d}()}function Dn(){this.jb=s(3),this.Wc=u([4,8],ql),this.Xc=u([4,17],ql)}function Hl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ms(){this.ld=this.La=this.dd=this.tc=0}function Us(){this.Na=this.la=0}function Ci(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $l(){this.uc=this.M=this.Nb=0,this.wa=Array(new ms),this.Y=0,this.ya=Array(new Oo),this.aa=0,this.l=new Mo}function ao(){this.y=s(16),this.f=s(8),this.ea=s(8)}function fi(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new Bs,this.Kc=new oo,this.ed=new Hl,this.Qa=new Do,this.Ic=this.$c=this.Aa=0,this.D=new $l,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ue),this.ia=0,this.pb=a(4,Ci),this.Pa=new Dn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ao),this.Hd=0,this.rb=Array(new Us),this.sb=0,this.wa=Array(new ms),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oo),this.L=this.aa=0,this.gd=u([4,2],ms),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fr(){var d=new fi;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,ml||(ml=jo)),d}function qn(d,v,x){return d.a==0&&(d.a=v,d.sc=x,d.cb=0),0}function el(d,v,x){return 3<=x&&d[v+0]==157&&d[v+1]==1&&d[v+2]==42}function tl(d,v){if(d==null)return 0;if(d.a=0,d.sc="OK",v==null)return qn(d,2,"null VP8Io passed to VP8GetHeaders()");var x=v.data,P=v.w,V=v.ha;if(4>V)return qn(d,7,"Truncated header.");var H=x[P+0]|x[P+1]<<8|x[P+2]<<16,W=d.Od;if(W.Rb=!(1&H),W.td=H>>1&7,W.yd=H>>4&1,W.ub=H>>5,3<W.td)return qn(d,3,"Incorrect keyframe parameters.");if(!W.yd)return qn(d,4,"Frame not displayable.");P+=3,V-=3;var K=d.Kc;if(W.Rb){if(7>V)return qn(d,7,"cannot parse picture header");if(!el(x,P,V))return qn(d,3,"Bad code word");K.c=16383&(x[P+4]<<8|x[P+3]),K.Td=x[P+4]>>6,K.i=16383&(x[P+6]<<8|x[P+5]),K.Ud=x[P+6]>>6,P+=7,V-=7,d.za=K.c+15>>4,d.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((H=d.Pa).jb,0,255,H.jb.length),e((H=d.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(W.ub>V)return qn(d,7,"bad partition length");Le(H=d.m,x,P,W.ub),P+=W.ub,V-=W.ub,W.Rb&&(K.Ld=Ae(H),K.Kd=Ae(H)),K=d.Qa;var Q,J=d.Pa;if(e(H!=null),e(K!=null),K.Cb=Ae(H),K.Cb){if(K.Bb=Ae(H),Ae(H)){for(K.Fb=Ae(H),Q=0;4>Q;++Q)K.Zb[Q]=Ae(H)?Te(H,7):0;for(Q=0;4>Q;++Q)K.Lb[Q]=Ae(H)?Te(H,6):0}if(K.Bb)for(Q=0;3>Q;++Q)J.jb[Q]=Ae(H)?Ne(H,8):255}else K.Bb=0;if(H.Ka)return qn(d,3,"cannot parse segment header");if((K=d.ed).zd=Ae(H),K.Tb=Ne(H,6),K.wb=Ne(H,3),K.Pc=Ae(H),K.Pc&&Ae(H)){for(J=0;4>J;++J)Ae(H)&&(K.vd[J]=Te(H,6));for(J=0;4>J;++J)Ae(H)&&(K.od[J]=Te(H,6))}if(d.L=K.Tb==0?0:K.zd?1:2,H.Ka)return qn(d,3,"cannot parse filter header");var fe=V;if(V=Q=P,P=Q+fe,K=fe,d.Xb=(1<<Ne(d.m,2))-1,fe<3*(J=d.Xb))x=7;else{for(Q+=3*J,K-=3*J,fe=0;fe<J;++fe){var Ie=x[V+0]|x[V+1]<<8|x[V+2]<<16;Ie>K&&(Ie=K),Le(d.Jc[+fe],x,Q,Ie),Q+=Ie,K-=Ie,V+=3}Le(d.Jc[+J],x,Q,K),x=Q<P?0:5}if(x!=0)return qn(d,x,"cannot parse partitions");for(x=Ne(Q=d.m,7),V=Ae(Q)?Te(Q,4):0,P=Ae(Q)?Te(Q,4):0,K=Ae(Q)?Te(Q,4):0,J=Ae(Q)?Te(Q,4):0,Q=Ae(Q)?Te(Q,4):0,fe=d.Qa,Ie=0;4>Ie;++Ie){if(fe.Cb){var Pe=fe.Zb[Ie];fe.Fb||(Pe+=x)}else{if(0<Ie){d.pb[Ie]=d.pb[0];continue}Pe=x}var Se=d.pb[Ie];Se.Sc[0]=lu[Sn(Pe+V,127)],Se.Sc[1]=hc[Sn(Pe+0,127)],Se.Eb[0]=2*lu[Sn(Pe+P,127)],Se.Eb[1]=101581*hc[Sn(Pe+K,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=lu[Sn(Pe+J,117)],Se.Qc[1]=hc[Sn(Pe+Q,127)],Se.lc=Pe+Q}if(!W.Rb)return qn(d,4,"Not a key frame.");for(Ae(H),W=d.Pa,x=0;4>x;++x){for(V=0;8>V;++V)for(P=0;3>P;++P)for(K=0;11>K;++K)J=Ee(H,Pg[x][V][P][K])?Ne(H,8):Yd[x][V][P][K],W.Wc[x][V].Yb[P][K]=J;for(V=0;17>V;++V)W.Xc[x][V]=W.Wc[x][df[V]]}return d.kc=Ae(H),d.kc&&(d.Bd=Ne(H,8)),d.cb=1}function jo(d,v,x,P,V,H,W){var K=v[V].Yb[x];for(x=0;16>V;++V){if(!Ee(d,K[x+0]))return V;for(;!Ee(d,K[x+1]);)if(K=v[++V].Yb[0],x=0,V==16)return 16;var Q=v[V+1].Yb;if(Ee(d,K[x+2])){var J=d,fe=0;if(Ee(J,(Pe=K)[(Ie=x)+3]))if(Ee(J,Pe[Ie+6])){for(K=0,Ie=2*(fe=Ee(J,Pe[Ie+8]))+(Pe=Ee(J,Pe[Ie+9+fe])),fe=0,Pe=hf[Ie];Pe[K];++K)fe+=fe+Ee(J,Pe[K]);fe+=3+(8<<Ie)}else Ee(J,Pe[Ie+7])?(fe=7+2*Ee(J,165),fe+=Ee(J,145)):fe=5+Ee(J,159);else fe=Ee(J,Pe[Ie+4])?3+Ee(J,Pe[Ie+5]):2;K=Q[2]}else fe=1,K=Q[1];Q=W+ff[V],0>(J=d).b&&_e(J);var Ie,Pe=J.b,Se=(Ie=J.Ca>>1)-(J.I>>Pe)>>31;--J.b,J.Ca+=Se,J.Ca|=1,J.I-=(Ie+1&Se)<<Pe,H[Q]=((fe^Se)-Se)*P[(0<V)+0]}return 16}function lo(d){var v=d.rb[d.sb-1];v.la=0,v.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function uo(d,v){if(d==null)return 0;if(v==null)return qn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!tl(d,v))return 0;if(e(d.cb),v.ac==null||v.ac(v)){v.ob&&(d.L=0);var x=vl[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=v.v-x>>4,d.zb=v.j-x>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=v.o+15+x>>4,d.Hb=v.va+15+x>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var P=d.ed;for(x=0;4>x;++x){var V;if(d.Qa.Cb){var H=d.Qa.Lb[x];d.Qa.Fb||(H+=P.Tb)}else H=P.Tb;for(V=0;1>=V;++V){var W=d.gd[x][V],K=H;if(P.Pc&&(K+=P.vd[0],V&&(K+=P.od[0])),0<(K=0>K?0:63<K?63:K)){var Q=K;0<P.wb&&(Q=4<P.wb?Q>>2:Q>>1)>9-P.wb&&(Q=9-P.wb),1>Q&&(Q=1),W.dd=Q,W.tc=2*K+Q,W.ld=40<=K?2:15<=K?1:0}else W.tc=0;W.La=V}}}x=0}else qn(d,6,"Frame setup failed"),x=d.a;if(x=x==0){if(x){d.$c=0,0<d.Aa||(d.Ic=Xo);e:{x=d.Ic,P=4*(Q=d.za);var J=32*Q,fe=Q+1,Ie=0<d.L?Q*(0<d.Aa?2:1):0,Pe=(d.Aa==2?2:1)*Q;if((W=P+832+(V=3*(16*x+vl[d.L])/2*J)+(H=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=W)x=0;else{if(W>d.Vb){if(d.Vb=0,d.Ec=s(W),d.Fc=0,d.Ec==null){x=qn(d,1,"no memory during frame initialization.");break e}d.Vb=W}W=d.Ec,K=d.Fc,d.Ac=W,d.Bc=K,K+=P,d.Gd=a(J,ao),d.Hd=0,d.rb=a(fe+1,Us),d.sb=1,d.wa=Ie?a(Ie,ms):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=Q),e(!0),d.oc=W,d.pc=K,K+=832,d.ya=a(Pe,Oo),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=Q),d.R=16*Q,d.B=8*Q,Q=(J=vl[d.L])*d.R,J=J/2*d.B,d.sa=W,d.ta=K+Q,d.qa=d.sa,d.ra=d.ta+16*x*d.R+J,d.Ha=d.qa,d.Ia=d.ra+8*x*d.B+J,d.$c=0,K+=V,d.mb=H?W:null,d.nb=H?K:null,e(K+H<=d.Fc+d.Vb),lo(d),i(d.Ac,d.Bc,0,P),x=1}}if(x){if(v.ka=0,v.y=d.sa,v.O=d.ta,v.f=d.qa,v.N=d.ra,v.ea=d.Ha,v.Vd=d.Ia,v.fa=d.R,v.Rc=d.B,v.F=null,v.J=0,!sc){for(x=-255;255>=x;++x)wr[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)bo[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)su[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)fl[255+x]=0>x?0:255<x?255:x;sc=1}iu=sn,$o=ho,Wo=zs,ii=Pn,rs=qs,vn=co,ll=Uo,ic=Jn,ul=_s,cl=sl,hl=ts,is=$s,Go=yo,_o=bs,Ko=ti,Yo=pi,Pa=ar,Hr=il,Ts[0]=ws,Ts[1]=Wl,Ts[2]=ki,Ts[3]=vs,Ts[4]=nl,Ts[5]=_a,Ts[6]=Ur,Ts[7]=ba,Ts[8]=Vo,Ts[9]=Hs,_i[0]=Ji,_i[1]=Gl,_i[2]=ys,_i[3]=Fo,_i[4]=pn,_i[5]=Zi,_i[6]=Ni,Ri[0]=ei,Ri[1]=wa,Ri[2]=Kl,Ri[3]=di,Ri[4]=bn,Ri[5]=po,Ri[6]=rl,x=1}else x=0}x&&(x=function(Se,qe){for(Se.M=0;Se.M<Se.Va;++Se.M){var Me,me=Se.Jc[Se.M&Se.Xb],ge=Se.m,Be=Se;for(Me=0;Me<Be.za;++Me){var Ve=ge,Ue=Be,_t=Ue.Ac,gt=Ue.Bc+4*Me,Rt=Ue.zc,yt=Ue.ya[Ue.aa+Me];if(Ue.Qa.Bb?yt.$b=Ee(Ve,Ue.Pa.jb[0])?2+Ee(Ve,Ue.Pa.jb[2]):Ee(Ve,Ue.Pa.jb[1]):yt.$b=0,Ue.kc&&(yt.Ad=Ee(Ve,Ue.Bd)),yt.Za=!Ee(Ve,145)+0,yt.Za){var mn=yt.Ob,gn=0;for(Ue=0;4>Ue;++Ue){var cn,tn=Rt[0+Ue];for(cn=0;4>cn;++cn){tn=Ig[_t[gt+cn]][tn];for(var Ln=Kd[Ee(Ve,tn[0])];0<Ln;)Ln=Kd[2*Ln+Ee(Ve,tn[Ln])];tn=-Ln,_t[gt+cn]=tn}r(mn,gn,_t,gt,4),gn+=4,Rt[0+Ue]=tn}}else tn=Ee(Ve,156)?Ee(Ve,128)?1:3:Ee(Ve,163)?2:0,yt.Ob[0]=tn,i(_t,gt,tn,4),i(Rt,0,tn,4);yt.Dd=Ee(Ve,142)?Ee(Ve,114)?Ee(Ve,183)?1:3:2:0}if(Be.m.Ka)return qn(Se,7,"Premature end-of-partition0 encountered.");for(;Se.ja<Se.za;++Se.ja){if(Be=me,Ve=(ge=Se).rb[ge.sb-1],_t=ge.rb[ge.sb+ge.ja],Me=ge.ya[ge.aa+ge.ja],gt=ge.kc?Me.Ad:0)Ve.la=_t.la=0,Me.Za||(Ve.Na=_t.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var Mn,Wt;if(Ve=_t,_t=Be,gt=ge.Pa.Xc,Rt=ge.ya[ge.aa+ge.ja],yt=ge.pb[Rt.$b],Ue=Rt.ad,mn=0,gn=ge.rb[ge.sb-1],tn=cn=0,i(Ue,mn,0,384),Rt.Za)var Zn=0,bi=gt[3];else{Ln=s(16);var fr=Ve.Na+gn.Na;if(fr=ml(_t,gt[1],fr,yt.Eb,0,Ln,0),Ve.Na=gn.Na=(0<fr)+0,1<fr)iu(Ln,0,Ue,mn);else{var Ar=Ln[0]+3>>3;for(Ln=0;256>Ln;Ln+=16)Ue[mn+Ln]=Ar}Zn=1,bi=gt[0]}var xn=15&Ve.la,oi=15&gn.la;for(Ln=0;4>Ln;++Ln){var ai=1&oi;for(Ar=Wt=0;4>Ar;++Ar)xn=xn>>1|(ai=(fr=ml(_t,bi,fr=ai+(1&xn),yt.Sc,Zn,Ue,mn))>Zn)<<7,Wt=Wt<<2|(3<fr?3:1<fr?2:Ue[mn+0]!=0),mn+=16;xn>>=4,oi=oi>>1|ai<<7,cn=(cn<<8|Wt)>>>0}for(bi=xn,Zn=oi>>4,Mn=0;4>Mn;Mn+=2){for(Wt=0,xn=Ve.la>>4+Mn,oi=gn.la>>4+Mn,Ln=0;2>Ln;++Ln){for(ai=1&oi,Ar=0;2>Ar;++Ar)fr=ai+(1&xn),xn=xn>>1|(ai=0<(fr=ml(_t,gt[2],fr,yt.Qc,0,Ue,mn)))<<3,Wt=Wt<<2|(3<fr?3:1<fr?2:Ue[mn+0]!=0),mn+=16;xn>>=2,oi=oi>>1|ai<<5}tn|=Wt<<4*Mn,bi|=xn<<4<<Mn,Zn|=(240&oi)<<Mn}Ve.la=bi,gn.la=Zn,Rt.Hc=cn,Rt.Gc=tn,Rt.ia=43690&tn?0:yt.ia,gt=!(cn|tn)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Me.$b][Me.Za],ge.wa[ge.Y+ge.ja].La|=!gt),Be.Ka)return qn(Se,7,"Premature end-of-file encountered.")}if(lo(Se),ge=qe,Be=1,Me=(me=Se).D,Ve=0<me.L&&me.M>=me.zb&&me.M<=me.Va,me.Aa==0)e:{if(Me.M=me.M,Me.uc=Ve,Ks(me,Me),Be=1,Me=(Wt=me.D).Nb,Ve=(tn=vl[me.L])*me.R,_t=tn/2*me.B,Ln=16*Me*me.R,Ar=8*Me*me.B,gt=me.sa,Rt=me.ta-Ve+Ln,yt=me.qa,Ue=me.ra-_t+Ar,mn=me.Ha,gn=me.Ia-_t+Ar,oi=(xn=Wt.M)==0,cn=xn>=me.Va-1,me.Aa==2&&Ks(me,Wt),Wt.uc)for(ai=(fr=me).D.M,e(fr.D.uc),Wt=fr.yb;Wt<fr.Hb;++Wt){Zn=Wt,bi=ai;var er=(Er=(Tn=fr).D).Nb;Mn=Tn.R;var Er=Er.wa[Er.Y+Zn],Wr=Tn.sa,ji=Tn.ta+16*er*Mn+16*Zn,As=Er.dd,tr=Er.tc;if(tr!=0)if(e(3<=tr),Tn.L==1)0<Zn&&Yo(Wr,ji,Mn,tr+4),Er.La&&Hr(Wr,ji,Mn,tr),0<bi&&Ko(Wr,ji,Mn,tr+4),Er.La&&Pa(Wr,ji,Mn,tr);else{var _r=Tn.B,ss=Tn.qa,La=Tn.ra+8*er*_r+8*Zn,Jo=Tn.Ha,Tn=Tn.Ia+8*er*_r+8*Zn;er=Er.ld,0<Zn&&(ic(Wr,ji,Mn,tr+4,As,er),cl(ss,La,Jo,Tn,_r,tr+4,As,er)),Er.La&&(is(Wr,ji,Mn,tr,As,er),_o(ss,La,Jo,Tn,_r,tr,As,er)),0<bi&&(ll(Wr,ji,Mn,tr+4,As,er),ul(ss,La,Jo,Tn,_r,tr+4,As,er)),Er.La&&(hl(Wr,ji,Mn,tr,As,er),Go(ss,La,Jo,Tn,_r,tr,As,er))}}if(me.ia&&alert("todo:DitherRow"),ge.put!=null){if(Wt=16*xn,xn=16*(xn+1),oi?(ge.y=me.sa,ge.O=me.ta+Ln,ge.f=me.qa,ge.N=me.ra+Ar,ge.ea=me.Ha,ge.W=me.Ia+Ar):(Wt-=tn,ge.y=gt,ge.O=Rt,ge.f=yt,ge.N=Ue,ge.ea=mn,ge.W=gn),cn||(xn-=tn),xn>ge.o&&(xn=ge.o),ge.F=null,ge.J=null,me.Fa!=null&&0<me.Fa.length&&Wt<xn&&(ge.J=Aa(me,ge,Wt,xn-Wt),ge.F=me.mb,ge.F==null&&ge.F.length==0)){Be=qn(me,3,"Could not decode alpha data.");break e}Wt<ge.j&&(tn=ge.j-Wt,Wt=ge.j,e(!(1&tn)),ge.O+=me.R*tn,ge.N+=me.B*(tn>>1),ge.W+=me.B*(tn>>1),ge.F!=null&&(ge.J+=ge.width*tn)),Wt<xn&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Wt-ge.j,ge.U=ge.va-ge.v,ge.T=xn-Wt,Be=ge.put(ge))}Me+1!=me.Ic||cn||(r(me.sa,me.ta-Ve,gt,Rt+16*me.R,Ve),r(me.qa,me.ra-_t,yt,Ue+8*me.B,_t),r(me.Ha,me.Ia-_t,mn,gn+8*me.B,_t))}if(!Be)return qn(Se,6,"Output aborted.")}return 1}(d,v)),v.bc!=null&&v.bc(v),x&=1}return x?(d.cb=0,x):0}function Vr(d,v,x,P,V){V=d[v+x+32*P]+(V>>3),d[v+x+32*P]=-256&V?0>V?0:255:V}function va(d,v,x,P,V,H){Vr(d,v,0,x,P+V),Vr(d,v,1,x,P+H),Vr(d,v,2,x,P-H),Vr(d,v,3,x,P-V)}function or(d){return(20091*d>>16)+d}function Br(d,v,x,P){var V,H=0,W=s(16);for(V=0;4>V;++V){var K=d[v+0]+d[v+8],Q=d[v+0]-d[v+8],J=(35468*d[v+4]>>16)-or(d[v+12]),fe=or(d[v+4])+(35468*d[v+12]>>16);W[H+0]=K+fe,W[H+1]=Q+J,W[H+2]=Q-J,W[H+3]=K-fe,H+=4,v++}for(V=H=0;4>V;++V)K=(d=W[H+0]+4)+W[H+8],Q=d-W[H+8],J=(35468*W[H+4]>>16)-or(W[H+12]),Vr(x,P,0,0,K+(fe=or(W[H+4])+(35468*W[H+12]>>16))),Vr(x,P,1,0,Q+J),Vr(x,P,2,0,Q-J),Vr(x,P,3,0,K-fe),H++,P+=32}function co(d,v,x,P){var V=d[v+0]+4,H=35468*d[v+4]>>16,W=or(d[v+4]),K=35468*d[v+1]>>16;va(x,P,0,V+W,d=or(d[v+1]),K),va(x,P,1,V+H,d,K),va(x,P,2,V-H,d,K),va(x,P,3,V-W,d,K)}function ho(d,v,x,P,V){Br(d,v,x,P),V&&Br(d,v+16,x,P+4)}function zs(d,v,x,P){$o(d,v+0,x,P,1),$o(d,v+32,x,P+128,1)}function Pn(d,v,x,P){var V;for(d=d[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)Vr(x,P,v,V,d)}function qs(d,v,x,P){d[v+0]&&ii(d,v+0,x,P),d[v+16]&&ii(d,v+16,x,P+4),d[v+32]&&ii(d,v+32,x,P+128),d[v+48]&&ii(d,v+48,x,P+128+4)}function sn(d,v,x,P){var V,H=s(16);for(V=0;4>V;++V){var W=d[v+0+V]+d[v+12+V],K=d[v+4+V]+d[v+8+V],Q=d[v+4+V]-d[v+8+V],J=d[v+0+V]-d[v+12+V];H[0+V]=W+K,H[8+V]=W-K,H[4+V]=J+Q,H[12+V]=J-Q}for(V=0;4>V;++V)W=(d=H[0+4*V]+3)+H[3+4*V],K=H[1+4*V]+H[2+4*V],Q=H[1+4*V]-H[2+4*V],J=d-H[3+4*V],x[P+0]=W+K>>3,x[P+16]=J+Q>>3,x[P+32]=W-K>>3,x[P+48]=J-Q>>3,P+=64}function gs(d,v,x){var P,V=v-32,H=wi,W=255-d[V-1];for(P=0;P<x;++P){var K,Q=H,J=W+d[v-1];for(K=0;K<x;++K)d[v+K]=Q[J+d[V+K]];v+=32}}function Wl(d,v){gs(d,v,4)}function wa(d,v){gs(d,v,8)}function Gl(d,v){gs(d,v,16)}function ys(d,v){var x;for(x=0;16>x;++x)r(d,v+32*x,d,v-32,16)}function Fo(d,v){var x;for(x=16;0<x;--x)i(d,v,d[v-1],16),v+=32}function fo(d,v,x){var P;for(P=0;16>P;++P)i(v,x+32*P,d,16)}function Ji(d,v){var x,P=16;for(x=0;16>x;++x)P+=d[v-1+32*x]+d[v+x-32];fo(P>>5,d,v)}function pn(d,v){var x,P=8;for(x=0;16>x;++x)P+=d[v-1+32*x];fo(P>>4,d,v)}function Zi(d,v){var x,P=8;for(x=0;16>x;++x)P+=d[v+x-32];fo(P>>4,d,v)}function Ni(d,v){fo(128,d,v)}function Ot(d,v,x){return d+2*v+x+2>>2}function ki(d,v){var x,P=v-32;for(P=new Uint8Array([Ot(d[P-1],d[P+0],d[P+1]),Ot(d[P+0],d[P+1],d[P+2]),Ot(d[P+1],d[P+2],d[P+3]),Ot(d[P+2],d[P+3],d[P+4])]),x=0;4>x;++x)r(d,v+32*x,P,0,P.length)}function vs(d,v){var x=d[v-1],P=d[v-1+32],V=d[v-1+64],H=d[v-1+96];Ke(d,v+0,16843009*Ot(d[v-1-32],x,P)),Ke(d,v+32,16843009*Ot(x,P,V)),Ke(d,v+64,16843009*Ot(P,V,H)),Ke(d,v+96,16843009*Ot(V,H,H))}function ws(d,v){var x,P=4;for(x=0;4>x;++x)P+=d[v+x-32]+d[v-1+32*x];for(P>>=3,x=0;4>x;++x)i(d,v+32*x,P,4)}function nl(d,v){var x=d[v-1+0],P=d[v-1+32],V=d[v-1+64],H=d[v-1-32],W=d[v+0-32],K=d[v+1-32],Q=d[v+2-32],J=d[v+3-32];d[v+0+96]=Ot(P,V,d[v-1+96]),d[v+1+96]=d[v+0+64]=Ot(x,P,V),d[v+2+96]=d[v+1+64]=d[v+0+32]=Ot(H,x,P),d[v+3+96]=d[v+2+64]=d[v+1+32]=d[v+0+0]=Ot(W,H,x),d[v+3+64]=d[v+2+32]=d[v+1+0]=Ot(K,W,H),d[v+3+32]=d[v+2+0]=Ot(Q,K,W),d[v+3+0]=Ot(J,Q,K)}function Ur(d,v){var x=d[v+1-32],P=d[v+2-32],V=d[v+3-32],H=d[v+4-32],W=d[v+5-32],K=d[v+6-32],Q=d[v+7-32];d[v+0+0]=Ot(d[v+0-32],x,P),d[v+1+0]=d[v+0+32]=Ot(x,P,V),d[v+2+0]=d[v+1+32]=d[v+0+64]=Ot(P,V,H),d[v+3+0]=d[v+2+32]=d[v+1+64]=d[v+0+96]=Ot(V,H,W),d[v+3+32]=d[v+2+64]=d[v+1+96]=Ot(H,W,K),d[v+3+64]=d[v+2+96]=Ot(W,K,Q),d[v+3+96]=Ot(K,Q,Q)}function _a(d,v){var x=d[v-1+0],P=d[v-1+32],V=d[v-1+64],H=d[v-1-32],W=d[v+0-32],K=d[v+1-32],Q=d[v+2-32],J=d[v+3-32];d[v+0+0]=d[v+1+64]=H+W+1>>1,d[v+1+0]=d[v+2+64]=W+K+1>>1,d[v+2+0]=d[v+3+64]=K+Q+1>>1,d[v+3+0]=Q+J+1>>1,d[v+0+96]=Ot(V,P,x),d[v+0+64]=Ot(P,x,H),d[v+0+32]=d[v+1+96]=Ot(x,H,W),d[v+1+32]=d[v+2+96]=Ot(H,W,K),d[v+2+32]=d[v+3+96]=Ot(W,K,Q),d[v+3+32]=Ot(K,Q,J)}function ba(d,v){var x=d[v+0-32],P=d[v+1-32],V=d[v+2-32],H=d[v+3-32],W=d[v+4-32],K=d[v+5-32],Q=d[v+6-32],J=d[v+7-32];d[v+0+0]=x+P+1>>1,d[v+1+0]=d[v+0+64]=P+V+1>>1,d[v+2+0]=d[v+1+64]=V+H+1>>1,d[v+3+0]=d[v+2+64]=H+W+1>>1,d[v+0+32]=Ot(x,P,V),d[v+1+32]=d[v+0+96]=Ot(P,V,H),d[v+2+32]=d[v+1+96]=Ot(V,H,W),d[v+3+32]=d[v+2+96]=Ot(H,W,K),d[v+3+64]=Ot(W,K,Q),d[v+3+96]=Ot(K,Q,J)}function Hs(d,v){var x=d[v-1+0],P=d[v-1+32],V=d[v-1+64],H=d[v-1+96];d[v+0+0]=x+P+1>>1,d[v+2+0]=d[v+0+32]=P+V+1>>1,d[v+2+32]=d[v+0+64]=V+H+1>>1,d[v+1+0]=Ot(x,P,V),d[v+3+0]=d[v+1+32]=Ot(P,V,H),d[v+3+32]=d[v+1+64]=Ot(V,H,H),d[v+3+64]=d[v+2+64]=d[v+0+96]=d[v+1+96]=d[v+2+96]=d[v+3+96]=H}function Vo(d,v){var x=d[v-1+0],P=d[v-1+32],V=d[v-1+64],H=d[v-1+96],W=d[v-1-32],K=d[v+0-32],Q=d[v+1-32],J=d[v+2-32];d[v+0+0]=d[v+2+32]=x+W+1>>1,d[v+0+32]=d[v+2+64]=P+x+1>>1,d[v+0+64]=d[v+2+96]=V+P+1>>1,d[v+0+96]=H+V+1>>1,d[v+3+0]=Ot(K,Q,J),d[v+2+0]=Ot(W,K,Q),d[v+1+0]=d[v+3+32]=Ot(x,W,K),d[v+1+32]=d[v+3+64]=Ot(P,x,W),d[v+1+64]=d[v+3+96]=Ot(V,P,x),d[v+1+96]=Ot(H,V,P)}function Kl(d,v){var x;for(x=0;8>x;++x)r(d,v+32*x,d,v-32,8)}function di(d,v){var x;for(x=0;8>x;++x)i(d,v,d[v-1],8),v+=32}function zr(d,v,x){var P;for(P=0;8>P;++P)i(v,x+32*P,d,8)}function ei(d,v){var x,P=8;for(x=0;8>x;++x)P+=d[v+x-32]+d[v-1+32*x];zr(P>>4,d,v)}function po(d,v){var x,P=4;for(x=0;8>x;++x)P+=d[v+x-32];zr(P>>3,d,v)}function bn(d,v){var x,P=4;for(x=0;8>x;++x)P+=d[v-1+32*x];zr(P>>3,d,v)}function rl(d,v){zr(128,d,v)}function mo(d,v,x){var P=d[v-x],V=d[v+0],H=3*(V-P)+So[1020+d[v-2*x]-d[v+x]],W=ou[112+(H+4>>3)];d[v-x]=wi[255+P+ou[112+(H+3>>3)]],d[v+0]=wi[255+V-W]}function go(d,v,x,P){var V=d[v+0],H=d[v+x];return xs[255+d[v-2*x]-d[v-x]]>P||xs[255+H-V]>P}function Bo(d,v,x,P){return 4*xs[255+d[v-x]-d[v+0]]+xs[255+d[v-2*x]-d[v+x]]<=P}function Sa(d,v,x,P,V){var H=d[v-3*x],W=d[v-2*x],K=d[v-x],Q=d[v+0],J=d[v+x],fe=d[v+2*x],Ie=d[v+3*x];return 4*xs[255+K-Q]+xs[255+W-J]>P?0:xs[255+d[v-4*x]-H]<=V&&xs[255+H-W]<=V&&xs[255+W-K]<=V&&xs[255+Ie-fe]<=V&&xs[255+fe-J]<=V&&xs[255+J-Q]<=V}function ti(d,v,x,P){var V=2*P+1;for(P=0;16>P;++P)Bo(d,v+P,x,V)&&mo(d,v+P,x)}function pi(d,v,x,P){var V=2*P+1;for(P=0;16>P;++P)Bo(d,v+P*x,1,V)&&mo(d,v+P*x,1)}function ar(d,v,x,P){var V;for(V=3;0<V;--V)ti(d,v+=4*x,x,P)}function il(d,v,x,P){var V;for(V=3;0<V;--V)pi(d,v+=4,x,P)}function es(d,v,x,P,V,H,W,K){for(H=2*H+1;0<V--;){if(Sa(d,v,x,H,W))if(go(d,v,x,K))mo(d,v,x);else{var Q=d,J=v,fe=x,Ie=Q[J-2*fe],Pe=Q[J-fe],Se=Q[J+0],qe=Q[J+fe],Me=Q[J+2*fe],me=27*(Be=So[1020+3*(Se-Pe)+So[1020+Ie-qe]])+63>>7,ge=18*Be+63>>7,Be=9*Be+63>>7;Q[J-3*fe]=wi[255+Q[J-3*fe]+Be],Q[J-2*fe]=wi[255+Ie+ge],Q[J-fe]=wi[255+Pe+me],Q[J+0]=wi[255+Se-me],Q[J+fe]=wi[255+qe-ge],Q[J+2*fe]=wi[255+Me-Be]}v+=P}}function vr(d,v,x,P,V,H,W,K){for(H=2*H+1;0<V--;){if(Sa(d,v,x,H,W))if(go(d,v,x,K))mo(d,v,x);else{var Q=d,J=v,fe=x,Ie=Q[J-fe],Pe=Q[J+0],Se=Q[J+fe],qe=ou[112+((Me=3*(Pe-Ie))+4>>3)],Me=ou[112+(Me+3>>3)],me=qe+1>>1;Q[J-2*fe]=wi[255+Q[J-2*fe]+me],Q[J-fe]=wi[255+Ie+Me],Q[J+0]=wi[255+Pe-qe],Q[J+fe]=wi[255+Se-me]}v+=P}}function Uo(d,v,x,P,V,H){es(d,v,x,1,16,P,V,H)}function Jn(d,v,x,P,V,H){es(d,v,1,x,16,P,V,H)}function ts(d,v,x,P,V,H){var W;for(W=3;0<W;--W)vr(d,v+=4*x,x,1,16,P,V,H)}function $s(d,v,x,P,V,H){var W;for(W=3;0<W;--W)vr(d,v+=4,1,x,16,P,V,H)}function _s(d,v,x,P,V,H,W,K){es(d,v,V,1,8,H,W,K),es(x,P,V,1,8,H,W,K)}function sl(d,v,x,P,V,H,W,K){es(d,v,1,V,8,H,W,K),es(x,P,1,V,8,H,W,K)}function yo(d,v,x,P,V,H,W,K){vr(d,v+4*V,V,1,8,H,W,K),vr(x,P+4*V,V,1,8,H,W,K)}function bs(d,v,x,P,V,H,W,K){vr(d,v+4,1,V,8,H,W,K),vr(x,P+4,1,V,8,H,W,K)}function ns(){this.ba=new pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ws(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xa(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new M}function Yl(){this.xb=this.a=0,this.l=new Mo,this.ca=new pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xa,this.ab=0,this.gc=a(4,vo),this.Oc=0}function Gs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ss(d,v,x,P,V,H,W){for(d=d==null?0:d[v+0],v=0;v<W;++v)V[H+v]=d+x[P+v]&255,d=V[H+v]}function Ta(d,v,x,P,V,H,W){var K;if(d==null)Ss(null,null,x,P,V,H,W);else for(K=0;K<W;++K)V[H+K]=d[v+K]+x[P+K]&255}function ni(d,v,x,P,V,H,W){if(d==null)Ss(null,null,x,P,V,H,W);else{var K,Q=d[v+0],J=Q,fe=Q;for(K=0;K<W;++K)J=fe+(Q=d[v+K])-J,fe=x[P+K]+(-256&J?0>J?0:255:J)&255,J=Q,V[H+K]=fe}}function Aa(d,v,x,P){var V=v.width,H=v.o;if(e(d!=null&&v!=null),0>x||0>=P||x+P>H)return null;if(!d.Cc){if(d.ga==null){var W;if(d.ga=new Gs,(W=d.ga==null)||(W=v.width*v.o,e(d.Gb.length==0),d.Gb=s(W),d.Uc=0,d.Gb==null?W=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,W=1),W=!W),!W){W=d.ga;var K=d.Fa,Q=d.P,J=d.qc,fe=d.mb,Ie=d.nb,Pe=Q+1,Se=J-1,qe=W.l;if(e(K!=null&&fe!=null&&v!=null),si[0]=null,si[1]=Ss,si[2]=Ta,si[3]=ni,W.ca=fe,W.tb=Ie,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=J)v=0;else if(W.$a=K[Q+0]>>0&3,W.Z=K[Q+0]>>2&3,W.Lc=K[Q+0]>>4&3,Q=K[Q+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Q)v=0;else if(qe.put=Gn,qe.ac=un,qe.bc=yr,qe.ma=W,qe.width=v.width,qe.height=v.height,qe.Da=v.Da,qe.v=v.v,qe.va=v.va,qe.j=v.j,qe.o=v.o,W.$a)e:{e(W.$a==1),v=sr();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,ne(v.m,K,Pe,Se),!Xi(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&js(v.s)?(W.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=Fs(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=Se>=W.c*W.i;W=!v}if(W)return null;d.ga.Lc!=1?d.Ga=0:P=H-x}e(d.ga!=null),e(x+P<=H);e:{if(v=(K=d.ga).c,H=K.l.o,K.$a==0){if(Pe=d.rc,Se=d.Vc,qe=d.Fa,Q=d.P+1+x*v,J=d.mb,fe=d.nb+x*v,e(Q<=d.P+d.qc),K.Z!=0)for(e(si[K.Z]!=null),W=0;W<P;++W)si[K.Z](Pe,Se,qe,Q,J,fe,v),Pe=J,Se=fe,fe+=v,Q+=v;else for(W=0;W<P;++W)r(J,fe,qe,Q,v),Pe=J,Se=fe,fe+=v,Q+=v;d.rc=Pe,d.Vc=Se}else{if(e(K.mc!=null),v=x+P,e((W=K.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(K.ic||xe(),K.ic){K=W.V,Pe=W.Ba,Se=W.c;var Me=W.i,me=(qe=1,Q=W.$/Se,J=W.$%Se,fe=W.m,Ie=W.s,W.$),ge=Se*Me,Be=Se*v,Ve=Ie.wc,Ue=me<Be?Vn(Ie,J,Q):null;e(me<=ge),e(v<=Me),e(js(Ie));t:for(;;){for(;!fe.h&&me<Be;){if(J&Ve||(Ue=Vn(Ie,J,Q)),e(Ue!=null),ce(fe),256>(Me=ir(Ue.G[0],Ue.H[0],fe)))K[Pe+me]=Me,++me,++J>=Se&&(J=0,++Q<=v&&!(Q%16)&&Pi(W,Q));else{if(!(280>Me)){qe=0;break t}Me=Kn(Me-256,fe);var _t,gt=ir(Ue.G[4],Ue.H[4],fe);if(ce(fe),!(me>=(gt=In(Se,gt=Kn(gt,fe)))&&ge-me>=Me)){qe=0;break t}for(_t=0;_t<Me;++_t)K[Pe+me+_t]=K[Pe+me+_t-gt];for(me+=Me,J+=Me;J>=Se;)J-=Se,++Q<=v&&!(Q%16)&&Pi(W,Q);me<Be&&J&Ve&&(Ue=Vn(Ie,J,Q))}e(fe.h==Z(fe))}Pi(W,Q>v?v:Q);break t}!qe||fe.h&&me<ge?(qe=0,W.a=fe.h?5:3):W.$=me,v=qe}else v=hr(W,W.V,W.Ba,W.c,W.i,v,Vs);if(!v){P=0;break e}}x+P>=H&&(d.Cc=1),P=1}if(!P)return null;if(d.Cc&&((P=d.ga)!=null&&(P.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+x*V}function b(d,v,x,P,V,H){for(;0<V--;){var W,K=d,Q=v+(x?1:0),J=d,fe=v+(x?0:3);for(W=0;W<P;++W){var Ie=J[fe+4*W];Ie!=255&&(Ie*=32897,K[Q+4*W+0]=K[Q+4*W+0]*Ie>>23,K[Q+4*W+1]=K[Q+4*W+1]*Ie>>23,K[Q+4*W+2]=K[Q+4*W+2]*Ie>>23)}v+=H}}function B(d,v,x,P,V){for(;0<P--;){var H;for(H=0;H<x;++H){var W=d[v+2*H+0],K=15&(J=d[v+2*H+1]),Q=4369*K,J=(240&J|J>>4)*Q>>16;d[v+2*H+0]=(240&W|W>>4)*Q>>16&240|(15&W|W<<4)*Q>>16>>4&15,d[v+2*H+1]=240&J|K}v+=V}}function te(d,v,x,P,V,H,W,K){var Q,J,fe=255;for(J=0;J<V;++J){for(Q=0;Q<P;++Q){var Ie=d[v+Q];H[W+4*Q]=Ie,fe&=Ie}v+=x,W+=K}return fe!=255}function he(d,v,x,P,V){var H;for(H=0;H<V;++H)x[P+H]=d[v+H]>>8}function xe(){Li=b,Bn=B,Nn=te,ur=he}function Fe(d,v,x){k[d]=function(P,V,H,W,K,Q,J,fe,Ie,Pe,Se,qe,Me,me,ge,Be,Ve){var Ue,_t=Ve-1>>1,gt=K[Q+0]|J[fe+0]<<16,Rt=Ie[Pe+0]|Se[qe+0]<<16;e(P!=null);var yt=3*gt+Rt+131074>>2;for(v(P[V+0],255&yt,yt>>16,Me,me),H!=null&&(yt=3*Rt+gt+131074>>2,v(H[W+0],255&yt,yt>>16,ge,Be)),Ue=1;Ue<=_t;++Ue){var mn=K[Q+Ue]|J[fe+Ue]<<16,gn=Ie[Pe+Ue]|Se[qe+Ue]<<16,cn=gt+mn+Rt+gn+524296,tn=cn+2*(mn+Rt)>>3;yt=tn+gt>>1,gt=(cn=cn+2*(gt+gn)>>3)+mn>>1,v(P[V+2*Ue-1],255&yt,yt>>16,Me,me+(2*Ue-1)*x),v(P[V+2*Ue-0],255&gt,gt>>16,Me,me+(2*Ue-0)*x),H!=null&&(yt=cn+Rt>>1,gt=tn+gn>>1,v(H[W+2*Ue-1],255&yt,yt>>16,ge,Be+(2*Ue-1)*x),v(H[W+2*Ue+0],255&gt,gt>>16,ge,Be+(2*Ue+0)*x)),gt=mn,Rt=gn}1&Ve||(yt=3*gt+Rt+131074>>2,v(P[V+Ve-1],255&yt,yt>>16,Me,me+(Ve-1)*x),H!=null&&(yt=3*Rt+gt+131074>>2,v(H[W+Ve-1],255&yt,yt>>16,ge,Be+(Ve-1)*x)))}}function Je(){Di[Yc]=Cg,Di[Ca]=Na,Di[$d]=Ng,Di[oc]=cu,Di[ac]=gl,Di[Un]=fc,Di[Qc]=pf,Di[au]=Na,Di[dl]=cu,Di[lc]=gl,Di[uc]=fc}function mt(d){return d&-16384?0>d?0:255:d>>ka}function p(d,v){return mt((19077*d>>8)+(26149*v>>8)-14234)}function T(d,v,x){return mt((19077*d>>8)-(6419*v>>8)-(13320*x>>8)+8708)}function R(d,v){return mt((19077*d>>8)+(33050*v>>8)-17685)}function Y(d,v,x,P,V){P[V+0]=p(d,x),P[V+1]=T(d,v,x),P[V+2]=R(d,v)}function be(d,v,x,P,V){P[V+0]=R(d,v),P[V+1]=T(d,v,x),P[V+2]=p(d,x)}function Re(d,v,x,P,V){var H=T(d,v,x);v=H<<3&224|R(d,v)>>3,P[V+0]=248&p(d,x)|H>>5,P[V+1]=v}function et(d,v,x,P,V){var H=240&R(d,v)|15;P[V+0]=240&p(d,x)|T(d,v,x)>>4,P[V+1]=H}function Qt(d,v,x,P,V){P[V+0]=255,Y(d,v,x,P,V+1)}function an(d,v,x,P,V){be(d,v,x,P,V),P[V+3]=255}function Xt(d,v,x,P,V){Y(d,v,x,P,V),P[V+3]=255}function Sn(d,v){return 0>d?0:d>v?v:d}function Cn(d,v,x){k[d]=function(P,V,H,W,K,Q,J,fe,Ie){for(var Pe=fe+(-2&Ie)*x;fe!=Pe;)v(P[V+0],H[W+0],K[Q+0],J,fe),v(P[V+1],H[W+0],K[Q+0],J,fe+x),V+=2,++W,++Q,fe+=2*x;1&Ie&&v(P[V+0],H[W+0],K[Q+0],J,fe)}}function mi(d,v,x){return x==0?d==0?v==0?6:5:v==0?4:0:x}function qr(d,v,x,P,V){switch(d>>>30){case 3:$o(v,x,P,V,0);break;case 2:vn(v,x,P,V);break;case 1:ii(v,x,P,V)}}function Ks(d,v){var x,P,V=v.M,H=v.Nb,W=d.oc,K=d.pc+40,Q=d.oc,J=d.pc+584,fe=d.oc,Ie=d.pc+600;for(x=0;16>x;++x)W[K+32*x-1]=129;for(x=0;8>x;++x)Q[J+32*x-1]=129,fe[Ie+32*x-1]=129;for(0<V?W[K-1-32]=Q[J-1-32]=fe[Ie-1-32]=129:(i(W,K-32-1,127,21),i(Q,J-32-1,127,9),i(fe,Ie-32-1,127,9)),P=0;P<d.za;++P){var Pe=v.ya[v.aa+P];if(0<P){for(x=-1;16>x;++x)r(W,K+32*x-4,W,K+32*x+12,4);for(x=-1;8>x;++x)r(Q,J+32*x-4,Q,J+32*x+4,4),r(fe,Ie+32*x-4,fe,Ie+32*x+4,4)}var Se=d.Gd,qe=d.Hd+P,Me=Pe.ad,me=Pe.Hc;if(0<V&&(r(W,K-32,Se[qe].y,0,16),r(Q,J-32,Se[qe].f,0,8),r(fe,Ie-32,Se[qe].ea,0,8)),Pe.Za){var ge=W,Be=K-32+16;for(0<V&&(P>=d.za-1?i(ge,Be,Se[qe].y[15],4):r(ge,Be,Se[qe+1].y,0,4)),x=0;4>x;x++)ge[Be+128+x]=ge[Be+256+x]=ge[Be+384+x]=ge[Be+0+x];for(x=0;16>x;++x,me<<=2)ge=W,Be=K+mf[x],Ts[Pe.Ob[x]](ge,Be),qr(me,Me,16*+x,ge,Be)}else if(ge=mi(P,V,Pe.Ob[0]),_i[ge](W,K),me!=0)for(x=0;16>x;++x,me<<=2)qr(me,Me,16*+x,W,K+mf[x]);for(x=Pe.Gc,ge=mi(P,V,Pe.Dd),Ri[ge](Q,J),Ri[ge](fe,Ie),me=Me,ge=Q,Be=J,255&(Pe=x>>0)&&(170&Pe?Wo(me,256,ge,Be):rs(me,256,ge,Be)),Pe=fe,me=Ie,255&(x>>=8)&&(170&x?Wo(Me,320,Pe,me):rs(Me,320,Pe,me)),V<d.Ub-1&&(r(Se[qe].y,0,W,K+480,16),r(Se[qe].f,0,Q,J+224,8),r(Se[qe].ea,0,fe,Ie+224,8)),x=8*H*d.B,Se=d.sa,qe=d.ta+16*P+16*H*d.R,Me=d.qa,Pe=d.ra+8*P+x,me=d.Ha,ge=d.Ia+8*P+x,x=0;16>x;++x)r(Se,qe+x*d.R,W,K+32*x,16);for(x=0;8>x;++x)r(Me,Pe+x*d.B,Q,J+32*x,8),r(me,ge+x*d.B,fe,Ie+32*x,8)}}function Ys(d,v,x,P,V,H,W,K,Q){var J=[0],fe=[0],Ie=0,Pe=Q!=null?Q.kd:0,Se=Q??new Ws;if(d==null||12>x)return 7;Se.data=d,Se.w=v,Se.ha=x,v=[v],x=[x],Se.gb=[Se.gb];e:{var qe=v,Me=x,me=Se.gb;if(e(d!=null),e(Me!=null),e(me!=null),me[0]=0,12<=Me[0]&&!t(d,qe[0],"RIFF")){if(t(d,qe[0]+8,"WEBP")){me=3;break e}var ge=lt(d,qe[0]+4);if(12>ge||4294967286<ge){me=3;break e}if(Pe&&ge>Me[0]-8){me=7;break e}me[0]=ge,qe[0]+=12,Me[0]-=12}me=0}if(me!=0)return me;for(ge=0<Se.gb[0],x=x[0];;){e:{var Be=d;Me=v,me=x;var Ve=J,Ue=fe,_t=qe=[0];if((yt=Ie=[Ie])[0]=0,8>me[0])me=7;else{if(!t(Be,Me[0],"VP8X")){if(lt(Be,Me[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var gt=lt(Be,Me[0]+8),Rt=1+ft(Be,Me[0]+12);if(2147483648<=Rt*(Be=1+ft(Be,Me[0]+15))){me=3;break e}_t!=null&&(_t[0]=gt),Ve!=null&&(Ve[0]=Rt),Ue!=null&&(Ue[0]=Be),Me[0]+=18,me[0]-=18,yt[0]=1}me=0}}if(Ie=Ie[0],qe=qe[0],me!=0)return me;if(Me=!!(2&qe),!ge&&Ie)return 3;if(H!=null&&(H[0]=!!(16&qe)),W!=null&&(W[0]=Me),K!=null&&(K[0]=0),W=J[0],qe=fe[0],Ie&&Me&&Q==null){me=0;break}if(4>x){me=7;break}if(ge&&Ie||!ge&&!Ie&&!t(d,v[0],"ALPH")){x=[x],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{gt=d,me=v,ge=x;var yt=Se.gb;Ve=Se.na,Ue=Se.P,_t=Se.Sa,Rt=22,e(gt!=null),e(ge!=null),Be=me[0];var mn=ge[0];for(e(Ve!=null),e(_t!=null),Ve[0]=null,Ue[0]=null,_t[0]=0;;){if(me[0]=Be,ge[0]=mn,8>mn){me=7;break e}var gn=lt(gt,Be+4);if(4294967286<gn){me=3;break e}var cn=8+gn+1&-2;if(Rt+=cn,0<yt&&Rt>yt){me=3;break e}if(!t(gt,Be,"VP8 ")||!t(gt,Be,"VP8L")){me=0;break e}if(mn[0]<cn){me=7;break e}t(gt,Be,"ALPH")||(Ve[0]=gt,Ue[0]=Be+8,_t[0]=gn),Be+=cn,mn-=cn}}if(x=x[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],me!=0)break}x=[x],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(yt=d,me=v,ge=x,Ve=Se.gb[0],Ue=Se.Ja,_t=Se.xa,gt=me[0],Be=!t(yt,gt,"VP8 "),Rt=!t(yt,gt,"VP8L"),e(yt!=null),e(ge!=null),e(Ue!=null),e(_t!=null),8>ge[0])me=7;else{if(Be||Rt){if(yt=lt(yt,gt+4),12<=Ve&&yt>Ve-12){me=3;break e}if(Pe&&yt>ge[0]-8){me=7;break e}Ue[0]=yt,me[0]+=8,ge[0]-=8,_t[0]=Rt}else _t[0]=5<=ge[0]&&yt[gt+0]==47&&!(yt[gt+4]>>5),Ue[0]=ge[0];me=0}if(x=x[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],v=v[0],me!=0)break;if(4294967286<Se.Ja)return 3;if(K==null||Me||(K[0]=Se.xa?2:1),W=[W],qe=[qe],Se.xa){if(5>x){me=7;break}K=W,Pe=qe,Me=H,d==null||5>x?d=0:5<=x&&d[v+0]==47&&!(d[v+4]>>5)?(ge=[0],yt=[0],Ve=[0],ne(Ue=new O,d,v,x),wt(Ue,ge,yt,Ve)?(K!=null&&(K[0]=ge[0]),Pe!=null&&(Pe[0]=yt[0]),Me!=null&&(Me[0]=Ve[0]),d=1):d=0):d=0}else{if(10>x){me=7;break}K=qe,d==null||10>x||!el(d,v+3,x-3)?d=0:(Pe=d[v+0]|d[v+1]<<8|d[v+2]<<16,Me=16383&(d[v+7]<<8|d[v+6]),d=16383&(d[v+9]<<8|d[v+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Se.Ja||!Me||!d?d=0:(W&&(W[0]=Me),K&&(K[0]=d),d=1))}if(!d||(W=W[0],qe=qe[0],Ie&&(J[0]!=W||fe[0]!=qe)))return 3;Q!=null&&(Q[0]=Se,Q.offset=v-Q.w,e(4294967286>v-Q.w),e(Q.offset==Q.ha-x));break}return me==0||me==7&&Ie&&Q==null?(H!=null&&(H[0]|=Se.na!=null&&0<Se.na.length),P!=null&&(P[0]=W),V!=null&&(V[0]=qe),0):me}function Ql(d,v,x){var P=v.width,V=v.height,H=0,W=0,K=P,Q=V;if(v.Da=d!=null&&0<d.Da,v.Da&&(K=d.cd,Q=d.bd,H=d.v,W=d.j,11>x||(H&=-2,W&=-2),0>H||0>W||0>=K||0>=Q||H+K>P||W+Q>V))return 0;if(v.v=H,v.j=W,v.va=H+K,v.o=W+Q,v.U=K,v.T=Q,v.da=d!=null&&0<d.da,v.da){if(!jt(K,Q,x=[d.ib],H=[d.hb]))return 0;v.ib=x[0],v.hb=H[0]}return v.ob=d!=null&&d.ob,v.Kb=d==null||!d.Sd,v.da&&(v.ob=v.ib<3*P/4&&v.hb<3*V/4,v.Kb=0),1}function Xl(d){if(d==null)return 2;if(11>d.S){var v=d.f.RGBA;v.fb+=(d.height-1)*v.A,v.A=-v.A}else v=d.f.kb,d=d.height,v.O+=(d-1)*v.fa,v.fa=-v.fa,v.N+=(d-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(d-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(d-1)*v.lb,v.lb=-v.lb);return 0}function ol(d,v,x,P){if(P==null||0>=d||0>=v)return 2;if(x!=null){if(x.Da){var V=x.cd,H=x.bd,W=-2&x.v,K=-2&x.j;if(0>W||0>K||0>=V||0>=H||W+V>d||K+H>v)return 2;d=V,v=H}if(x.da){if(!jt(d,v,V=[x.ib],H=[x.hb]))return 2;d=V[0],v=H[0]}}P.width=d,P.height=v;e:{var Q=P.width,J=P.height;if(d=P.S,0>=Q||0>=J||!(d>=Yc&&13>d))d=2;else{if(0>=P.Rd&&P.sd==null){W=H=V=v=0;var fe=(K=Q*dc[d])*J;if(11>d||(H=(J+1)/2*(v=(Q+1)/2),d==12&&(W=(V=Q)*J)),(J=s(fe+2*H+W))==null){d=1;break e}P.sd=J,11>d?((Q=P.f.RGBA).eb=J,Q.fb=0,Q.A=K,Q.size=fe):((Q=P.f.kb).y=J,Q.O=0,Q.fa=K,Q.Fd=fe,Q.f=J,Q.N=0+fe,Q.Ab=v,Q.Cd=H,Q.ea=J,Q.W=0+fe+H,Q.Db=v,Q.Ed=H,d==12&&(Q.F=J,Q.J=0+fe+2*H),Q.Tc=W,Q.lb=V)}if(v=1,V=P.S,H=P.width,W=P.height,V>=Yc&&13>V)if(11>V)d=P.f.RGBA,v&=(K=Math.abs(d.A))*(W-1)+H<=d.size,v&=K>=H*dc[V],v&=d.eb!=null;else{d=P.f.kb,K=(H+1)/2,fe=(W+1)/2,Q=Math.abs(d.fa),J=Math.abs(d.Ab);var Ie=Math.abs(d.Db),Pe=Math.abs(d.lb),Se=Pe*(W-1)+H;v&=Q*(W-1)+H<=d.Fd,v&=J*(fe-1)+K<=d.Cd,v=(v&=Ie*(fe-1)+K<=d.Ed)&Q>=H&J>=K&Ie>=K,v&=d.y!=null,v&=d.f!=null,v&=d.ea!=null,V==12&&(v&=Pe>=H,v&=Se<=d.Tc,v&=d.F!=null)}else v=0;d=v?0:2}}return d!=0||x!=null&&x.fd&&(d=Xl(P)),d}var lr=64,Jl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zl=24,eu=32,tu=8,gi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(d){return d},k.Predictor2=function(d,v,x){return v[x+0]},k.Predictor3=function(d,v,x){return v[x+1]},k.Predictor4=function(d,v,x){return v[x-1]},k.Predictor5=function(d,v,x){return ct(ct(d,v[x+1]),v[x+0])},k.Predictor6=function(d,v,x){return ct(d,v[x-1])},k.Predictor7=function(d,v,x){return ct(d,v[x+0])},k.Predictor8=function(d,v,x){return ct(v[x-1],v[x+0])},k.Predictor9=function(d,v,x){return ct(v[x+0],v[x+1])},k.Predictor10=function(d,v,x){return ct(ct(d,v[x-1]),ct(v[x+0],v[x+1]))},k.Predictor11=function(d,v,x){var P=v[x+0];return 0>=ot(P>>24&255,d>>24&255,(v=v[x-1])>>24&255)+ot(P>>16&255,d>>16&255,v>>16&255)+ot(P>>8&255,d>>8&255,v>>8&255)+ot(255&P,255&d,255&v)?P:d},k.Predictor12=function(d,v,x){var P=v[x+0];return(Ce((d>>24&255)+(P>>24&255)-((v=v[x-1])>>24&255))<<24|Ce((d>>16&255)+(P>>16&255)-(v>>16&255))<<16|Ce((d>>8&255)+(P>>8&255)-(v>>8&255))<<8|Ce((255&d)+(255&P)-(255&v)))>>>0},k.Predictor13=function(d,v,x){var P=v[x-1];return(We((d=ct(d,v[x+0]))>>24&255,P>>24&255)<<24|We(d>>16&255,P>>16&255)<<16|We(d>>8&255,P>>8&255)<<8|We(d>>0&255,P>>0&255))>>>0};var al=k.PredictorAdd0;k.PredictorAdd1=He,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var zo=k.PredictorAdd2;Ft("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Kc,yi=k.ColorIndexInverseTransform,nu=k.MapARGB,rc=k.VP8LColorIndexInverseTransformAlpha,ru=k.MapAlpha,wo=k.VP8LPredictorsAdd=[];wo.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Ea,vi,ri,Ia,qo,Ho,iu,$o,vn,Wo,ii,rs,ll,ic,ul,cl,hl,is,Go,_o,Ko,Yo,Pa,Hr,Li,Bn,Nn,ur,wr=s(511),bo=s(2041),su=s(225),fl=s(767),sc=0,So=bo,ou=su,wi=fl,xs=wr,Yc=0,Ca=1,$d=2,oc=3,ac=4,Un=5,Qc=6,au=7,dl=8,lc=9,uc=10,cc=[2,3,7],Xc=[3,3,11],pl=[280,256,256,256,40],Wd=[0,1,1,1,0],Ag=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Eg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Gd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jc=8,lu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ml=null,hf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ff=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ig=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],df=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_i=[],Ts=[],Ri=[],xo=1,uu=2,si=[],Di=[];Fe("UpsampleRgbLinePair",Y,3),Fe("UpsampleBgrLinePair",be,3),Fe("UpsampleRgbaLinePair",Xt,4),Fe("UpsampleBgraLinePair",an,4),Fe("UpsampleArgbLinePair",Qt,4),Fe("UpsampleRgba4444LinePair",et,2),Fe("UpsampleRgb565LinePair",Re,2);var Cg=k.UpsampleRgbLinePair,Ng=k.UpsampleBgrLinePair,Na=k.UpsampleRgbaLinePair,cu=k.UpsampleBgraLinePair,gl=k.UpsampleArgbLinePair,fc=k.UpsampleRgba4444LinePair,pf=k.UpsampleRgb565LinePair,Qo=16,Qs=1<<Qo-1,kn=-227,On=482,ka=6,$r=0,Oi=s(256),yl=s(256),hu=s(256),Mi=s(256),Zc=s(On-kn),Qd=s(On-kn);Cn("YuvToRgbRow",Y,3),Cn("YuvToBgrRow",be,3),Cn("YuvToRgbaRow",Xt,4),Cn("YuvToBgraRow",an,4),Cn("YuvToArgbRow",Qt,4),Cn("YuvToRgba4444Row",et,2),Cn("YuvToRgb565Row",Re,2);var mf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vl=[0,2,8],Xd=[8,7,6,4,4,2,2,2,1,1,1,1],Xo=1;this.WebPDecodeRGBA=function(d,v,x,P,V){var H=Ca,W=new ns,K=new pt;W.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var Q=K.width,J=K.height,fe=new zt;if(fe==null||d==null)var Ie=2;else e(fe!=null),Ie=Ys(d,v,x,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ie!=0?Q=0:(Q!=null&&(Q[0]=fe.width[0]),J!=null&&(J[0]=fe.height[0]),Q=1),Q){K.width=K.width[0],K.height=K.height[0],P!=null&&(P[0]=K.width),V!=null&&(V[0]=K.height);e:{if(P=new Mo,(V=new Ws).data=d,V.w=v,V.ha=x,V.kd=1,v=[0],e(V!=null),((d=Ys(V.data,V.w,V.ha,null,null,null,v,null,V))==0||d==7)&&v[0]&&(d=4),(v=d)==0){if(e(W!=null),P.data=V.data,P.w=V.w+V.offset,P.ha=V.ha-V.offset,P.put=Gn,P.ac=un,P.bc=yr,P.ma=W,V.xa){if((d=sr())==null){W=1;break e}if(function(Pe,Se){var qe=[0],Me=[0],me=[0];t:for(;;){if(Pe==null)return 0;if(Se==null)return Pe.a=2,0;if(Pe.l=Se,Pe.a=0,ne(Pe.m,Se.data,Se.w,Se.ha),!wt(Pe.m,qe,Me,me)){Pe.a=3;break t}if(Pe.xb=uu,Se.width=qe[0],Se.height=Me[0],!Xi(qe[0],Me[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(d,P)){if(P=(v=ol(P.width,P.height,W.Oa,W.ba))==0){t:{P=d;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((x=P.l)!=null),e((V=x.ma)!=null),P.xb!=0){if(P.ca=V.ba,P.tb=V.tb,e(P.ca!=null),!Ql(V.Oa,x,oc)){P.a=2;break n}if(!Fs(P,x.width)||x.da)break n;if((x.da||rn(P.ca.S))&&xe(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&xe()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!Nt(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!hr(P,P.V,P.Ba,P.c,P.i,x.o,so))break n;V.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(v=d.a)}else v=d.a}else{if((d=new Fr)==null){W=1;break e}if(d.Fa=V.na,d.P=V.P,d.qc=V.Sa,tl(d,P)){if((v=ol(P.width,P.height,W.Oa,W.ba))==0){if(d.Aa=0,x=W.Oa,e((V=d)!=null),x!=null){if(0<(Q=0>(Q=x.Md)?0:100<Q?255:255*Q/100)){for(J=fe=0;4>J;++J)12>(Ie=V.pb[J]).lc&&(Ie.ia=Q*Xd[0>Ie.lc?0:Ie.lc]>>3),fe|=Ie.ia;fe&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=x.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}uo(d,P)||(v=d.a)}}else v=d.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=Xl(W.ba))}W=v}H=W!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var dc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(k,U){for(var G="",D=0;D<4;D++)G+=String.fromCharCode(k[U++]);return G}function m(k,U){return(k[U+0]<<0|k[U+1]<<8|k[U+2]<<16)>>>0}function y(k,U){return(k[U+0]<<0|k[U+1]<<8|k[U+2]<<16|k[U+3]<<24)>>>0}new c;var _=[0],w=[0],E=[],N=new c,L=n,I=function(k,U){var G={},D=0,M=!1,F=0,se=0;if(G.frames=[],!function(X,Z,oe,ce){for(var _e=0;_e<ce;_e++)if(X[Z+_e]!=oe.charCodeAt(_e))return!0;return!1}(k,U,"RIFF",4)){for(y(k,U+=4),U+=8;U<k.length;){var Le=h(k,U),Ne=y(k,U+=4);U+=4;var Te=Ne+(1&Ne);switch(Le){case"VP8 ":case"VP8L":G.frames[D]===void 0&&(G.frames[D]={}),(ye=G.frames[D]).src_off=M?se:U-8,ye.src_size=F+Ne+8,D++,M&&(M=!1,F=0,se=0);break;case"VP8X":(ye=G.header={}).feature_flags=k[U];var ne=U+4;ye.canvas_width=1+m(k,ne),ne+=3,ye.canvas_height=1+m(k,ne),ne+=3;break;case"ALPH":M=!0,F=Te+8,se=U-8;break;case"ANIM":(ye=G.header).bgcolor=y(k,U),ne=U+4,ye.loop_count=(ue=k)[(O=ne)+0]<<0|ue[O+1]<<8,ne+=2;break;case"ANMF":var ve,ye;(ye=G.frames[D]={}).offset_x=2*m(k,U),U+=3,ye.offset_y=2*m(k,U),U+=3,ye.width=1+m(k,U),U+=3,ye.height=1+m(k,U),U+=3,ye.duration=m(k,U),U+=3,ve=k[U++],ye.dispose=1&ve,ye.blend=ve>>1&1}Le!="ANMF"&&(U+=Te)}var ue,O;return G}}(L,0);I.response=L,I.rgbaoutput=!0,I.dataurl=!1;var j=I.header?I.header:null,q=I.frames?I.frames:null;if(j){j.loop_counter=j.loop_count,_=[j.canvas_height],w=[j.canvas_width];for(var ee=0;ee<q.length&&q[ee].blend!=0;ee++);}var ie=q[0],de=N.WebPDecodeRGBA(L,ie.src_off,ie.src_size,w,_);ie.rgba=de,ie.imgwidth=w[0],ie.imgheight=_[0];for(var z=0;z<w[0]*_[0]*4;z++)E[z]=de[z];return this.width=w,this.height=_,this.data=E,this}(function(n){var e=function(){return typeof uy=="function"},t=function(_,w,E,N){var L=4,I=a;switch(N){case n.image_compression.FAST:L=1,I=s;break;case n.image_compression.MEDIUM:L=6,I=u;break;case n.image_compression.SLOW:L=9,I=c}_=r(_,w,E,I);var j=uy(_,{level:L});return n.__addimage__.arrayBufferToBinaryString(j)},r=function(_,w,E,N){for(var L,I,j,q=_.length/w,ee=new Uint8Array(_.length+q),ie=m(),de=0;de<q;de+=1){if(j=de*w,L=_.subarray(j,j+w),N)ee.set(N(L,E,I),j+de);else{for(var z,k=ie.length,U=[];z<k;z+=1)U[z]=ie[z](L,E,I);var G=y(U.concat());ee.set(U[G],j+de)}I=L}return ee},i=function(_){var w=Array.apply([],_);return w.unshift(0),w},s=function(_,w){var E,N=[],L=_.length;N[0]=1;for(var I=0;I<L;I+=1)E=_[I-w]||0,N[I+1]=_[I]-E+256&255;return N},a=function(_,w,E){var N,L=[],I=_.length;L[0]=2;for(var j=0;j<I;j+=1)N=E&&E[j]||0,L[j+1]=_[j]-N+256&255;return L},u=function(_,w,E){var N,L,I=[],j=_.length;I[0]=3;for(var q=0;q<j;q+=1)N=_[q-w]||0,L=E&&E[q]||0,I[q+1]=_[q]+256-(N+L>>>1)&255;return I},c=function(_,w,E){var N,L,I,j,q=[],ee=_.length;q[0]=4;for(var ie=0;ie<ee;ie+=1)N=_[ie-w]||0,L=E&&E[ie]||0,I=E&&E[ie-w]||0,j=h(N,L,I),q[ie+1]=_[ie]-j+256&255;return q},h=function(_,w,E){if(_===w&&w===E)return _;var N=Math.abs(w-E),L=Math.abs(_-E),I=Math.abs(_+w-E-E);return N<=L&&N<=I?_:L<=I?w:E},m=function(){return[i,s,a,u,c]},y=function(_){var w=_.map(function(E){return E.reduce(function(N,L){return N+Math.abs(L)},0)});return w.indexOf(Math.min.apply(null,w))};n.processPNG=function(_,w,E,N){var L,I,j,q,ee,ie,de,z,k,U,G,D,M,F,se,Le=this.decode.FLATE_DECODE,Ne="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(j=new H9(_)).imgData,I=j.bits,L=j.colorSpace,ee=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){k=(z=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,G=new Uint8Array(k*j.colors),U=new Uint8Array(k);var Te,ne=j.pixelBitlength-j.bits;for(F=0,se=0;F<k;F++){for(M=z[F],Te=0;Te<ne;)G[se++]=M>>>Te&255,Te+=j.bits;U[F]=M>>>Te&255}}if(j.bits===16){k=(z=new Uint32Array(j.decodePixels().buffer)).length,G=new Uint8Array(k*(32/j.pixelBitlength)*j.colors),U=new Uint8Array(k*(32/j.pixelBitlength)),D=j.colors>1,F=0,se=0;for(var ve=0;F<k;)M=z[F++],G[se++]=M>>>0&255,D&&(G[se++]=M>>>16&255,M=z[F++],G[se++]=M>>>0&255),U[ve++]=M>>>16&255;I=8}N!==n.image_compression.NONE&&e()?(_=t(G,j.width*j.colors,j.colors,N),de=t(U,j.width,1,N)):(_=G,de=U,Le=void 0)}if(j.colorType===3&&(L=this.color_spaces.INDEXED,ie=j.palette,j.transparency.indexed)){var ye=j.transparency.indexed,ue=0;for(F=0,k=ye.length;F<k;++F)ue+=ye[F];if((ue/=255)===k-1&&ye.indexOf(0)!==-1)q=[ye.indexOf(0)];else if(ue!==k){for(z=j.decodePixels(),U=new Uint8Array(z.length),F=0,k=z.length;F<k;F++)U[F]=ye[z[F]];de=t(U,j.width,1)}}var O=function(X){var Z;switch(X){case n.image_compression.FAST:Z=11;break;case n.image_compression.MEDIUM:Z=13;break;case n.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(N);return Le===this.decode.FLATE_DECODE&&(Ne="/Predictor "+O+" "),Ne+="/Colors "+ee+" /BitsPerComponent "+I+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(de&&this.__addimage__.isArrayBuffer(de)||this.__addimage__.isArrayBufferView(de))&&(de=this.__addimage__.arrayBufferToBinaryString(de)),{alias:E,data:_,index:w,filter:Le,decodeParameters:Ne,transparency:q,palette:ie,sMask:de,predictor:O,width:j.width,height:j.height,bitsPerComponent:I,colorSpace:L}}}})(Ut.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new $9(e),a=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:a,height:u},m=new e1(100).encode(h,100);return n.processJPEG.call(this,m,t,r,i)},n.processGIF87A=n.processGIF89A}(Ut.API),la.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},la.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){$n.log("bit decode error:"+t)}},la.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[a+4*u]=c.blue,this.data[a+4*u+1]=c.green,this.data[a+4*u+2]=c.red,this.data[a+4*u+3]=255}t!==0&&(this.pos+=4-t)}},la.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,u=s>>4,c=15&s,h=this.palette[u];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},la.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},la.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,m=r*this.width*4+4*i;this.data[m]=c,this.data[m+1]=u,this.data[m+2]=a,this.data[m+3]=h}this.pos+=n}},la.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,h=(a>>11)/e*255|0,m=i*this.width*4+4*s;this.data[m]=h,this.data[m+1]=c,this.data[m+2]=u,this.data[m+3]=255}this.pos+=n}},la.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},la.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=a}},la.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new la(e,!1),a=s.width,u=s.height,c={data:s.getData(),width:a,height:u},h=new e1(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}}(Ut.API),Zb.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new Zb(e),a=s.width,u=s.height,c={data:s.getData(),width:a,height:u},h=new e1(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}}(Ut.API),Ut.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),u=0,c=0,h=0;h<i;h+=4){var m=r[h],y=r[h+1],_=r[h+2],w=r[h+3];s[u++]=m,s[u++]=y,s[u++]=_,a[c++]=w}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:E,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ut.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gh=Ut.API,Bp=gh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,c=u.fof?u.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,m=h.fof?h.fof:1,y=e.doKerning!==!1,_=0,w=n.length,E=0,N=u[0]||c,L=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(_=y&&zn(h[r])==="object"&&!isNaN(parseInt(h[r][E],10))?h[r][E]/m:0,L.push((u[r]||N)/c+_)),E=r;return L},Yb=gh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return gh.processArabic&&(n=gh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Bp.apply(this,arguments).reduce(function(s,a){return s+a},0)},Qb=function(n,e,t,r){for(var i=[],s=0,a=n.length,u=0;s!==a&&u+e[s]<t;)u+=e[s],s++;i.push(n.slice(0,s));var c=s;for(u=0;s!==a;)u+e[s]>r&&(i.push(n.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},Xb=function(n,e,t){t||(t={});var r,i,s,a,u,c,h,m=[],y=[m],_=t.textIndent||0,w=0,E=0,N=n.split(" "),L=Bp.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var I=Array(c).join(" "),j=[];N.map(function(ee){(ee=ee.split(/\s*\n/)).length>1?j=j.concat(ee.map(function(ie,de){return(de&&ie.length?`
`:"")+ie})):j.push(ee[0])}),N=j,c=Yb.apply(this,[I,t])}for(s=0,a=N.length;s<a;s++){var q=0;if(r=N[s],c&&r[0]==`
`&&(r=r.substr(1),q=1),_+w+(E=(i=Bp.apply(this,[r,t])).reduce(function(ee,ie){return ee+ie},0))>e||q){if(E>e){for(u=Qb.apply(this,[r,i,e-(_+w),e]),m.push(u.shift()),m=[u.pop()];u.length;)y.push([u.shift()]);E=i.slice(r.length-(m[0]?m[0].length:0)).reduce(function(ee,ie){return ee+ie},0)}else m=[r];y.push(m),_=E+c,w=L}else m.push(r),_+=w+E,w=L}return h=c?function(ee,ie){return(ie?I:"")+ee.join(" ")}:function(ee){return ee.join(" ")},y.map(h)},gh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var u,c,h=[];for(u=0,c=r.length;u<c;u++)h=h.concat(Xb.apply(this,[r[u],a,s]));return h},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(y){return"0x"+parseInt(y,10).toString(16)},a=n.__fontmetrics__.compress=function(y){var _,w,E,N,L=["{"];for(var I in y){if(_=y[I],isNaN(parseInt(I,10))?w="'"+I+"'":(I=parseInt(I,10),w=(w=s(I).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof _=="number")_<0?(E=s(_).slice(3),N="-"):(E=s(_).slice(2),N=""),E=N+E.slice(0,-1)+r[E.slice(-1)];else{if(zn(_)!=="object")throw new Error("Don't know what to do with value type "+zn(_)+".");E=a(_)}L.push(w+E)}return L.push("}"),L.join("")},u=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,w,E,N,L={},I=1,j=L,q=[],ee="",ie="",de=y.length-1,z=1;z<de;z+=1)(N=y[z])=="'"?_?(E=_.join(""),_=void 0):_=[]:_?_.push(N):N=="{"?(q.push([j,E]),j={},E=void 0):N=="}"?((w=q.pop())[0][w[1]]=j,E=void 0,j=w[0]):N=="-"?I=-1:E===void 0?t.hasOwnProperty(N)?(ee+=t[N],E=parseInt(ee,16)*I,I=1,ee=""):ee+=N:t.hasOwnProperty(N)?(ie+=t[N],j[E]=parseInt(ie,16)*I,I=1,E=void 0,ie=""):ie+=N;return L},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var _=y.font,w=m.Unicode[_.postScriptName];w&&(_.metadata.Unicode={},_.metadata.Unicode.widths=w.widths,_.metadata.Unicode.kerning=w.kerning);var E=h.Unicode[_.postScriptName];E&&(_.metadata.Unicode.encoding=E,_.encoding=E.codePages[0])}])}(Ut.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Zf(u)),a.metadata=n.API.TTFFont.open(u),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ut),function(n){function e(){return(Ht.canvg?Promise.resolve(Ht.canvg):iy(()=>import("./index.es-B63tn9jw.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Ut.API.addSvgAsImage=function(t,r,i,s,a,u,c,h){if(isNaN(r)||isNaN(i))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=s,m.height=a;var y=m.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,m.width,m.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return e().then(function(E){return E.fromString(y,t,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(_)}).then(function(){w.addImage(m.toDataURL("image/jpeg",1),r,i,s,a,c,h)})}}(),Ut.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Ut.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(a),c=[],h=0,m=0,y=0;function _(E,N){var L,I=!1;for(L=0;L<E.length;L+=1)E[L]===N&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=u.length;for(y=0;y<w;y+=1)t[u[y]].value=t[u[y]].defaultValue,t[u[y]].explicitSet=!1}if(zn(n)==="object"){for(i in n)if(s=n[i],_(u,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&_(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(m=0;m<s[h].length;m+=1)typeof s[h][m]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,N=[];for(E in t)t[E].explicitSet===!0&&(t[E].type==="name"?N.push("/"+E+" /"+t[E].value):N.push("/"+E+" "+t[E].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+a.length+u.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ut.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var u,c=a.metadata.Unicode.widths,h=["","0","00","000","0000"],m=[""],y=0,_=s.length;y<_;++y){if(u=a.metadata.characterToGlyph(s.charCodeAt(y)),a.metadata.glyIdsUsed.push(u),a.metadata.toUnicode[u]=s.charCodeAt(y),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(a.metadata.widthOfGlyph(u),10)])),u=="0")return m.join("");u=u.toString(16),m.push(h[4-u.length],u)}return m.join("")},r=function(s){var a,u,c,h,m,y,_;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],y=0,_=(u=Object.keys(s).sort(function(w,E){return w-E})).length;y<_;y++)a=u[y],c.length>=100&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(h=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+h+">"));return c.length&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var u=a.font,c=a.out,h=a.newObject,m=a.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,_=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),w="",E=0;E<_.length;E++)w+=String.fromCharCode(_[E]);var N=h();m({data:w,addLength1:!0,objectId:N}),c("endobj");var L=h();m({data:r(u.metadata.toUnicode),addLength1:!0,objectId:L}),c("endobj");var I=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Sh(u.fontName)),c("/FontFile2 "+N+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var j=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Sh(u.fontName)),c("/FontDescriptor "+I+" 0 R"),c("/W "+n.API.PDFObject.convert(y)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+L+" 0 R"),c("/BaseFont /"+Sh(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var u=a.font,c=a.out,h=a.newObject,m=a.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,_="",w=0;w<y.length;w++)_+=String.fromCharCode(y[w]);var E=h();m({data:_,addLength1:!0,objectId:E}),c("endobj");var N=h();m({data:r(u.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var L=h();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+Sh(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=h();for(var I=0;I<u.metadata.hmtx.widths.length;I++)u.metadata.hmtx.widths[I]=parseInt(u.metadata.hmtx.widths[I]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Sh(u.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,u=s.text||"",c=s.x,h=s.y,m=s.options||{},y=s.mutex||{},_=y.pdfEscape,w=y.activeFontKey,E=y.fonts,N=w,L="",I=0,j="",q=E[N].encoding;if(E[N].encoding!=="Identity-H")return{text:u,x:c,y:h,options:m,mutex:y};for(j=u,N=w,Array.isArray(u)&&(j=u[0]),I=0;I<j.length;I+=1)E[N].metadata.hasOwnProperty("cmap")&&(a=E[N].metadata.cmap.unicode.codeMap[j[I].charCodeAt(0)]),a||j[I].charCodeAt(0)<256&&E[N].metadata.hasOwnProperty("Unicode")?L+=j[I]:L+="";var ee="";return parseInt(N.slice(1))<14||q==="WinAnsiEncoding"?ee=_(L,N).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):q==="Identity-H"&&(ee=t(L,E[N])),y.isHex=!0,{text:ee,x:c,y:h,options:m,mutex:y}};e.events.push(["postProcessText",function(s){var a=s.text||"",u=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?u.push([i(Object.assign({},c,{text:a[h][0]})).text,a[h][1],a[h][2]]):u.push(i(Object.assign({},c,{text:a[h]})).text);s.text=u}else s.text=i(Object.assign({},c,{text:a})).text}])}(Ut),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ut.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,u,c,h,m,y=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,q=0;this.__bidiEngine__={};var ee=function(D){var M=D.charCodeAt(),F=M>>8,se=N[F];return se!==void 0?y[256*se+(255&M)]:F===252||F===253?"AL":I.test(F)?"L":F===8?"R":"N"},ie=function(D){for(var M,F=0;F<D.length;F++){if((M=ee(D.charAt(F)))==="L")return!1;if(M==="R")return!0}return!1},de=function(D,M,F,se){var Le,Ne,Te,ne,ve=M[se];switch(ve){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(ve="AN");break;case"AL":j=!0,ve="R";break;case"WS":ve="N";break;case"CS":se<1||se+1>=M.length||(Le=F[se-1])!=="EN"&&Le!=="AN"||(Ne=M[se+1])!=="EN"&&Ne!=="AN"?ve="N":j&&(Ne="AN"),ve=Ne===Le?Ne:"N";break;case"ES":ve=(Le=se>0?F[se-1]:"B")==="EN"&&se+1<M.length&&M[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&F[se-1]==="EN"){ve="EN";break}if(j){ve="N";break}for(Te=se+1,ne=M.length;Te<ne&&M[Te]==="ET";)Te++;ve=Te<ne&&M[Te]==="EN"?"EN":"N";break;case"NSM":if(a&&!u){for(ne=M.length,Te=se+1;Te<ne&&M[Te]==="NSM";)Te++;if(Te<ne){var ye=D[se],ue=ye>=1425&&ye<=2303||ye===64286;if(Le=M[Te],ue&&(Le==="R"||Le==="AL")){ve="R";break}}}ve=se<1||(Le=M[se-1])==="B"?"N":F[se-1];break;case"B":j=!1,i=!0,ve=q;break;case"S":s=!0,ve="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":ve="N"}return ve},z=function(D,M,F){var se=D.split("");return F&&k(se,F,{hiLevel:q}),se.reverse(),M&&M.reverse(),se.join("")},k=function(D,M,F){var se,Le,Ne,Te,ne,ve=-1,ye=D.length,ue=0,O=[],X=q?w:_,Z=[];for(j=!1,i=!1,s=!1,Le=0;Le<ye;Le++)Z[Le]=ee(D[Le]);for(Ne=0;Ne<ye;Ne++){if(ne=ue,O[Ne]=de(D,Z,O,Ne),se=240&(ue=X[ne][E[O[Ne]]]),ue&=15,M[Ne]=Te=X[ue][5],se>0)if(se===16){for(Le=ve;Le<Ne;Le++)M[Le]=1;ve=-1}else ve=-1;if(X[ue][6])ve===-1&&(ve=Ne);else if(ve>-1){for(Le=ve;Le<Ne;Le++)M[Le]=Te;ve=-1}Z[Ne]==="B"&&(M[Ne]=0),F.hiLevel|=Te}s&&function(oe,ce,_e){for(var Ae=0;Ae<_e;Ae++)if(oe[Ae]==="S"){ce[Ae]=q;for(var Ee=Ae-1;Ee>=0&&oe[Ee]==="WS";Ee--)ce[Ee]=q}}(Z,M,ye)},U=function(D,M,F,se,Le){if(!(Le.hiLevel<D)){if(D===1&&q===1&&!i)return M.reverse(),void(F&&F.reverse());for(var Ne,Te,ne,ve,ye=M.length,ue=0;ue<ye;){if(se[ue]>=D){for(ne=ue+1;ne<ye&&se[ne]>=D;)ne++;for(ve=ue,Te=ne-1;ve<Te;ve++,Te--)Ne=M[ve],M[ve]=M[Te],M[Te]=Ne,F&&(Ne=F[ve],F[ve]=F[Te],F[Te]=Ne);ue=ne}ue++}}},G=function(D,M,F){var se=D.split(""),Le={hiLevel:q};return F||(F=[]),k(se,F,Le),function(Ne,Te,ne){if(ne.hiLevel!==0&&m)for(var ve,ye=0;ye<Ne.length;ye++)Te[ye]===1&&(ve=L.indexOf(Ne[ye]))>=0&&(Ne[ye]=L[ve+1])}(se,F,Le),U(2,se,M,F,Le),U(1,se,M,F,Le),se.join("")};return this.__bidiEngine__.doBidiReorder=function(D,M,F){if(function(Le,Ne){if(Ne)for(var Te=0;Te<Le.length;Te++)Ne[Te]=Te;u===void 0&&(u=ie(Le)),h===void 0&&(h=ie(Le))}(D,M),a||!c||h)if(a&&c&&u^h)q=u?1:0,D=z(D,M,F);else if(!a&&c&&h)q=u?1:0,D=G(D,M,F),D=z(D,M);else if(!a||u||c||h){if(a&&!c&&u^h)D=z(D,M),u?(q=0,D=G(D,M,F)):(q=1,D=G(D,M,F),D=z(D,M));else if(a&&u&&!c&&h)q=1,D=G(D,M,F),D=z(D,M);else if(!a&&!c&&u^h){var se=m;u?(q=1,D=G(D,M,F),q=0,m=!1,D=G(D,M,F),m=se):(q=0,D=G(D,M,F),D=z(D,M),q=1,m=!1,D=G(D,M,F),m=se,D=z(D,M))}}else q=0,D=G(D,M,F);else q=u?1:0,D=G(D,M,F);return D},this.__bidiEngine__.setOptions=function(D){D&&(a=D.isInputVisual,c=D.isOutputVisual,u=D.isInputRtl,h=D.isOutputRtl,m=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(a=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?a.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):a.push([t.doBidiReorder(i[u])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Ut),Ut.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Xu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new oV(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new W9(this.contents),this.head=new K9(this),this.name=new Z9(this),this.cmap=new O3(this),this.toUnicode={},this.hhea=new Y9(this),this.maxp=new eV(this),this.hmtx=new tV(this),this.post=new X9(this),this.os2=new Q9(this),this.loca=new sV(this),this.glyf=new nV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,u,c,h;for(h=[],a=0,u=(c=this.bbox).length;a<u;a++)e=c[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,u;for(a=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var ya,Xu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,u,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*u+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),W9=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,u,c,h,m,y,_,w,E,N;for(N in w=Object.keys(t).length,c=Math.log(2),y=16*Math.floor(Math.log(w)/c),a=Math.floor(y/c),m=16*w-y,(i=new Xu).writeInt(this.scalarType),i.writeShort(w),i.writeShort(y),i.writeShort(a),i.writeShort(m),s=16*w,h=i.pos+s,u=null,E=[],t)for(_=t[N],i.writeString(N),i.writeInt(n(_)),i.writeInt(h),i.writeInt(_.length),E=E.concat(_),N==="head"&&(u=h),h+=_.length;h%4;)E.push(0),h++;return i.write(E),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=M3.call(t);t.length%4;)t.push(0);for(s=new Xu(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),G9={}.hasOwnProperty,Za=function(n,e){for(var t in e)G9.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ya=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var K9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Xu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),e4=function(){function n(e,t){var r,i,s,a,u,c,h,m,y,_,w,E,N,L,I,j,q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(w=e.readUInt16(),_=w/2,e.pos+=6,s=function(){var ee,ie;for(ie=[],c=ee=0;0<=_?ee<_:ee>_;c=0<=_?++ee:--ee)ie.push(e.readUInt16());return ie}(),e.pos+=2,N=function(){var ee,ie;for(ie=[],c=ee=0;0<=_?ee<_:ee>_;c=0<=_?++ee:--ee)ie.push(e.readUInt16());return ie}(),h=function(){var ee,ie;for(ie=[],c=ee=0;0<=_?ee<_:ee>_;c=0<=_?++ee:--ee)ie.push(e.readUInt16());return ie}(),m=function(){var ee,ie;for(ie=[],c=ee=0;0<=_?ee<_:ee>_;c=0<=_?++ee:--ee)ie.push(e.readUInt16());return ie}(),i=(this.length-e.pos+this.offset)/2,u=function(){var ee,ie;for(ie=[],c=ee=0;0<=i?ee<i:ee>i;c=0<=i?++ee:--ee)ie.push(e.readUInt16());return ie}(),c=I=0,q=s.length;I<q;c=++I)for(L=s[c],r=j=E=N[c];E<=L?j<=L:j>=L;r=E<=L?++j:--j)m[c]===0?a=r+h[c]:(a=u[m[c]/2+(r-E)-(_-c)]||0)!==0&&(a+=h[c]),this.codeMap[r]=65535&a}e.pos=y}return n.encode=function(e,t){var r,i,s,a,u,c,h,m,y,_,w,E,N,L,I,j,q,ee,ie,de,z,k,U,G,D,M,F,se,Le,Ne,Te,ne,ve,ye,ue,O,X,Z,oe,ce,_e,Ae,Ee,Ke,Ye,ft;switch(se=new Xu,a=Object.keys(e).sort(function(lt,Nt){return lt-Nt}),t){case"macroman":for(N=0,L=function(){var lt=[];for(E=0;E<256;++E)lt.push(0);return lt}(),j={0:0},s={},Le=0,ve=a.length;Le<ve;Le++)j[Ee=e[i=a[Le]]]==null&&(j[Ee]=++N),s[i]={old:e[i],new:j[e[i]]},L[i]=j[e[i]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(L),{charMap:s,subtable:se.data,maxGlyphID:N+1};case"unicode":for(M=[],y=[],q=0,j={},r={},I=h=null,Ne=0,ye=a.length;Ne<ye;Ne++)j[ie=e[i=a[Ne]]]==null&&(j[ie]=++q),r[i]={old:ie,new:j[ie]},u=j[ie]-i,I!=null&&u===h||(I&&y.push(I),M.push(i),h=u),I=i;for(I&&y.push(I),y.push(65535),M.push(65535),G=2*(U=M.length),k=2*Math.pow(Math.log(U)/Math.LN2,2),_=Math.log(k/2)/Math.LN2,z=2*U-k,c=[],de=[],w=[],E=Te=0,ue=M.length;Te<ue;E=++Te){if(D=M[E],m=y[E],D===65535){c.push(0),de.push(0);break}if(D-(F=r[D].new)>=32768)for(c.push(0),de.push(2*(w.length+U-E)),i=ne=D;D<=m?ne<=m:ne>=m;i=D<=m?++ne:--ne)w.push(r[i].new);else c.push(F-D),de.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*U+2*w.length),se.writeUInt16(0),se.writeUInt16(G),se.writeUInt16(k),se.writeUInt16(_),se.writeUInt16(z),_e=0,O=y.length;_e<O;_e++)i=y[_e],se.writeUInt16(i);for(se.writeUInt16(0),Ae=0,X=M.length;Ae<X;Ae++)i=M[Ae],se.writeUInt16(i);for(Ke=0,Z=c.length;Ke<Z;Ke++)u=c[Ke],se.writeUInt16(u);for(Ye=0,oe=de.length;Ye<oe;Ye++)ee=de[Ye],se.writeUInt16(ee);for(ft=0,ce=w.length;ft<ce;ft++)N=w[ft],se.writeUInt16(N);return{charMap:r,subtable:se.data,maxGlyphID:q+1}}},n}(),O3=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new e4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=e4.encode(t,r),(s=new Xu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Y9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Q9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),X9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var u,c,h;for(h=[],a=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;a=0<=c?++u:--u)h.push(t.readUInt32());return h}).call(this)}},e}(),J9=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Z9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,a,u,c,h,m,y,_,w;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(h={},a=y=0,_=i.length;y<_;a=++y)s=i[a],t.pos=s.offset,m=t.readString(s.length),u=new J9(m,s),h[w=s.nameID]==null&&(h[w]=[]),h[s.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),eV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),tV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,u,c,h;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,y;for(y=[],r=m=0;0<=s?m<s:m>s;r=0<=s?++m:--m)y.push(t.readInt16());return y}(),this.widths=(function(){var m,y,_,w;for(w=[],m=0,y=(_=this.metrics).length;m<y;m++)a=_[m],w.push(a.advance);return w}).call(this),i=this.widths[this.widths.length-1],h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),M3=[].slice,nV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,a,u,c,h,m,y,_;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,u=(c=new Xu(r.read(s))).readShort(),m=c.readShort(),_=c.readShort(),h=c.readShort(),y=c.readShort(),this.cache[t]=u===-1?new iV(c,m,_,h,y):new rV(c,u,m,_,h,y),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,a,u,c,h;for(u=[],a=[],c=0,h=r.length;c<h;c++)s=t[r[c]],a.push(u.length),s&&(u=u.concat(s.encode(i)));return a.push(u.length),{table:u,offsets:a}},e}(),rV=function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),iV=function(){function n(e,t,r,i,s){var a,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;u=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&u;)a.pos+=1&u?4:2,128&u?a.pos+=8:64&u?a.pos+=4:8&u&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Xu(M3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),sV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Za(e,ya),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,u=0;u<i.length;++u)if(i[u]=s,a<r.length&&r[a]==u){++a,i[u]=s;var c=this.offsets[u],h=this.offsets[u+1]-c;h>0&&(s+=h)}for(var m=new Array(4*i.length),y=0;y<i.length;++y)m[4*y+3]=255&i[y],m[4*y+2]=(65280&i[y])>>8,m[4*y+1]=(16711680&i[y])>>16,m[4*y]=(4278190080&i[y])>>24;return m},e}(),oV=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,u,c;for(i={},a=0,u=e.length;a<u;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,u,c,h,m,y,_,w,E,N,L,I;for(i in r=O3.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),w={0:0},I=r.charMap)w[(c=I[i]).old]=c.new;for(E in _=r.maxGlyphID,a)E in w||(w[E]=_++);return m=function(j){var q,ee;for(q in ee={},j)ee[j[q]]=q;return ee}(w),y=Object.keys(m).sort(function(j,q){return j-q}),N=function(){var j,q,ee;for(ee=[],j=0,q=y.length;j<q;j++)u=y[j],ee.push(m[u]);return ee}(),s=this.font.glyf.encode(a,N,w),h=this.font.loca.encode(s.offsets,N),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},n}();Ut.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+function(){var u,c,h;for(h=[],u=0,c=t.length;u<c;u++)r=t[u],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();function j3(n,e,t,r,i){r=r||{};var s=1.15,a=i.internal.scaleFactor,u=i.internal.getFontSize()/a,c=i.getLineHeightFactor?i.getLineHeightFactor():s,h=u*c,m=/\r\n|\r|\n/g,y="",_=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(y=typeof n=="string"?n.split(m):n,_=y.length||1),t+=u*(2-s),r.valign==="middle"?t-=_/2*h:r.valign==="bottom"&&(t-=_*h),r.halign==="center"||r.halign==="right"){var w=u;if(r.halign==="center"&&(w*=.5),y&&_>=1){for(var E=0;E<y.length;E++)i.text(y[E],e-i.getStringUnitWidth(y[E])*w,t),t+=h;return i}e-=i.getStringUnitWidth(n)*w}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var t4={},Bh=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:t4=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),u=a.fontStyle,c=a.fontName;if(e.font&&(c=e.font),e.fontStyle){u=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),u=h[0])}if(this.jsPDFDocument.setFont(c,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var m=n.unifyColor(e.fillColor);m&&(r=this.jsPDFDocument).setFillColor.apply(r,m),m=n.unifyColor(e.textColor),m&&(i=this.jsPDFDocument).setTextColor.apply(i,m),m=n.unifyColor(e.lineColor),m&&(s=this.jsPDFDocument).setDrawColor.apply(s,m),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,s){return this.jsPDFDocument.rect(e,t,r,i,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return t4||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),gy=function(n,e){return gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},gy(n,e)};function F3(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gy(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var V3=function(n){F3(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e}(Array);function aV(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function lV(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Mm(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function B3(n,e,t,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:s});var a=U3(i,!1);a&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,a)}function U3(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Tg(n,e){var t,r,i,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function z3(n,e){var t=Tg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function uV(n,e,t,r,i){var s={},a=1.3333333333333333,u=t1(e,function(q){return i.getComputedStyle(q).backgroundColor});u!=null&&(s.fillColor=u);var c=t1(e,function(q){return i.getComputedStyle(q).color});c!=null&&(s.textColor=c);var h=hV(r,t);h&&(s.cellPadding=h);var m="borderTopColor",y=a*t,_=r.borderTopWidth;if(r.borderBottomWidth===_&&r.borderRightWidth===_&&r.borderLeftWidth===_){var w=(parseFloat(_)||0)/y;w&&(s.lineWidth=w)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/y,right:(parseFloat(r.borderRightWidth)||0)/y,bottom:(parseFloat(r.borderBottomWidth)||0)/y,left:(parseFloat(r.borderLeftWidth)||0)/y},s.lineWidth.top||(s.lineWidth.right?m="borderRightColor":s.lineWidth.bottom?m="borderBottomColor":s.lineWidth.left&&(m="borderLeftColor"));var E=t1(e,function(q){return i.getComputedStyle(q)[m]});E!=null&&(s.lineColor=E);var N=["left","right","center","justify"];N.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),N=["middle","bottom","top"],N.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var L=parseInt(r.fontSize||"");isNaN(L)||(s.fontSize=L/a);var I=cV(r);I&&(s.fontStyle=I);var j=(r.fontFamily||"").toLowerCase();return n.indexOf(j)!==-1&&(s.font=j),s}function cV(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function t1(n,e){var t=q3(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function q3(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:q3(n.parentElement,e):t}function hV(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(u){return parseInt(u||"0")/r}),a=Tg(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function H3(n,e,t,r,i){var s,a;r===void 0&&(r=!1),i===void 0&&(i=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var c=Object.keys(n.getFontList()),h=n.scaleFactor(),m=[],y=[],_=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:m,body:y,foot:_};for(var w=0;w<u.rows.length;w++){var E=u.rows[w],N=(a=(s=E==null?void 0:E.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),L=fV(c,h,t,E,r,i);L&&(N==="thead"?m.push(L):N==="tfoot"?_.push(L):y.push(L))}return{head:m,body:y,foot:_}}function fV(n,e,t,r,i,s){for(var a=new V3(r),u=0;u<r.cells.length;u++){var c=r.cells[u],h=t.getComputedStyle(c);if(i||h.display!=="none"){var m=void 0;s&&(m=uV(n,c,e,h,t)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:m,_element:c,content:dV(c)})}}var y=t.getComputedStyle(r);if(a.length>0&&(i||y.display!=="none"))return a}function dV(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function pV(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Pl(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),a=1;a<arguments.length;a++){var u=arguments[a];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(s[c]=u[c])}return s}function mV(n,e){var t=new Bh(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();pV(i,r,e);var s=Pl({},i,r,e),a;typeof window<"u"&&(a=window);var u=gV(i,r,e),c=yV(i,r,e),h=vV(t,s),m=_V(t,s,a);return{id:e.tableId,content:m,hooks:c,styles:u,settings:h}}function gV(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var h=n[c],m=e[c],y=t[c];r.columnStyles=Pl({},h,m,y)}else{var _=[n,e,t],w=_.map(function(E){return E[c]||{}});r[c]=Pl({},w[0],w[1],w[2])}},s=0,a=Object.keys(r);s<a.length;s++){var u=a[s];i(u)}return r}function yV(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=r;s<a.length;s++){var u=a[s];u.didParseCell&&i.didParseCell.push(u.didParseCell),u.willDrawCell&&i.willDrawCell.push(u.willDrawCell),u.didDrawCell&&i.didDrawCell.push(u.didDrawCell),u.willDrawPage&&i.willDrawPage.push(u.willDrawPage),u.didDrawPage&&i.didDrawPage.push(u.didDrawPage)}return i}function vV(n,e){var t,r,i,s,a,u,c,h,m,y,_,w,E=Tg(e.margin,40/n.scaleFactor()),N=(t=wV(n,e.startY))!==null&&t!==void 0?t:E.top,L;e.showFoot===!0?L="everyPage":e.showFoot===!1?L="never":L=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var I;e.showHead===!0?I="everyPage":e.showHead===!1?I="never":I=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var j=(s=e.useCss)!==null&&s!==void 0?s:!1,q=e.theme||(j?"plain":"striped"),ee=!!e.horizontalPageBreak,ie=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:j,theme:q,startY:N,margin:E,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(m=e.tableWidth)!==null&&m!==void 0?m:"auto",showHead:I,showFoot:L,tableLineWidth:(y=e.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(_=e.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:ee,horizontalPageBreakRepeat:ie,horizontalPageBreakBehaviour:(w=e.horizontalPageBreakBehaviour)!==null&&w!==void 0?w:"afterAllRows"}}function wV(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function _V(n,e,t){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var u=H3(n,e.html,t,a,e.useCss)||{};r=u.head||r,i=u.body||r,s=u.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||bV(r,i,s);return{columns:c,head:r,body:i,foot:s}}function bV(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,u;Array.isArray(r)?u=r[parseInt(s)]:u=r[s],typeof u=="object"&&!Array.isArray(u)&&(a=(u==null?void 0:u.colSpan)||1);for(var c=0;c<a;c++){var h=void 0;Array.isArray(r)?h=i.length:h=s+(c>0?"_".concat(c):"");var m={dataKey:h};i.push(m)}}),i}var yy=function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n}(),SV=function(n){F3(e,n);function e(t,r,i,s,a,u){var c=n.call(this,t,r,u)||this;return c.cell=i,c.row=s,c.column=a,c.section=s.section,c}return e}(yy),xV=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,s,a){for(var u=0,c=t;u<c.length;u++){var h=c[u],m=new SV(e,this,r,i,s,a),y=h(m)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],y)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new yy(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new yy(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n}(),$3=function(){function n(e,t,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof V3&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,s){var a=r.cells[s.index];if(!a)return 0;var u=t.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),h=c+u;return h>i?h:i},0)},n}(),W3=function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",u=/\r\n|\r|\n/g;this.text=a.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Tg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),TV=function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},n}();function AV(n,e){EV(n,e);var t=[],r=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),r+=s.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=vy(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=vy(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),PV(e),CV(e,n),IV(e)}function EV(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=z3(n,e);e.allRows().forEach(function(s){for(var a=0,u=e.columns;a<u.length;a++){var c=u[a],h=s.cells[c.index];if(h){var m=e.hooks.didParseCell;e.callCellHooks(n,m,h,s,c,null);var y=h.padding("horizontal");h.contentWidth=Mm(h.text,h.styles,n)+y;var _=Mm(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,n);if(h.minReadableWidth=_+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||r===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var w=10/t;h.minWidth=h.styles.minCellWidth||w,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,u=e.columns;a<u.length;a++){var c=u[a],h=s.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var m=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},y=m.cellWidth||m.minCellWidth;y&&typeof y=="number"&&(c.minWidth=y,c.wrappedWidth=y)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function vy(n,e,t){for(var r=e,i=n.reduce(function(w,E){return w+E.wrappedWidth},0),s=0;s<n.length;s++){var a=n[s],u=a.wrappedWidth/i,c=r*u,h=a.width+c,m=t(a),y=h<m?m:h;e-=y-a.width,a.width=y}if(e=Math.round(e*1e10)/1e10,e){var _=n.filter(function(w){return e<0?w.width>t(w):!0});_.length&&(e=vy(_,e,t))}return e}function IV(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var s=r[i],a=0,u=n.columns;a<u.length;a++){var c=u[a],h=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(h)h.cell.height+=s.height,t=h.cell.colSpan,delete s.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var m=s.cells[c.index];if(!m)continue;if(m.height=s.height,m.rowSpan>1){var y=r.length-i,_=m.rowSpan>y?y:m.rowSpan;e[c.index]={cell:m,left:_,row:s}}}}}function PV(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,s=0,a=0,u=0;u<n.columns.length;u++){var c=n.columns[u];if(a-=1,a>1&&n.columns[u+1])s+=c.width,delete r.cells[c.index];else if(i){var h=i;delete r.cells[c.index],i=null,h.width=c.width+s}else{var h=r.cells[c.index];if(!h)continue;if(a=h.colSpan,s=0,h.colSpan>1){i=h,s+=c.width;continue}h.width=c.width+s}}}function CV(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var s=i[r],a=0,u=n.columns;a<u.length;a++){var c=u[a],h=s.cells[c.index];if(h){e.applyStyles(h.styles,!0);var m=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,m+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=n4(h.text,m,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=n4(h.text,m,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var y=h.styles.overflow(h.text,m);typeof y=="string"?h.text=[y]:h.text=y}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var _=h.contentHeight/h.rowSpan;h.rowSpan>1&&t.count*t.height<_*h.rowSpan?t={height:_,count:h.rowSpan}:t&&t.count>0&&t.height>_&&(_=t.height),_>s.height&&(s.height=_)}}t.count--}}function n4(n,e,t,r,i){return n.map(function(s){return NV(s,e,t,r,i)})}function NV(n,e,t,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Mm(n,t,r))return n;for(;e<Mm(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function kV(n,e){var t=new Bh(n),r=LV(e,t.scaleFactor()),i=new xV(e,r);return AV(t,i),t.applyStyles(t.userStyles),i}function LV(n,e){var t=n.content,r=DV(t.columns);if(t.head.length===0){var i=r4(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=r4(r,"foot");i&&t.foot.push(i)}var s=n.settings.theme,a=n.styles;return{columns:r,head:n1("head",t.head,r,a,s,e),body:n1("body",t.body,r,a,s,e),foot:n1("foot",t.foot,r,a,s,e)}}function n1(n,e,t,r,i,s){var a={},u=e.map(function(c,h){for(var m=0,y={},_=0,w=0,E=0,N=t;E<N.length;E++){var L=N[E];if(a[L.index]==null||a[L.index].left===0)if(w===0){var I=void 0;Array.isArray(c)?I=c[L.index-_-m]:I=c[L.dataKey];var j={};typeof I=="object"&&!Array.isArray(I)&&(j=(I==null?void 0:I.styles)||{});var q=OV(n,L,h,i,r,s,j),ee=new W3(I,q,n);y[L.dataKey]=ee,y[L.index]=ee,w=ee.colSpan-1,a[L.index]={left:ee.rowSpan-1,times:w}}else w--,_++;else a[L.index].left--,w=a[L.index].times,m++}return new $3(c,h,n,y)});return u}function r4(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=RV(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function RV(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function DV(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new TV(i,e,t)})}function OV(n,e,t,r,i,s,a){var u=lV(r),c;n==="head"?c=i.headStyles:n==="body"?c=i.bodyStyles:n==="foot"&&(c=i.footStyles);var h=Pl({},u.table,u[n],i.styles,c),m=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},y=n==="body"?m:{},_=n==="body"&&t%2===0?Pl({},u.alternateRow,i.alternateRowStyles):{},w=aV(s),E=Pl({},w,h,_,y);return Pl(E,a)}function MV(n,e,t){var r;t===void 0&&(t={});var i=z3(n,e),s=new Map,a=[],u=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(_){var w=e.columns.find(function(E){return E.dataKey===_||E.index===_});w&&!s.has(w.index)&&(s.set(w.index,!0),a.push(w.index),u.push(e.columns[w.index]),i-=w.wrappedWidth)});for(var h=!0,m=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;m<e.columns.length;){if(s.has(m)){m++;continue}var y=e.columns[m].wrappedWidth;if(h||i>=y)h=!1,a.push(m),u.push(e.columns[m]),i-=y;else break;m++}return{colIndexes:a,columns:u,lastIndex:m-1}}function jV(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=MV(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function FV(n,e){var t=e.settings,r=t.startY,i=t.margin,s={x:i.left,y:r},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=r+i.bottom+a;if(t.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(_,w){return _+w.height},0);u+=h}var m=new Bh(n);(t.pageBreak==="always"||t.startY!=null&&u>m.pageSize().height)&&(K3(m),s.y=i.top),e.callWillDrawPageHooks(m,s);var y=Pl({},s);e.startPageNumber=m.pageNumber(),t.horizontalPageBreak?VV(m,e,y,s):(m.applyStyles(m.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(_){return Bl(m,e,_,s,e.columns)}),m.applyStyles(m.userStyles),e.body.forEach(function(_,w){var E=w===e.body.length-1;jm(m,e,_,E,y,s,e.columns)}),m.applyStyles(m.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(_){return Bl(m,e,_,s,e.columns)})),B3(m,e,y,s),e.callEndPageHooks(m,s),e.finalY=s.y,n.lastAutoTable=e,m.applyStyles(m.userStyles)}function VV(n,e,t,r){var i=jV(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,m){n.applyStyles(n.userStyles),m>0?ed(n,e,t,r,h.columns,!0):i4(n,e,r,h.columns),BV(n,e,t,r,h.columns),r1(n,e,r,h.columns)});else for(var a=-1,u=i[0],c=function(){var h=a;if(u){n.applyStyles(n.userStyles);var m=u.columns;a>=0?ed(n,e,t,r,m,!0):i4(n,e,r,m),h=s4(n,e,a+1,r,m),r1(n,e,r,m)}var y=h-a;i.slice(1).forEach(function(_){n.applyStyles(n.userStyles),ed(n,e,t,r,_.columns,!0),s4(n,e,a+1,r,_.columns,y),r1(n,e,r,_.columns)}),a=h};a<e.body.length-1;)c()}function i4(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Bl(n,e,s,t,r)})}function BV(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(s,a){var u=a===e.body.length-1;jm(n,e,s,u,t,r,i)})}function s4(n,e,t,r,i,s){n.applyStyles(n.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),u=-1;return e.body.slice(t,a).forEach(function(c,h){var m=t+h===e.body.length-1,y=G3(n,e,m,r);c.canEntireRowFit(y,i)&&(Bl(n,e,c,r,i),u=t+h)}),u}function r1(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Bl(n,e,s,t,r)})}function UV(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function zV(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var s=0,a=0,u=t.columns;a<u.length;a++){var c=u[a],h=n.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var m=new W3(h.raw,h.styles,h.section);m=Pl(m,h),m.text=[];var y=UV(h,e,r);h.text.length>y&&(m.text=h.text.splice(y,h.text.length));var _=r.scaleFactor(),w=r.getLineHeightFactor();h.contentHeight=h.getContentHeight(_,w),h.contentHeight>=e&&(h.contentHeight=e,m.styles.minCellHeight-=e),h.contentHeight>n.height&&(n.height=h.contentHeight),m.contentHeight=m.getContentHeight(_,w),m.contentHeight>s&&(s=m.contentHeight),i[c.index]=m}}var E=new $3(n.raw,-1,n.section,i,!0);E.height=s;for(var N=0,L=t.columns;N<L.length;N++){var c=L[N],m=E.cells[c.index];m&&(m.height=E.height);var h=n.cells[c.index];h&&(h.height=n.height)}return E}function qV(n,e,t,r){var i=n.pageSize().height,s=r.settings.margin,a=s.top+s.bottom,u=i-a;e.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,n),h=c<t;if(c>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var m=e.hasRowSpan(r.columns),y=e.getMaxCellHeight(r.columns)>u;return y?(m&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||r.settings.rowPageBreak==="avoid")}function jm(n,e,t,r,i,s,a){var u=G3(n,e,r,s);if(t.canEntireRowFit(u,a))Bl(n,e,t,s,a);else if(qV(n,t,u,e)){var c=zV(t,u,e,n);Bl(n,e,t,s,a),ed(n,e,i,s,a),jm(n,e,c,r,i,s,a)}else ed(n,e,i,s,a),jm(n,e,t,r,i,s,a)}function Bl(n,e,t,r,i){r.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var u=a[s],c=t.cells[u.index];if(!c){r.x+=u.width;continue}n.applyStyles(c.styles),c.x=r.x,c.y=r.y;var h=e.callCellHooks(n,e.hooks.willDrawCell,c,t,u,r);if(h===!1){r.x+=u.width;continue}HV(n,c,r);var m=c.getTextPos();j3(c.text,m.x,m.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,u,r),r.x+=u.width}r.y+=t.height}function HV(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=U3(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),$V(n,e,t,r.lineWidth))}function $V(n,e,t,r){var i,s,a,u;r.top&&(i=t.x,s=t.y,a=t.x+e.width,u=t.y,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,a,u)),r.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,u=t.y+e.height,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,a,u)),r.left&&(i=t.x,s=t.y,a=t.x,u=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(u+=.5*r.bottom),c(r.left,i,s,a,u)),r.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,u=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(u+=.5*r.bottom),c(r.right,i,s,a,u));function c(h,m,y,_,w){n.getDocument().setLineWidth(h),n.getDocument().line(m,y,_,w,"S")}}function G3(n,e,t,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function ed(n,e,t,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(u){return Bl(n,e,u,r,i)}),e.callEndPageHooks(n,r);var a=e.settings.margin;B3(n,e,t,r),K3(n),e.pageNumber++,r.x=a.left,r.y=a.top,t.y=a.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return Bl(n,e,u,r,i)}),n.applyStyles(n.userStyles))}function K3(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function Y3(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=mV(this,r),s=kV(this,i);return FV(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){j3(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return Bh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Bh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Bh(this),s=H3(i,e,window,t,!1),a=s.head,u=s.body,c=((r=a[0])===null||r===void 0?void 0:r.map(function(h){return h.content}))||[];return{columns:c,rows:u,data:u}}}var i1;try{if(typeof window<"u"&&window){var o4=window,a4=o4.jsPDF||((i1=o4.jspdf)===null||i1===void 0?void 0:i1.jsPDF);a4&&Y3(a4)}}catch(n){console.error("Could not apply autoTable plugin",n)}Y3(Ut);const WV=()=>{const n=xd(),e=jT(n),[t,r]=re.useState("dashboard"),[i,s]=re.useState(!1),[a,u]=re.useState([]),[c,h]=re.useState({name:"",price:0,quantity:0,image:null,_id:null,imageURL:"",category:""}),[m,y]=re.useState(!1),[_,w]=re.useState(!1),[E,N]=re.useState(null),[L,I]=re.useState(""),[j,q]=re.useState(""),[ee,ie]=re.useState(""),[de,z]=re.useState(""),[k,U]=re.useState(null),[G,D]=re.useState(!1),[M,F]=re.useState("all"),[se,Le]=re.useState([]),[Ne,Te]=re.useState([]);re.useEffect(()=>{const ze=Fa(Kr,"orders"),Qe=Jw(ze,Zw("status","in",["Pending","Preparing","Ready to Pickup"]),i8("dateTime","desc")),pt=Th(Qe,zt=>{const Xe=zt.docs.map(nt=>({id:nt.id,...nt.data()}));Te(Xe),console.log(" Updated active orders:",Xe)});return()=>pt()},[]);const ne=[...Ne].sort((ze,Qe)=>new Date(ze.dateTime)-new Date(Qe.dateTime)),ve=ne[0],ye=ne.slice(1),ue=ze=>{switch(ze){case"Pending":return 10;case"Preparing":return Math.floor(Math.random()*31)+50;case"Ready to Pickup":return 100;default:return 0}},O=ye.map((ze,Qe)=>({...ze,progress:ue(ze.status)})),[X,Z]=re.useState([{id:1,name:"Juan Dela Cruz",schoolId:"27-5646-456",type:"student"},{id:2,name:"Maria Clara",schoolId:"43-5455-454",type:"faculty"},{id:3,name:"Pedro Penduko",schoolId:"23-2345-546",type:"staff"}]),[oe,ce]=re.useState(""),[_e,Ae]=re.useState(""),[Ee,Ke]=re.useState(""),[Ye,ft]=re.useState(!1);se.filter(ze=>ze.status==="Completed"||ze.status==="Cancelled");const lt=()=>{ft(!Ye)},Nt=()=>{if(!se||se.length===0)return C.jsx("p",{children:"No past transactions available."});const ze=se.filter(Qe=>Qe.status==="Completed"||Qe.status==="Cancelled");return Ye&&C.jsx("div",{className:"modal-overlay",children:C.jsxs("div",{className:"modal",children:[C.jsx("h2",{children:"Past Transactions"}),C.jsxs("table",{className:"transactions-table",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"Order Number"}),C.jsx("th",{children:"Name"}),C.jsx("th",{children:"Date Ordered"}),C.jsx("th",{children:"Total Amount"}),C.jsx("th",{children:"Items"}),C.jsx("th",{children:"Status"}),C.jsx("th",{children:"Payment Method"})]})}),C.jsx("tbody",{children:ze.map(Qe=>{var pt;return C.jsxs("tr",{children:[C.jsx("td",{children:Qe.orderNumber}),C.jsx("td",{children:Qe.name||"N/A"}),C.jsx("td",{children:Qe.dateTime||"N/A"}),C.jsx("td",{children:Qe.totalAmount?`${Qe.totalAmount.toFixed(2)}`:"N/A"}),C.jsx("td",{children:((pt=Qe.items)==null?void 0:pt.map((zt,Xe)=>C.jsxs("div",{children:[zt.name," (x",zt.quantity,")"]},Xe)))||"N/A"}),C.jsx("td",{children:C.jsx("span",{className:`status-badge ${Qe.status.toLowerCase()}`,children:Qe.status})}),C.jsx("td",{children:Qe.paymentMethod||"N/A"})]},Qe.orderNumber)})})]}),C.jsx("button",{className:"close-modal-button",onClick:lt,children:"Close"})]})})},je=async()=>{if(_e!==Ee){Ct.error("New password and confirm password do not match.");return}try{const ze=Bd.currentUser;if(!ze){Ct.error("No user is currently logged in.");return}const Qe=Uu.credential(ze.email,oe);await H5(ze,Qe);const pt=Uu.credential(ze.email,_e);try{await H5(ze,pt),Ct.error("New password cannot be the same as the current password.");return}catch{console.log("Password is new.")}await BN(ze,_e),Ct.success(`Password updated successfully!
Please log in again.`),setTimeout(()=>{f_(n)},3e3)}catch(ze){console.error("Error updating password:",ze.message),Ct.error(C.jsxs(C.Fragment,{children:[" Failed to update password: ",C.jsx("br",{})," ",ze.message," "]}))}},le=async(ze,Qe)=>{try{const pt=se.find(nt=>nt.orderNumber===ze);if(!pt){Ct.error("Order not found.");return}const zt=pt.status;pt.status=Qe;const Xe=Va(Kr,"orders",pt.orderNumber);Qe==="Cancelled"||Qe==="Completed"?(await Oh(Xe,{status:Qe}),Le(nt=>nt.map(Dt=>Dt.orderNumber===ze?{...Dt,status:Qe}:Dt)),Ct.success(`Order marked as ${Qe}.`)):(await Oh(Xe,{status:Qe}),Ct.success("Order status updated successfully."))}catch(pt){console.error("Error updating order status:",pt),Ct.error("Failed to update order status.")}};if(re.useEffect(()=>{sessionStorage.getItem("hasLoggedIn")==="true"&&(setTimeout(()=>{Ct.success("Login successful!")},500),sessionStorage.removeItem("hasLoggedIn"))},[]),re.useEffect(()=>{const ze=Fa(Kr,"menu"),Qe=Th(ze,pt=>{const zt=pt.docs.map(Xe=>({...Xe.data(),_id:Xe.id}));u(zt)},pt=>{console.error("Error fetching menu items:",pt),Ct.error("Failed to fetch menu items.")});return()=>Qe()},[]),re.useEffect(()=>{const ze=Fa(Kr,"orders"),Qe=Th(ze,pt=>{const zt=pt.docs.map(Xe=>({...Xe.data(),orderNumber:Xe.id}));Le(zt)},pt=>{console.error("Error fetching orders:",pt),Ct.error("Failed to fetch orders.")});return()=>Qe()},[]),re.useEffect(()=>{(async()=>{const Qe=Fa(Kr,"customers"),pt=Th(Qe,zt=>{const Xe=zt.docs.map(nt=>({id:nt.id,...nt.data()}));Z(Xe)});return()=>pt()})()},[]),e)return C.jsx("div",{children:"Loading..."});const jt=()=>{h({name:"",price:"",quantity:"",image:null,_id:null,imageURL:"",category:""}),y(!0)},xt=ze=>{h({name:ze.name,price:ze.price,quantity:ze.quantity,image:null,_id:ze._id,imageURL:ze.imageURL,category:ze.category}),y(!0)},Ze=()=>{y(!1),h({name:"",image:"",price:0,quantity:0,category:""})},it=ze=>{r(ze)},ht=()=>{s(!i)},ct=ze=>{const{name:Qe,value:pt}=ze.target;h(zt=>({...zt,[Qe]:pt}))},Ce=async ze=>{ze.preventDefault();try{let Qe=null,pt=null;if(c.image){const nt=new FormData;nt.append("file",c.image),nt.append("upload_preset","wildcats_express_menu"),nt.append("cloud_name","dxbkzby8x");const Dt=await fetch("https://api.cloudinary.com/v1_1/dxbkzby8x/image/upload",{method:"POST",body:nt});if(!Dt.ok)throw new Error("Cloudinary upload failed");const Rn=await Dt.json();Qe=Rn.secure_url,pt=Rn.public_id}const zt=Fa(Kr,"menu"),Xe={name:c.name,price:parseFloat(c.price),quantity:Number(c.quantity),imageURL:Qe||c.imageURL,publicID:pt||"",category:c.category};if(c._id){const nt=Va(Kr,"menu",c._id);await Oh(nt,Xe),Ct.success("Menu item updated successfully.")}else await sT(zt,Xe),Ct.success("New menu item added successfully.");Ze()}catch(Qe){console.error("Error uploading menu item: ",Qe),Ct.error("Failed to add menu item.")}},We=ze=>{N(ze),w(!0)},ot=()=>{const ze={};return se.forEach(pt=>{var zt;(zt=pt.items)==null||zt.forEach(Xe=>{ze[Xe.name]?ze[Xe.name]+=Xe.quantity:ze[Xe.name]=Xe.quantity})}),[...a].map(pt=>({...pt,popularity:ze[pt.name]||0})).sort((pt,zt)=>zt.popularity-pt.popularity)},He=ze=>{const Qe=ze.target.files[0];if(Qe){if(Qe.size>5*1024*1024){Ct.error("Image file is too large. Max size is 5MB.");return}h(pt=>({...pt,image:Qe}))}},at=async()=>{if(!E){console.error("No item selected for deletion.");return}try{const ze=Va(Kr,"menu",E);await C0(ze),u(Qe=>Qe.filter(pt=>pt._id!==E)),N(null),Ct.success("Menu item deleted successfully.",{autoClose:5e3})}catch(ze){console.error("Error deleting menu item:",ze),Ct.error("Failed to delete menu item. Please try again.",{autoClose:5e3})}finally{w(!1)}},vt=ze=>{U(ze),D(!0)},bt=async()=>{if(!k){Ct.error("No customer selected for deletion.");return}try{const ze=Va(Kr,"customers",k.id),Qe=Fa(Kr,"orders"),pt=Jw(Qe,Zw("schoolId","==",k.id)),zt=await iT(pt),Xe=c8(Kr);zt.forEach(nt=>{Xe.delete(nt.ref)}),await Xe.commit(),await C0(ze),Z(nt=>nt.filter(Dt=>Dt.id!==k.id)),D(!1),U(null),Ct.success("Customer and associated orders removed successfully!")}catch(ze){console.error("Error deleting customer and associated orders:",ze),Ct.error("Failed to delete customer and associated orders. Please try again.")}},Ft=()=>{D(!1),U(null)},dt=X.filter(ze=>{const Qe=L.toLowerCase();if(L==="")return!0;switch(M){case"name":return ze.name.toLowerCase().includes(Qe);case"id":return ze.id.toString().includes(Qe);case"position":return ze.type.toLowerCase().includes(Qe);case"all":default:return ze.name.toLowerCase().includes(Qe)||ze.id.toString().includes(Qe)||ze.type.toLowerCase().includes(Qe)}}),Wn=()=>C.jsxs("div",{className:"add-menu-container",children:[C.jsx("button",{onClick:jt,className:"add-menu-button",children:"Add New Menu"}),m&&C.jsx("div",{className:"modal-overlay-menu",children:C.jsxs("div",{className:"modal-menu",children:[C.jsx("h2",{children:c._id?"Edit Item":"Add New Item"}),C.jsxs("form",{onSubmit:Ce,children:[C.jsx("input",{type:"text",name:"name",value:c.name,onChange:ct,placeholder:"Item Name",required:!0}),C.jsx("input",{type:"number",name:"price",value:c.price,onChange:ct,placeholder:"Price",min:"0",step:"0.01",required:!0}),C.jsx("input",{type:"number",name:"quantity",value:c.quantity,onChange:ct,placeholder:"Quantity",min:"0",step:"1",required:!0}),C.jsxs("select",{name:"category",value:c.category,onChange:ct,required:!0,className:"category-select",children:[C.jsx("option",{value:"",children:"Select a category"}),C.jsx("option",{value:"Rice",children:"Rice"}),C.jsx("option",{value:"Dishes",children:"Dishes"}),C.jsx("option",{value:"Hot Drinks",children:"Hot Drinks"}),C.jsx("option",{value:"Cold Drinks",children:"Cold Drinks"}),C.jsx("option",{value:"Snacks",children:"Snacks"})]}),!c._id&&C.jsxs("div",{className:"file-input-container",children:[C.jsx("label",{htmlFor:"image",children:"Choose Image:"}),C.jsx("input",{className:"input-image",type:"file",id:"image",name:"image",onChange:He,accept:"image/*"})]}),c.image&&C.jsxs("div",{className:"image-preview",children:[C.jsx("img",{src:URL.createObjectURL(c.image),alt:"Preview",className:"image-preview-img"}),C.jsx("p",{children:c.image.name})]}),C.jsxs("div",{className:"modal-actions-menu",children:[C.jsx("button",{type:"submit",children:"Save"}),C.jsx("button",{type:"button",onClick:Ze,children:"Cancel"})]})]})]})}),_&&C.jsx("div",{className:"modal-overlay-menu",children:C.jsxs("div",{className:"modal-menu",children:[C.jsx("h2",{children:"Confirm Deletion"}),C.jsx("p",{children:"Are you sure you want to delete this menu item?"}),C.jsxs("div",{className:"modal-actions-menu",children:[C.jsx("button",{onClick:at,children:"Delete"}),C.jsx("button",{onClick:()=>w(!1),children:"Cancel"})]})]})})]}),nn=()=>{const ze=ot();return C.jsx("div",{className:"menu-items",children:ze.map(Qe=>C.jsxs("div",{className:"menu-item",children:[C.jsx("div",{className:"menu-image-container",children:Qe.imageURL?C.jsx("img",{src:Qe.imageURL,alt:Qe.name,className:"menu-image"}):C.jsx("div",{className:"menu-image-placeholder",children:C.jsx(Rb,{className:"no-image-icon"})})}),C.jsxs("div",{className:"menu-details",children:[C.jsx("div",{className:"menu-name",children:Qe.name}),Qe.quantity===0&&C.jsx("div",{className:"sold-out-text",style:{color:"red",fontWeight:"bold"},children:"Sold Out"}),C.jsxs("div",{className:"menu-price",children:["Php ",Number(Qe.price).toFixed(2)]}),C.jsxs("div",{className:"menu-quantity",children:["Quantity: ",Qe.quantity]}),C.jsxs("div",{className:"menu-popularity",children:["Popularity: ",Qe.popularity]})]}),C.jsxs("div",{className:"menu-actions",children:[C.jsx("button",{className:"action-link-edit",onClick:()=>xt(Qe),children:"Edit"}),C.jsx("button",{className:"action-link-delete",onClick:()=>We(Qe._id),children:"Delete"})]})]},Qe._id))})},jr=()=>C.jsxs("div",{className:"dashboard-container-admin",children:[C.jsx("h3",{children:"Order Line"}),C.jsxs("div",{className:"orders-wrapper",children:[C.jsxs("div",{className:"current-order-container",children:[C.jsx("h3",{children:"Current Order"}),C.jsx("br",{}),ve?C.jsxs("div",{className:"current-order-card",children:[C.jsx("h4",{children:ve.name}),C.jsx("p",{children:ve.schoolId}),C.jsx("p",{children:ve.status}),C.jsxs("div",{className:"current-order-card-bottom",children:[C.jsx("span",{children:"Order#: 1"}),C.jsxs("span",{children:["Items: ",ve.quantity]})]})]}):C.jsx("p",{children:"No current orders."})]}),C.jsx("div",{className:"order-line-container",children:C.jsx("div",{className:"order-cards",children:O.map((ze,Qe)=>C.jsxs("div",{className:"order-card",children:[C.jsxs("div",{className:"order-card-header",children:[C.jsx("div",{className:"school-id",children:ze.schoolId}),C.jsxs("div",{className:"order-id",children:["Order #",Qe+2]})]}),C.jsxs("div",{className:"order-details",children:[C.jsx("p",{children:ze.name}),C.jsxs("div",{className:"order-status",children:[C.jsx("span",{children:C.jsx("p",{children:ze.status})}),C.jsx("div",{className:"progress-bar",children:C.jsx("div",{className:"progress",style:{width:`${ze.progress}%`}})}),C.jsxs("span",{className:"progress-percentage",children:[ze.progress,"%"]})]})]})]},ze.id))})})]}),C.jsxs("div",{className:"popular-picks-container",children:[C.jsx("h2",{children:"Popular Picks"}),C.jsx("br",{}),C.jsx("div",{className:"popular-picks",children:ot().slice(0,4).map((ze,Qe)=>C.jsxs("div",{className:"pick",children:[C.jsx("div",{className:"pick-rank",children:Qe+1}),C.jsx("div",{className:"pick-image-container",children:ze.imageURL?C.jsx("img",{src:ze.imageURL,alt:ze.name,className:"pick-image"}):C.jsx("div",{className:"pick-image-placeholder",children:C.jsx(Rb,{className:"no-image-icon"})})}),C.jsxs("div",{className:"pick-name-price",children:[C.jsx("span",{className:"pick-name",children:ze.name}),C.jsxs("span",{className:"pick-price",children:["",ze.price.toFixed(2)]})]})]},ze._id))})]})]}),dn=()=>{if(!se||se.length===0)return C.jsx("p",{children:"No orders available."});const Qe=[...se.filter(pt=>pt.status!=="Cancelled"&&pt.status!=="Completed")].sort((pt,zt)=>{const Xe=new Date(pt.dateTime),nt=new Date(zt.dateTime);return Xe-nt});return C.jsx("div",{className:"orders-modal",children:C.jsxs("table",{className:"orders-table",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"Order Number"}),C.jsx("th",{children:"Name"}),C.jsx("th",{children:"Date Ordered"}),C.jsx("th",{children:"Total Amount"}),C.jsx("th",{children:"Items"}),C.jsx("th",{children:"Status"}),C.jsx("th",{children:"Payment Method"})]})}),C.jsx("tbody",{children:Qe.map(pt=>{var zt;return C.jsxs("tr",{children:[C.jsx("td",{children:pt.orderNumber}),C.jsx("td",{children:pt.name||"N/A"}),C.jsx("td",{children:pt.dateTime||"N/A"}),C.jsx("td",{children:pt.totalAmount?`${pt.totalAmount.toFixed(2)}`:"N/A"}),C.jsx("td",{children:((zt=pt.items)==null?void 0:zt.map((Xe,nt)=>C.jsxs("div",{children:[Xe.name," (x",Xe.quantity,")"]},nt)))||"N/A"}),C.jsx("td",{children:C.jsxs("select",{value:pt.status,onChange:Xe=>le(pt.orderNumber,Xe.target.value),children:[C.jsx("option",{value:"Pending",children:"Pending"}),C.jsx("option",{value:"Preparing",children:"Preparing"}),C.jsx("option",{value:"Ready to Pickup",children:"Ready to Pickup"}),C.jsx("option",{value:"Completed",children:"Completed"}),C.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),C.jsx("td",{children:pt.paymentMethod||"N/A"})]},pt.orderNumber)})})]})})},_n=()=>{if(!se||se.length===0)return C.jsx("p",{children:"No data available for Admin Reports."});const Qe=se.filter(Xe=>Xe.status==="Completed"||Xe.status==="Cancelled").filter(Xe=>{var Gn,yr,wt,Kn;const nt=((Gn=Xe.orderNumber)==null?void 0:Gn.toLowerCase().includes(L.toLowerCase()))||((yr=Xe.dateTime)==null?void 0:yr.toLowerCase().includes(L.toLowerCase()))||((wt=Xe.status)==null?void 0:wt.toLowerCase().includes(L.toLowerCase()))||((Kn=Xe.items)==null?void 0:Kn.some(In=>In.name.toLowerCase().includes(L.toLowerCase())));let Dt=!0,Rn=!0,un=!0;if(Xe.dateTime){const In=Xe.dateTime.split(/[/, ]+/);if(In.length>=3){const ir=In[0].padStart(2,"0"),Fn=In[1].padStart(2,"0"),Vn=In[2];Dt=j?Fn===j:!0,Rn=ee?ir===ee:!0,un=de?Vn===de:!0}}return nt&&Dt&&Rn&&un}),pt=async Xe=>{try{if(!window.confirm("Are you sure you want to delete this order? This action cannot be undone."))return;await C0(Va(Kr,"orders",Xe)),Le(Dt=>Dt.filter(Rn=>Rn.orderNumber!==Xe)),Ct.success("Order deleted successfully!")}catch(nt){console.error("Error deleting order:",nt),Ct.error("Failed to delete order. Please try again.")}},zt=()=>{try{const Xe=new Ut;Xe.setFontSize(18),Xe.text("Admin Reports",14,20);const nt=new Date().toLocaleString();Xe.setFontSize(12),Xe.text(`Generated on: ${nt}`,14,30);const Dt=["Order Number","Date Ordered","Status","Items","Quantity","Total Price"],Rn=Qe.map(un=>{var Gn,yr,wt;return[un.orderNumber||"N/A",un.dateTime||"N/A",un.status||"N/A",((Gn=un.items)==null?void 0:Gn.map(Kn=>`${Kn.name} (x${Kn.quantity})`).join(", "))||"N/A",((yr=un.items)==null?void 0:yr.reduce((Kn,In)=>Kn+In.quantity,0))||0,`${((wt=un.totalAmount)==null?void 0:wt.toFixed(2))||"0.00"}`]});Xe.autoTable({head:[Dt],body:Rn,startY:40,styles:{fontSize:10},headStyles:{fillColor:[128,0,0]}}),Xe.save("adminreports.pdf"),Ct.success("Report downloaded successfully!")}catch(Xe){console.error("Error generating PDF:",Xe),Ct.error("Failed to download the report. Please try again!")}};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"search-container",children:C.jsx("input",{type:"text",placeholder:"Search by Order Number, Date, Status, or Item",value:L,onChange:Xe=>I(Xe.target.value)})}),C.jsxs("div",{className:"filters-section",children:[C.jsx("span",{className:"filters-label",children:"Filters"}),C.jsxs("select",{value:j,onChange:Xe=>q(Xe.target.value),children:[C.jsx("option",{value:"",children:"Day"}),Array.from({length:31},(Xe,nt)=>C.jsx("option",{value:String(nt+1).padStart(2,"0"),children:nt+1},nt+1))]}),C.jsxs("select",{value:ee,onChange:Xe=>ie(Xe.target.value),children:[C.jsx("option",{value:"",children:"Month"}),Array.from({length:12},(Xe,nt)=>C.jsx("option",{value:String(nt+1).padStart(2,"0"),children:new Date(0,nt).toLocaleString("default",{month:"long"})},nt+1))]}),C.jsxs("select",{value:de,onChange:Xe=>z(Xe.target.value),children:[C.jsx("option",{value:"",children:"Year"}),Array.from({length:10},(Xe,nt)=>C.jsx("option",{value:String(2025+nt),children:2025+nt},2025+nt))]}),C.jsx("button",{className:"download-button",onClick:zt,children:"Download Report"})]}),C.jsx("div",{className:"table-container",children:C.jsxs("table",{children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"Order Number"}),C.jsx("th",{children:"Date Ordered"}),C.jsx("th",{children:"Status"}),C.jsx("th",{children:"Items"}),C.jsx("th",{children:"Quantity"}),C.jsx("th",{children:"Total Price"}),C.jsx("th",{children:"Actions"})]})}),C.jsx("tbody",{children:Qe.length>0?Qe.map(Xe=>{var nt,Dt;return C.jsxs("tr",{children:[C.jsx("td",{children:Xe.orderNumber}),C.jsx("td",{children:Xe.dateTime}),C.jsx("td",{children:C.jsx("span",{className:`status-badge ${Xe.status.toLowerCase()}`,children:Xe.status})}),C.jsx("td",{children:(nt=Xe.items)==null?void 0:nt.map((Rn,un)=>C.jsxs("div",{children:[Rn.name," (x",Rn.quantity,")"]},un))}),C.jsx("td",{children:(Dt=Xe.items)==null?void 0:Dt.reduce((Rn,un)=>Rn+un.quantity,0)}),C.jsx("td",{children:Xe.totalAmount}),C.jsx("td",{children:C.jsx("button",{className:"delete-order-button",onClick:()=>pt(Xe.orderNumber),title:"Delete this order",children:"Delete"})})]},Xe.orderNumber)}):C.jsx("tr",{children:C.jsx("td",{colSpan:"7",style:{textAlign:"center"},children:"No matching reports found"})})})]})})]})},Xr=()=>C.jsx(C.Fragment,{children:C.jsx("div",{className:"settings-modal",children:C.jsx("div",{className:"settings-content",children:C.jsxs("form",{onSubmit:ze=>{ze.preventDefault(),je()},children:[C.jsx("label",{children:"Old Password:"}),C.jsx("input",{type:"password",placeholder:"Enter current password",value:oe,required:!0,onChange:ze=>ce(ze.target.value)}),C.jsx("label",{children:"New Password:"}),C.jsx("input",{type:"password",placeholder:"Enter new password",value:_e,required:!0,onChange:ze=>Ae(ze.target.value)}),C.jsx("label",{children:"Confirm Password:"}),C.jsx("input",{type:"password",placeholder:"Confirm new password",value:Ee,required:!0,onChange:ze=>Ke(ze.target.value)}),C.jsx("button",{className:"save-btn",type:"submit",children:"Save Changes"})]})})})}),rn=()=>C.jsxs("div",{className:"registerCustomer-container",children:[G&&C.jsx("div",{className:"delete-modal-overlay",children:C.jsxs("div",{className:"delete-modal",children:[C.jsx("h3",{children:"Confirm Deletion"}),C.jsxs("p",{children:["Are you sure you want to remove ",k==null?void 0:k.name,"?"]}),C.jsxs("div",{className:"modal-buttons",children:[C.jsx("button",{onClick:Ft,className:"cancel-button",children:"Cancel"}),C.jsx("button",{onClick:bt,className:"confirm-button",children:"Delete"})]})]})}),C.jsxs("div",{className:"customer-list-section",children:[C.jsx("h2",{children:"Registered Customers"}),C.jsxs("div",{className:"search-container-customerlist",children:[C.jsxs("div",{className:"search-inputs-customerlist",children:[C.jsx("input",{type:"text",placeholder:"Search customers...",value:L,onChange:ze=>I(ze.target.value),className:"search-input-customerlist"}),C.jsxs("select",{value:M,onChange:ze=>F(ze.target.value),className:"search-category-customerlist",children:[C.jsx("option",{value:"all",children:"All Fields"}),C.jsx("option",{value:"name",children:"Name"}),C.jsx("option",{value:"id",children:"School ID"}),C.jsx("option",{value:"position",children:"Position"})]})]}),L&&C.jsxs("div",{className:"search-results-count-customerlist",children:["Found ",dt.length," customer(s)"]})]}),C.jsx("div",{className:"customer-cards",children:dt.length>0?dt.map(ze=>C.jsxs("div",{className:`customer-card ${ze.type}`,children:[C.jsxs("div",{className:"customer-info",children:[C.jsx("h3",{children:ze.name}),C.jsxs("p",{children:[C.jsx("strong",{children:"School ID:"})," ",ze.id]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Type:"})," ",ze.type.charAt(0).toUpperCase()+ze.type.slice(1)]})]}),C.jsx("button",{className:"delete-customer-button",onClick:()=>vt(ze),children:" Remove"})]},ze.id)):C.jsxs("div",{className:"empty-customer-state",children:[C.jsx("p",{children:"No customers registered yet."}),C.jsx("p",{className:"subtext",children:"Customers will appear here once they order."})]})})]})]});return C.jsxs(C.Fragment,{children:[C.jsxs(Gt.div,{className:"admin-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[C.jsxs("div",{className:"header",children:[C.jsxs("div",{className:"logo-container",children:[C.jsx("img",{src:o9,alt:"Wildcats Express Logo",className:"logo"}),C.jsx("h1",{children:C.jsx(Bm,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})})]}),C.jsxs("div",{className:"profile-section",onClick:ht,children:[C.jsx("img",{src:a9,alt:"Admin",className:"profile-photo"}),C.jsx("span",{className:"profile-name",children:"Admin"}),C.jsx(fd,{mode:"sync",children:i&&C.jsxs(Gt.div,{className:"dropdown-menu",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[C.jsxs("div",{className:"dropdown-item",onClick:()=>it("adminReports"),children:[C.jsx(JF,{})," Admin Reports"]}),C.jsxs("div",{className:"dropdown-item",onClick:()=>it("registerCustomer"),children:[C.jsx(t9,{})," Customer List"]}),C.jsxs("div",{className:"dropdown-item",onClick:()=>it("settings"),children:[C.jsx(ZF,{})," Settings"]}),C.jsxs("div",{className:"dropdown-item",onClick:()=>n("/pos-page"),children:[C.jsx(n9,{})," Customer"]}),C.jsxs("div",{className:"dropdown-item",onClick:()=>f_(n),children:[C.jsx(e9,{})," Sign Out"]})]})})]})]}),C.jsx("div",{className:"sidebar",children:C.jsxs("nav",{children:[C.jsx(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>it("dashboard"),className:t==="dashboard"?"active":"",children:C.jsx(s9,{className:"dashboard-icon"})}),C.jsx(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>it("addMenu"),className:t==="addMenu"?"active":"",children:C.jsx(i9,{className:"addmenu-icon"})}),C.jsx(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>it("orders"),className:t==="orders"?"active":"",children:C.jsx(r9,{className:"orders-icon"})})]})}),C.jsx("div",{className:"main-content-admin",children:C.jsx(fd,{mode:"wait",children:C.jsxs(Gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[t==="dashboard"&&C.jsxs(Gt.div,{className:"dashboard",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[C.jsx("h3",{children:"Welcome, Admin!"}),C.jsx("br",{}),C.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),C.jsx("div",{children:jr()})]}),t==="addMenu"&&C.jsxs(Gt.div,{className:"add-menu",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[C.jsx("h3",{children:"Welcome, Admin!"}),C.jsx("br",{}),C.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),C.jsx("br",{}),C.jsx("div",{children:Wn()}),C.jsx("br",{}),C.jsx("div",{children:nn()})]}),t==="orders"&&C.jsxs(Gt.div,{className:"orders",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[C.jsx("h2",{children:"Orders"}),C.jsx("br",{}),C.jsx("div",{children:dn()}),C.jsx("button",{className:"view-transactions-button",onClick:lt,children:"View Past Transactions"}),Nt()]}),t==="adminReports"&&C.jsxs(Gt.div,{className:"admin-reports",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[C.jsx("h2",{children:"Admin Reports"}),C.jsx("br",{}),C.jsx("div",{children:_n()})]}),t==="registerCustomer"&&C.jsxs(Gt.div,{className:"register-customer",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[C.jsx("h2",{children:"Customer List"}),C.jsx("div",{children:rn()})]}),t==="settings"&&C.jsxs(Gt.div,{className:"settings",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[C.jsx("h2",{children:"Settings"}),C.jsx("br",{}),C.jsx("div",{children:Xr()})]}),t==="pos-page"&&C.jsx(Gt.div,{className:"pos-page",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:C.jsx("h2",{children:"Backend please redirect this to /pos-page"})})]},t)})})]}),C.jsx(OT,{position:"top-center",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q3=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=re.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...u},c)=>re.createElement("svg",{ref:c,...KV,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Q3("lucide",i),...u},[...a.map(([h,m])=>re.createElement(h,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=(n,e)=>{const t=re.forwardRef(({className:r,...i},s)=>re.createElement(YV,{ref:s,iconNode:e,className:Q3(`lucide-${GV(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],XV=nc("Coffee",QV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],ZV=nc("Cookie",JV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8",key:"8166m8"}],["path",{d:"M5 8h14",key:"pcz4l3"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"yjz344"}],["path",{d:"m12 8 1-6h2",key:"3ybfa4"}]],tB=nc("CupSoda",eB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],rB=nc("MapPinned",nB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]],sB=nc("Salad",iB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],aB=nc("ShoppingCart",oB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],uB=nc("Soup",lB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],l4=nc("UtensilsCrossed",cB),hB=()=>{const n=xd(),e=jT(n),[t,r]=re.useState({}),[i,s]=re.useState([]),[a,u]=re.useState("All"),[c,h]=re.useState(""),[m,y]=re.useState("menu"),[_,w]=re.useState(""),[E,N]=re.useState(""),[L,I]=re.useState(""),[j,q]=re.useState(!1),[ee,ie]=re.useState(""),[de,z]=re.useState(""),[k,U]=re.useState(""),[G,D]=re.useState(null),[M,F]=re.useState([]),[se,Le]=re.useState(!1),[Ne,Te]=re.useState(!1),[ne,ve]=re.useState(""),[ye,ue]=re.useState(!1),[O,X]=re.useState({}),[Z,oe]=re.useState({});if(re.useEffect(()=>{const Ce=Fa(Kr,"menu"),We=Th(Ce,ot=>{const He=ot.docs.map(at=>({...at.data(),_id:at.id}));s(He)},ot=>{console.error("Error fetching menu items:",ot),Ct.error("Failed to fetch menu items.")});return()=>We()},[]),re.useEffect(()=>{const Ce=Fa(Kr,"orders"),We=Th(Ce,ot=>{const He=ot.docs.map(at=>({...at.data(),id:at.id}));F(He)},ot=>{console.error("Error fetching recent orders:",ot),Ct.error("Failed to fetch recent orders.")});return()=>We()},[]),re.useEffect(()=>{const Ce=We=>{We.altKey&&We.shiftKey&&We.key==="A"&&n("/admin-page")};return document.addEventListener("keydown",Ce),()=>{document.removeEventListener("keydown",Ce)}},[n]),e)return C.jsx("div",{children:"Loading..."});const ce=Ce=>{w(Ce),I(""),N("")},_e=(Ce,We)=>{oe(ot=>{const He=Math.max(0,(ot[Ce]||0)+We),at=i.find(vt=>vt._id===Ce);return at&&He>at.quantity?(alert(`"${at.name}" is sold out or exceeds the available quantity.`),ot):{...ot,[Ce]:He}})},Ae=async(Ce,We)=>{const ot=i.find(vt=>vt._id===Ce);if(!ot)return;const He=t[Ce]||0,at=He+We;if(at>ot.quantity+He){alert(`You cannot add more than ${ot.quantity+He} ${ot.name}(s).`);return}if(at>=0){r(bt=>{const Ft={...bt};return at===0?delete Ft[Ce]:Ft[Ce]=at,Ft});const vt=Va(Kr,"menu",Ce);try{await Oh(vt,{quantity:ot.quantity-We}),console.log("Quantity updated successfully in Firestore.")}catch(bt){console.error("Error updating quantity in Firestore:",bt),Ct.error("Failed to update item quantity. Please try again.")}}},Ee=async Ce=>{const We=Z[Ce._id]||0,He=(t[Ce._id]||0)+We;if(He>0){r(vt=>({...vt,[Ce._id]:He}));const at=Va(Kr,"menu",Ce._id);try{await Oh(at,{quantity:Ce.quantity-We}),console.log("Quantity updated successfully.")}catch(vt){console.error("Error updating quantity:",vt),Ct.error("Failed to update item quantity. Please try again.")}X(vt=>({...vt,[Ce._id]:!0})),setTimeout(()=>{X(vt=>{const bt={...vt};return delete bt[Ce._id],bt}),oe(vt=>({...vt,[Ce._id]:0}))},1e3)}},Ke=async Ce=>{const We=i.find(at=>at._id===Ce);if(!We)return;const ot=t[Ce]||0;r(at=>{const vt={...at};return delete vt[Ce],vt});const He=Va(Kr,"menu",Ce);try{await Oh(He,{quantity:We.quantity+ot}),console.log(`Added ${ot} back to "${We.name}" in Firestore.`)}catch(at){console.error("Error restoring quantity in Firestore:",at),Ct.error("Failed to restore item quantity. Please try again.")}X(at=>{const vt={...at};return delete vt[Ce],vt})};i.filter(Ce=>(a==="All"||Ce.category===a)&&Ce.name.toLowerCase().includes(c.toLowerCase()));const Ye=Ce=>{y(Ce)},ft=async()=>{if(!E){alert("Please enter your School ID before proceeding to checkout.");return}if(!ee){alert("Please select a payment method before proceeding to checkout.");return}if(ee==="gcash"){if(!de||parseFloat(de)<je){alert("Please enter a valid amount paid.");return}if(!k){alert("Please enter the GCash reference number.");return}}try{const We=Fa(Kr,"customers"),ot=await iT(We);let He=null;if(ot.forEach(at=>{const vt=at.data();if(vt.id===E)if(vt.name.toLowerCase()===L.toLowerCase())He={id:at.id,...vt};else throw alert("The entered ID matches an existing customer, but the name does not match."),new Error("ID and name mismatch.");else if(vt.name.toLowerCase()===L.toLowerCase()&&vt.id!==E)throw alert("The entered name matches an existing customer, but the ID does not match."),new Error("Name and ID mismatch.")}),!He){const at=Va(We,E);await a8(at,{name:L,type:_,id:E}),console.log("Customer data saved successfully.")}}catch(We){if(We.message==="Name and ID mismatch."||We.message==="ID and name mismatch.")return;console.error("Error validating customer data:",We),Ct.error("Failed to validate customer data. Please try again.");return}const Ce={schoolId:E,name:L,paymentMethod:ee,amountPaid:ee==="gcash"?parseFloat(de):null,gcashRefNumber:ee==="gcash"?k:null,totalAmount:je,quantity:Object.keys(t).reduce((We,ot)=>We+t[ot],0),dateTime:new Date().toLocaleString(),status:"Pending",items:Object.keys(t).map(We=>{const ot=i.find(He=>He._id===We);return{name:ot.name,price:ot.price,quantity:t[We]}})};try{const We=Fa(Kr,"orders"),He=(await sT(We,Ce)).id;ve(He),alert(`Order Successful! Your order number is: ${He}`),r({}),I(""),N(""),z(""),U(""),ie("")}catch(We){console.error("Error saving order:",We),Ct.error("Failed to place the order. Please try again.")}},lt=()=>{q(!1)},Nt=Ce=>{ie(Ce.target.value)},je=Object.keys(t).reduce((Ce,We)=>{const ot=i.find(He=>He._id===We);return Ce+(ot?ot.price*t[We]:0)},0),le=Ce=>{I(Ce.target.value)},jt=Ce=>{const We=xt(Ce.target.value);N(We)},xt=Ce=>{const We=Ce.replace(/\D/g,"");let ot="";return We.length>0&&(ot=We.substring(0,2),We.length>2&&(ot+="-"+We.substring(2,6),We.length>6&&(ot+="-"+We.substring(6,9)))),ot},Ze={All:C.jsx(l4,{size:18}),Rice:C.jsx(uB,{size:18}),Dishes:C.jsx(sB,{size:18}),"Hot Drinks":C.jsx(XV,{size:18}),"Cold Drinks":C.jsx(tB,{size:18}),Snacks:C.jsx(ZV,{size:18})},it=()=>C.jsx(C.Fragment,{children:C.jsxs(Gt.div,{className:"menu-container-pos",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[C.jsx(Gt.div,{className:"search-bar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:C.jsx("input",{type:"text",placeholder:"Search for food...",value:c,onChange:Ce=>h(Ce.target.value)})}),C.jsx(Gt.div,{className:"category-filter",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:["All","Rice","Dishes","Hot Drinks","Cold Drinks","Snacks"].map(Ce=>C.jsxs(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:a===Ce?"active-category":"",onClick:()=>u(Ce),children:[Ze[Ce]," ",Ce]},Ce))}),C.jsx(Gt.div,{className:"menu-grid",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:C.jsx(fd,{mode:"wait",children:i.filter(Ce=>(a==="All"||Ce.category===a)&&Ce.name.toLowerCase().includes(c.toLowerCase())).map(Ce=>C.jsxs(Gt.div,{className:"menu-item-pos",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{scale:1.05},transition:{duration:.2},children:[C.jsx("img",{src:Ce.imageURL,alt:Ce.name,className:"item-img"}),C.jsx("h3",{className:"item-name",children:Ce.name}),Ce.quantity>0?C.jsxs(C.Fragment,{children:[C.jsxs("p",{className:"item-quantity",style:{color:"#800000"},children:["Available: ",Ce.quantity]}),C.jsxs("p",{className:"item-price",children:["Php ",Ce.price]}),C.jsxs("div",{className:"quantity-selector",children:[C.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>_e(Ce._id,-1),disabled:O[Ce._id],className:O[Ce._id]?"disabled":"",children:"-"}),C.jsx("span",{children:O[Ce._id]?0:Z[Ce._id]||0}),C.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>_e(Ce._id,1),disabled:O[Ce._id],className:O[Ce._id]?"disabled":"",children:"+"})]}),C.jsx(Gt.button,{className:`add-to-cart ${O[Ce._id]?"disabled":""}`,whileHover:{scale:O[Ce._id]?1:1.1},whileTap:{scale:O[Ce._id]?1:.9},onClick:()=>Ee(Ce),disabled:O[Ce._id]||(Z[Ce._id]||0)===0,children:O[Ce._id]?"Added to Cart":"Add to Cart"})]}):C.jsx("p",{className:"sold-out-text",style:{color:"red",fontWeight:"bold"},children:"SOLD OUT"})]},Ce._id))})})]})}),ht=()=>C.jsxs("div",{className:"cart-container",children:[C.jsx("h2",{className:"view-title",children:" Your Cart"}),_?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"customer-type-display",children:C.jsxs("p",{children:["Customer Type:"," ",C.jsx("strong",{children:_==="student"?"Student":_==="faculty"?"Faculty":"Staff"}),C.jsx("button",{className:"change-type-button",onClick:()=>ce(""),children:"Change"})]})}),C.jsxs("div",{className:"client-info-form",children:[C.jsxs("div",{className:"client-info-input",children:[C.jsx("label",{htmlFor:"client-name",children:"Full Name:"}),C.jsx("input",{type:"text",id:"client-name",placeholder:"Enter your Full Name",value:L,onChange:le,required:!0})]}),C.jsxs("div",{className:"school-id-input",children:[C.jsx("label",{htmlFor:"school-id",children:_==="student"?"Student ID:":_==="faculty"?"Faculty ID:":"Staff ID:"}),C.jsx("input",{type:"text",id:"school-id",placeholder:"12-3456-789, Note: Just input the numbers",value:E,onChange:jt,required:!0,pattern:"\\d{2}-\\d{4}-\\d{3}",title:"Please enter ID in format: 12-3456-789"})]})]}),Object.keys(t).length===0?C.jsxs("div",{className:"empty-state-cart",children:[C.jsx("p",{children:"Your cart is empty"}),C.jsx(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ye("menu"),className:"return-to-menu",children:" Return to Menu"})]}):C.jsxs("div",{className:"cart-items",children:[Object.keys(t).map(Ce=>{const We=i.find(ot=>ot._id===Ce);return We?C.jsxs(Gt.div,{className:"cart-item",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[C.jsxs("div",{className:"cart-item-details",children:[C.jsx("h3",{children:We.name}),C.jsxs("p",{children:["Php ",We.price,"  ",t[Ce]," = Php ",(We.price*t[Ce]).toFixed(2)]})]}),C.jsxs("div",{className:"cart-item-actions",children:[C.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>Ae(Ce,-1),children:"-"}),C.jsx("span",{children:t[Ce]}),C.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>Ae(Ce,1),children:"+"}),C.jsx(Gt.button,{whileTap:{scale:.9},onClick:()=>Ke(Ce),className:"trash-button",children:""})]})]},Ce):null}),C.jsxs("div",{className:"cart-summary",children:[C.jsxs("div",{className:"cart-total",children:[C.jsx("strong",{children:"Total:"}),C.jsxs("span",{children:["Php ",Object.keys(t).reduce((Ce,We)=>{const ot=i.find(He=>He._id===We);return Ce+(ot?ot.price*t[We]:0)},0).toFixed(2)]})]}),C.jsxs("div",{className:"payment-method",children:[C.jsx("h4",{children:"Select Payment Method:"}),C.jsxs("div",{className:"payment-options",children:[C.jsxs("label",{children:[C.jsx("input",{type:"radio",name:"payment",value:"cash",onChange:Nt})," Cash "]}),C.jsxs("label",{children:[C.jsx("input",{type:"radio",name:"payment",value:"gcash",onChange:Nt})," GCash "]})]}),ee==="gcash"&&C.jsxs("div",{className:"gcash-fields",children:[C.jsx("label",{children:"Amount Paid:"}),C.jsx("input",{type:"number",placeholder:"Enter amount paid",value:de,onChange:Ce=>z(Ce.target.value)}),C.jsx("br",{}),C.jsx("label",{children:"GCash Reference Number:"}),C.jsx("input",{type:"text",placeholder:"Enter reference number",value:k,onChange:Ce=>U(Ce.target.value)})]})]}),C.jsx(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"checkout-button",onClick:ft,children:" Proceed to Checkout"})]})]}),j&&C.jsxs("div",{className:"confirmation-modal",children:[C.jsx("h3",{children:"Order Confirmed"}),C.jsx("p",{children:"Thank you for your purchase!"}),C.jsx("button",{onClick:lt,children:"Close"})]})]}):C.jsxs("div",{className:"customer-type-selection",children:[C.jsx("h3",{children:"Are you a:"}),C.jsxs("div",{className:"customer-type-options",children:[C.jsx(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce("student"),children:"Student"}),C.jsx(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce("faculty"),children:"Faculty"}),C.jsx(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce("staff"),children:"Staff"})]})]})]}),ct=()=>{const Ce=()=>{const He=["Pending","Preparing","Ready to Pickup"],at=M.find(bt=>bt.id===ne&&He.includes(bt.status));if(at){D(at),Te(!0),Le(!0);return}const vt=M.filter(bt=>bt.schoolId===ne&&He.includes(bt.status));if(vt.length>0){D(vt),Te(!0),Le(!0);return}D(null),Te(!0),Le(!0)},We=()=>{Le(!1),ve(""),D(null),Te(!1)},ot=M.filter(He=>He.id!=="order");return C.jsxs("div",{className:"track-order",children:[C.jsx("h2",{className:"view-title",children:"Track Your Order"}),C.jsxs("form",{className:"order-tracking-form",onSubmit:He=>{He.preventDefault(),Ce()},children:[C.jsx("label",{htmlFor:"orderNumber",className:"order-label",children:"Enter your School ID:"}),C.jsx("input",{type:"text",id:"orderNumber",className:"order-number-input",value:ne,onChange:He=>ve(He.target.value),maxLength:30}),C.jsx(Gt.button,{whileHover:{scale:ye?1.05:1},whileTap:{scale:ye?.95:1},className:"track-button",type:"submit",disabled:!1,children:"Track Order"})]}),se&&C.jsx("div",{className:"track-order-modal",children:C.jsxs("div",{className:"track-order-modal-content",children:[C.jsx("button",{className:"back-button",onClick:We,children:" Back"}),G?Array.isArray(G)?C.jsxs("div",{className:"tracked-orders-list",children:[C.jsx("br",{}),C.jsx("br",{}),C.jsxs("h2",{children:["Orders for School ID: ",ne]}),G.map((He,at)=>C.jsxs("div",{className:"tracked-order-details",children:[C.jsxs("h3",{children:["Order ID: ",He.id]}),C.jsx("table",{className:"tracked-order-table",children:C.jsxs("tbody",{children:[C.jsxs("tr",{children:[C.jsx("td",{className:"tracked-order-label",children:C.jsx("strong",{children:"Date Ordered:"})}),C.jsx("td",{className:"tracked-order-value",children:He.dateTime})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"tracked-order-label",children:C.jsx("strong",{children:"Total Amount:"})}),C.jsxs("td",{className:"tracked-order-value",children:["",He.totalAmount.toFixed(2)]})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"tracked-order-label",children:C.jsx("strong",{children:"Status:"})}),C.jsx("td",{className:"tracked-order-value",children:He.status})]})]})}),C.jsx("h4",{children:"Items Ordered:"}),C.jsx("ul",{className:"tracked-order-items",children:He.items.map((vt,bt)=>C.jsxs("li",{className:"tracked-order-item",children:[vt.name," (x",vt.quantity,") - ",vt.price]},bt))})]},at))]}):C.jsxs("div",{className:"tracked-order-details",children:[C.jsx("h2",{children:"Order Details"}),C.jsx("table",{className:"tracked-order-table",children:C.jsxs("tbody",{children:[C.jsxs("tr",{children:[C.jsx("td",{className:"tracked-order-label",children:C.jsx("strong",{children:"Customer Name:"})}),C.jsx("td",{className:"tracked-order-value",children:G.name})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"tracked-order-label",children:C.jsx("strong",{children:"School ID:"})}),C.jsx("td",{className:"tracked-order-value",children:G.schoolId})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"tracked-order-label",children:C.jsx("strong",{children:"Date Ordered:"})}),C.jsx("td",{className:"tracked-order-value",children:G.dateTime})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"tracked-order-label",children:C.jsx("strong",{children:"Total Amount:"})}),C.jsxs("td",{className:"tracked-order-value",children:["",G.totalAmount.toFixed(2)]})]}),C.jsxs("tr",{children:[C.jsx("td",{className:"tracked-order-label",children:C.jsx("strong",{children:"Status:"})}),C.jsx("td",{className:"tracked-order-value",children:G.status})]})]})}),C.jsx("h3",{children:"Items Ordered:"}),C.jsx("ul",{className:"tracked-order-items",children:G.items.map((He,at)=>C.jsxs("li",{className:"tracked-order-item",children:[He.name," (x",He.quantity,") - ",He.price]},at))})]}):C.jsxs("div",{className:"no-order-found-modal",children:[C.jsx("h2",{children:"Order Not Found"}),C.jsxs("div",{className:"no-order-message",children:[C.jsxs("p",{children:["No active orders found for: ",C.jsx("strong",{children:ne})]}),C.jsx("p",{children:"Please check the number and try again."}),C.jsx("p",{className:"note",children:'Note: Only orders with status "Pending", "Preparing", or "Ready to Pickup" can be tracked.'})]})]})]})}),C.jsxs("div",{className:"recent-orders",children:[C.jsx("h2",{className:"orders-title-pos",children:"Recent Orders"}),C.jsx("div",{className:"orders-table-container-pos",children:C.jsxs("table",{className:"orders-table-pos",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"Customer Name"}),C.jsx("th",{children:"School ID"}),C.jsx("th",{children:"Date Ordered"}),C.jsx("th",{children:"Menus Ordered"}),C.jsx("th",{children:"Total Amount"}),C.jsx("th",{children:"Status"})]})}),C.jsx("tbody",{children:ot.map((He,at)=>C.jsxs("tr",{children:[C.jsx("td",{children:He.name}),C.jsx("td",{children:He.schoolId}),C.jsx("td",{children:He.dateTime}),C.jsx("td",{children:He.items.map((vt,bt)=>C.jsxs("div",{children:[vt.name," (x",vt.quantity,") - ",vt.price]},bt))}),C.jsxs("td",{children:["",He.totalAmount.toFixed(2)]}),C.jsx("td",{className:"status",children:He.status})]},at))})]})})]})]})};return C.jsxs(Gt.div,{className:"pos-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[C.jsx(Gt.header,{className:"navbar-pos",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:C.jsxs("div",{className:"logo-container-pos",children:[C.jsx("img",{src:"/new-mainlogo.svg",className:"new-logo",alt:"Wildcats Express"}),C.jsxs("span",{className:"title",children:[C.jsx("h1",{children:C.jsx(Bm,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})}),C.jsx("small",{children:"CIT-UNIVERSITY"})]})]})}),C.jsxs("div",{className:"main-content-container",children:[C.jsxs(Gt.aside,{className:"sidebar-pos",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.3},children:[C.jsxs(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:m==="menu"?"active-view-button":"",onClick:()=>Ye("menu"),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[C.jsx(l4,{size:20}),"Menu"]}),C.jsxs(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:m==="cart"?"active-view-button":"",onClick:()=>Ye("cart"),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[C.jsx(aB,{size:20}),"Cart"]}),C.jsxs(Gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:m==="trackOrder"?"active-view-button":"",onClick:()=>Ye("trackOrder"),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[C.jsx(rB,{size:20}),"Track Order"]})]}),C.jsx("div",{className:"pos-page",children:C.jsxs(fd,{mode:"wait",children:["Menu Modal",m==="menu"&&C.jsx(Gt.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:C.jsx("div",{children:it()})},"menu-view"),"Cart Modal",m==="cart"&&C.jsx(Gt.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:C.jsx("div",{children:ht()})},"cart-view"),"TrackOrder Modal",m==="trackOrder"&&C.jsx(Gt.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:C.jsx("div",{children:ct()})},"track-order-view")]})})]})]})},fB=()=>{const{name:n,profilePhoto:e,userID:t,isAuth:r}=JSON.parse(localStorage.getItem("auth"))||{};return{name:n,profilePhoto:e,userID:t,isAuth:r}},dB="/assets/thinking-cat-Def_mMOd.svg";function pB(n){return Ja({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M7.987 8.5l6.146 6.146-0.707 0.707-6.853-6.853 6.854-6.854 0.707 0.707-6.147 6.147zM9.29 2.353l-0.707-0.707-6.854 6.854 6.854 6.854 0.707-0.707-6.146-6.147 6.146-6.147z"},child:[]}]})(n)}const mB=()=>{const n=xd(),e=f7(n);fB();const[t,r]=re.useState(""),[i,s]=re.useState(""),[a,u]=re.useState(!1);if(e)return C.jsx("div",{children:"Loading..."});const c={exit:{scale:.95,opacity:0,rotate:[0,-5],y:-50,transition:{duration:.4,ease:"easeInOut"}}},h=async y=>{y.preventDefault(),Ct.dismiss();try{await h7(t,i),u(!0),Ct.success("Login successful!",{autoClose:3e3}),sessionStorage.setItem("hasLoggedIn","true"),setTimeout(()=>{n("/pos-page")},3e3)}catch(_){console.error("Login failed: ",_.message),Ct.error(`${_.message}`)}},m=()=>{n("/")};return C.jsxs(C.Fragment,{children:[C.jsx(fd,{children:!a&&C.jsx(Gt.div,{className:"login-page",initial:{opacity:1},animate:{opacity:1},exit:c.exit,variants:c,children:C.jsxs("div",{className:"login-container",children:[C.jsx(Gt.div,{className:"back-button",whileHover:{scale:1.1},whileTap:{scale:.9},children:C.jsx("button",{type:"button",className:"button",onClick:m,children:C.jsx(pB,{className:"button-icon"})})}),C.jsx(Gt.div,{className:"mascot-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:C.jsx("img",{src:dB,alt:"Mascot",className:"mascot-image"})}),C.jsxs(Gt.div,{className:"form-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[C.jsxs("div",{className:"wildcats-title",children:[C.jsx("h2",{className:"wildcats",children:"Wildcats "}),C.jsx("h2",{className:"express",children:"Express"})]}),C.jsx("h3",{children:"Admin"}),C.jsxs("form",{onSubmit:h,children:[C.jsx(Gt.input,{type:"text",placeholder:"Username",value:t,required:!0,onChange:y=>r(y.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4}}),C.jsx(Gt.input,{type:"password",placeholder:"Password",value:i,required:!0,onChange:y=>s(y.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5}}),C.jsx(Gt.button,{type:"submit",className:"login-button",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:"Login"})]})]})]})},"login-page")}),C.jsx(OT,{position:"top-left",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})};function gB(){return C.jsx(C.Fragment,{children:C.jsx("div",{className:"App",children:C.jsx(XI,{children:C.jsxs(PI,{children:[C.jsx(Df,{path:"/",element:C.jsx(p7,{})}),C.jsx(Df,{path:"/login-page",element:C.jsx(mB,{})}),C.jsx(Df,{path:"/admin-page",element:C.jsx(WV,{})}),C.jsx(Df,{path:"/pos-page",element:C.jsx(hB,{})})]})})})})}FE.createRoot(document.getElementById("root")).render(C.jsx(re.StrictMode,{children:C.jsx(gB,{})}));export{zn as _,yB as c,CE as g};
