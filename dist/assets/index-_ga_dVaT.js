(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function YC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ap={exports:{}},Al={},lp={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function XC(){if(x0)return je;x0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=w&&$[w]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,D={};function R($,J,ye){this.props=$,this.context=J,this.refs=D,this.updater=ye||x}R.prototype.isReactComponent={},R.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function b(){}b.prototype=R.prototype;function U($,J,ye){this.props=$,this.context=J,this.refs=D,this.updater=ye||x}var F=U.prototype=new b;F.constructor=U,P(F,R.prototype),F.isPureReactComponent=!0;var Q=Array.isArray,X=Object.prototype.hasOwnProperty,ee={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S($,J,ye){var De,Le={},te=null,_e=null;if(J!=null)for(De in J.ref!==void 0&&(_e=J.ref),J.key!==void 0&&(te=""+J.key),J)X.call(J,De)&&!k.hasOwnProperty(De)&&(Le[De]=J[De]);var de=arguments.length-2;if(de===1)Le.children=ye;else if(1<de){for(var Oe=Array(de),Qe=0;Qe<de;Qe++)Oe[Qe]=arguments[Qe+2];Le.children=Oe}if($&&$.defaultProps)for(De in de=$.defaultProps,de)Le[De]===void 0&&(Le[De]=de[De]);return{$$typeof:t,type:$,key:te,ref:_e,props:Le,_owner:ee.current}}function A($,J){return{$$typeof:t,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function j($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ye){return J[ye]})}var z=/\/+/g;function V($,J){return typeof $=="object"&&$!==null&&$.key!=null?j(""+$.key):J.toString(36)}function We($,J,ye,De,Le){var te=typeof $;(te==="undefined"||te==="boolean")&&($=null);var _e=!1;if($===null)_e=!0;else switch(te){case"string":case"number":_e=!0;break;case"object":switch($.$$typeof){case t:case e:_e=!0}}if(_e)return _e=$,Le=Le(_e),$=De===""?"."+V(_e,0):De,Q(Le)?(ye="",$!=null&&(ye=$.replace(z,"$&/")+"/"),We(Le,J,ye,"",function(Qe){return Qe})):Le!=null&&(O(Le)&&(Le=A(Le,ye+(!Le.key||_e&&_e.key===Le.key?"":(""+Le.key).replace(z,"$&/")+"/")+$)),J.push(Le)),1;if(_e=0,De=De===""?".":De+":",Q($))for(var de=0;de<$.length;de++){te=$[de];var Oe=De+V(te,de);_e+=We(te,J,ye,Oe,Le)}else if(Oe=E($),typeof Oe=="function")for($=Oe.call($),de=0;!(te=$.next()).done;)te=te.value,Oe=De+V(te,de++),_e+=We(te,J,ye,Oe,Le);else if(te==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return _e}function it($,J,ye){if($==null)return $;var De=[],Le=0;return We($,De,"","",function(te){return J.call(ye,te,Le++)}),De}function st($){if($._status===-1){var J=$._result;J=J(),J.then(function(ye){($._status===0||$._status===-1)&&($._status=1,$._result=ye)},function(ye){($._status===0||$._status===-1)&&($._status=2,$._result=ye)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var Ee={current:null},ie={transition:null},me={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ee};function ue(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:it,forEach:function($,J,ye){it($,function(){J.apply(this,arguments)},ye)},count:function($){var J=0;return it($,function(){J++}),J},toArray:function($){return it($,function(J){return J})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}},je.Component=R,je.Fragment=n,je.Profiler=s,je.PureComponent=U,je.StrictMode=r,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,je.act=ue,je.cloneElement=function($,J,ye){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var De=P({},$.props),Le=$.key,te=$.ref,_e=$._owner;if(J!=null){if(J.ref!==void 0&&(te=J.ref,_e=ee.current),J.key!==void 0&&(Le=""+J.key),$.type&&$.type.defaultProps)var de=$.type.defaultProps;for(Oe in J)X.call(J,Oe)&&!k.hasOwnProperty(Oe)&&(De[Oe]=J[Oe]===void 0&&de!==void 0?de[Oe]:J[Oe])}var Oe=arguments.length-2;if(Oe===1)De.children=ye;else if(1<Oe){de=Array(Oe);for(var Qe=0;Qe<Oe;Qe++)de[Qe]=arguments[Qe+2];De.children=de}return{$$typeof:t,type:$.type,key:Le,ref:te,props:De,_owner:_e}},je.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},je.createElement=S,je.createFactory=function($){var J=S.bind(null,$);return J.type=$,J},je.createRef=function(){return{current:null}},je.forwardRef=function($){return{$$typeof:h,render:$}},je.isValidElement=O,je.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:st}},je.memo=function($,J){return{$$typeof:p,type:$,compare:J===void 0?null:J}},je.startTransition=function($){var J=ie.transition;ie.transition={};try{$()}finally{ie.transition=J}},je.unstable_act=ue,je.useCallback=function($,J){return Ee.current.useCallback($,J)},je.useContext=function($){return Ee.current.useContext($)},je.useDebugValue=function(){},je.useDeferredValue=function($){return Ee.current.useDeferredValue($)},je.useEffect=function($,J){return Ee.current.useEffect($,J)},je.useId=function(){return Ee.current.useId()},je.useImperativeHandle=function($,J,ye){return Ee.current.useImperativeHandle($,J,ye)},je.useInsertionEffect=function($,J){return Ee.current.useInsertionEffect($,J)},je.useLayoutEffect=function($,J){return Ee.current.useLayoutEffect($,J)},je.useMemo=function($,J){return Ee.current.useMemo($,J)},je.useReducer=function($,J,ye){return Ee.current.useReducer($,J,ye)},je.useRef=function($){return Ee.current.useRef($)},je.useState=function($){return Ee.current.useState($)},je.useSyncExternalStore=function($,J,ye){return Ee.current.useSyncExternalStore($,J,ye)},je.useTransition=function(){return Ee.current.useTransition()},je.version="18.3.1",je}var C0;function Fm(){return C0||(C0=1,lp.exports=XC()),lp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function JC(){if(P0)return Al;P0=1;var t=Fm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,d,p){var g,w={},E=null,x=null;p!==void 0&&(E=""+p),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(x=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(w[g]=d[g]);if(h&&h.defaultProps)for(g in d=h.defaultProps,d)w[g]===void 0&&(w[g]=d[g]);return{$$typeof:e,type:h,key:E,ref:x,props:w,_owner:s.current}}return Al.Fragment=n,Al.jsx=l,Al.jsxs=l,Al}var A0;function ZC(){return A0||(A0=1,ap.exports=JC()),ap.exports}var _=ZC(),L=Fm();const Ge=YC(L);var Yc={},up={exports:{}},yn={},cp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function eP(){return R0||(R0=1,function(t){function e(ie,me){var ue=ie.length;ie.push(me);e:for(;0<ue;){var $=ue-1>>>1,J=ie[$];if(0<s(J,me))ie[$]=me,ie[ue]=J,ue=$;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var me=ie[0],ue=ie.pop();if(ue!==me){ie[0]=ue;e:for(var $=0,J=ie.length,ye=J>>>1;$<ye;){var De=2*($+1)-1,Le=ie[De],te=De+1,_e=ie[te];if(0>s(Le,ue))te<J&&0>s(_e,Le)?(ie[$]=_e,ie[te]=ue,$=te):(ie[$]=Le,ie[De]=ue,$=De);else if(te<J&&0>s(_e,ue))ie[$]=_e,ie[te]=ue,$=te;else break e}}return me}function s(ie,me){var ue=ie.sortIndex-me.sortIndex;return ue!==0?ue:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],p=[],g=1,w=null,E=3,x=!1,P=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ie){for(var me=n(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ie)r(p),me.sortIndex=me.expirationTime,e(d,me);else break;me=n(p)}}function Q(ie){if(D=!1,F(ie),!P)if(n(d)!==null)P=!0,st(X);else{var me=n(p);me!==null&&Ee(Q,me.startTime-ie)}}function X(ie,me){P=!1,D&&(D=!1,b(S),S=-1),x=!0;var ue=E;try{for(F(me),w=n(d);w!==null&&(!(w.expirationTime>me)||ie&&!j());){var $=w.callback;if(typeof $=="function"){w.callback=null,E=w.priorityLevel;var J=$(w.expirationTime<=me);me=t.unstable_now(),typeof J=="function"?w.callback=J:w===n(d)&&r(d),F(me)}else r(d);w=n(d)}if(w!==null)var ye=!0;else{var De=n(p);De!==null&&Ee(Q,De.startTime-me),ye=!1}return ye}finally{w=null,E=ue,x=!1}}var ee=!1,k=null,S=-1,A=5,O=-1;function j(){return!(t.unstable_now()-O<A)}function z(){if(k!==null){var ie=t.unstable_now();O=ie;var me=!0;try{me=k(!0,ie)}finally{me?V():(ee=!1,k=null)}}else ee=!1}var V;if(typeof U=="function")V=function(){U(z)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,it=We.port2;We.port1.onmessage=z,V=function(){it.postMessage(null)}}else V=function(){R(z,0)};function st(ie){k=ie,ee||(ee=!0,V())}function Ee(ie,me){S=R(function(){ie(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){P||x||(P=!0,st(X))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ue=E;E=me;try{return ie()}finally{E=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=E;E=ie;try{return me()}finally{E=ue}},t.unstable_scheduleCallback=function(ie,me,ue){var $=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?$+ue:$):ue=$,ie){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ue+J,ie={id:g++,callback:me,priorityLevel:ie,startTime:ue,expirationTime:J,sortIndex:-1},ue>$?(ie.sortIndex=ue,e(p,ie),n(d)===null&&ie===n(p)&&(D?(b(S),S=-1):D=!0,Ee(Q,ue-$))):(ie.sortIndex=J,e(d,ie),P||x||(P=!0,st(X))),ie},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(ie){var me=E;return function(){var ue=E;E=me;try{return ie.apply(this,arguments)}finally{E=ue}}}}(hp)),hp}var k0;function tP(){return k0||(k0=1,cp.exports=eP()),cp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function nP(){if(b0)return yn;b0=1;var t=Fm(),e=tP();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function E(i){return d.call(w,i)?!0:d.call(g,i)?!1:p.test(i)?w[i]=!0:(g[i]=!0,!1)}function x(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,u,f){if(o===null||typeof o>"u"||x(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,u,f,m,v,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];R[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(b,U);R[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(b,U);R[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(b,U);R[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,u,f){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,m,f)&&(u=null),f||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ee=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,$;function J(i){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var ye=!1;function De(i,o){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var f=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){f=K}i.call(o.prototype)}else{try{throw Error()}catch(K){f=K}i()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=f.stack.split(`
`),I=m.length-1,N=v.length-1;1<=I&&0<=N&&m[I]!==v[N];)N--;for(;1<=I&&0<=N;I--,N--)if(m[I]!==v[N]){if(I!==1||N!==1)do if(I--,N--,0>N||m[I]!==v[N]){var M=`
`+m[I].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=I&&0<=N);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?J(i):""}function Le(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=De(i.type,!1),i;case 11:return i=De(i.type.render,!1),i;case 1:return i=De(i.type,!0),i;default:return""}}function te(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case ee:return"Portal";case A:return"Profiler";case S:return"StrictMode";case V:return"Suspense";case We:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case j:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case it:return o=i.displayName||null,o!==null?o:te(i.type)||"Memo";case st:o=i._payload,i=i._init;try{return te(i(o))}catch{}}return null}function _e(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function de(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Oe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Qe(i){var o=Oe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function un(i){i._valueTracker||(i._valueTracker=Qe(i))}function Tn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Oe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function gr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Nn(i,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function yi(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=de(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function gs(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function ys(i,o){gs(i,o);var u=de(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?vi(i,o.type,u):o.hasOwnProperty("defaultValue")&&vi(i,o.type,de(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function mo(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function vi(i,o,u){(o!=="number"||gr(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Kn=Array.isArray;function Gn(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+de(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function vs(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function _i(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Kn(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:de(u)}}function wi(i,o){var u=de(o.value),f=de(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function _s(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Y(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function we(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Y(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ze,tn=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ze.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Tt(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yr=["Webkit","ms","Moz","O"];Object.keys(Ht).forEach(function(i){yr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ht[o]=Ht[i]})});function Ti(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ht.hasOwnProperty(i)&&Ht[i]?(""+o).trim():o+"px"}function Ua(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Ti(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Ba=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function za(i,o){if(o){if(Ba[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function $a(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ws=null;function go(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yo=null,Dn=null,vr=null;function vo(i){if(i=fl(i)){if(typeof yo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=hc(o),yo(i.stateNode,i.type,o))}}function _r(i){Dn?vr?vr.push(i):vr=[i]:Dn=i}function Ha(){if(Dn){var i=Dn,o=vr;if(vr=Dn=null,vo(i),o)for(i=0;i<o.length;i++)vo(o[i])}}function Ts(i,o){return i(o)}function Wa(){}var zr=!1;function qa(i,o,u){if(zr)return i(o,u);zr=!0;try{return Ts(i,o,u)}finally{zr=!1,(Dn!==null||vr!==null)&&(Wa(),Ha())}}function gt(i,o){var u=i.stateNode;if(u===null)return null;var f=hc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var _o=!1;if(h)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{_o=!1}function Es(i,o,u,f,m,v,I,N,M){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(re){this.onError(re)}}var Is=!1,wo=null,Yn=!1,Ka=null,Vd={onError:function(i){Is=!0,wo=i}};function To(i,o,u,f,m,v,I,N,M){Is=!1,wo=null,Es.apply(Vd,arguments)}function Ou(i,o,u,f,m,v,I,N,M){if(To.apply(this,arguments),Is){if(Is){var K=wo;Is=!1,wo=null}else throw Error(n(198));Yn||(Yn=!0,Ka=K)}}function Xn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ss(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Jn(i){if(Xn(i)!==i)throw Error(n(188))}function Mu(i){var o=i.alternate;if(!o){if(o=Xn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Jn(m),i;if(v===f)return Jn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var I=!1,N=m.child;N;){if(N===u){I=!0,u=m,f=v;break}if(N===f){I=!0,f=m,u=v;break}N=N.sibling}if(!I){for(N=v.child;N;){if(N===u){I=!0,u=v,f=m;break}if(N===f){I=!0,f=v,u=m;break}N=N.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Ga(i){return i=Mu(i),i!==null?Eo(i):null}function Eo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Eo(i);if(o!==null)return o;i=i.sibling}return null}var Io=e.unstable_scheduleCallback,Qa=e.unstable_cancelCallback,ju=e.unstable_shouldYield,Ld=e.unstable_requestPaint,Ze=e.unstable_now,Fu=e.unstable_getCurrentPriorityLevel,xs=e.unstable_ImmediatePriority,Ei=e.unstable_UserBlockingPriority,Vn=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,Uu=e.unstable_IdlePriority,Cs=null,En=null;function Bu(i){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Cs,i,void 0,(i.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:$u,Xa=Math.log,zu=Math.LN2;function $u(i){return i>>>=0,i===0?32:31-(Xa(i)/zu|0)|0}var So=64,xo=4194304;function Ii(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ps(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,I=u&268435455;if(I!==0){var N=I&~m;N!==0?f=Ii(N):(v&=I,v!==0&&(f=Ii(v)))}else I=u&~m,I!==0?f=Ii(I):v!==0&&(f=Ii(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-nn(o),m=1<<u,f|=i[u],o&=~m;return f}function Od(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var I=31-nn(v),N=1<<I,M=m[I];M===-1?((N&u)===0||(N&f)!==0)&&(m[I]=Od(N,o)):M<=o&&(i.expiredLanes|=N),v&=~N}}function In(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function As(){var i=So;return So<<=1,(So&4194240)===0&&(So=64),i}function Si(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function xi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-nn(o),i[o]=u}function Je(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-nn(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function Ci(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-nn(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Be=0;function Pi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Hu,Co,Wu,qu,Ku,Ja=!1,wr=[],Ot=null,Zn=null,er=null,Ai=new Map,Ln=new Map,Tr=[],Md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gu(i,o){switch(i){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Ai.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(o.pointerId)}}function cn(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=fl(o),o!==null&&Co(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function jd(i,o,u,f,m){switch(o){case"focusin":return Ot=cn(Ot,i,o,u,f,m),!0;case"dragenter":return Zn=cn(Zn,i,o,u,f,m),!0;case"mouseover":return er=cn(er,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Ai.set(v,cn(Ai.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Ln.set(v,cn(Ln.get(v)||null,i,o,u,f,m)),!0}return!1}function Qu(i){var o=Ds(i.target);if(o!==null){var u=Xn(o);if(u!==null){if(o=u.tag,o===13){if(o=Ss(u),o!==null){i.blockedOn=o,Ku(i.priority,function(){Wu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Po(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ws=f,u.target.dispatchEvent(f),ws=null}else return o=fl(u),o!==null&&Co(o),i.blockedOn=u,!1;o.shift()}return!0}function Rs(i,o,u){Hr(i)&&u.delete(o)}function Yu(){Ja=!1,Ot!==null&&Hr(Ot)&&(Ot=null),Zn!==null&&Hr(Zn)&&(Zn=null),er!==null&&Hr(er)&&(er=null),Ai.forEach(Rs),Ln.forEach(Rs)}function tr(i,o){i.blockedOn===o&&(i.blockedOn=null,Ja||(Ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yu)))}function nr(i){function o(m){return tr(m,i)}if(0<wr.length){tr(wr[0],i);for(var u=1;u<wr.length;u++){var f=wr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Ot!==null&&tr(Ot,i),Zn!==null&&tr(Zn,i),er!==null&&tr(er,i),Ai.forEach(o),Ln.forEach(o),u=0;u<Tr.length;u++)f=Tr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Tr.length&&(u=Tr[0],u.blockedOn===null);)Qu(u),u.blockedOn===null&&Tr.shift()}var Wr=Q.ReactCurrentBatchConfig,Ri=!0;function ot(i,o,u,f){var m=Be,v=Wr.transition;Wr.transition=null;try{Be=1,Za(i,o,u,f)}finally{Be=m,Wr.transition=v}}function Fd(i,o,u,f){var m=Be,v=Wr.transition;Wr.transition=null;try{Be=4,Za(i,o,u,f)}finally{Be=m,Wr.transition=v}}function Za(i,o,u,f){if(Ri){var m=Po(i,o,u,f);if(m===null)Yd(i,o,f,ks,u),Gu(i,f);else if(jd(m,i,o,u,f))f.stopPropagation();else if(Gu(i,f),o&4&&-1<Md.indexOf(i)){for(;m!==null;){var v=fl(m);if(v!==null&&Hu(v),v=Po(i,o,u,f),v===null&&Yd(i,o,f,ks,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else Yd(i,o,f,null,u)}}var ks=null;function Po(i,o,u,f){if(ks=null,i=go(f),i=Ds(i),i!==null)if(o=Xn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ss(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ks=i,null}function el(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fu()){case xs:return 1;case Ei:return 4;case Vn:case Ya:return 16;case Uu:return 536870912;default:return 16}default:return 16}}var Sn=null,Ao=null,hn=null;function tl(){if(hn)return hn;var i,o=Ao,u=o.length,f,m="value"in Sn?Sn.value:Sn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var I=u-i;for(f=1;f<=I&&o[u-f]===m[v-f];f++);return hn=m.slice(i,1<f?1-f:void 0)}function Ro(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Er(){return!0}function nl(){return!1}function Mt(i){function o(u,f,m,v,I){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Er:nl,this.isPropagationStopped=nl,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),o}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=Mt(rr),Ir=ue({},rr,{view:0,detail:0}),Ud=Mt(Ir),bo,qr,ki,bs=ue({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ki&&(ki&&i.type==="mousemove"?(bo=i.screenX-ki.screenX,qr=i.screenY-ki.screenY):qr=bo=0,ki=i),bo)},movementY:function(i){return"movementY"in i?i.movementY:qr}}),No=Mt(bs),rl=ue({},bs,{dataTransfer:0}),Xu=Mt(rl),Do=ue({},Ir,{relatedTarget:0}),Vo=Mt(Do),Ju=ue({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=Mt(Ju),Zu=ue({},rr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ec=Mt(Zu),tc=ue({},rr,{data:0}),il=Mt(tc),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=nc[i])?!!o[i]:!1}function Sr(){return rc}var c=ue({},Ir,{key:function(i){if(i.key){var o=Lo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(i){return i.type==="keypress"?Ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Mt(c),T=ue({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Mt(T),H=ue({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),G=Mt(H),le=ue({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=Mt(le),xt=ue({},bs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Mt(xt),bt=[9,13,27,32],Et=h&&"CompositionEvent"in window,On=null;h&&"documentMode"in document&&(On=document.documentMode);var xn=h&&"TextEvent"in window&&!On,Ns=h&&(!Et||On&&8<On&&11>=On),Oo=" ",_y=!1;function wy(i,o){switch(i){case"keyup":return bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mo=!1;function Kx(i,o){switch(i){case"compositionend":return Ty(o);case"keypress":return o.which!==32?null:(_y=!0,Oo);case"textInput":return i=o.data,i===Oo&&_y?null:i;default:return null}}function Gx(i,o){if(Mo)return i==="compositionend"||!Et&&wy(i,o)?(i=tl(),hn=Ao=Sn=null,Mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ns&&o.locale!=="ko"?null:o.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Qx[i.type]:o==="textarea"}function Iy(i,o,u,f){_r(f),o=lc(o,"onChange"),0<o.length&&(u=new ko("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var sl=null,ol=null;function Yx(i){By(i,0)}function ic(i){var o=zo(i);if(Tn(o))return i}function Xx(i,o){if(i==="change")return o}var Sy=!1;if(h){var Bd;if(h){var zd="oninput"in document;if(!zd){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),zd=typeof xy.oninput=="function"}Bd=zd}else Bd=!1;Sy=Bd&&(!document.documentMode||9<document.documentMode)}function Cy(){sl&&(sl.detachEvent("onpropertychange",Py),ol=sl=null)}function Py(i){if(i.propertyName==="value"&&ic(ol)){var o=[];Iy(o,ol,i,go(i)),qa(Yx,o)}}function Jx(i,o,u){i==="focusin"?(Cy(),sl=o,ol=u,sl.attachEvent("onpropertychange",Py)):i==="focusout"&&Cy()}function Zx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ic(ol)}function eC(i,o){if(i==="click")return ic(o)}function tC(i,o){if(i==="input"||i==="change")return ic(o)}function nC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ir=typeof Object.is=="function"?Object.is:nC;function al(i,o){if(ir(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!ir(i[m],o[m]))return!1}return!0}function Ay(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ry(i,o){var u=Ay(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ay(u)}}function ky(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ky(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function by(){for(var i=window,o=gr();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=gr(i.document)}return o}function $d(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function rC(i){var o=by(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&ky(u.ownerDocument.documentElement,u)){if(f!==null&&$d(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=Ry(u,v);var I=Ry(u,f);m&&I&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var iC=h&&"documentMode"in document&&11>=document.documentMode,jo=null,Hd=null,ll=null,Wd=!1;function Ny(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Wd||jo==null||jo!==gr(f)||(f=jo,"selectionStart"in f&&$d(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ll&&al(ll,f)||(ll=f,f=lc(Hd,"onSelect"),0<f.length&&(o=new ko("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=jo)))}function sc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Fo={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},qd={},Dy={};h&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function oc(i){if(qd[i])return qd[i];if(!Fo[i])return i;var o=Fo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Dy)return qd[i]=o[u];return i}var Vy=oc("animationend"),Ly=oc("animationiteration"),Oy=oc("animationstart"),My=oc("transitionend"),jy=new Map,Fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(i,o){jy.set(i,o),a(o,[i])}for(var Kd=0;Kd<Fy.length;Kd++){var Gd=Fy[Kd],sC=Gd.toLowerCase(),oC=Gd[0].toUpperCase()+Gd.slice(1);bi(sC,"on"+oC)}bi(Vy,"onAnimationEnd"),bi(Ly,"onAnimationIteration"),bi(Oy,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(My,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Uy(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Ou(f,o,void 0,i),i.currentTarget=null}function By(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var I=f.length-1;0<=I;I--){var N=f[I],M=N.instance,K=N.currentTarget;if(N=N.listener,M!==v&&m.isPropagationStopped())break e;Uy(m,N,K),v=M}else for(I=0;I<f.length;I++){if(N=f[I],M=N.instance,K=N.currentTarget,N=N.listener,M!==v&&m.isPropagationStopped())break e;Uy(m,N,K),v=M}}}if(Yn)throw i=Ka,Yn=!1,Ka=null,i}function nt(i,o){var u=o[nf];u===void 0&&(u=o[nf]=new Set);var f=i+"__bubble";u.has(f)||(zy(o,i,2,!1),u.add(f))}function Qd(i,o,u){var f=0;o&&(f|=4),zy(u,i,f,o)}var ac="_reactListening"+Math.random().toString(36).slice(2);function cl(i){if(!i[ac]){i[ac]=!0,r.forEach(function(u){u!=="selectionchange"&&(aC.has(u)||Qd(u,!1,i),Qd(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ac]||(o[ac]=!0,Qd("selectionchange",!1,o))}}function zy(i,o,u,f){switch(el(o)){case 1:var m=ot;break;case 4:m=Fd;break;default:m=Za}u=m.bind(null,o,u,i),m=void 0,!_o||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Yd(i,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var N=f.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var M=I.tag;if((M===3||M===4)&&(M=I.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;I=I.return}for(;N!==null;){if(I=Ds(N),I===null)return;if(M=I.tag,M===5||M===6){f=v=I;continue e}N=N.parentNode}}f=f.return}qa(function(){var K=v,re=go(u),oe=[];e:{var ne=jy.get(i);if(ne!==void 0){var ce=ko,pe=i;switch(i){case"keypress":if(Ro(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":pe="focus",ce=Vo;break;case"focusout":pe="blur",ce=Vo;break;case"beforeblur":case"afterblur":ce=Vo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G;break;case Vy:case Ly:case Oy:ce=Kr;break;case My:ce=Xe;break;case"scroll":ce=Ud;break;case"wheel":ce=$e;break;case"copy":case"cut":case"paste":ce=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=C}var ge=(o&4)!==0,yt=!ge&&i==="scroll",W=ge?ne!==null?ne+"Capture":null:ne;ge=[];for(var B=K,q;B!==null;){q=B;var ae=q.stateNode;if(q.tag===5&&ae!==null&&(q=ae,W!==null&&(ae=gt(B,W),ae!=null&&ge.push(hl(B,ae,q)))),yt)break;B=B.return}0<ge.length&&(ne=new ce(ne,pe,null,u,re),oe.push({event:ne,listeners:ge}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",ne&&u!==ws&&(pe=u.relatedTarget||u.fromElement)&&(Ds(pe)||pe[Gr]))break e;if((ce||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ce?(pe=u.relatedTarget||u.toElement,ce=K,pe=pe?Ds(pe):null,pe!==null&&(yt=Xn(pe),pe!==yt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=K),ce!==pe)){if(ge=No,ae="onMouseLeave",W="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ge=C,ae="onPointerLeave",W="onPointerEnter",B="pointer"),yt=ce==null?ne:zo(ce),q=pe==null?ne:zo(pe),ne=new ge(ae,B+"leave",ce,u,re),ne.target=yt,ne.relatedTarget=q,ae=null,Ds(re)===K&&(ge=new ge(W,B+"enter",pe,u,re),ge.target=q,ge.relatedTarget=yt,ae=ge),yt=ae,ce&&pe)t:{for(ge=ce,W=pe,B=0,q=ge;q;q=Uo(q))B++;for(q=0,ae=W;ae;ae=Uo(ae))q++;for(;0<B-q;)ge=Uo(ge),B--;for(;0<q-B;)W=Uo(W),q--;for(;B--;){if(ge===W||W!==null&&ge===W.alternate)break t;ge=Uo(ge),W=Uo(W)}ge=null}else ge=null;ce!==null&&$y(oe,ne,ce,ge,!1),pe!==null&&yt!==null&&$y(oe,yt,pe,ge,!0)}}e:{if(ne=K?zo(K):window,ce=ne.nodeName&&ne.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ne.type==="file")var ve=Xx;else if(Ey(ne))if(Sy)ve=tC;else{ve=Zx;var Ie=Jx}else(ce=ne.nodeName)&&ce.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ve=eC);if(ve&&(ve=ve(i,K))){Iy(oe,ve,u,re);break e}Ie&&Ie(i,ne,K),i==="focusout"&&(Ie=ne._wrapperState)&&Ie.controlled&&ne.type==="number"&&vi(ne,"number",ne.value)}switch(Ie=K?zo(K):window,i){case"focusin":(Ey(Ie)||Ie.contentEditable==="true")&&(jo=Ie,Hd=K,ll=null);break;case"focusout":ll=Hd=jo=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,Ny(oe,u,re);break;case"selectionchange":if(iC)break;case"keydown":case"keyup":Ny(oe,u,re)}var Se;if(Et)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Mo?wy(i,u)&&(Re="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(Ns&&u.locale!=="ko"&&(Mo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Mo&&(Se=tl()):(Sn=re,Ao="value"in Sn?Sn.value:Sn.textContent,Mo=!0)),Ie=lc(K,Re),0<Ie.length&&(Re=new il(Re,i,null,u,re),oe.push({event:Re,listeners:Ie}),Se?Re.data=Se:(Se=Ty(u),Se!==null&&(Re.data=Se)))),(Se=xn?Kx(i,u):Gx(i,u))&&(K=lc(K,"onBeforeInput"),0<K.length&&(re=new il("onBeforeInput","beforeinput",null,u,re),oe.push({event:re,listeners:K}),re.data=Se))}By(oe,o)})}function hl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function lc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=gt(i,u),v!=null&&f.unshift(hl(i,v,m)),v=gt(i,o),v!=null&&f.push(hl(i,v,m))),i=i.return}return f}function Uo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function $y(i,o,u,f,m){for(var v=o._reactName,I=[];u!==null&&u!==f;){var N=u,M=N.alternate,K=N.stateNode;if(M!==null&&M===f)break;N.tag===5&&K!==null&&(N=K,m?(M=gt(u,v),M!=null&&I.unshift(hl(u,M,N))):m||(M=gt(u,v),M!=null&&I.push(hl(u,M,N)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var lC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function Hy(i){return(typeof i=="string"?i:""+i).replace(lC,`
`).replace(uC,"")}function uc(i,o,u){if(o=Hy(o),Hy(i)!==o&&u)throw Error(n(425))}function cc(){}var Xd=null,Jd=null;function Zd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ef=typeof setTimeout=="function"?setTimeout:void 0,cC=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,hC=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(i){return Wy.resolve(null).then(i).catch(dC)}:ef;function dC(i){setTimeout(function(){throw i})}function tf(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),nr(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);nr(o)}function Ni(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function qy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),xr="__reactFiber$"+Bo,dl="__reactProps$"+Bo,Gr="__reactContainer$"+Bo,nf="__reactEvents$"+Bo,fC="__reactListeners$"+Bo,pC="__reactHandles$"+Bo;function Ds(i){var o=i[xr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Gr]||u[xr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=qy(i);i!==null;){if(u=i[xr])return u;i=qy(i)}return o}i=u,u=i.parentNode}return null}function fl(i){return i=i[xr]||i[Gr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function zo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function hc(i){return i[dl]||null}var rf=[],$o=-1;function Di(i){return{current:i}}function rt(i){0>$o||(i.current=rf[$o],rf[$o]=null,$o--)}function et(i,o){$o++,rf[$o]=i.current,i.current=o}var Vi={},Wt=Di(Vi),dn=Di(!1),Vs=Vi;function Ho(i,o){var u=i.type.contextTypes;if(!u)return Vi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function fn(i){return i=i.childContextTypes,i!=null}function dc(){rt(dn),rt(Wt)}function Ky(i,o,u){if(Wt.current!==Vi)throw Error(n(168));et(Wt,o),et(dn,u)}function Gy(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,_e(i)||"Unknown",m));return ue({},u,f)}function fc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vi,Vs=Wt.current,et(Wt,i),et(dn,dn.current),!0}function Qy(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=Gy(i,o,Vs),f.__reactInternalMemoizedMergedChildContext=i,rt(dn),rt(Wt),et(Wt,i)):rt(dn),et(dn,u)}var Qr=null,pc=!1,sf=!1;function Yy(i){Qr===null?Qr=[i]:Qr.push(i)}function mC(i){pc=!0,Yy(i)}function Li(){if(!sf&&Qr!==null){sf=!0;var i=0,o=Be;try{var u=Qr;for(Be=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Qr=null,pc=!1}catch(m){throw Qr!==null&&(Qr=Qr.slice(i+1)),Io(xs,Li),m}finally{Be=o,sf=!1}}return null}var Wo=[],qo=0,mc=null,gc=0,Mn=[],jn=0,Ls=null,Yr=1,Xr="";function Os(i,o){Wo[qo++]=gc,Wo[qo++]=mc,mc=i,gc=o}function Xy(i,o,u){Mn[jn++]=Yr,Mn[jn++]=Xr,Mn[jn++]=Ls,Ls=i;var f=Yr;i=Xr;var m=32-nn(f)-1;f&=~(1<<m),u+=1;var v=32-nn(o)+m;if(30<v){var I=m-m%5;v=(f&(1<<I)-1).toString(32),f>>=I,m-=I,Yr=1<<32-nn(o)+m|u<<m|f,Xr=v+i}else Yr=1<<v|u<<m|f,Xr=i}function of(i){i.return!==null&&(Os(i,1),Xy(i,1,0))}function af(i){for(;i===mc;)mc=Wo[--qo],Wo[qo]=null,gc=Wo[--qo],Wo[qo]=null;for(;i===Ls;)Ls=Mn[--jn],Mn[jn]=null,Xr=Mn[--jn],Mn[jn]=null,Yr=Mn[--jn],Mn[jn]=null}var Cn=null,Pn=null,at=!1,sr=null;function Jy(i,o){var u=zn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Zy(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Cn=i,Pn=Ni(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Cn=i,Pn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ls!==null?{id:Yr,overflow:Xr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=zn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Cn=i,Pn=null,!0):!1;default:return!1}}function lf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function uf(i){if(at){var o=Pn;if(o){var u=o;if(!Zy(i,o)){if(lf(i))throw Error(n(418));o=Ni(u.nextSibling);var f=Cn;o&&Zy(i,o)?Jy(f,u):(i.flags=i.flags&-4097|2,at=!1,Cn=i)}}else{if(lf(i))throw Error(n(418));i.flags=i.flags&-4097|2,at=!1,Cn=i}}}function ev(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Cn=i}function yc(i){if(i!==Cn)return!1;if(!at)return ev(i),at=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Zd(i.type,i.memoizedProps)),o&&(o=Pn)){if(lf(i))throw tv(),Error(n(418));for(;o;)Jy(i,o),o=Ni(o.nextSibling)}if(ev(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Pn=Ni(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Pn=null}}else Pn=Cn?Ni(i.stateNode.nextSibling):null;return!0}function tv(){for(var i=Pn;i;)i=Ni(i.nextSibling)}function Ko(){Pn=Cn=null,at=!1}function cf(i){sr===null?sr=[i]:sr.push(i)}var gC=Q.ReactCurrentBatchConfig;function pl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(I){var N=m.refs;I===null?delete N[v]:N[v]=I},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function vc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function nv(i){var o=i._init;return o(i._payload)}function rv(i){function o(W,B){if(i){var q=W.deletions;q===null?(W.deletions=[B],W.flags|=16):q.push(B)}}function u(W,B){if(!i)return null;for(;B!==null;)o(W,B),B=B.sibling;return null}function f(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function m(W,B){return W=$i(W,B),W.index=0,W.sibling=null,W}function v(W,B,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<B?(W.flags|=2,B):q):(W.flags|=2,B)):(W.flags|=1048576,B)}function I(W){return i&&W.alternate===null&&(W.flags|=2),W}function N(W,B,q,ae){return B===null||B.tag!==6?(B=tp(q,W.mode,ae),B.return=W,B):(B=m(B,q),B.return=W,B)}function M(W,B,q,ae){var ve=q.type;return ve===k?re(W,B,q.props.children,ae,q.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===st&&nv(ve)===B.type)?(ae=m(B,q.props),ae.ref=pl(W,B,q),ae.return=W,ae):(ae=zc(q.type,q.key,q.props,null,W.mode,ae),ae.ref=pl(W,B,q),ae.return=W,ae)}function K(W,B,q,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=np(q,W.mode,ae),B.return=W,B):(B=m(B,q.children||[]),B.return=W,B)}function re(W,B,q,ae,ve){return B===null||B.tag!==7?(B=Hs(q,W.mode,ae,ve),B.return=W,B):(B=m(B,q),B.return=W,B)}function oe(W,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=tp(""+B,W.mode,q),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case X:return q=zc(B.type,B.key,B.props,null,W.mode,q),q.ref=pl(W,null,B),q.return=W,q;case ee:return B=np(B,W.mode,q),B.return=W,B;case st:var ae=B._init;return oe(W,ae(B._payload),q)}if(Kn(B)||me(B))return B=Hs(B,W.mode,q,null),B.return=W,B;vc(W,B)}return null}function ne(W,B,q,ae){var ve=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:N(W,B,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case X:return q.key===ve?M(W,B,q,ae):null;case ee:return q.key===ve?K(W,B,q,ae):null;case st:return ve=q._init,ne(W,B,ve(q._payload),ae)}if(Kn(q)||me(q))return ve!==null?null:re(W,B,q,ae,null);vc(W,q)}return null}function ce(W,B,q,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return W=W.get(q)||null,N(B,W,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case X:return W=W.get(ae.key===null?q:ae.key)||null,M(B,W,ae,ve);case ee:return W=W.get(ae.key===null?q:ae.key)||null,K(B,W,ae,ve);case st:var Ie=ae._init;return ce(W,B,q,Ie(ae._payload),ve)}if(Kn(ae)||me(ae))return W=W.get(q)||null,re(B,W,ae,ve,null);vc(B,ae)}return null}function pe(W,B,q,ae){for(var ve=null,Ie=null,Se=B,Re=B=0,Vt=null;Se!==null&&Re<q.length;Re++){Se.index>Re?(Vt=Se,Se=null):Vt=Se.sibling;var Ke=ne(W,Se,q[Re],ae);if(Ke===null){Se===null&&(Se=Vt);break}i&&Se&&Ke.alternate===null&&o(W,Se),B=v(Ke,B,Re),Ie===null?ve=Ke:Ie.sibling=Ke,Ie=Ke,Se=Vt}if(Re===q.length)return u(W,Se),at&&Os(W,Re),ve;if(Se===null){for(;Re<q.length;Re++)Se=oe(W,q[Re],ae),Se!==null&&(B=v(Se,B,Re),Ie===null?ve=Se:Ie.sibling=Se,Ie=Se);return at&&Os(W,Re),ve}for(Se=f(W,Se);Re<q.length;Re++)Vt=ce(Se,W,Re,q[Re],ae),Vt!==null&&(i&&Vt.alternate!==null&&Se.delete(Vt.key===null?Re:Vt.key),B=v(Vt,B,Re),Ie===null?ve=Vt:Ie.sibling=Vt,Ie=Vt);return i&&Se.forEach(function(Hi){return o(W,Hi)}),at&&Os(W,Re),ve}function ge(W,B,q,ae){var ve=me(q);if(typeof ve!="function")throw Error(n(150));if(q=ve.call(q),q==null)throw Error(n(151));for(var Ie=ve=null,Se=B,Re=B=0,Vt=null,Ke=q.next();Se!==null&&!Ke.done;Re++,Ke=q.next()){Se.index>Re?(Vt=Se,Se=null):Vt=Se.sibling;var Hi=ne(W,Se,Ke.value,ae);if(Hi===null){Se===null&&(Se=Vt);break}i&&Se&&Hi.alternate===null&&o(W,Se),B=v(Hi,B,Re),Ie===null?ve=Hi:Ie.sibling=Hi,Ie=Hi,Se=Vt}if(Ke.done)return u(W,Se),at&&Os(W,Re),ve;if(Se===null){for(;!Ke.done;Re++,Ke=q.next())Ke=oe(W,Ke.value,ae),Ke!==null&&(B=v(Ke,B,Re),Ie===null?ve=Ke:Ie.sibling=Ke,Ie=Ke);return at&&Os(W,Re),ve}for(Se=f(W,Se);!Ke.done;Re++,Ke=q.next())Ke=ce(Se,W,Re,Ke.value,ae),Ke!==null&&(i&&Ke.alternate!==null&&Se.delete(Ke.key===null?Re:Ke.key),B=v(Ke,B,Re),Ie===null?ve=Ke:Ie.sibling=Ke,Ie=Ke);return i&&Se.forEach(function(QC){return o(W,QC)}),at&&Os(W,Re),ve}function yt(W,B,q,ae){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case X:e:{for(var ve=q.key,Ie=B;Ie!==null;){if(Ie.key===ve){if(ve=q.type,ve===k){if(Ie.tag===7){u(W,Ie.sibling),B=m(Ie,q.props.children),B.return=W,W=B;break e}}else if(Ie.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===st&&nv(ve)===Ie.type){u(W,Ie.sibling),B=m(Ie,q.props),B.ref=pl(W,Ie,q),B.return=W,W=B;break e}u(W,Ie);break}else o(W,Ie);Ie=Ie.sibling}q.type===k?(B=Hs(q.props.children,W.mode,ae,q.key),B.return=W,W=B):(ae=zc(q.type,q.key,q.props,null,W.mode,ae),ae.ref=pl(W,B,q),ae.return=W,W=ae)}return I(W);case ee:e:{for(Ie=q.key;B!==null;){if(B.key===Ie)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){u(W,B.sibling),B=m(B,q.children||[]),B.return=W,W=B;break e}else{u(W,B);break}else o(W,B);B=B.sibling}B=np(q,W.mode,ae),B.return=W,W=B}return I(W);case st:return Ie=q._init,yt(W,B,Ie(q._payload),ae)}if(Kn(q))return pe(W,B,q,ae);if(me(q))return ge(W,B,q,ae);vc(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(u(W,B.sibling),B=m(B,q),B.return=W,W=B):(u(W,B),B=tp(q,W.mode,ae),B.return=W,W=B),I(W)):u(W,B)}return yt}var Go=rv(!0),iv=rv(!1),_c=Di(null),wc=null,Qo=null,hf=null;function df(){hf=Qo=wc=null}function ff(i){var o=_c.current;rt(_c),i._currentValue=o}function pf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Yo(i,o){wc=i,hf=Qo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(pn=!0),i.firstContext=null)}function Fn(i){var o=i._currentValue;if(hf!==i)if(i={context:i,memoizedValue:o,next:null},Qo===null){if(wc===null)throw Error(n(308));Qo=i,wc.dependencies={lanes:0,firstContext:i}}else Qo=Qo.next=i;return o}var Ms=null;function mf(i){Ms===null?Ms=[i]:Ms.push(i)}function sv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,mf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Jr(i,f)}function Jr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Oi=!1;function gf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Zr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Mi(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(qe&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Jr(i,u)}return m=f.interleaved,m===null?(o.next=o,mf(f)):(o.next=m.next,m.next=o),f.interleaved=o,Jr(i,u)}function Tc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ci(i,u)}}function av(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Ec(i,o,u,f){var m=i.updateQueue;Oi=!1;var v=m.firstBaseUpdate,I=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var M=N,K=M.next;M.next=null,I===null?v=K:I.next=K,I=M;var re=i.alternate;re!==null&&(re=re.updateQueue,N=re.lastBaseUpdate,N!==I&&(N===null?re.firstBaseUpdate=K:N.next=K,re.lastBaseUpdate=M))}if(v!==null){var oe=m.baseState;I=0,re=K=M=null,N=v;do{var ne=N.lane,ce=N.eventTime;if((f&ne)===ne){re!==null&&(re=re.next={eventTime:ce,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var pe=i,ge=N;switch(ne=o,ce=u,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){oe=pe.call(ce,oe,ne);break e}oe=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,ne=typeof pe=="function"?pe.call(ce,oe,ne):pe,ne==null)break e;oe=ue({},oe,ne);break e;case 2:Oi=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,ne=m.effects,ne===null?m.effects=[N]:ne.push(N))}else ce={eventTime:ce,lane:ne,tag:N.tag,payload:N.payload,callback:N.callback,next:null},re===null?(K=re=ce,M=oe):re=re.next=ce,I|=ne;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);if(re===null&&(M=oe),m.baseState=M,m.firstBaseUpdate=K,m.lastBaseUpdate=re,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Us|=I,i.lanes=I,i.memoizedState=oe}}function lv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var ml={},Cr=Di(ml),gl=Di(ml),yl=Di(ml);function js(i){if(i===ml)throw Error(n(174));return i}function yf(i,o){switch(et(yl,o),et(gl,i),et(Cr,ml),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:we(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=we(o,i)}rt(Cr),et(Cr,o)}function Xo(){rt(Cr),rt(gl),rt(yl)}function uv(i){js(yl.current);var o=js(Cr.current),u=we(o,i.type);o!==u&&(et(gl,i),et(Cr,u))}function vf(i){gl.current===i&&(rt(Cr),rt(gl))}var ut=Di(0);function Ic(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var _f=[];function wf(){for(var i=0;i<_f.length;i++)_f[i]._workInProgressVersionPrimary=null;_f.length=0}var Sc=Q.ReactCurrentDispatcher,Tf=Q.ReactCurrentBatchConfig,Fs=0,ct=null,Ct=null,Nt=null,xc=!1,vl=!1,_l=0,yC=0;function qt(){throw Error(n(321))}function Ef(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!ir(i[u],o[u]))return!1;return!0}function If(i,o,u,f,m,v){if(Fs=v,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Sc.current=i===null||i.memoizedState===null?TC:EC,i=u(f,m),vl){v=0;do{if(vl=!1,_l=0,25<=v)throw Error(n(301));v+=1,Nt=Ct=null,o.updateQueue=null,Sc.current=IC,i=u(f,m)}while(vl)}if(Sc.current=Ac,o=Ct!==null&&Ct.next!==null,Fs=0,Nt=Ct=ct=null,xc=!1,o)throw Error(n(300));return i}function Sf(){var i=_l!==0;return _l=0,i}function Pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ct.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function Un(){if(Ct===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var o=Nt===null?ct.memoizedState:Nt.next;if(o!==null)Nt=o,Ct=i;else{if(i===null)throw Error(n(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Nt===null?ct.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function wl(i,o){return typeof o=="function"?o(i):o}function xf(i){var o=Un(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=Ct,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var I=m.next;m.next=v.next,v.next=I}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var N=I=null,M=null,K=v;do{var re=K.lane;if((Fs&re)===re)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:i(f,K.action);else{var oe={lane:re,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(N=M=oe,I=f):M=M.next=oe,ct.lanes|=re,Us|=re}K=K.next}while(K!==null&&K!==v);M===null?I=f:M.next=N,ir(f,o.memoizedState)||(pn=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=M,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,ct.lanes|=v,Us|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Cf(i){var o=Un(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do v=i(v,I.action),I=I.next;while(I!==m);ir(v,o.memoizedState)||(pn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function cv(){}function hv(i,o){var u=ct,f=Un(),m=o(),v=!ir(f.memoizedState,m);if(v&&(f.memoizedState=m,pn=!0),f=f.queue,Pf(pv.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,Tl(9,fv.bind(null,u,f,m,o),void 0,null),Dt===null)throw Error(n(349));(Fs&30)!==0||dv(u,o,m)}return m}function dv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function fv(i,o,u,f){o.value=u,o.getSnapshot=f,mv(o)&&gv(i)}function pv(i,o,u){return u(function(){mv(o)&&gv(i)})}function mv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!ir(i,u)}catch{return!0}}function gv(i){var o=Jr(i,1);o!==null&&ur(o,i,1,-1)}function yv(i){var o=Pr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:i},o.queue=i,i=i.dispatch=wC.bind(null,ct,i),[o.memoizedState,i]}function Tl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function vv(){return Un().memoizedState}function Cc(i,o,u,f){var m=Pr();ct.flags|=i,m.memoizedState=Tl(1|o,u,void 0,f===void 0?null:f)}function Pc(i,o,u,f){var m=Un();f=f===void 0?null:f;var v=void 0;if(Ct!==null){var I=Ct.memoizedState;if(v=I.destroy,f!==null&&Ef(f,I.deps)){m.memoizedState=Tl(o,u,v,f);return}}ct.flags|=i,m.memoizedState=Tl(1|o,u,v,f)}function _v(i,o){return Cc(8390656,8,i,o)}function Pf(i,o){return Pc(2048,8,i,o)}function wv(i,o){return Pc(4,2,i,o)}function Tv(i,o){return Pc(4,4,i,o)}function Ev(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Iv(i,o,u){return u=u!=null?u.concat([i]):null,Pc(4,4,Ev.bind(null,o,i),u)}function Af(){}function Sv(i,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Ef(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function xv(i,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Ef(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function Cv(i,o,u){return(Fs&21)===0?(i.baseState&&(i.baseState=!1,pn=!0),i.memoizedState=u):(ir(u,o)||(u=As(),ct.lanes|=u,Us|=u,i.baseState=!0),o)}function vC(i,o){var u=Be;Be=u!==0&&4>u?u:4,i(!0);var f=Tf.transition;Tf.transition={};try{i(!1),o()}finally{Be=u,Tf.transition=f}}function Pv(){return Un().memoizedState}function _C(i,o,u){var f=Bi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Av(i))Rv(o,u);else if(u=sv(i,o,u,f),u!==null){var m=on();ur(u,i,f,m),kv(u,o,f)}}function wC(i,o,u){var f=Bi(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Av(i))Rv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,N=v(I,u);if(m.hasEagerState=!0,m.eagerState=N,ir(N,I)){var M=o.interleaved;M===null?(m.next=m,mf(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=sv(i,o,m,f),u!==null&&(m=on(),ur(u,i,f,m),kv(u,o,f))}}function Av(i){var o=i.alternate;return i===ct||o!==null&&o===ct}function Rv(i,o){vl=xc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function kv(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ci(i,u)}}var Ac={readContext:Fn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},TC={readContext:Fn,useCallback:function(i,o){return Pr().memoizedState=[i,o===void 0?null:o],i},useContext:Fn,useEffect:_v,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Cc(4194308,4,Ev.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Cc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Cc(4,2,i,o)},useMemo:function(i,o){var u=Pr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Pr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=_C.bind(null,ct,i),[f.memoizedState,i]},useRef:function(i){var o=Pr();return i={current:i},o.memoizedState=i},useState:yv,useDebugValue:Af,useDeferredValue:function(i){return Pr().memoizedState=i},useTransition:function(){var i=yv(!1),o=i[0];return i=vC.bind(null,i[1]),Pr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ct,m=Pr();if(at){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Dt===null)throw Error(n(349));(Fs&30)!==0||dv(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,_v(pv.bind(null,f,v,i),[i]),f.flags|=2048,Tl(9,fv.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Pr(),o=Dt.identifierPrefix;if(at){var u=Xr,f=Yr;u=(f&~(1<<32-nn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=_l++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=yC++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},EC={readContext:Fn,useCallback:Sv,useContext:Fn,useEffect:Pf,useImperativeHandle:Iv,useInsertionEffect:wv,useLayoutEffect:Tv,useMemo:xv,useReducer:xf,useRef:vv,useState:function(){return xf(wl)},useDebugValue:Af,useDeferredValue:function(i){var o=Un();return Cv(o,Ct.memoizedState,i)},useTransition:function(){var i=xf(wl)[0],o=Un().memoizedState;return[i,o]},useMutableSource:cv,useSyncExternalStore:hv,useId:Pv,unstable_isNewReconciler:!1},IC={readContext:Fn,useCallback:Sv,useContext:Fn,useEffect:Pf,useImperativeHandle:Iv,useInsertionEffect:wv,useLayoutEffect:Tv,useMemo:xv,useReducer:Cf,useRef:vv,useState:function(){return Cf(wl)},useDebugValue:Af,useDeferredValue:function(i){var o=Un();return Ct===null?o.memoizedState=i:Cv(o,Ct.memoizedState,i)},useTransition:function(){var i=Cf(wl)[0],o=Un().memoizedState;return[i,o]},useMutableSource:cv,useSyncExternalStore:hv,useId:Pv,unstable_isNewReconciler:!1};function or(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Rf(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ue({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Rc={isMounted:function(i){return(i=i._reactInternals)?Xn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=on(),m=Bi(i),v=Zr(f,m);v.payload=o,u!=null&&(v.callback=u),o=Mi(i,v,m),o!==null&&(ur(o,i,m,f),Tc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=on(),m=Bi(i),v=Zr(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Mi(i,v,m),o!==null&&(ur(o,i,m,f),Tc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=on(),f=Bi(i),m=Zr(u,f);m.tag=2,o!=null&&(m.callback=o),o=Mi(i,m,f),o!==null&&(ur(o,i,f,u),Tc(o,i,f))}};function bv(i,o,u,f,m,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,I):o.prototype&&o.prototype.isPureReactComponent?!al(u,f)||!al(m,v):!0}function Nv(i,o,u){var f=!1,m=Vi,v=o.contextType;return typeof v=="object"&&v!==null?v=Fn(v):(m=fn(o)?Vs:Wt.current,f=o.contextTypes,v=(f=f!=null)?Ho(i,m):Vi),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Dv(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Rc.enqueueReplaceState(o,o.state,null)}function kf(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},gf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Fn(v):(v=fn(o)?Vs:Wt.current,m.context=Ho(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Rf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Rc.enqueueReplaceState(m,m.state,null),Ec(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Jo(i,o){try{var u="",f=o;do u+=Le(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function bf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Nf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var SC=typeof WeakMap=="function"?WeakMap:Map;function Vv(i,o,u){u=Zr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Oc||(Oc=!0,Kf=f),Nf(i,o)},u}function Lv(i,o,u){u=Zr(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Nf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Nf(i,o),typeof f!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function Ov(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new SC;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=jC.bind(null,i,o,u),o.then(i,i))}function Mv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function jv(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Zr(-1,1),o.tag=2,Mi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var xC=Q.ReactCurrentOwner,pn=!1;function sn(i,o,u,f){o.child=i===null?iv(o,null,u,f):Go(o,i.child,u,f)}function Fv(i,o,u,f,m){u=u.render;var v=o.ref;return Yo(o,m),f=If(i,o,u,f,v,m),u=Sf(),i!==null&&!pn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ei(i,o,m)):(at&&u&&of(o),o.flags|=1,sn(i,o,f,m),o.child)}function Uv(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!ep(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Bv(i,o,v,f,m)):(i=zc(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:al,u(I,f)&&i.ref===o.ref)return ei(i,o,m)}return o.flags|=1,i=$i(v,f),i.ref=o.ref,i.return=o,o.child=i}function Bv(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(al(v,f)&&i.ref===o.ref)if(pn=!1,o.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(pn=!0);else return o.lanes=i.lanes,ei(i,o,m)}return Df(i,o,u,f,m)}function zv(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ea,An),An|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,et(ea,An),An|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,et(ea,An),An|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,et(ea,An),An|=f;return sn(i,o,m,u),o.child}function $v(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Df(i,o,u,f,m){var v=fn(u)?Vs:Wt.current;return v=Ho(o,v),Yo(o,m),u=If(i,o,u,f,v,m),f=Sf(),i!==null&&!pn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ei(i,o,m)):(at&&f&&of(o),o.flags|=1,sn(i,o,u,m),o.child)}function Hv(i,o,u,f,m){if(fn(u)){var v=!0;fc(o)}else v=!1;if(Yo(o,m),o.stateNode===null)bc(i,o),Nv(o,u,f),kf(o,u,f,m),f=!0;else if(i===null){var I=o.stateNode,N=o.memoizedProps;I.props=N;var M=I.context,K=u.contextType;typeof K=="object"&&K!==null?K=Fn(K):(K=fn(u)?Vs:Wt.current,K=Ho(o,K));var re=u.getDerivedStateFromProps,oe=typeof re=="function"||typeof I.getSnapshotBeforeUpdate=="function";oe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==f||M!==K)&&Dv(o,I,f,K),Oi=!1;var ne=o.memoizedState;I.state=ne,Ec(o,f,I,m),M=o.memoizedState,N!==f||ne!==M||dn.current||Oi?(typeof re=="function"&&(Rf(o,u,re,f),M=o.memoizedState),(N=Oi||bv(o,u,N,f,ne,M,K))?(oe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=M),I.props=f,I.state=M,I.context=K,f=N):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,ov(i,o),N=o.memoizedProps,K=o.type===o.elementType?N:or(o.type,N),I.props=K,oe=o.pendingProps,ne=I.context,M=u.contextType,typeof M=="object"&&M!==null?M=Fn(M):(M=fn(u)?Vs:Wt.current,M=Ho(o,M));var ce=u.getDerivedStateFromProps;(re=typeof ce=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==oe||ne!==M)&&Dv(o,I,f,M),Oi=!1,ne=o.memoizedState,I.state=ne,Ec(o,f,I,m);var pe=o.memoizedState;N!==oe||ne!==pe||dn.current||Oi?(typeof ce=="function"&&(Rf(o,u,ce,f),pe=o.memoizedState),(K=Oi||bv(o,u,K,f,ne,pe,M)||!1)?(re||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,pe,M),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,pe,M)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=pe),I.props=f,I.state=pe,I.context=M,f=K):(typeof I.componentDidUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),f=!1)}return Vf(i,o,u,f,v,m)}function Vf(i,o,u,f,m,v){$v(i,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&Qy(o,u,!1),ei(i,o,v);f=o.stateNode,xC.current=o;var N=I&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&I?(o.child=Go(o,i.child,null,v),o.child=Go(o,null,N,v)):sn(i,o,N,v),o.memoizedState=f.state,m&&Qy(o,u,!0),o.child}function Wv(i){var o=i.stateNode;o.pendingContext?Ky(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Ky(i,o.context,!1),yf(i,o.containerInfo)}function qv(i,o,u,f,m){return Ko(),cf(m),o.flags|=256,sn(i,o,u,f),o.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Of(i){return{baseLanes:i,cachePool:null,transitions:null}}function Kv(i,o,u){var f=o.pendingProps,m=ut.current,v=!1,I=(o.flags&128)!==0,N;if((N=I)||(N=i!==null&&i.memoizedState===null?!1:(m&2)!==0),N?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),et(ut,m&1),i===null)return uf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,i=f.fallback,v?(f=o.mode,v=o.child,I={mode:"hidden",children:I},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=$c(I,f,0,null),i=Hs(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Of(u),o.memoizedState=Lf,i):Mf(o,I));if(m=i.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return CC(i,o,I,f,N,m,u);if(v){v=f.fallback,I=o.mode,m=i.child,N=m.sibling;var M={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=M,o.deletions=null):(f=$i(m,M),f.subtreeFlags=m.subtreeFlags&14680064),N!==null?v=$i(N,v):(v=Hs(v,I,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,I=i.child.memoizedState,I=I===null?Of(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=i.childLanes&~u,o.memoizedState=Lf,f}return v=i.child,i=v.sibling,f=$i(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Mf(i,o){return o=$c({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function kc(i,o,u,f){return f!==null&&cf(f),Go(o,i.child,null,u),i=Mf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function CC(i,o,u,f,m,v,I){if(u)return o.flags&256?(o.flags&=-257,f=bf(Error(n(422))),kc(i,o,I,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=$c({mode:"visible",children:f.children},m,0,null),v=Hs(v,m,I,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&Go(o,i.child,null,I),o.child.memoizedState=Of(I),o.memoizedState=Lf,v);if((o.mode&1)===0)return kc(i,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var N=f.dgst;return f=N,v=Error(n(419)),f=bf(v,f,void 0),kc(i,o,I,f)}if(N=(I&i.childLanes)!==0,pn||N){if(f=Dt,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|I))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Jr(i,m),ur(f,i,m,-1))}return Zf(),f=bf(Error(n(421))),kc(i,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=FC.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Pn=Ni(m.nextSibling),Cn=o,at=!0,sr=null,i!==null&&(Mn[jn++]=Yr,Mn[jn++]=Xr,Mn[jn++]=Ls,Yr=i.id,Xr=i.overflow,Ls=o),o=Mf(o,f.children),o.flags|=4096,o)}function Gv(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),pf(i.return,o,u)}function jf(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function Qv(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(sn(i,o,f.children,u),f=ut.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gv(i,u,o);else if(i.tag===19)Gv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(et(ut,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Ic(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),jf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Ic(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}jf(o,!0,u,null,v);break;case"together":jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ei(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Us|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=$i(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=$i(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function PC(i,o,u){switch(o.tag){case 3:Wv(o),Ko();break;case 5:uv(o);break;case 1:fn(o.type)&&fc(o);break;case 4:yf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;et(_c,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(et(ut,ut.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Kv(i,o,u):(et(ut,ut.current&1),i=ei(i,o,u),i!==null?i.sibling:null);et(ut,ut.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Qv(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(ut,ut.current),f)break;return null;case 22:case 23:return o.lanes=0,zv(i,o,u)}return ei(i,o,u)}var Yv,Ff,Xv,Jv;Yv=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ff=function(){},Xv=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,js(Cr.current);var v=null;switch(u){case"input":m=Nn(i,m),f=Nn(i,f),v=[];break;case"select":m=ue({},m,{value:void 0}),f=ue({},f,{value:void 0}),v=[];break;case"textarea":m=vs(i,m),f=vs(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=cc)}za(u,f);var I;u=null;for(K in m)if(!f.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var N=m[K];for(I in N)N.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in f){var M=f[K];if(N=m!=null?m[K]:void 0,f.hasOwnProperty(K)&&M!==N&&(M!=null||N!=null))if(K==="style")if(N){for(I in N)!N.hasOwnProperty(I)||M&&M.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in M)M.hasOwnProperty(I)&&N[I]!==M[I]&&(u||(u={}),u[I]=M[I])}else u||(v||(v=[]),v.push(K,u)),u=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,N=N?N.__html:void 0,M!=null&&N!==M&&(v=v||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&nt("scroll",i),v||N===M||(v=[])):(v=v||[]).push(K,M))}u&&(v=v||[]).push("style",u);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},Jv=function(i,o,u,f){u!==f&&(o.flags|=4)};function El(i,o){if(!at)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Kt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function AC(i,o,u){var f=o.pendingProps;switch(af(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return fn(o.type)&&dc(),Kt(o),null;case 3:return f=o.stateNode,Xo(),rt(dn),rt(Wt),wf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(yc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,sr!==null&&(Yf(sr),sr=null))),Ff(i,o),Kt(o),null;case 5:vf(o);var m=js(yl.current);if(u=o.type,i!==null&&o.stateNode!=null)Xv(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Kt(o),null}if(i=js(Cr.current),yc(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[xr]=o,f[dl]=v,i=(o.mode&1)!==0,u){case"dialog":nt("cancel",f),nt("close",f);break;case"iframe":case"object":case"embed":nt("load",f);break;case"video":case"audio":for(m=0;m<ul.length;m++)nt(ul[m],f);break;case"source":nt("error",f);break;case"img":case"image":case"link":nt("error",f),nt("load",f);break;case"details":nt("toggle",f);break;case"input":yi(f,v),nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},nt("invalid",f);break;case"textarea":_i(f,v),nt("invalid",f)}za(u,v),m=null;for(var I in v)if(v.hasOwnProperty(I)){var N=v[I];I==="children"?typeof N=="string"?f.textContent!==N&&(v.suppressHydrationWarning!==!0&&uc(f.textContent,N,i),m=["children",N]):typeof N=="number"&&f.textContent!==""+N&&(v.suppressHydrationWarning!==!0&&uc(f.textContent,N,i),m=["children",""+N]):s.hasOwnProperty(I)&&N!=null&&I==="onScroll"&&nt("scroll",f)}switch(u){case"input":un(f),mo(f,v,!0);break;case"textarea":un(f),_s(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=cc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Y(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=I.createElement(u,{is:f.is}):(i=I.createElement(u),u==="select"&&(I=i,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):i=I.createElementNS(i,u),i[xr]=o,i[dl]=f,Yv(i,o,!1,!1),o.stateNode=i;e:{switch(I=$a(u,f),u){case"dialog":nt("cancel",i),nt("close",i),m=f;break;case"iframe":case"object":case"embed":nt("load",i),m=f;break;case"video":case"audio":for(m=0;m<ul.length;m++)nt(ul[m],i);m=f;break;case"source":nt("error",i),m=f;break;case"img":case"image":case"link":nt("error",i),nt("load",i),m=f;break;case"details":nt("toggle",i),m=f;break;case"input":yi(i,f),m=Nn(i,f),nt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ue({},f,{value:void 0}),nt("invalid",i);break;case"textarea":_i(i,f),m=vs(i,f),nt("invalid",i);break;default:m=f}za(u,m),N=m;for(v in N)if(N.hasOwnProperty(v)){var M=N[v];v==="style"?Ua(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&tn(i,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&Tt(i,M):typeof M=="number"&&Tt(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&nt("scroll",i):M!=null&&F(i,v,M,I))}switch(u){case"input":un(i),mo(i,f,!1);break;case"textarea":un(i),_s(i);break;case"option":f.value!=null&&i.setAttribute("value",""+de(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Gn(i,!!f.multiple,v,!1):f.defaultValue!=null&&Gn(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=cc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Kt(o),null;case 6:if(i&&o.stateNode!=null)Jv(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=js(yl.current),js(Cr.current),yc(o)){if(f=o.stateNode,u=o.memoizedProps,f[xr]=o,(v=f.nodeValue!==u)&&(i=Cn,i!==null))switch(i.tag){case 3:uc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&uc(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[xr]=o,o.stateNode=f}return Kt(o),null;case 13:if(rt(ut),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&Pn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)tv(),Ko(),o.flags|=98560,v=!1;else if(v=yc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[xr]=o}else Ko(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),v=!1}else sr!==null&&(Yf(sr),sr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?Pt===0&&(Pt=3):Zf())),o.updateQueue!==null&&(o.flags|=4),Kt(o),null);case 4:return Xo(),Ff(i,o),i===null&&cl(o.stateNode.containerInfo),Kt(o),null;case 10:return ff(o.type._context),Kt(o),null;case 17:return fn(o.type)&&dc(),Kt(o),null;case 19:if(rt(ut),v=o.memoizedState,v===null)return Kt(o),null;if(f=(o.flags&128)!==0,I=v.rendering,I===null)if(f)El(v,!1);else{if(Pt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Ic(i),I!==null){for(o.flags|=128,El(v,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,i=I.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return et(ut,ut.current&1|2),o.child}i=i.sibling}v.tail!==null&&Ze()>ta&&(o.flags|=128,f=!0,El(v,!1),o.lanes=4194304)}else{if(!f)if(i=Ic(I),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),El(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!at)return Kt(o),null}else 2*Ze()-v.renderingStartTime>ta&&u!==1073741824&&(o.flags|=128,f=!0,El(v,!1),o.lanes=4194304);v.isBackwards?(I.sibling=o.child,o.child=I):(u=v.last,u!==null?u.sibling=I:o.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ze(),o.sibling=null,u=ut.current,et(ut,f?u&1|2:u&1),o):(Kt(o),null);case 22:case 23:return Jf(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(An&1073741824)!==0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function RC(i,o){switch(af(o),o.tag){case 1:return fn(o.type)&&dc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Xo(),rt(dn),rt(Wt),wf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return vf(o),null;case 13:if(rt(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ko()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(ut),null;case 4:return Xo(),null;case 10:return ff(o.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Nc=!1,Gt=!1,kC=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Zo(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){pt(i,o,f)}else u.current=null}function Uf(i,o,u){try{u()}catch(f){pt(i,o,f)}}var Zv=!1;function bC(i,o){if(Xd=Ri,i=by(),$d(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,N=-1,M=-1,K=0,re=0,oe=i,ne=null;t:for(;;){for(var ce;oe!==u||m!==0&&oe.nodeType!==3||(N=I+m),oe!==v||f!==0&&oe.nodeType!==3||(M=I+f),oe.nodeType===3&&(I+=oe.nodeValue.length),(ce=oe.firstChild)!==null;)ne=oe,oe=ce;for(;;){if(oe===i)break t;if(ne===u&&++K===m&&(N=I),ne===v&&++re===f&&(M=I),(ce=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=ce}u=N===-1||M===-1?null:{start:N,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jd={focusedElem:i,selectionRange:u},Ri=!1,fe=o;fe!==null;)if(o=fe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,fe=i;else for(;fe!==null;){o=fe;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,yt=pe.memoizedState,W=o.stateNode,B=W.getSnapshotBeforeUpdate(o.elementType===o.type?ge:or(o.type,ge),yt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){pt(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,fe=i;break}fe=o.return}return pe=Zv,Zv=!1,pe}function Il(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Uf(o,u,v)}m=m.next}while(m!==f)}}function Dc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Bf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function e0(i){var o=i.alternate;o!==null&&(i.alternate=null,e0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[xr],delete o[dl],delete o[nf],delete o[fC],delete o[pC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function t0(i){return i.tag===5||i.tag===3||i.tag===4}function n0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||t0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=cc));else if(f!==4&&(i=i.child,i!==null))for(zf(i,o,u),i=i.sibling;i!==null;)zf(i,o,u),i=i.sibling}function $f(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for($f(i,o,u),i=i.sibling;i!==null;)$f(i,o,u),i=i.sibling}var jt=null,ar=!1;function ji(i,o,u){for(u=u.child;u!==null;)r0(i,o,u),u=u.sibling}function r0(i,o,u){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Cs,u)}catch{}switch(u.tag){case 5:Gt||Zo(u,o);case 6:var f=jt,m=ar;jt=null,ji(i,o,u),jt=f,ar=m,jt!==null&&(ar?(i=jt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):jt.removeChild(u.stateNode));break;case 18:jt!==null&&(ar?(i=jt,u=u.stateNode,i.nodeType===8?tf(i.parentNode,u):i.nodeType===1&&tf(i,u),nr(i)):tf(jt,u.stateNode));break;case 4:f=jt,m=ar,jt=u.stateNode.containerInfo,ar=!0,ji(i,o,u),jt=f,ar=m;break;case 0:case 11:case 14:case 15:if(!Gt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&Uf(u,o,I),m=m.next}while(m!==f)}ji(i,o,u);break;case 1:if(!Gt&&(Zo(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(N){pt(u,o,N)}ji(i,o,u);break;case 21:ji(i,o,u);break;case 22:u.mode&1?(Gt=(f=Gt)||u.memoizedState!==null,ji(i,o,u),Gt=f):ji(i,o,u);break;default:ji(i,o,u)}}function i0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new kC),o.forEach(function(f){var m=UC.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function lr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,I=o,N=I;e:for(;N!==null;){switch(N.tag){case 5:jt=N.stateNode,ar=!1;break e;case 3:jt=N.stateNode.containerInfo,ar=!0;break e;case 4:jt=N.stateNode.containerInfo,ar=!0;break e}N=N.return}if(jt===null)throw Error(n(160));r0(v,I,m),jt=null,ar=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(K){pt(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)s0(o,i),o=o.sibling}function s0(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(lr(o,i),Ar(i),f&4){try{Il(3,i,i.return),Dc(3,i)}catch(ge){pt(i,i.return,ge)}try{Il(5,i,i.return)}catch(ge){pt(i,i.return,ge)}}break;case 1:lr(o,i),Ar(i),f&512&&u!==null&&Zo(u,u.return);break;case 5:if(lr(o,i),Ar(i),f&512&&u!==null&&Zo(u,u.return),i.flags&32){var m=i.stateNode;try{Tt(m,"")}catch(ge){pt(i,i.return,ge)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,I=u!==null?u.memoizedProps:v,N=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{N==="input"&&v.type==="radio"&&v.name!=null&&gs(m,v),$a(N,I);var K=$a(N,v);for(I=0;I<M.length;I+=2){var re=M[I],oe=M[I+1];re==="style"?Ua(m,oe):re==="dangerouslySetInnerHTML"?tn(m,oe):re==="children"?Tt(m,oe):F(m,re,oe,K)}switch(N){case"input":ys(m,v);break;case"textarea":wi(m,v);break;case"select":var ne=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?Gn(m,!!v.multiple,ce,!1):ne!==!!v.multiple&&(v.defaultValue!=null?Gn(m,!!v.multiple,v.defaultValue,!0):Gn(m,!!v.multiple,v.multiple?[]:"",!1))}m[dl]=v}catch(ge){pt(i,i.return,ge)}}break;case 6:if(lr(o,i),Ar(i),f&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ge){pt(i,i.return,ge)}}break;case 3:if(lr(o,i),Ar(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{nr(o.containerInfo)}catch(ge){pt(i,i.return,ge)}break;case 4:lr(o,i),Ar(i);break;case 13:lr(o,i),Ar(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(qf=Ze())),f&4&&i0(i);break;case 22:if(re=u!==null&&u.memoizedState!==null,i.mode&1?(Gt=(K=Gt)||re,lr(o,i),Gt=K):lr(o,i),Ar(i),f&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!re&&(i.mode&1)!==0)for(fe=i,re=i.child;re!==null;){for(oe=fe=re;fe!==null;){switch(ne=fe,ce=ne.child,ne.tag){case 0:case 11:case 14:case 15:Il(4,ne,ne.return);break;case 1:Zo(ne,ne.return);var pe=ne.stateNode;if(typeof pe.componentWillUnmount=="function"){f=ne,u=ne.return;try{o=f,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(ge){pt(f,u,ge)}}break;case 5:Zo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){l0(oe);continue}}ce!==null?(ce.return=ne,fe=ce):l0(oe)}re=re.sibling}e:for(re=null,oe=i;;){if(oe.tag===5){if(re===null){re=oe;try{m=oe.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(N=oe.stateNode,M=oe.memoizedProps.style,I=M!=null&&M.hasOwnProperty("display")?M.display:null,N.style.display=Ti("display",I))}catch(ge){pt(i,i.return,ge)}}}else if(oe.tag===6){if(re===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(ge){pt(i,i.return,ge)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===i)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===i)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===i)break e;re===oe&&(re=null),oe=oe.return}re===oe&&(re=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:lr(o,i),Ar(i),f&4&&i0(i);break;case 21:break;default:lr(o,i),Ar(i)}}function Ar(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(t0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Tt(m,""),f.flags&=-33);var v=n0(i);$f(i,v,m);break;case 3:case 4:var I=f.stateNode.containerInfo,N=n0(i);zf(i,N,I);break;default:throw Error(n(161))}}catch(M){pt(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function NC(i,o,u){fe=i,o0(i)}function o0(i,o,u){for(var f=(i.mode&1)!==0;fe!==null;){var m=fe,v=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||Nc;if(!I){var N=m.alternate,M=N!==null&&N.memoizedState!==null||Gt;N=Nc;var K=Gt;if(Nc=I,(Gt=M)&&!K)for(fe=m;fe!==null;)I=fe,M=I.child,I.tag===22&&I.memoizedState!==null?u0(m):M!==null?(M.return=I,fe=M):u0(m);for(;v!==null;)fe=v,o0(v),v=v.sibling;fe=m,Nc=N,Gt=K}a0(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,fe=v):a0(i)}}function a0(i){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Gt||Dc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Gt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:or(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&lv(o,v,f);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}lv(o,I,u)}break;case 5:var N=o.stateNode;if(u===null&&o.flags&4){u=N;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var re=K.memoizedState;if(re!==null){var oe=re.dehydrated;oe!==null&&nr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Gt||o.flags&512&&Bf(o)}catch(ne){pt(o,o.return,ne)}}if(o===i){fe=null;break}if(u=o.sibling,u!==null){u.return=o.return,fe=u;break}fe=o.return}}function l0(i){for(;fe!==null;){var o=fe;if(o===i){fe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,fe=u;break}fe=o.return}}function u0(i){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Dc(4,o)}catch(M){pt(o,u,M)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(M){pt(o,m,M)}}var v=o.return;try{Bf(o)}catch(M){pt(o,v,M)}break;case 5:var I=o.return;try{Bf(o)}catch(M){pt(o,I,M)}}}catch(M){pt(o,o.return,M)}if(o===i){fe=null;break}var N=o.sibling;if(N!==null){N.return=o.return,fe=N;break}fe=o.return}}var DC=Math.ceil,Vc=Q.ReactCurrentDispatcher,Hf=Q.ReactCurrentOwner,Bn=Q.ReactCurrentBatchConfig,qe=0,Dt=null,It=null,Ft=0,An=0,ea=Di(0),Pt=0,Sl=null,Us=0,Lc=0,Wf=0,xl=null,mn=null,qf=0,ta=1/0,ti=null,Oc=!1,Kf=null,Fi=null,Mc=!1,Ui=null,jc=0,Cl=0,Gf=null,Fc=-1,Uc=0;function on(){return(qe&6)!==0?Ze():Fc!==-1?Fc:Fc=Ze()}function Bi(i){return(i.mode&1)===0?1:(qe&2)!==0&&Ft!==0?Ft&-Ft:gC.transition!==null?(Uc===0&&(Uc=As()),Uc):(i=Be,i!==0||(i=window.event,i=i===void 0?16:el(i.type)),i)}function ur(i,o,u,f){if(50<Cl)throw Cl=0,Gf=null,Error(n(185));xi(i,u,f),((qe&2)===0||i!==Dt)&&(i===Dt&&((qe&2)===0&&(Lc|=u),Pt===4&&zi(i,Ft)),gn(i,f),u===1&&qe===0&&(o.mode&1)===0&&(ta=Ze()+500,pc&&Li()))}function gn(i,o){var u=i.callbackNode;$r(i,o);var f=Ps(i,i===Dt?Ft:0);if(f===0)u!==null&&Qa(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Qa(u),o===1)i.tag===0?mC(h0.bind(null,i)):Yy(h0.bind(null,i)),hC(function(){(qe&6)===0&&Li()}),u=null;else{switch(Pi(f)){case 1:u=xs;break;case 4:u=Ei;break;case 16:u=Vn;break;case 536870912:u=Uu;break;default:u=Vn}u=_0(u,c0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function c0(i,o){if(Fc=-1,Uc=0,(qe&6)!==0)throw Error(n(327));var u=i.callbackNode;if(na()&&i.callbackNode!==u)return null;var f=Ps(i,i===Dt?Ft:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Bc(i,f);else{o=f;var m=qe;qe|=2;var v=f0();(Dt!==i||Ft!==o)&&(ti=null,ta=Ze()+500,zs(i,o));do try{OC();break}catch(N){d0(i,N)}while(!0);df(),Vc.current=v,qe=m,It!==null?o=0:(Dt=null,Ft=0,o=Pt)}if(o!==0){if(o===2&&(m=In(i),m!==0&&(f=m,o=Qf(i,m))),o===1)throw u=Sl,zs(i,0),zi(i,f),gn(i,Ze()),u;if(o===6)zi(i,f);else{if(m=i.current.alternate,(f&30)===0&&!VC(m)&&(o=Bc(i,f),o===2&&(v=In(i),v!==0&&(f=v,o=Qf(i,v))),o===1))throw u=Sl,zs(i,0),zi(i,f),gn(i,Ze()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:$s(i,mn,ti);break;case 3:if(zi(i,f),(f&130023424)===f&&(o=qf+500-Ze(),10<o)){if(Ps(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){on(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=ef($s.bind(null,i,mn,ti),o);break}$s(i,mn,ti);break;case 4:if(zi(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var I=31-nn(f);v=1<<I,I=o[I],I>m&&(m=I),f&=~v}if(f=m,f=Ze()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*DC(f/1960))-f,10<f){i.timeoutHandle=ef($s.bind(null,i,mn,ti),f);break}$s(i,mn,ti);break;case 5:$s(i,mn,ti);break;default:throw Error(n(329))}}}return gn(i,Ze()),i.callbackNode===u?c0.bind(null,i):null}function Qf(i,o){var u=xl;return i.current.memoizedState.isDehydrated&&(zs(i,o).flags|=256),i=Bc(i,o),i!==2&&(o=mn,mn=u,o!==null&&Yf(o)),i}function Yf(i){mn===null?mn=i:mn.push.apply(mn,i)}function VC(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!ir(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function zi(i,o){for(o&=~Wf,o&=~Lc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-nn(o),f=1<<u;i[u]=-1,o&=~f}}function h0(i){if((qe&6)!==0)throw Error(n(327));na();var o=Ps(i,0);if((o&1)===0)return gn(i,Ze()),null;var u=Bc(i,o);if(i.tag!==0&&u===2){var f=In(i);f!==0&&(o=f,u=Qf(i,f))}if(u===1)throw u=Sl,zs(i,0),zi(i,o),gn(i,Ze()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,$s(i,mn,ti),gn(i,Ze()),null}function Xf(i,o){var u=qe;qe|=1;try{return i(o)}finally{qe=u,qe===0&&(ta=Ze()+500,pc&&Li())}}function Bs(i){Ui!==null&&Ui.tag===0&&(qe&6)===0&&na();var o=qe;qe|=1;var u=Bn.transition,f=Be;try{if(Bn.transition=null,Be=1,i)return i()}finally{Be=f,Bn.transition=u,qe=o,(qe&6)===0&&Li()}}function Jf(){An=ea.current,rt(ea)}function zs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,cC(u)),It!==null)for(u=It.return;u!==null;){var f=u;switch(af(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&dc();break;case 3:Xo(),rt(dn),rt(Wt),wf();break;case 5:vf(f);break;case 4:Xo();break;case 13:rt(ut);break;case 19:rt(ut);break;case 10:ff(f.type._context);break;case 22:case 23:Jf()}u=u.return}if(Dt=i,It=i=$i(i.current,null),Ft=An=o,Pt=0,Sl=null,Wf=Lc=Us=0,mn=xl=null,Ms!==null){for(o=0;o<Ms.length;o++)if(u=Ms[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var I=v.next;v.next=m,f.next=I}u.pending=f}Ms=null}return i}function d0(i,o){do{var u=It;try{if(df(),Sc.current=Ac,xc){for(var f=ct.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}xc=!1}if(Fs=0,Nt=Ct=ct=null,vl=!1,_l=0,Hf.current=null,u===null||u.return===null){Pt=1,Sl=o,It=null;break}e:{var v=i,I=u.return,N=u,M=o;if(o=Ft,N.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,re=N,oe=re.tag;if((re.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ce=Mv(I);if(ce!==null){ce.flags&=-257,jv(ce,I,N,v,o),ce.mode&1&&Ov(v,K,o),o=ce,M=K;var pe=o.updateQueue;if(pe===null){var ge=new Set;ge.add(M),o.updateQueue=ge}else pe.add(M);break e}else{if((o&1)===0){Ov(v,K,o),Zf();break e}M=Error(n(426))}}else if(at&&N.mode&1){var yt=Mv(I);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),jv(yt,I,N,v,o),cf(Jo(M,N));break e}}v=M=Jo(M,N),Pt!==4&&(Pt=2),xl===null?xl=[v]:xl.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=Vv(v,M,o);av(v,W);break e;case 1:N=M;var B=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Fi===null||!Fi.has(q)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=Lv(v,N,o);av(v,ae);break e}}v=v.return}while(v!==null)}m0(u)}catch(ve){o=ve,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function f0(){var i=Vc.current;return Vc.current=Ac,i===null?Ac:i}function Zf(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Dt===null||(Us&268435455)===0&&(Lc&268435455)===0||zi(Dt,Ft)}function Bc(i,o){var u=qe;qe|=2;var f=f0();(Dt!==i||Ft!==o)&&(ti=null,zs(i,o));do try{LC();break}catch(m){d0(i,m)}while(!0);if(df(),qe=u,Vc.current=f,It!==null)throw Error(n(261));return Dt=null,Ft=0,Pt}function LC(){for(;It!==null;)p0(It)}function OC(){for(;It!==null&&!ju();)p0(It)}function p0(i){var o=v0(i.alternate,i,An);i.memoizedProps=i.pendingProps,o===null?m0(i):It=o,Hf.current=null}function m0(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=AC(u,o,An),u!==null){It=u;return}}else{if(u=RC(u,o),u!==null){u.flags&=32767,It=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Pt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=i}while(o!==null);Pt===0&&(Pt=5)}function $s(i,o,u){var f=Be,m=Bn.transition;try{Bn.transition=null,Be=1,MC(i,o,u,f)}finally{Bn.transition=m,Be=f}return null}function MC(i,o,u,f){do na();while(Ui!==null);if((qe&6)!==0)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Je(i,v),i===Dt&&(It=Dt=null,Ft=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Mc||(Mc=!0,_0(Vn,function(){return na(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Bn.transition,Bn.transition=null;var I=Be;Be=1;var N=qe;qe|=4,Hf.current=null,bC(i,u),s0(u,i),rC(Jd),Ri=!!Xd,Jd=Xd=null,i.current=u,NC(u),Ld(),qe=N,Be=I,Bn.transition=v}else i.current=u;if(Mc&&(Mc=!1,Ui=i,jc=m),v=i.pendingLanes,v===0&&(Fi=null),Bu(u.stateNode),gn(i,Ze()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Oc)throw Oc=!1,i=Kf,Kf=null,i;return(jc&1)!==0&&i.tag!==0&&na(),v=i.pendingLanes,(v&1)!==0?i===Gf?Cl++:(Cl=0,Gf=i):Cl=0,Li(),null}function na(){if(Ui!==null){var i=Pi(jc),o=Bn.transition,u=Be;try{if(Bn.transition=null,Be=16>i?16:i,Ui===null)var f=!1;else{if(i=Ui,Ui=null,jc=0,(qe&6)!==0)throw Error(n(331));var m=qe;for(qe|=4,fe=i.current;fe!==null;){var v=fe,I=v.child;if((fe.flags&16)!==0){var N=v.deletions;if(N!==null){for(var M=0;M<N.length;M++){var K=N[M];for(fe=K;fe!==null;){var re=fe;switch(re.tag){case 0:case 11:case 15:Il(8,re,v)}var oe=re.child;if(oe!==null)oe.return=re,fe=oe;else for(;fe!==null;){re=fe;var ne=re.sibling,ce=re.return;if(e0(re),re===K){fe=null;break}if(ne!==null){ne.return=ce,fe=ne;break}fe=ce}}}var pe=v.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var yt=ge.sibling;ge.sibling=null,ge=yt}while(ge!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,fe=I;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Il(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,fe=W;break e}fe=v.return}}var B=i.current;for(fe=B;fe!==null;){I=fe;var q=I.child;if((I.subtreeFlags&2064)!==0&&q!==null)q.return=I,fe=q;else e:for(I=B;fe!==null;){if(N=fe,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Dc(9,N)}}catch(ve){pt(N,N.return,ve)}if(N===I){fe=null;break e}var ae=N.sibling;if(ae!==null){ae.return=N.return,fe=ae;break e}fe=N.return}}if(qe=m,Li(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Cs,i)}catch{}f=!0}return f}finally{Be=u,Bn.transition=o}}return!1}function g0(i,o,u){o=Jo(u,o),o=Vv(i,o,1),i=Mi(i,o,1),o=on(),i!==null&&(xi(i,1,o),gn(i,o))}function pt(i,o,u){if(i.tag===3)g0(i,i,u);else for(;o!==null;){if(o.tag===3){g0(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Fi===null||!Fi.has(f))){i=Jo(u,i),i=Lv(o,i,1),o=Mi(o,i,1),i=on(),o!==null&&(xi(o,1,i),gn(o,i));break}}o=o.return}}function jC(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=on(),i.pingedLanes|=i.suspendedLanes&u,Dt===i&&(Ft&u)===u&&(Pt===4||Pt===3&&(Ft&130023424)===Ft&&500>Ze()-qf?zs(i,0):Wf|=u),gn(i,o)}function y0(i,o){o===0&&((i.mode&1)===0?o=1:(o=xo,xo<<=1,(xo&130023424)===0&&(xo=4194304)));var u=on();i=Jr(i,o),i!==null&&(xi(i,o,u),gn(i,u))}function FC(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),y0(i,u)}function UC(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),y0(i,u)}var v0;v0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||dn.current)pn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return pn=!1,PC(i,o,u);pn=(i.flags&131072)!==0}else pn=!1,at&&(o.flags&1048576)!==0&&Xy(o,gc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;bc(i,o),i=o.pendingProps;var m=Ho(o,Wt.current);Yo(o,u),m=If(null,o,f,i,m,u);var v=Sf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,fn(f)?(v=!0,fc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,gf(o),m.updater=Rc,o.stateNode=m,m._reactInternals=o,kf(o,f,i,u),o=Vf(null,o,f,!0,v,u)):(o.tag=0,at&&v&&of(o),sn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(bc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=zC(f),i=or(f,i),m){case 0:o=Df(null,o,f,i,u);break e;case 1:o=Hv(null,o,f,i,u);break e;case 11:o=Fv(null,o,f,i,u);break e;case 14:o=Uv(null,o,f,or(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:or(f,m),Df(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:or(f,m),Hv(i,o,f,m,u);case 3:e:{if(Wv(o),i===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,ov(i,o),Ec(o,f,null,u);var I=o.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Jo(Error(n(423)),o),o=qv(i,o,f,u,m);break e}else if(f!==m){m=Jo(Error(n(424)),o),o=qv(i,o,f,u,m);break e}else for(Pn=Ni(o.stateNode.containerInfo.firstChild),Cn=o,at=!0,sr=null,u=iv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ko(),f===m){o=ei(i,o,u);break e}sn(i,o,f,u)}o=o.child}return o;case 5:return uv(o),i===null&&uf(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,I=m.children,Zd(f,m)?I=null:v!==null&&Zd(f,v)&&(o.flags|=32),$v(i,o),sn(i,o,I,u),o.child;case 6:return i===null&&uf(o),null;case 13:return Kv(i,o,u);case 4:return yf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Go(o,null,f,u):sn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:or(f,m),Fv(i,o,f,m,u);case 7:return sn(i,o,o.pendingProps,u),o.child;case 8:return sn(i,o,o.pendingProps.children,u),o.child;case 12:return sn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,I=m.value,et(_c,f._currentValue),f._currentValue=I,v!==null)if(ir(v.value,I)){if(v.children===m.children&&!dn.current){o=ei(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var N=v.dependencies;if(N!==null){I=v.child;for(var M=N.firstContext;M!==null;){if(M.context===f){if(v.tag===1){M=Zr(-1,u&-u),M.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var re=K.pending;re===null?M.next=M:(M.next=re.next,re.next=M),K.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),pf(v.return,u,o),N.lanes|=u;break}M=M.next}}else if(v.tag===10)I=v.type===o.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(n(341));I.lanes|=u,N=I.alternate,N!==null&&(N.lanes|=u),pf(I,u,o),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===o){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}sn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Yo(o,u),m=Fn(m),f=f(m),o.flags|=1,sn(i,o,f,u),o.child;case 14:return f=o.type,m=or(f,o.pendingProps),m=or(f.type,m),Uv(i,o,f,m,u);case 15:return Bv(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:or(f,m),bc(i,o),o.tag=1,fn(f)?(i=!0,fc(o)):i=!1,Yo(o,u),Nv(o,f,m),kf(o,f,m,u),Vf(null,o,f,!0,i,u);case 19:return Qv(i,o,u);case 22:return zv(i,o,u)}throw Error(n(156,o.tag))};function _0(i,o){return Io(i,o)}function BC(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,o,u,f){return new BC(i,o,u,f)}function ep(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zC(i){if(typeof i=="function")return ep(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===it)return 14}return 2}function $i(i,o){var u=i.alternate;return u===null?(u=zn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function zc(i,o,u,f,m,v){var I=2;if(f=i,typeof i=="function")ep(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case k:return Hs(u.children,m,v,o);case S:I=8,m|=8;break;case A:return i=zn(12,u,o,m|2),i.elementType=A,i.lanes=v,i;case V:return i=zn(13,u,o,m),i.elementType=V,i.lanes=v,i;case We:return i=zn(19,u,o,m),i.elementType=We,i.lanes=v,i;case Ee:return $c(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:I=10;break e;case j:I=9;break e;case z:I=11;break e;case it:I=14;break e;case st:I=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=zn(I,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Hs(i,o,u,f){return i=zn(7,i,f,o),i.lanes=u,i}function $c(i,o,u,f){return i=zn(22,i,f,o),i.elementType=Ee,i.lanes=u,i.stateNode={isHidden:!1},i}function tp(i,o,u){return i=zn(6,i,null,o),i.lanes=u,i}function np(i,o,u){return o=zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function $C(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function rp(i,o,u,f,m,v,I,N,M){return i=new $C(i,o,u,N,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=zn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},gf(v),i}function HC(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function w0(i){if(!i)return Vi;i=i._reactInternals;e:{if(Xn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(fn(u))return Gy(i,u,o)}return o}function T0(i,o,u,f,m,v,I,N,M){return i=rp(u,f,!0,i,m,v,I,N,M),i.context=w0(null),u=i.current,f=on(),m=Bi(u),v=Zr(f,m),v.callback=o??null,Mi(u,v,m),i.current.lanes=m,xi(i,m,f),gn(i,f),i}function Hc(i,o,u,f){var m=o.current,v=on(),I=Bi(m);return u=w0(u),o.context===null?o.context=u:o.pendingContext=u,o=Zr(v,I),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Mi(m,o,I),i!==null&&(ur(i,m,I,v),Tc(i,m,I)),I}function Wc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function E0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function ip(i,o){E0(i,o),(i=i.alternate)&&E0(i,o)}function WC(){return null}var I0=typeof reportError=="function"?reportError:function(i){console.error(i)};function sp(i){this._internalRoot=i}qc.prototype.render=sp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Hc(i,o,null,null)},qc.prototype.unmount=sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Bs(function(){Hc(null,i,null,null)}),o[Gr]=null}};function qc(i){this._internalRoot=i}qc.prototype.unstable_scheduleHydration=function(i){if(i){var o=qu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Tr.length&&o!==0&&o<Tr[u].priority;u++);Tr.splice(u,0,i),u===0&&Qu(i)}};function op(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Kc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function S0(){}function qC(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var K=Wc(I);v.call(K)}}var I=T0(o,f,i,0,null,!1,!1,"",S0);return i._reactRootContainer=I,i[Gr]=I.current,cl(i.nodeType===8?i.parentNode:i),Bs(),I}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var N=f;f=function(){var K=Wc(M);N.call(K)}}var M=rp(i,0,!1,null,null,!1,!1,"",S0);return i._reactRootContainer=M,i[Gr]=M.current,cl(i.nodeType===8?i.parentNode:i),Bs(function(){Hc(o,M,u,f)}),M}function Gc(i,o,u,f,m){var v=u._reactRootContainer;if(v){var I=v;if(typeof m=="function"){var N=m;m=function(){var M=Wc(I);N.call(M)}}Hc(o,I,i,m)}else I=qC(u,o,i,m,f);return Wc(I)}Hu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ii(o.pendingLanes);u!==0&&(Ci(o,u|1),gn(o,Ze()),(qe&6)===0&&(ta=Ze()+500,Li()))}break;case 13:Bs(function(){var f=Jr(i,1);if(f!==null){var m=on();ur(f,i,1,m)}}),ip(i,1)}},Co=function(i){if(i.tag===13){var o=Jr(i,134217728);if(o!==null){var u=on();ur(o,i,134217728,u)}ip(i,134217728)}},Wu=function(i){if(i.tag===13){var o=Bi(i),u=Jr(i,o);if(u!==null){var f=on();ur(u,i,o,f)}ip(i,o)}},qu=function(){return Be},Ku=function(i,o){var u=Be;try{return Be=i,o()}finally{Be=u}},yo=function(i,o,u){switch(o){case"input":if(ys(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=hc(f);if(!m)throw Error(n(90));Tn(f),ys(f,m)}}}break;case"textarea":wi(i,u);break;case"select":o=u.value,o!=null&&Gn(i,!!u.multiple,o,!1)}},Ts=Xf,Wa=Bs;var KC={usingClientEntryPoint:!1,Events:[fl,zo,hc,_r,Ha,Xf]},Pl={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GC={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ga(i),i===null?null:i.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||WC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Cs=Qc.inject(GC),En=Qc}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KC,yn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!op(o))throw Error(n(200));return HC(i,o,null,u)},yn.createRoot=function(i,o){if(!op(i))throw Error(n(299));var u=!1,f="",m=I0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=rp(i,1,!1,null,null,u,!1,f,m),i[Gr]=o.current,cl(i.nodeType===8?i.parentNode:i),new sp(o)},yn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ga(o),i=i===null?null:i.stateNode,i},yn.flushSync=function(i){return Bs(i)},yn.hydrate=function(i,o,u){if(!Kc(o))throw Error(n(200));return Gc(null,i,o,!0,u)},yn.hydrateRoot=function(i,o,u){if(!op(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",I=I0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=T0(o,null,i,1,u??null,m,!1,v,I),i[Gr]=o.current,cl(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new qc(o)},yn.render=function(i,o,u){if(!Kc(o))throw Error(n(200));return Gc(null,i,o,!1,u)},yn.unmountComponentAtNode=function(i){if(!Kc(i))throw Error(n(40));return i._reactRootContainer?(Bs(function(){Gc(null,null,i,!1,function(){i._reactRootContainer=null,i[Gr]=null})}),!0):!1},yn.unstable_batchedUpdates=Xf,yn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Kc(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Gc(i,o,u,!1,f)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var N0;function rP(){if(N0)return up.exports;N0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),up.exports=nP(),up.exports}var D0;function iP(){if(D0)return Yc;D0=1;var t=rP();return Yc.createRoot=t.createRoot,Yc.hydrateRoot=t.hydrateRoot,Yc}var sP=iP(),Rl={},V0;function oP(){if(V0)return Rl;V0=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=l,Rl.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,x){const P=new a,D=E.length;if(D<2)return P;const R=(x==null?void 0:x.decode)||g;let b=0;do{const U=E.indexOf("=",b);if(U===-1)break;const F=E.indexOf(";",b),Q=F===-1?D:F;if(U>Q){b=E.lastIndexOf(";",U-1)+1;continue}const X=h(E,b,U),ee=d(E,U,X),k=E.slice(X,ee);if(P[k]===void 0){let S=h(E,U+1,Q),A=d(E,Q,S);const O=R(E.slice(S,A));P[k]=O}b=Q+1}while(b<D);return P}function h(E,x,P){do{const D=E.charCodeAt(x);if(D!==32&&D!==9)return x}while(++x<P);return P}function d(E,x,P){for(;x>P;){const D=E.charCodeAt(--x);if(D!==32&&D!==9)return x+1}return P}function p(E,x,P){const D=(P==null?void 0:P.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=D(x);if(!e.test(R))throw new TypeError(`argument val is invalid: ${x}`);let b=E+"="+R;if(!P)return b;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);b+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);b+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);b+="; Path="+P.path}if(P.expires){if(!w(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);b+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(b+="; HttpOnly"),P.secure&&(b+="; Secure"),P.partitioned&&(b+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return b}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return s.call(E)==="[object Date]"}return Rl}oP();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L0="popstate";function aP(t={}){function e(r,s){let{pathname:a,search:l,hash:h}=r.location;return Up("",{pathname:a,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Jl(s)}return uP(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Or(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lP(){return Math.random().toString(36).substring(2,10)}function O0(t,e){return{usr:t.state,key:t.key,idx:e}}function Up(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ka(e):e,state:n,key:e&&e.key||r||lP()}}function Jl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function uP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,h="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function w(){h="POP";let R=g(),b=R==null?null:R-p;p=R,d&&d({action:h,location:D.location,delta:b})}function E(R,b){h="PUSH";let U=Up(D.location,R,b);p=g()+1;let F=O0(U,p),Q=D.createHref(U);try{l.pushState(F,"",Q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(Q)}a&&d&&d({action:h,location:D.location,delta:1})}function x(R,b){h="REPLACE";let U=Up(D.location,R,b);p=g();let F=O0(U,p),Q=D.createHref(U);l.replaceState(F,"",Q),a&&d&&d({action:h,location:D.location,delta:0})}function P(R){let b=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof R=="string"?R:Jl(R);return U=U.replace(/ $/,"%20"),dt(b,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,b)}let D={get action(){return h},get location(){return t(s,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(L0,w),d=R,()=>{s.removeEventListener(L0,w),d=null}},createHref(R){return e(s,R)},createURL:P,encodeLocation(R){let b=P(R);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:E,replace:x,go(R){return l.go(R)}};return D}function GT(t,e,n="/"){return cP(t,e,n,!1)}function cP(t,e,n,r){let s=typeof e=="string"?ka(e):e,a=li(s.pathname||"/",n);if(a==null)return null;let l=QT(t);hP(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let p=EP(a);h=wP(l[d],p,r)}return h}function QT(t,e=[],n=[],r=""){let s=(a,l,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(dt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=si([r,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),QT(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:vP(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,l);else for(let d of YT(a.path))s(a,l,d)}),e}function YT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=YT(r.join("/")),h=[];return h.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&h.push(...l),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function hP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_P(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dP=/^:[\w-]+$/,fP=3,pP=2,mP=1,gP=10,yP=-2,M0=t=>t==="*";function vP(t,e){let n=t.split("/"),r=n.length;return n.some(M0)&&(r+=yP),e&&(r+=pP),n.filter(s=>!M0(s)).reduce((s,a)=>s+(dP.test(a)?fP:a===""?mP:gP),r)}function _P(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function wP(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",w=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),E=d.route;if(!w&&p&&n&&!r[r.length-1].route.index&&(w=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!w)return null;Object.assign(s,w.params),l.push({params:s,pathname:si([a,w.pathname]),pathnameBase:CP(si([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=si([a,w.pathnameBase]))}return l}function Ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:w},E)=>{if(g==="*"){let P=h[E]||"";l=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const x=h[E];return w&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function TP(t,e=!1,n=!0){Or(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function EP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Or(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ka(t):t;return{pathname:n?n.startsWith("/")?n:SP(n,e):e,search:PP(r),hash:AP(s)}}function SP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function dp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XT(t){let e=xP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function JT(t,e,n,r=!1){let s;typeof t=="string"?s=ka(t):(s={...t},dt(!s.pathname||!s.pathname.includes("?"),dp("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),dp("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),dp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,h;if(l==null)h=n;else{let w=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}h=w>=0?e[w]:"/"}let d=IP(s,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var si=t=>t.join("/").replace(/\/\/+/g,"/"),CP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ZT=["POST","PUT","PATCH","DELETE"];new Set(ZT);var kP=["GET",...ZT];new Set(kP);var ba=L.createContext(null);ba.displayName="DataRouter";var Jh=L.createContext(null);Jh.displayName="DataRouterState";var eE=L.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var bP=L.createContext(new Map);bP.displayName="Fetchers";var NP=L.createContext(null);NP.displayName="Await";var Ur=L.createContext(null);Ur.displayName="Navigation";var gu=L.createContext(null);gu.displayName="Location";var mi=L.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Um=L.createContext(null);Um.displayName="RouteError";function DP(t,{relative:e}={}){dt(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Ur),{hash:s,pathname:a,search:l}=_u(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:si([n,a])),r.createHref({pathname:h,search:l,hash:s})}function yu(){return L.useContext(gu)!=null}function lo(){return dt(yu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(gu).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(t){L.useContext(Ur).static||L.useLayoutEffect(t)}function vu(){let{isDataRoute:t}=L.useContext(mi);return t?qP():VP()}function VP(){dt(yu(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(ba),{basename:e,navigator:n}=L.useContext(Ur),{matches:r}=L.useContext(mi),{pathname:s}=lo(),a=JSON.stringify(XT(r)),l=L.useRef(!1);return nE(()=>{l.current=!0}),L.useCallback((d,p={})=>{if(Or(l.current,tE),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=JT(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:si([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}L.createContext(null);function _u(t,{relative:e}={}){let{matches:n}=L.useContext(mi),{pathname:r}=lo(),s=JSON.stringify(XT(n));return L.useMemo(()=>JT(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function LP(t,e){return rE(t,e)}function rE(t,e,n,r){var U;dt(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=L.useContext(Ur),{matches:l}=L.useContext(mi),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",w=h&&h.route;{let F=w&&w.path||"";iE(p,!w||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=lo(),x;if(e){let F=typeof e=="string"?ka(e):e;dt(g==="/"||((U=F.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),x=F}else x=E;let P=x.pathname||"/",D=P;if(g!=="/"){let F=g.replace(/^\//,"").split("/");D="/"+P.replace(/^\//,"").split("/").slice(F.length).join("/")}let R=!a&&n&&n.matches&&n.matches.length>0?n.matches:GT(t,{pathname:D});Or(w||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Or(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=UP(R&&R.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:si([g,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:si([g,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,n,r);return e&&b?L.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},b):b}function OP(){let t=WP(),e=RP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,l)}var MP=L.createElement(OP,null),jP=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(mi.Provider,{value:this.props.routeContext},L.createElement(Um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FP({routeContext:t,match:e,children:n}){let r=L.useContext(ba);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(mi.Provider,{value:t},n)}function UP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,h=-1;if(n)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:w}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,p,g)=>{let w,E=!1,x=null,P=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||MP,l&&(h<0&&g===0?(iE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):h===g&&(E=!0,P=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,g+1)),R=()=>{let b;return w?b=x:E?b=P:p.route.Component?b=L.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=d,L.createElement(FP,{match:p,routeContext:{outlet:d,matches:D,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?L.createElement(jP,{location:n.location,revalidation:n.revalidation,component:x,error:w,children:R(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):R()},null)}function Bm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BP(t){let e=L.useContext(ba);return dt(e,Bm(t)),e}function zP(t){let e=L.useContext(Jh);return dt(e,Bm(t)),e}function $P(t){let e=L.useContext(mi);return dt(e,Bm(t)),e}function zm(t){let e=$P(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HP(){return zm("useRouteId")}function WP(){var r;let t=L.useContext(Um),e=zP("useRouteError"),n=zm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function qP(){let{router:t}=BP("useNavigate"),e=zm("useNavigate"),n=L.useRef(!1);return nE(()=>{n.current=!0}),L.useCallback(async(s,a={})=>{Or(n.current,tE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var j0={};function iE(t,e,n){!e&&!j0[t]&&(j0[t]=!0,Or(!1,n))}L.memo(KP);function KP({routes:t,future:e,state:n}){return rE(t,void 0,n,e)}function Nl(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){dt(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=ka(n));let{pathname:d="/",search:p="",hash:g="",state:w=null,key:E="default"}=n,x=L.useMemo(()=>{let P=li(d,l);return P==null?null:{location:{pathname:P,search:p,hash:g,state:w,key:E},navigationType:r}},[l,d,p,g,w,E,r]);return Or(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Ur.Provider,{value:h},L.createElement(gu.Provider,{children:e,value:x}))}function QP({children:t,location:e}){return LP(Bp(t),e)}function Bp(t,e=[]){let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let a=[...e,s];if(r.type===L.Fragment){n.push.apply(n,Bp(r.props.children,a));return}dt(r.type===Nl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Bp(r.props.children,a)),n.push(l)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Zh(t){return t!=null&&typeof t.tagName=="string"}function YP(t){return Zh(t)&&t.tagName.toLowerCase()==="button"}function XP(t){return Zh(t)&&t.tagName.toLowerCase()==="form"}function JP(t){return Zh(t)&&t.tagName.toLowerCase()==="input"}function ZP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eA(t,e){return t.button===0&&(!e||e==="_self")&&!ZP(t)}var Xc=null;function tA(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var nA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(t){return t!=null&&!nA.has(t)?(Or(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):t}function rA(t,e){let n,r,s,a,l;if(XP(t)){let h=t.getAttribute("action");r=h?li(h,e):null,n=t.getAttribute("method")||lh,s=fp(t.getAttribute("enctype"))||uh,a=new FormData(t)}else if(YP(t)||JP(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?li(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||lh,s=fp(t.getAttribute("formenctype"))||fp(h.getAttribute("enctype"))||uh,a=new FormData(h,t),!tA()){let{name:p,type:g,value:w}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(Zh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,r=null,s=uh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function $m(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function iA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oA(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await iA(a,n);return l.links?l.links():[]}return[]}));return cA(r.flat(1).filter(sA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function F0(t,e,n,r,s,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>l(d,p)||h(d,p)):a==="data"?e.filter((d,p)=>{var w;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function aA(t,e,{includeHydrateFallback:n}={}){return lA(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function lA(t){return[...new Set(t)]}function uA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function cA(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(uA(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function hA(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&li(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function sE(){let t=L.useContext(ba);return $m(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dA(){let t=L.useContext(Jh);return $m(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hm=L.createContext(void 0);Hm.displayName="FrameworkContext";function oE(){let t=L.useContext(Hm);return $m(t,"You must render this element inside a <HydratedRouter> element"),t}function fA(t,e){let n=L.useContext(Hm),[r,s]=L.useState(!1),[a,l]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:w}=e,E=L.useRef(null);L.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let D=b=>{b.forEach(U=>{l(U.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[t]),L.useEffect(()=>{if(r){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[r]);let x=()=>{s(!0)},P=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:kl(h,x),onBlur:kl(d,P),onMouseEnter:kl(p,x),onMouseLeave:kl(g,P),onTouchStart:kl(w,x)}]:[!1,E,{}]}function kl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pA({page:t,...e}){let{router:n}=sE(),r=L.useMemo(()=>GT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(gA,{page:t,matches:r,...e}):null}function mA(t){let{manifest:e,routeModules:n}=oE(),[r,s]=L.useState([]);return L.useEffect(()=>{let a=!1;return oA(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function gA({page:t,matches:e,...n}){let r=lo(),{manifest:s,routeModules:a}=oE(),{basename:l}=sE(),{loaderData:h,matches:d}=dA(),p=L.useMemo(()=>F0(t,e,d,s,r,"data"),[t,e,d,s,r]),g=L.useMemo(()=>F0(t,e,d,s,r,"assets"),[t,e,d,s,r]),w=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,D=!1;if(e.forEach(b=>{var F;let U=s.routes[b.route.id];!U||!U.hasLoader||(!p.some(Q=>Q.route.id===b.route.id)&&b.route.id in h&&((F=a[b.route.id])!=null&&F.shouldRevalidate)||U.hasClientLoader?D=!0:P.add(b.route.id))}),P.size===0)return[];let R=hA(t,l);return D&&P.size>0&&R.searchParams.set("_routes",e.filter(b=>P.has(b.route.id)).map(b=>b.route.id).join(",")),[R.pathname+R.search]},[l,h,r,s,p,e,t,a]),E=L.useMemo(()=>aA(g,s),[g,s]),x=mA(g);return L.createElement(L.Fragment,null,w.map(P=>L.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),E.map(P=>L.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),x.map(({key:P,link:D})=>L.createElement("link",{key:P,...D})))}function yA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aE&&(window.__reactRouterVersion="7.4.0")}catch{}function vA({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=aP({window:n,v5Compat:!0}));let s=r.current,[a,l]=L.useState({action:s.action,location:s.location}),h=L.useCallback(d=>{L.startTransition(()=>l(d))},[l]);return L.useLayoutEffect(()=>s.listen(h),[s,h]),L.createElement(GP,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ed=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:h,target:d,to:p,preventScrollReset:g,viewTransition:w,...E},x){let{basename:P}=L.useContext(Ur),D=typeof p=="string"&&lE.test(p),R,b=!1;if(typeof p=="string"&&D&&(R=p,aE))try{let A=new URL(window.location.href),O=p.startsWith("//")?new URL(A.protocol+p):new URL(p),j=li(O.pathname,P);O.origin===A.origin&&j!=null?p=j+O.search+O.hash:b=!0}catch{Or(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=DP(p,{relative:s}),[F,Q,X]=fA(r,E),ee=EA(p,{replace:l,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:w});function k(A){e&&e(A),A.defaultPrevented||ee(A)}let S=L.createElement("a",{...E,...X,href:R||U,onClick:b||a?e:k,ref:yA(x,Q),target:d,"data-discover":!D&&n==="render"?"true":void 0});return F&&!D?L.createElement(L.Fragment,null,S,L.createElement(pA,{page:U})):S});ed.displayName="Link";var _A=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:h,children:d,...p},g){let w=_u(l,{relative:p.relative}),E=lo(),x=L.useContext(Jh),{navigator:P,basename:D}=L.useContext(Ur),R=x!=null&&PA(w)&&h===!0,b=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,U=E.pathname,F=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(U=U.toLowerCase(),F=F?F.toLowerCase():null,b=b.toLowerCase()),F&&D&&(F=li(F,D)||F);const Q=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let X=U===b||!s&&U.startsWith(b)&&U.charAt(Q)==="/",ee=F!=null&&(F===b||!s&&F.startsWith(b)&&F.charAt(b.length)==="/"),k={isActive:X,isPending:ee,isTransitioning:R},S=X?e:void 0,A;typeof r=="function"?A=r(k):A=[r,X?"active":null,ee?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(k):a;return L.createElement(ed,{...p,"aria-current":S,className:A,ref:g,style:O,to:l,viewTransition:h},typeof d=="function"?d(k):d)});_A.displayName="NavLink";var wA=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=lh,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:w,...E},x)=>{let P=xA(),D=CA(h,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",b=typeof h=="string"&&lE.test(h),U=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let Q=F.nativeEvent.submitter,X=(Q==null?void 0:Q.getAttribute("formmethod"))||l;P(Q||F.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:w})};return L.createElement("form",{ref:x,method:R,action:D,onSubmit:r?d:U,...E,"data-discover":!b&&t==="render"?"true":void 0})});wA.displayName="Form";function TA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(t){let e=L.useContext(ba);return dt(e,TA(t)),e}function EA(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let h=vu(),d=lo(),p=_u(t,{relative:a});return L.useCallback(g=>{if(eA(g,e)){g.preventDefault();let w=n!==void 0?n:Jl(d)===Jl(p);h(t,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,h,p,n,r,e,t,s,a,l])}var IA=0,SA=()=>`__${String(++IA)}__`;function xA(){let{router:t}=uE("useSubmit"),{basename:e}=L.useContext(Ur),n=HP();return L.useCallback(async(r,s={})=>{let{action:a,method:l,encType:h,formData:d,body:p}=rA(r,e);if(s.navigate===!1){let g=s.fetcherKey||SA();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function CA(t,{relative:e}={}){let{basename:n}=L.useContext(Ur),r=L.useContext(mi);dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={..._u(t||".",{relative:e})},l=lo();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(w=>w).forEach(w=>h.append("index",w));let g=h.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:si([n,a.pathname])),Jl(a)}function PA(t,e={}){let n=L.useContext(eE);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uE("useViewTransitionState"),s=_u(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=li(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=li(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ih(s.pathname,l)!=null||Ih(s.pathname,a)!=null}new TextEncoder;const AA=()=>{};var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},RA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],h=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,h=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=a>>2,w=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,x=p&63;d||(x=64,l||(E=64)),r.push(n[g],n[w],n[E],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const w=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||w==null)throw new kA;const E=a<<2|h>>4;if(r.push(E),p!==64){const x=h<<4&240|p>>2;if(r.push(x),w!==64){const P=p<<6&192|w;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(t){const e=cE(t);return hE.encodeByteArray(e,!0)},Sh=function(t){return bA(t).replace(/\./g,"")},dE=function(t){try{return hE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=()=>NA().__FIREBASE_DEFAULTS__,VA=()=>{if(typeof process>"u"||typeof U0>"u")return;const t=U0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dE(t[1]);return e&&JSON.parse(e)},td=()=>{try{return AA()||DA()||VA()||LA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fE=t=>{var e,n;return(n=(e=td())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OA=t=>{const e=fE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pE=()=>{var t;return(t=td())===null||t===void 0?void 0:t.config},mE=t=>{var e;return(e=td())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sh(JSON.stringify(n)),Sh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function UA(){var t;const e=(t=td())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $A(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yE(){try{return typeof indexedDB=="object"}catch{return!1}}function vE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function WA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qA,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uo.prototype.create)}}class uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?KA(a,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new mr(s,h,r)}}function KA(t,e){return t.replace(GA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GA=/\{\$([^}]+)}/g;function QA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function to(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(B0(a)&&B0(l)){if(!to(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function B0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YA(t,e){const n=new XA(t,e);return n.subscribe.bind(n)}class XA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=pp),s.error===void 0&&(s.error=pp),s.complete===void 0&&(s.complete=pp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1e3,eR=2,tR=4*60*60*1e3,nR=.5;function z0(t,e=ZA,n=eR){const r=e*Math.pow(n,t),s=Math.round(nR*r*(Math.random()-.5)*2);return Math.min(tR,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class fr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iR(t){return t===qs?void 0:t}function sR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const aR={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},lR=Fe.INFO,uR={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},cR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=uR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nd{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const hR=(t,e)=>e.some(n=>t instanceof n);let $0,H0;function dR(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,zp=new WeakMap,wE=new WeakMap,mp=new WeakMap,Wm=new WeakMap;function pR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ji(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&_E.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function mR(t){if(zp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});zp.set(t,e)}let $p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gR(t){$p=t($p)}function yR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gp(this),e,...n);return wE.set(r,e.sort?e.sort():[e]),Ji(r)}:fR().includes(t)?function(...e){return t.apply(gp(this),e),Ji(_E.get(this))}:function(...e){return Ji(t.apply(gp(this),e))}}function vR(t){return typeof t=="function"?yR(t):(t instanceof IDBTransaction&&mR(t),hR(t,dR())?new Proxy(t,$p):t)}function Ji(t){if(t instanceof IDBRequest)return pR(t);if(mp.has(t))return mp.get(t);const e=vR(t);return e!==t&&(mp.set(t,e),Wm.set(e,t)),e}const gp=t=>Wm.get(t);function TE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),h=Ji(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ji(l.result),d.oldVersion,d.newVersion,Ji(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const _R=["get","getKey","getAll","getAllKeys","count"],wR=["put","add","delete","clear"],yp=new Map;function W0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yp.get(e))return yp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=wR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_R.includes(n)))return;const a=async function(l,...h){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&d.done]))[0]};return yp.set(e,a),a}gR(t=>({...t,get:(e,n,r)=>W0(e,n)||t.get(e,n,r),has:(e,n)=>!!W0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ER(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ER(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hp="@firebase/app",q0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new nd("@firebase/app"),IR="@firebase/app-compat",SR="@firebase/analytics-compat",xR="@firebase/analytics",CR="@firebase/app-check-compat",PR="@firebase/app-check",AR="@firebase/auth",RR="@firebase/auth-compat",kR="@firebase/database",bR="@firebase/data-connect",NR="@firebase/database-compat",DR="@firebase/functions",VR="@firebase/functions-compat",LR="@firebase/installations",OR="@firebase/installations-compat",MR="@firebase/messaging",jR="@firebase/messaging-compat",FR="@firebase/performance",UR="@firebase/performance-compat",BR="@firebase/remote-config",zR="@firebase/remote-config-compat",$R="@firebase/storage",HR="@firebase/storage-compat",WR="@firebase/firestore",qR="@firebase/vertexai",KR="@firebase/firestore-compat",GR="firebase",QR="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",YR={[Hp]:"fire-core",[IR]:"fire-core-compat",[xR]:"fire-analytics",[SR]:"fire-analytics-compat",[PR]:"fire-app-check",[CR]:"fire-app-check-compat",[AR]:"fire-auth",[RR]:"fire-auth-compat",[kR]:"fire-rtdb",[bR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[DR]:"fire-fn",[VR]:"fire-fn-compat",[LR]:"fire-iid",[OR]:"fire-iid-compat",[MR]:"fire-fcm",[jR]:"fire-fcm-compat",[FR]:"fire-perf",[UR]:"fire-perf-compat",[BR]:"fire-rc",[zR]:"fire-rc-compat",[$R]:"fire-gcs",[HR]:"fire-gcs-compat",[WR]:"fire-fst",[KR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,XR=new Map,qp=new Map;function K0(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mr(t){const e=t.name;if(qp.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,t);for(const n of xh.values())K0(n,t);for(const n of XR.values())K0(n,t);return!0}function Tu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new uo("app","Firebase",JR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=QR;function EE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Zi.create("bad-app-name",{appName:String(s)});if(n||(n=pE()),!n)throw Zi.create("no-options");const a=xh.get(s);if(a){if(to(n,a.options)&&to(r,a.config))return a;throw Zi.create("duplicate-app",{appName:s})}const l=new oR(s);for(const d of qp.values())l.addComponent(d);const h=new ZR(n,r,l);return xh.set(s,h),h}function IE(t=Wp){const e=xh.get(t);if(!e&&t===Wp&&pE())return EE();if(!e)throw Zi.create("no-app",{appName:t});return e}function Wn(t,e,n){var r;let s=(r=YR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(h.join(" "));return}Mr(new fr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="firebase-heartbeat-database",tk=1,Zl="firebase-heartbeat-store";let vp=null;function SE(){return vp||(vp=TE(ek,tk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),vp}async function nk(t){try{const n=(await SE()).transaction(Zl),r=await n.objectStore(Zl).get(xE(t));return await n.done,r}catch(e){if(e instanceof mr)ui.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function G0(t,e){try{const r=(await SE()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,xE(t)),await r.done}catch(n){if(n instanceof mr)ui.warn(n.message);else{const r=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(r.message)}}}function xE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=1024,ik=30;class sk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ak(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>ik){const l=lk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q0(),{heartbeatsToSend:r,unsentEntries:s}=ok(this._heartbeatsCache.heartbeats),a=Sh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ui.warn(n),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function ok(t,e=rk){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Y0(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ak{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yE()?vE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return Sh(JSON.stringify({version:2,heartbeats:t})).length}function lk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){Mr(new fr("platform-logger",e=>new TR(e),"PRIVATE")),Mr(new fr("heartbeat",e=>new sk(e),"PRIVATE")),Wn(Hp,q0,t),Wn(Hp,q0,"esm2017"),Wn("fire-js","")}uk("");function qm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function CE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ck=CE,PE=new uo("auth","Firebase",CE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new nd("@firebase/auth");function hk(t,...e){Ch.logLevel<=Fe.WARN&&Ch.warn(`Auth (${Na}): ${t}`,...e)}function ch(t,...e){Ch.logLevel<=Fe.ERROR&&Ch.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,...e){throw Km(t,...e)}function kr(t,...e){return Km(t,...e)}function AE(t,e,n){const r=Object.assign(Object.assign({},ck()),{[e]:n});return new uo("auth","Firebase",r).create(e,{appName:t.name})}function es(t){return AE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PE.create(t,...e)}function Pe(t,e,...n){if(!t)throw Km(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function ci(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dk(){return X0()==="http:"||X0()==="https:"}function X0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dk()||gE()||"connection"in navigator)?navigator.onLine:!0}function pk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=FA()||zA()}get(){return fk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Eu(3e4,6e4);function co(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gi(t,e,n,r,s={}){return kE(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=wu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},a);return BA()||(p.referrerPolicy="no-referrer"),RE.fetch()(bE(t,t.config.apiHost,n,h),p)})}async function kE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mk),e);try{const s=new vk(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Jc(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Jc(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw AE(t,g,p);pr(t,g)}}catch(s){if(s instanceof mr)throw s;pr(t,"network-request-failed",{message:String(s)})}}async function rd(t,e,n,r,s={}){const a=await gi(t,e,n,r,s);return"mfaPendingCredential"in a&&pr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function bE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Gm(t.config,s):`${t.config.apiScheme}://${s}`}function yk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),gk.get())})}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=kr(t,e,r);return s.customData._tokenResponse=n,s}function J0(t){return t!==void 0&&t.enterprise!==void 0}class _k{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wk(t,e){return gi(t,"GET","/v2/recaptchaConfig",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(t,e){return gi(t,"POST","/v1/accounts:delete",e)}async function NE(t,e){return gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ek(t,e=!1){const n=wt(t),r=await n.getIdToken(e),s=Qm(r);Pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:zl(_p(s.auth_time)),issuedAtTime:zl(_p(s.iat)),expirationTime:zl(_p(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function _p(t){return Number(t)*1e3}function Qm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const s=dE(n);return s?JSON.parse(s):(ch("Failed to decode base64 JWT payload"),null)}catch(s){return ch("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Z0(t){const e=Qm(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&Ik(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ik({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ya(t,NE(n,{idToken:r}));Pe(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?DE(a.providerUserInfo):[],h=Ck(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Gp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,w)}async function xk(t){const e=wt(t);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ck(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function DE(t){return t.map(e=>{var{providerId:n}=e,r=qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(t,e){const n=await kE(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=bE(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",RE.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ak(t,e){return gi(t,"POST","/v2/accounts:revokeToken",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=Z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await Pk(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new fa;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Pe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ya(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ek(this,e)}reload(){return xk(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await ya(this,Tk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,h,d,p,g;const w=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,x=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,P=(l=n.photoURL)!==null&&l!==void 0?l:void 0,D=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,b=(p=n.createdAt)!==null&&p!==void 0?p:void 0,U=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:F,emailVerified:Q,isAnonymous:X,providerData:ee,stsTokenManager:k}=n;Pe(F&&k,e,"internal-error");const S=fa.fromJSON(this.name,k);Pe(typeof F=="string",e,"internal-error"),Wi(w,e.name),Wi(E,e.name),Pe(typeof Q=="boolean",e,"internal-error"),Pe(typeof X=="boolean",e,"internal-error"),Wi(x,e.name),Wi(P,e.name),Wi(D,e.name),Wi(R,e.name),Wi(b,e.name),Wi(U,e.name);const A=new ri({uid:F,auth:e,email:E,emailVerified:Q,displayName:w,isAnonymous:X,photoURL:P,phoneNumber:x,tenantId:D,stsTokenManager:S,createdAt:b,lastLoginAt:U});return ee&&Array.isArray(ee)&&(A.providerData=ee.map(O=>Object.assign({},O))),R&&(A._redirectEventId=R),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new fa;s.updateFromServerResponse(n);const a=new ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ph(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?DE(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new fa;h.updateFromIdToken(r);const d=new ri({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function ii(t){ci(t instanceof Function,"Expected a class definition");let e=e_.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VE.type="NONE";const t_=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=hh(this.userKey,s.apiKey,a),this.fullPersistenceKey=hh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pa(ii(t_),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ii(t_);const l=hh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){const w=ri._fromJSON(e,g);p!==a&&(h=w),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new pa(a,e,r):(a=d[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new pa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(BE(e))return"Webos";if(OE(e))return"Safari";if((e.includes("chrome/")||ME(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LE(t=en()){return/firefox\//i.test(t)}function OE(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ME(t=en()){return/crios\//i.test(t)}function jE(t=en()){return/iemobile/i.test(t)}function FE(t=en()){return/android/i.test(t)}function UE(t=en()){return/blackberry/i.test(t)}function BE(t=en()){return/webos/i.test(t)}function Ym(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rk(t=en()){var e;return Ym(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kk(){return $A()&&document.documentMode===10}function zE(t=en()){return Ym(t)||FE(t)||BE(t)||UE(t)||/windows phone/i.test(t)||jE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e=[]){let n;switch(t){case"Browser":n=n_(en());break;case"Worker":n=`${n_(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const d=e(a);l(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e={}){return gi(t,"GET","/v2/passwordPolicy",co(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=6;class Vk{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Dk,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new bk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await NE(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(hr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(es(this));const n=e?wt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nk(this),n=new Vk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ak(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Da(t){return wt(t)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=YA(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ok(t){id=t}function HE(t){return id.loadJS(t)}function Mk(){return id.recaptchaEnterpriseScript}function jk(){return id.gapiScript}function Fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Uk{constructor(){this.enterprise=new Bk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Bk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zk="recaptcha-enterprise",WE="NO_RECAPTCHA";class $k{constructor(e){this.type=zk,this.auth=Da(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{wk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new _k(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{h(d)})})}function s(a,l,h){const d=window.grecaptcha;J0(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(WE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uk().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&J0(window.grecaptcha))s(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Mk();d.length!==0&&(d+=h),HE(d).then(()=>{s(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function i_(t,e,n,r=!1,s=!1){const a=new $k(t);let l;if(s)l=WE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function s_(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await i_(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await i_(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){const n=Tu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(to(a,e??{}))return s;pr(s,"already-initialized")}return n.initialize({options:e})}function Wk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qk(t,e,n){const r=Da(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=qE(e),{host:l,port:h}=Kk(e),d=h===null?"":`:${h}`,p={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(to(p,r.config.emulator)&&to(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Gk()}function qE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kk(t){const e=qE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:o_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:o_(l)}}}function o_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function Qk(t,e){return gi(t,"POST","/v1/accounts:update",e)}async function Yk(t,e){return gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e){return rd(t,"POST","/v1/accounts:signInWithPassword",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}async function Zk(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Xm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(e,n,"signInWithPassword",Xk);case"emailLink":return Jk(e,{email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(e,r,"signUpPassword",Yk);case"emailLink":return Zk(e,{idToken:n,email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e){return rd(t,"POST","/v1/accounts:signInWithIdp",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="http://localhost";class no extends Xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=qm(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new no(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ma(e,n)}buildRequest(){const e={requestUri:eb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nb(t){const e=Dl(Vl(t)).link,n=e?Dl(Vl(e)).deep_link_id:null,r=Dl(Vl(t)).deep_link_id;return(r?Dl(Vl(r)).link:null)||r||n||e||t}class Jm{constructor(e){var n,r,s,a,l,h;const d=Dl(Vl(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,w=tb((s=d.mode)!==null&&s!==void 0?s:null);Pe(p&&g&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=g,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=nb(e);try{return new Jm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.providerId=is.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jm.parseLink(n);return Pe(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}is.PROVIDER_ID="password";is.EMAIL_PASSWORD_SIGN_IN_METHOD="password";is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends KE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Iu{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Iu{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Iu{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ri._fromIdTokenResponse(e,r,s),l=a_(r);return new va({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=a_(r);return new va({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function a_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends mr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ah(e,n,r,s)}}function GE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(t,a,e,r):a})}async function rb(t,e,n=!1){const r=await ya(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(t,e,n=!1){const{auth:r}=t;if(hr(r.app))return Promise.reject(es(r));const s="reauthenticate";try{const a=await ya(t,GE(r,s,e,t),n);Pe(a.idToken,r,"internal-error");const l=Qm(a.idToken);Pe(l,r,"internal-error");const{sub:h}=l;return Pe(t.uid===h,r,"user-mismatch"),va._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&pr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(t,e,n=!1){if(hr(t.app))return Promise.reject(es(t));const r="signIn",s=await GE(t,r,e),a=await va._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function ib(t,e){return YE(Da(t),e)}async function l_(t,e){return QE(wt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sb(t){const e=Da(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ob(t,e,n){return hr(t.app)?Promise.reject(es(t)):ib(wt(t),is.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sb(t),r})}function ab(t,e){return lb(wt(t),null,e)}async function lb(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await ya(t,Qk(r,a));await t._updateTokensIfNecessary(l,!0)}function ub(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function cb(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function XE(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function hb(t){return wt(t).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=1e3,fb=10;class ZE extends JE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);kk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fb):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},db)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const pb=ZE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends JE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eI.type="SESSION";const tI=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async p=>p(n.origin,a)),d=await mb(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((h,d)=>{const p=Zm("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function yb(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function vb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _b(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wb(){return nI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebaseLocalStorageDb",Tb=1,kh="firebaseLocalStorage",iI="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(t,e){return t.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function Eb(){const t=indexedDB.deleteDatabase(rI);return new Su(t).toPromise()}function Qp(){const t=indexedDB.open(rI,Tb);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kh,{keyPath:iI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await Eb(),e(await Qp()))})})}async function u_(t,e,n){const r=od(t,!0).put({[iI]:e,value:n});return new Su(r).toPromise()}async function Ib(t,e){const n=od(t,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function c_(t,e){const n=od(t,!0).delete(e);return new Su(n).toPromise()}const Sb=800,xb=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(wb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vb(),!this.activeServiceWorker)return;this.sender=new gb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_b()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qp();return await u_(e,Rh,"1"),await c_(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>u_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ib(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=od(s,!1).getAll();return new Su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const Cb=sI;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e){return e?ii(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Xm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ab(t){return YE(t.auth,new eg(t),t.bypassAuthState)}function Rb(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),QE(n,new eg(t),t.bypassAuthState)}async function kb(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),rb(n,new eg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ab;case"linkViaPopup":case"linkViaRedirect":return kb;case"reauthViaPopup":case"reauthViaRedirect":return Rb;default:pr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Eu(2e3,1e4);class aa extends oI{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bb.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="pendingRedirect",dh=new Map;class Db extends oI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await Vb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vb(t,e){const n=Mb(e),r=Ob(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Lb(t,e){dh.set(t._key(),e)}function Ob(t){return ii(t._redirectPersistence)}function Mb(t){return hh(Nb,t.config.apiKey,t.name)}async function jb(t,e,n=!1){if(hr(t.app))return Promise.reject(es(t));const r=Da(t),s=Pb(r,e),l=await new Db(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=10*60*1e3;class Ub{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fb&&this.cachedEventUids.clear(),this.cachedEventUids.has(h_(e))}saveEventToCache(e){this.cachedEventUids.add(h_(e)),this.lastProcessedEventTime=Date.now()}}function h_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(t,e={}){return gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hb=/^https?/;async function Wb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zb(t);for(const n of e)try{if(qb(n))return}catch{}pr(t,"unauthorized-domain")}function qb(t){const e=Kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Hb.test(n))return!1;if($b.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Eu(3e4,6e4);function d_(){const t=br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Gb(t){return new Promise((e,n)=>{var r,s,a;function l(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(kr(t,"network-request-failed"))},timeout:Kb.get()})}if(!((s=(r=br().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=br().gapi)===null||a===void 0)&&a.load)l();else{const h=Fk("iframefcb");return br()[h]=()=>{gapi.load?l():n(kr(t,"network-request-failed"))},HE(`${jk()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw fh=null,e})}let fh=null;function Qb(t){return fh=fh||Gb(t),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Eu(5e3,15e3),Xb="__/auth/iframe",Jb="emulator/auth/iframe",Zb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t2(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gm(e,Jb):`https://${t.config.authDomain}/${Xb}`,r={apiKey:e.apiKey,appName:t.name,v:Na},s=e2.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${wu(r).slice(1)}`}async function n2(t){const e=await Qb(t),n=br().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:t2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zb,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=kr(t,"network-request-failed"),h=br().setTimeout(()=>{a(l)},Yb.get());function d(){br().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i2=500,s2=600,o2="_blank",a2="http://localhost";class f_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l2(t,e,n,r=i2,s=s2){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},r2),{width:r.toString(),height:s.toString(),top:a,left:l}),p=en().toLowerCase();n&&(h=ME(p)?o2:n),LE(p)&&(e=e||a2,d.scrollbars="yes");const g=Object.entries(d).reduce((E,[x,P])=>`${E}${x}=${P},`,"");if(Rk(p)&&h!=="_self")return u2(e||"",h),new f_(null);const w=window.open(e||"",h,g);Pe(w,t,"popup-blocked");try{w.focus()}catch{}return new f_(w)}function u2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="__/auth/handler",h2="emulator/auth/handler",d2=encodeURIComponent("fac");async function p_(t,e,n,r,s,a){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:s};if(e instanceof KE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",QA(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))l[g]=w}if(e instanceof Iu){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${d2}=${encodeURIComponent(d)}`:"";return`${f2(t)}?${wu(h).slice(1)}${p}`}function f2({config:t}){return t.emulator?Gm(t,h2):`https://${t.authDomain}/${c2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class p2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=jb,this._overrideRedirectResult=Lb}async _openPopup(e,n,r,s){var a;ci((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await p_(e,n,r,Kp(),s);return l2(e,l,Zm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await p_(e,n,r,Kp(),s);return yb(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ci(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n2(e),r=new Ub(e);return n.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wp,{type:wp},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[wp];l!==void 0&&n(!!l),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zE()||OE()||Ym()}}const m2=p2;var m_="@firebase/auth",g_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v2(t){Mr(new fr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(t)},p=new Lk(r,s,a,d);return Wk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mr(new fr("auth-internal",e=>{const n=Da(e.getProvider("auth").getImmediate());return(r=>new g2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(m_,g_,y2(t)),Wn(m_,g_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=5*60,w2=mE("authIdTokenMaxAge")||_2;let y_=null;const T2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w2)return;const s=n==null?void 0:n.token;y_!==s&&(y_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function E2(t=IE()){const e=Tu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hk(t,{popupRedirectResolver:m2,persistence:[Cb,pb,tI]}),r=mE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=T2(a.toString());cb(n,l,()=>l(n.currentUser)),ub(n,h=>l(h))}}const s=fE("auth");return s&&qk(n,`http://${s}`),n}function I2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ok({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=kr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",I2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v2("Browser");var v_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,lI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function A(){}A.prototype=S.prototype,k.D=S.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(O,j,z){for(var V=Array(arguments.length-2),We=2;We<arguments.length;We++)V[We-2]=arguments[We];return S.prototype[j].apply(O,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,S,A){A||(A=0);var O=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)O[j]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(j=0;16>j;++j)O[j]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=k.g[0],A=k.g[1],j=k.g[2];var z=k.g[3],V=S+(z^A&(j^z))+O[0]+3614090360&4294967295;S=A+(V<<7&4294967295|V>>>25),V=z+(j^S&(A^j))+O[1]+3905402710&4294967295,z=S+(V<<12&4294967295|V>>>20),V=j+(A^z&(S^A))+O[2]+606105819&4294967295,j=z+(V<<17&4294967295|V>>>15),V=A+(S^j&(z^S))+O[3]+3250441966&4294967295,A=j+(V<<22&4294967295|V>>>10),V=S+(z^A&(j^z))+O[4]+4118548399&4294967295,S=A+(V<<7&4294967295|V>>>25),V=z+(j^S&(A^j))+O[5]+1200080426&4294967295,z=S+(V<<12&4294967295|V>>>20),V=j+(A^z&(S^A))+O[6]+2821735955&4294967295,j=z+(V<<17&4294967295|V>>>15),V=A+(S^j&(z^S))+O[7]+4249261313&4294967295,A=j+(V<<22&4294967295|V>>>10),V=S+(z^A&(j^z))+O[8]+1770035416&4294967295,S=A+(V<<7&4294967295|V>>>25),V=z+(j^S&(A^j))+O[9]+2336552879&4294967295,z=S+(V<<12&4294967295|V>>>20),V=j+(A^z&(S^A))+O[10]+4294925233&4294967295,j=z+(V<<17&4294967295|V>>>15),V=A+(S^j&(z^S))+O[11]+2304563134&4294967295,A=j+(V<<22&4294967295|V>>>10),V=S+(z^A&(j^z))+O[12]+1804603682&4294967295,S=A+(V<<7&4294967295|V>>>25),V=z+(j^S&(A^j))+O[13]+4254626195&4294967295,z=S+(V<<12&4294967295|V>>>20),V=j+(A^z&(S^A))+O[14]+2792965006&4294967295,j=z+(V<<17&4294967295|V>>>15),V=A+(S^j&(z^S))+O[15]+1236535329&4294967295,A=j+(V<<22&4294967295|V>>>10),V=S+(j^z&(A^j))+O[1]+4129170786&4294967295,S=A+(V<<5&4294967295|V>>>27),V=z+(A^j&(S^A))+O[6]+3225465664&4294967295,z=S+(V<<9&4294967295|V>>>23),V=j+(S^A&(z^S))+O[11]+643717713&4294967295,j=z+(V<<14&4294967295|V>>>18),V=A+(z^S&(j^z))+O[0]+3921069994&4294967295,A=j+(V<<20&4294967295|V>>>12),V=S+(j^z&(A^j))+O[5]+3593408605&4294967295,S=A+(V<<5&4294967295|V>>>27),V=z+(A^j&(S^A))+O[10]+38016083&4294967295,z=S+(V<<9&4294967295|V>>>23),V=j+(S^A&(z^S))+O[15]+3634488961&4294967295,j=z+(V<<14&4294967295|V>>>18),V=A+(z^S&(j^z))+O[4]+3889429448&4294967295,A=j+(V<<20&4294967295|V>>>12),V=S+(j^z&(A^j))+O[9]+568446438&4294967295,S=A+(V<<5&4294967295|V>>>27),V=z+(A^j&(S^A))+O[14]+3275163606&4294967295,z=S+(V<<9&4294967295|V>>>23),V=j+(S^A&(z^S))+O[3]+4107603335&4294967295,j=z+(V<<14&4294967295|V>>>18),V=A+(z^S&(j^z))+O[8]+1163531501&4294967295,A=j+(V<<20&4294967295|V>>>12),V=S+(j^z&(A^j))+O[13]+2850285829&4294967295,S=A+(V<<5&4294967295|V>>>27),V=z+(A^j&(S^A))+O[2]+4243563512&4294967295,z=S+(V<<9&4294967295|V>>>23),V=j+(S^A&(z^S))+O[7]+1735328473&4294967295,j=z+(V<<14&4294967295|V>>>18),V=A+(z^S&(j^z))+O[12]+2368359562&4294967295,A=j+(V<<20&4294967295|V>>>12),V=S+(A^j^z)+O[5]+4294588738&4294967295,S=A+(V<<4&4294967295|V>>>28),V=z+(S^A^j)+O[8]+2272392833&4294967295,z=S+(V<<11&4294967295|V>>>21),V=j+(z^S^A)+O[11]+1839030562&4294967295,j=z+(V<<16&4294967295|V>>>16),V=A+(j^z^S)+O[14]+4259657740&4294967295,A=j+(V<<23&4294967295|V>>>9),V=S+(A^j^z)+O[1]+2763975236&4294967295,S=A+(V<<4&4294967295|V>>>28),V=z+(S^A^j)+O[4]+1272893353&4294967295,z=S+(V<<11&4294967295|V>>>21),V=j+(z^S^A)+O[7]+4139469664&4294967295,j=z+(V<<16&4294967295|V>>>16),V=A+(j^z^S)+O[10]+3200236656&4294967295,A=j+(V<<23&4294967295|V>>>9),V=S+(A^j^z)+O[13]+681279174&4294967295,S=A+(V<<4&4294967295|V>>>28),V=z+(S^A^j)+O[0]+3936430074&4294967295,z=S+(V<<11&4294967295|V>>>21),V=j+(z^S^A)+O[3]+3572445317&4294967295,j=z+(V<<16&4294967295|V>>>16),V=A+(j^z^S)+O[6]+76029189&4294967295,A=j+(V<<23&4294967295|V>>>9),V=S+(A^j^z)+O[9]+3654602809&4294967295,S=A+(V<<4&4294967295|V>>>28),V=z+(S^A^j)+O[12]+3873151461&4294967295,z=S+(V<<11&4294967295|V>>>21),V=j+(z^S^A)+O[15]+530742520&4294967295,j=z+(V<<16&4294967295|V>>>16),V=A+(j^z^S)+O[2]+3299628645&4294967295,A=j+(V<<23&4294967295|V>>>9),V=S+(j^(A|~z))+O[0]+4096336452&4294967295,S=A+(V<<6&4294967295|V>>>26),V=z+(A^(S|~j))+O[7]+1126891415&4294967295,z=S+(V<<10&4294967295|V>>>22),V=j+(S^(z|~A))+O[14]+2878612391&4294967295,j=z+(V<<15&4294967295|V>>>17),V=A+(z^(j|~S))+O[5]+4237533241&4294967295,A=j+(V<<21&4294967295|V>>>11),V=S+(j^(A|~z))+O[12]+1700485571&4294967295,S=A+(V<<6&4294967295|V>>>26),V=z+(A^(S|~j))+O[3]+2399980690&4294967295,z=S+(V<<10&4294967295|V>>>22),V=j+(S^(z|~A))+O[10]+4293915773&4294967295,j=z+(V<<15&4294967295|V>>>17),V=A+(z^(j|~S))+O[1]+2240044497&4294967295,A=j+(V<<21&4294967295|V>>>11),V=S+(j^(A|~z))+O[8]+1873313359&4294967295,S=A+(V<<6&4294967295|V>>>26),V=z+(A^(S|~j))+O[15]+4264355552&4294967295,z=S+(V<<10&4294967295|V>>>22),V=j+(S^(z|~A))+O[6]+2734768916&4294967295,j=z+(V<<15&4294967295|V>>>17),V=A+(z^(j|~S))+O[13]+1309151649&4294967295,A=j+(V<<21&4294967295|V>>>11),V=S+(j^(A|~z))+O[4]+4149444226&4294967295,S=A+(V<<6&4294967295|V>>>26),V=z+(A^(S|~j))+O[11]+3174756917&4294967295,z=S+(V<<10&4294967295|V>>>22),V=j+(S^(z|~A))+O[2]+718787259&4294967295,j=z+(V<<15&4294967295|V>>>17),V=A+(z^(j|~S))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var A=S-this.blockSize,O=this.B,j=this.h,z=0;z<S;){if(j==0)for(;z<=A;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<S;)if(O[j++]=k.charCodeAt(z++),j==this.blockSize){s(this,O),j=0;break}}else for(;z<S;)if(O[j++]=k[z++],j==this.blockSize){s(this,O),j=0;break}}this.h=j,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var A=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=A&255,A/=256;for(this.u(k),k=Array(16),S=A=0;4>S;++S)for(var O=0;32>O;O+=8)k[A++]=this.g[S]>>>O&255;return k};function a(k,S){var A=h;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=S(k)}function l(k,S){this.h=S;for(var A=[],O=!0,j=k.length-1;0<=j;j--){var z=k[j]|0;O&&z==S||(A[j]=z,O=!1)}this.g=A}var h={};function d(k){return-128<=k&&128>k?a(k,function(S){return new l([S|0],0>S?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return R(p(-k));for(var S=[],A=1,O=0;k>=A;O++)S[O]=k/A|0,A*=4294967296;return new l(S,0)}function g(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return R(g(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(S,8)),O=w,j=0;j<k.length;j+=8){var z=Math.min(8,k.length-j),V=parseInt(k.substring(j,j+z),S);8>z?(z=p(Math.pow(S,z)),O=O.j(z).add(p(V))):(O=O.j(A),O=O.add(p(V)))}return O}var w=d(0),E=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(D(this))return-R(this).m();for(var k=0,S=1,A=0;A<this.g.length;A++){var O=this.i(A);k+=(0<=O?O:4294967296+O)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if(D(this))return"-"+R(this).toString(k);for(var S=p(Math.pow(k,6)),A=this,O="";;){var j=Q(A,S).g;A=b(A,j.j(S));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=j,P(A))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function D(k){return k.h==-1}t.l=function(k){return k=b(this,k),D(k)?-1:P(k)?0:1};function R(k){for(var S=k.g.length,A=[],O=0;O<S;O++)A[O]=~k.g[O];return new l(A,~k.h).add(E)}t.abs=function(){return D(this)?R(this):this},t.add=function(k){for(var S=Math.max(this.g.length,k.g.length),A=[],O=0,j=0;j<=S;j++){var z=O+(this.i(j)&65535)+(k.i(j)&65535),V=(z>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);O=V>>>16,z&=65535,V&=65535,A[j]=V<<16|z}return new l(A,A[A.length-1]&-2147483648?-1:0)};function b(k,S){return k.add(R(S))}t.j=function(k){if(P(this)||P(k))return w;if(D(this))return D(k)?R(this).j(R(k)):R(R(this).j(k));if(D(k))return R(this.j(R(k)));if(0>this.l(x)&&0>k.l(x))return p(this.m()*k.m());for(var S=this.g.length+k.g.length,A=[],O=0;O<2*S;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<k.g.length;j++){var z=this.i(O)>>>16,V=this.i(O)&65535,We=k.i(j)>>>16,it=k.i(j)&65535;A[2*O+2*j]+=V*it,U(A,2*O+2*j),A[2*O+2*j+1]+=z*it,U(A,2*O+2*j+1),A[2*O+2*j+1]+=V*We,U(A,2*O+2*j+1),A[2*O+2*j+2]+=z*We,U(A,2*O+2*j+2)}for(O=0;O<S;O++)A[O]=A[2*O+1]<<16|A[2*O];for(O=S;O<2*S;O++)A[O]=0;return new l(A,0)};function U(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function F(k,S){this.g=k,this.h=S}function Q(k,S){if(P(S))throw Error("division by zero");if(P(k))return new F(w,w);if(D(k))return S=Q(R(k),S),new F(R(S.g),R(S.h));if(D(S))return S=Q(k,R(S)),new F(R(S.g),S.h);if(30<k.g.length){if(D(k)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var A=E,O=S;0>=O.l(k);)A=X(A),O=X(O);var j=ee(A,1),z=ee(O,1);for(O=ee(O,2),A=ee(A,2);!P(O);){var V=z.add(O);0>=V.l(k)&&(j=j.add(A),z=V),O=ee(O,1),A=ee(A,1)}return S=b(k,j.j(S)),new F(j,S)}for(j=w;0<=k.l(S);){for(A=Math.max(1,Math.floor(k.m()/S.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=p(A),V=z.j(S);D(V)||0<V.l(k);)A-=O,z=p(A),V=z.j(S);P(z)&&(z=E),j=j.add(z),k=b(k,V)}return new F(j,k)}t.A=function(k){return Q(this,k).h},t.and=function(k){for(var S=Math.max(this.g.length,k.g.length),A=[],O=0;O<S;O++)A[O]=this.i(O)&k.i(O);return new l(A,this.h&k.h)},t.or=function(k){for(var S=Math.max(this.g.length,k.g.length),A=[],O=0;O<S;O++)A[O]=this.i(O)|k.i(O);return new l(A,this.h|k.h)},t.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),A=[],O=0;O<S;O++)A[O]=this.i(O)^k.i(O);return new l(A,this.h^k.h)};function X(k){for(var S=k.g.length+1,A=[],O=0;O<S;O++)A[O]=k.i(O)<<1|k.i(O-1)>>>31;return new l(A,k.h)}function ee(k,S){var A=S>>5;S%=32;for(var O=k.g.length-A,j=[],z=0;z<O;z++)j[z]=0<S?k.i(z+A)>>>S|k.i(z+A+1)<<32-S:k.i(z+A);return new l(j,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,ts=l}).apply(typeof v_<"u"?v_:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uI,Ll,cI,ph,Yp,hI,dI,fI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,T){return c==Array.prototype||c==Object.prototype||(c[y]=T.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var T=c[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(c,y){if(y)e:{var T=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var H=c[C];if(!(H in T))break e;T=T[H]}c=c[c.length-1],C=T[c],y=y(C),y!=C&&y!=null&&e(T,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var T=0,C=!1,H={next:function(){if(!C&&T<c.length){var G=T++;return{value:y(G,c[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function d(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,T){return c.call.apply(c.bind,arguments)}function w(c,y,T){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,C),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function E(c,y,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,E.apply(null,arguments)}function x(c,y){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function P(c,y){function T(){}T.prototype=y.prototype,c.aa=y.prototype,c.prototype=new T,c.prototype.constructor=c,c.Qb=function(C,H,G){for(var le=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)le[Xe-2]=arguments[Xe];return y.prototype[H].apply(C,le)}}function D(c){const y=c.length;if(0<y){const T=Array(y);for(let C=0;C<y;C++)T[C]=c[C];return T}return[]}function R(c,y){for(let T=1;T<arguments.length;T++){const C=arguments[T];if(d(C)){const H=c.length||0,G=C.length||0;c.length=H+G;for(let le=0;le<G;le++)c[H+le]=C[le]}else c.push(C)}}class b{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var X=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ee(c,y,T){for(const C in c)y.call(T,c[C],C,c)}function k(c,y){for(const T in c)y.call(void 0,c[T],T,c)}function S(c){const y={};for(const T in c)y[T]=c[T];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let T,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(T in C)c[T]=C[T];for(let G=0;G<A.length;G++)T=A[G],Object.prototype.hasOwnProperty.call(C,T)&&(c[T]=C[T])}}function j(c){var y=1;c=c.split(":");const T=[];for(;0<y&&c.length;)T.push(c.shift()),y--;return c.length&&T.push(c.join(":")),T}function z(c){h.setTimeout(()=>{throw c},0)}function V(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class We{constructor(){this.h=this.g=null}add(y,T){const C=it.get();C.set(y,T),this.h?this.h.next=C:this.g=C,this.h=C}}var it=new b(()=>new st,c=>c.reset());class st{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ie=!1,me=new We,ue=()=>{const c=h.Promise.resolve(void 0);Ee=()=>{c.then($)}};var $=()=>{for(var c;c=V();){try{c.h.call(c.g)}catch(T){z(T)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ie=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};h.addEventListener("test",T,y),h.removeEventListener("test",T,y)}catch{}return c}();function Le(c,y){if(ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var T=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(X){e:{try{Q(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else T=="mouseover"?y=c.fromElement:T=="mouseout"&&(y=c.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Le.aa.h.call(this)}}P(Le,ye);var te={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),de=0;function Oe(c,y,T,C,H){this.listener=c,this.proxy=null,this.src=y,this.type=T,this.capture=!!C,this.ha=H,this.key=++de,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function un(c){this.src=c,this.g={},this.h=0}un.prototype.add=function(c,y,T,C,H){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var le=gr(c,y,C,H);return-1<le?(y=c[le],T||(y.fa=!1)):(y=new Oe(y,this.src,G,!!C,H),y.fa=T,c.push(y)),y};function Tn(c,y){var T=y.type;if(T in c.g){var C=c.g[T],H=Array.prototype.indexOf.call(C,y,void 0),G;(G=0<=H)&&Array.prototype.splice.call(C,H,1),G&&(Qe(y),c.g[T].length==0&&(delete c.g[T],c.h--))}}function gr(c,y,T,C){for(var H=0;H<c.length;++H){var G=c[H];if(!G.da&&G.listener==y&&G.capture==!!T&&G.ha==C)return H}return-1}var Nn="closure_lm_"+(1e6*Math.random()|0),yi={};function gs(c,y,T,C,H){if(Array.isArray(y)){for(var G=0;G<y.length;G++)gs(c,y[G],T,C,H);return null}return T=_s(T),c&&c[_e]?c.K(y,T,p(C)?!!C.capture:!1,H):ys(c,y,T,!1,C,H)}function ys(c,y,T,C,H,G){if(!y)throw Error("Invalid event type");var le=p(H)?!!H.capture:!!H,Xe=_i(c);if(Xe||(c[Nn]=Xe=new un(c)),T=Xe.add(y,T,C,le,G),T.proxy)return T;if(C=mo(),T.proxy=C,C.src=c,C.listener=T,c.addEventListener)De||(H=le),H===void 0&&(H=!1),c.addEventListener(y.toString(),C,H);else if(c.attachEvent)c.attachEvent(Gn(y.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function mo(){function c(T){return y.call(c.src,c.listener,T)}const y=vs;return c}function vi(c,y,T,C,H){if(Array.isArray(y))for(var G=0;G<y.length;G++)vi(c,y[G],T,C,H);else C=p(C)?!!C.capture:!!C,T=_s(T),c&&c[_e]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],T=gr(G,T,C,H),-1<T&&(Qe(G[T]),Array.prototype.splice.call(G,T,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=_i(c))&&(y=c.g[y.toString()],c=-1,y&&(c=gr(y,T,C,H)),(T=-1<c?y[c]:null)&&Kn(T))}function Kn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_e])Tn(y.i,c);else{var T=c.type,C=c.proxy;y.removeEventListener?y.removeEventListener(T,C,c.capture):y.detachEvent?y.detachEvent(Gn(T),C):y.addListener&&y.removeListener&&y.removeListener(C),(T=_i(y))?(Tn(T,c),T.h==0&&(T.src=null,y[Nn]=null)):Qe(c)}}}function Gn(c){return c in yi?yi[c]:yi[c]="on"+c}function vs(c,y){if(c.da)c=!0;else{y=new Le(y,this);var T=c.listener,C=c.ha||c.src;c.fa&&Kn(c),c=T.call(C,y)}return c}function _i(c){return c=c[Nn],c instanceof un?c:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function _s(c){return typeof c=="function"?c:(c[wi]||(c[wi]=function(y){return c.handleEvent(y)}),c[wi])}function Y(){J.call(this),this.i=new un(this),this.M=this,this.F=null}P(Y,J),Y.prototype[_e]=!0,Y.prototype.removeEventListener=function(c,y,T,C){vi(this,c,y,T,C)};function we(c,y){var T,C=c.F;if(C)for(T=[];C;C=C.F)T.push(C);if(c=c.M,C=y.type||y,typeof y=="string")y=new ye(y,c);else if(y instanceof ye)y.target=y.target||c;else{var H=y;y=new ye(C,c),O(y,H)}if(H=!0,T)for(var G=T.length-1;0<=G;G--){var le=y.g=T[G];H=ze(le,C,!0,y)&&H}if(le=y.g=c,H=ze(le,C,!0,y)&&H,H=ze(le,C,!1,y)&&H,T)for(G=0;G<T.length;G++)le=y.g=T[G],H=ze(le,C,!1,y)&&H}Y.prototype.N=function(){if(Y.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var T=c.g[y],C=0;C<T.length;C++)Qe(T[C]);delete c.g[y],c.h--}}this.F=null},Y.prototype.K=function(c,y,T,C){return this.i.add(String(c),y,!1,T,C)},Y.prototype.L=function(c,y,T,C){return this.i.add(String(c),y,!0,T,C)};function ze(c,y,T,C){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,G=0;G<y.length;++G){var le=y[G];if(le&&!le.da&&le.capture==T){var Xe=le.listener,xt=le.ha||le.src;le.fa&&Tn(c.i,le),H=Xe.call(xt,C)!==!1&&H}}return H&&!C.defaultPrevented}function tn(c,y,T){if(typeof c=="function")T&&(c=E(c,T));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function Tt(c){c.g=tn(()=>{c.g=null,c.i&&(c.i=!1,Tt(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ht extends J{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(c){J.call(this),this.h=c,this.g={}}P(yr,J);var Ti=[];function Ua(c){ee(c.g,function(y,T){this.g.hasOwnProperty(T)&&Kn(y)},c),c.g={}}yr.prototype.N=function(){yr.aa.N.call(this),Ua(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ba=h.JSON.stringify,za=h.JSON.parse,$a=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ws(){}ws.prototype.h=null;function go(c){return c.h||(c.h=c.i())}function yo(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){ye.call(this,"d")}P(vr,ye);function vo(){ye.call(this,"c")}P(vo,ye);var _r={},Ha=null;function Ts(){return Ha=Ha||new Y}_r.La="serverreachability";function Wa(c){ye.call(this,_r.La,c)}P(Wa,ye);function zr(c){const y=Ts();we(y,new Wa(y))}_r.STAT_EVENT="statevent";function qa(c,y){ye.call(this,_r.STAT_EVENT,c),this.stat=y}P(qa,ye);function gt(c){const y=Ts();we(y,new qa(y,c))}_r.Ma="timingevent";function _o(c,y){ye.call(this,_r.Ma,c),this.size=y}P(_o,ye);function Qn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function Is(c,y,T,C,H,G){c.info(function(){if(c.g)if(G)for(var le="",Xe=G.split("&"),xt=0;xt<Xe.length;xt++){var $e=Xe[xt].split("=");if(1<$e.length){var bt=$e[0];$e=$e[1];var Et=bt.split("_");le=2<=Et.length&&Et[1]=="type"?le+(bt+"="+$e+"&"):le+(bt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+y+`
`+T+`
`+le})}function wo(c,y,T,C,H,G,le){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+y+`
`+T+`
`+G+" "+le})}function Yn(c,y,T,C){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vd(c,T)+(C?" "+C:"")})}function Ka(c,y){c.info(function(){return"TIMEOUT: "+y})}Es.prototype.info=function(){};function Vd(c,y){if(!c.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(c=0;c<T.length;c++)if(Array.isArray(T[c])){var C=T[c];if(!(2>C.length)){var H=C[1];if(Array.isArray(H)&&!(1>H.length)){var G=H[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<H.length;le++)H[le]=""}}}}return Ba(T)}catch{return y}}var To={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Ss(){}P(Ss,ws),Ss.prototype.g=function(){return new XMLHttpRequest},Ss.prototype.i=function(){return{}},Xn=new Ss;function Jn(c,y,T,C){this.j=c,this.i=y,this.l=T,this.R=C||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mu}function Mu(){this.i=null,this.g="",this.h=!1}var Ga={},Eo={};function Io(c,y,T){c.L=1,c.v=Ci(In(y)),c.m=T,c.P=!0,Qa(c,null)}function Qa(c,y){c.F=Date.now(),Ze(c),c.A=In(c.v);var T=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Ai(T.i,"t",C),c.C=0,T=c.j.J,c.h=new Mu,c.g=tc(c.j,T?y:null,!c.m),0<c.O&&(c.M=new Ht(E(c.Y,c,c.g),c.O)),y=c.U,T=c.g,C=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ti[0]=H.toString()),H=Ti);for(var G=0;G<H.length;G++){var le=gs(T,H[G],C||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),zr(),Is(c.i,c.u,c.A,c.l,c.R,c.m)}Jn.prototype.ca=function(c){c=c.target;const y=this.M;y&&hn(c)==3?y.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const Et=hn(this.g);var y=this.g.Ba();const On=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||Et!=4||y==7||(y==8||0>=On?zr(3):zr(2)),xs(this);var T=this.g.Z();this.X=T;t:if(ju(this)){var C=tl(this.g);c="";var H=C.length,G=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),Ei(this);var le="";break t}this.h.i=new h.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(C[y],{stream:!(G&&y==H-1)});C.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=T==200,wo(this.i,this.u,this.A,this.l,this.R,Et,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,xt=this.g;if((Xe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Xe)){var $e=Xe;break t}}$e=null}if(T=$e)Yn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,T);else{this.o=!1,this.s=3,gt(12),Vn(this),Ei(this);break e}}if(this.P){T=!0;let xn;for(;!this.J&&this.C<le.length;)if(xn=Ld(this,le),xn==Eo){Et==4&&(this.s=4,gt(14),T=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Ga){this.s=4,gt(15),Yn(this.i,this.l,le,"[Invalid Chunk]"),T=!1;break}else Yn(this.i,this.l,xn,null),Ya(this,xn);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||le.length!=0||this.h.h||(this.s=1,gt(16),T=!1),this.o=this.o&&T,!T)Yn(this.i,this.l,le,"[Invalid Chunked Response]"),Vn(this),Ei(this);else if(0<le.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),rl(bt),bt.M=!0,gt(11))}}else Yn(this.i,this.l,le,null),Ya(this,le);Et==4&&Vn(this),this.o&&!this.J&&(Et==4?Vo(this.j,this):(this.o=!1,Ze(this)))}else Ro(this.g),T==400&&0<le.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Vn(this),Ei(this)}}}catch{}finally{}};function ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ld(c,y){var T=c.C,C=y.indexOf(`
`,T);return C==-1?Eo:(T=Number(y.substring(T,C)),isNaN(T)?Ga:(C+=1,C+T>y.length?Eo:(y=y.slice(C,C+T),c.C=C+T,y)))}Jn.prototype.cancel=function(){this.J=!0,Vn(this)};function Ze(c){c.S=Date.now()+c.I,Fu(c,c.I)}function Fu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Qn(E(c.ba,c),y)}function xs(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ka(this.i,this.A),this.L!=2&&(zr(),gt(17)),Vn(this),this.s=2,Ei(this)):Fu(this,this.S-c)};function Ei(c){c.j.G==0||c.J||Vo(c.j,c)}function Vn(c){xs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ua(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ya(c,y){try{var T=c.j;if(T.G!=0&&(T.g==c||nn(T.h,c))){if(!c.K&&nn(T.h,c)&&T.G==3){try{var C=T.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<c.F)Do(T),rr(T);else break e;No(T),gt(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=Qn(E(T.Za,T),6e3));if(1>=Bu(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Kr(T,11)}else if((c.K||T.g==c)&&Do(T),!U(y))for(H=T.Da.g.parse(y),y=0;y<H.length;y++){let $e=H[y];if(T.T=$e[0],$e=$e[1],T.G==2)if($e[0]=="c"){T.K=$e[1],T.ia=$e[2];const bt=$e[3];bt!=null&&(T.la=bt,T.j.info("VER="+T.la));const Et=$e[4];Et!=null&&(T.Aa=Et,T.j.info("SVER="+T.Aa));const On=$e[5];On!=null&&typeof On=="number"&&0<On&&(C=1.5*On,T.L=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const xn=c.g;if(xn){const Ns=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var G=C.h;G.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Xa(G,G.h),G.h=null))}if(C.D){const Oo=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(C.ya=Oo,Je(C.I,C.D,Oo))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-c.F,T.j.info("Handshake RTT: "+T.R+"ms")),C=T;var le=c;if(C.qa=ec(C,C.J?C.ia:null,C.W),le.K){zu(C.h,le);var Xe=le,xt=C.L;xt&&(Xe.I=xt),Xe.B&&(xs(Xe),Ze(Xe)),C.g=le}else bs(C);0<T.i.length&&Ir(T)}else $e[0]!="stop"&&$e[0]!="close"||Kr(T,7);else T.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Kr(T,7):Mt(T):$e[0]!="noop"&&T.l&&T.l.ta($e),T.v=0)}}zr(4)}catch{}}var Uu=class{constructor(c,y){this.g=c,this.map=y}};function Cs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bu(c){return c.h?1:c.g?c.g.size:0}function nn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xa(c,y){c.g?c.g.add(y):c.h=y}function zu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Cs.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $u(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const T of c.g.values())y=y.concat(T.D);return y}return D(c.i)}function So(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var y=[],T=c.length,C=0;C<T;C++)y.push(c[C]);return y}y=[],T=0;for(C in c)y[T++]=c[C];return y}function xo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var y=[];c=c.length;for(var T=0;T<c;T++)y.push(T);return y}y=[],T=0;for(const C in c)y[T++]=C;return y}}}function Ii(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var T=xo(c),C=So(c),H=C.length,G=0;G<H;G++)y.call(void 0,C[G],T&&T[G],c)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Od(c,y){if(c){c=c.split("&");for(var T=0;T<c.length;T++){var C=c[T].indexOf("="),H=null;if(0<=C){var G=c[T].substring(0,C);H=c[T].substring(C+1)}else G=c[T];y(G,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function $r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $r){this.h=c.h,As(this,c.j),this.o=c.o,this.g=c.g,Si(this,c.s),this.l=c.l;var y=c.i,T=new wr;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),xi(this,T),this.m=c.m}else c&&(y=String(c).match(Ps))?(this.h=!1,As(this,y[1]||"",!0),this.o=Be(y[2]||""),this.g=Be(y[3]||"",!0),Si(this,y[4]),this.l=Be(y[5]||"",!0),xi(this,y[6]||"",!0),this.m=Be(y[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}$r.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Pi(y,Co,!0),":");var T=this.g;return(T||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Pi(y,Co,!0),"@"),c.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&c.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(Pi(T,T.charAt(0)=="/"?qu:Wu,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",Pi(T,Ja)),c.join("")};function In(c){return new $r(c)}function As(c,y,T){c.j=T?Be(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Si(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xi(c,y,T){y instanceof wr?(c.i=y,Tr(c.i,c.h)):(T||(y=Pi(y,Ku)),c.i=new wr(y,c.h))}function Je(c,y,T){c.i.set(y,T)}function Ci(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Be(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Pi(c,y,T){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,Wu=/[#\?:]/g,qu=/[#\?]/g,Ku=/[#\?@]/g,Ja=/#/g;function wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ot(c){c.g||(c.g=new Map,c.h=0,c.i&&Od(c.i,function(y,T){c.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=wr.prototype,t.add=function(c,y){Ot(this),this.i=null,c=Ln(this,c);var T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(y),this.h+=1,this};function Zn(c,y){Ot(c),y=Ln(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function er(c,y){return Ot(c),y=Ln(c,y),c.g.has(y)}t.forEach=function(c,y){Ot(this),this.g.forEach(function(T,C){T.forEach(function(H){c.call(y,H,C,this)},this)},this)},t.na=function(){Ot(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let C=0;C<y.length;C++){const H=c[C];for(let G=0;G<H.length;G++)T.push(y[C])}return T},t.V=function(c){Ot(this);let y=[];if(typeof c=="string")er(this,c)&&(y=y.concat(this.g.get(Ln(this,c))));else{c=Array.from(this.g.values());for(let T=0;T<c.length;T++)y=y.concat(c[T])}return y},t.set=function(c,y){return Ot(this),this.i=null,c=Ln(this,c),er(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ai(c,y,T){Zn(c,y),0<T.length&&(c.i=null,c.g.set(Ln(c,y),D(T)),c.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var C=y[T];const G=encodeURIComponent(String(C)),le=this.V(C);for(C=0;C<le.length;C++){var H=G;le[C]!==""&&(H+="="+encodeURIComponent(String(le[C]))),c.push(H)}}return this.i=c.join("&")};function Ln(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Tr(c,y){y&&!c.j&&(Ot(c),c.i=null,c.g.forEach(function(T,C){var H=C.toLowerCase();C!=H&&(Zn(this,C),Ai(this,H,T))},c)),c.j=y}function Md(c,y){const T=new Es;if(h.Image){const C=new Image;C.onload=x(cn,T,"TestLoadImage: loaded",!0,y,C),C.onerror=x(cn,T,"TestLoadImage: error",!1,y,C),C.onabort=x(cn,T,"TestLoadImage: abort",!1,y,C),C.ontimeout=x(cn,T,"TestLoadImage: timeout",!1,y,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else y(!1)}function Gu(c,y){const T=new Es,C=new AbortController,H=setTimeout(()=>{C.abort(),cn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:C.signal}).then(G=>{clearTimeout(H),G.ok?cn(T,"TestPingServer: ok",!0,y):cn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),cn(T,"TestPingServer: error",!1,y)})}function cn(c,y,T,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(T)}catch{}}function jd(){this.g=new $a}function Qu(c,y,T){const C=T||"";try{Ii(c,function(H,G){let le=H;p(H)&&(le=Ba(H)),y.push(C+G+"="+encodeURIComponent(le))})}catch(H){throw y.push(C+"type="+encodeURIComponent("_badmap")),H}}function Hr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Hr,ws),Hr.prototype.g=function(){return new Rs(this.l,this.j)},Hr.prototype.i=function(c){return function(){return c}}({});function Rs(c,y){Y.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Rs,Y),t=Rs.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,nr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tr(this):nr(this),this.readyState==3&&Yu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,tr(this))},t.Qa=function(c){this.g&&(this.response=c,tr(this))},t.ga=function(){this.g&&tr(this)};function tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,nr(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=y.next();return c.join(`\r
`)};function nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wr(c){let y="";return ee(c,function(T,C){y+=C,y+=":",y+=T,y+=`\r
`}),y}function Ri(c,y,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=Wr(T),typeof c=="string"?T!=null&&encodeURIComponent(String(T)):Je(c,y,T))}function ot(c){Y.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ot,Y);var Fd=/^https?$/i,Za=["POST","PUT"];t=ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?go(this.o):go(Xn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){ks(this,G);return}if(c=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)T.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const G of C.keys())T.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Za,y,void 0))||C||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of T)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ao(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){ks(this,G)}};function ks(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Po(c),Sn(c)}function Po(c){c.A||(c.A=!0,we(c,"complete"),we(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,we(this,"complete"),we(this,"abort"),Sn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sn(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},t.bb=function(){el(this)};function el(c){if(c.h&&typeof l<"u"&&(!c.v[1]||hn(c)!=4||c.Z()!=2)){if(c.u&&hn(c)==4)tn(c.Ea,0,c);else if(we(c,"readystatechange"),hn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var C;if(C=le===0){var H=String(c.D).match(Ps)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),C=!Fd.test(H?H.toLowerCase():"")}T=C}if(T)we(c,"complete"),we(c,"success");else{c.m=6;try{var G=2<hn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Po(c)}}finally{Sn(c)}}}}function Sn(c,y){if(c.g){Ao(c);const T=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||we(c,"ready");try{T.onreadystatechange=C}catch{}}}function Ao(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function hn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),za(y)}};function tl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ro(c){const y={};c=(c.g&&2<=hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(U(c[C]))continue;var T=j(c[C]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=y[H]||[];y[H]=G,G.push(T)}k(y,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(c,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||y}function nl(c){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,c),this.cb=Er("retryDelaySeedMs",1e4,c),this.Wa=Er("forwardChannelMaxRetries",2,c),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Cs(c&&c.concurrentRequestLimit),this.Da=new jd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nl.prototype,t.la=8,t.G=1,t.connect=function(c,y,T,C){gt(0),this.W=c,this.H=y||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.I=ec(this,null,this.W),Ir(this)};function Mt(c){if(ko(c),c.G==3){var y=c.U++,T=In(c.I);if(Je(T,"SID",c.K),Je(T,"RID",y),Je(T,"TYPE","terminate"),qr(c,T),y=new Jn(c,c.j,y),y.L=2,y.v=Ci(In(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=y.v,T=!0),T||(y.g=tc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ze(y)}Zu(c)}function rr(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function ko(c){rr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Do(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Ir(c){if(!En(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ee||ue(),ie||(Ee(),ie=!0),me.add(y,c),c.B=0}}function Ud(c,y){return Bu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Qn(E(c.Ga,c,y),Ju(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Jn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=S(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(H.H=G,G=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=ki(this,H,y),T=In(this.I),Je(T,"RID",c),Je(T,"CVER",22),this.D&&Je(T,"X-HTTP-Session-Id",this.D),qr(this,T),G&&(this.O?y="headers="+encodeURIComponent(String(Wr(G)))+"&"+y:this.m&&Ri(T,this.m,G)),Xa(this.h,H),this.Ua&&Je(T,"TYPE","init"),this.P?(Je(T,"$req",y),Je(T,"SID","null"),H.T=!0,Io(H,T,null)):Io(H,T,y),this.G=2}}else this.G==3&&(c?bo(this,c):this.i.length==0||En(this.h)||bo(this))};function bo(c,y){var T;y?T=y.l:T=c.U++;const C=In(c.I);Je(C,"SID",c.K),Je(C,"RID",T),Je(C,"AID",c.T),qr(c,C),c.m&&c.o&&Ri(C,c.m,c.o),T=new Jn(c,c.j,T,c.B+1),c.m===null&&(T.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ki(c,T,1e3),T.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xa(c.h,T),Io(T,C,y)}function qr(c,y){c.H&&ee(c.H,function(T,C){Je(y,C,T)}),c.l&&Ii({},function(T,C){Je(y,C,T)})}function ki(c,y,T){T=Math.min(c.i.length,T);var C=c.l?E(c.l.Na,c.l,c):null;e:{var H=c.i;let G=-1;for(;;){const le=["count="+T];G==-1?0<T?(G=H[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let Xe=!0;for(let xt=0;xt<T;xt++){let $e=H[xt].g;const bt=H[xt].map;if($e-=G,0>$e)G=Math.max(0,H[xt].g-100),Xe=!1;else try{Qu(bt,le,"req"+$e+"_")}catch{C&&C(bt)}}if(Xe){C=le.join("&");break e}}}return c=c.i.splice(0,T),y.D=c,C}function bs(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ee||ue(),ie||(Ee(),ie=!0),me.add(y,c),c.v=0}}function No(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Qn(E(c.Fa,c),Ju(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Qn(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),rr(this),Xu(this))};function rl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=In(c.qa);Je(y,"RID","rpc"),Je(y,"SID",c.K),Je(y,"AID",c.T),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(y,"TO",c.ja),Je(y,"TYPE","xmlhttp"),qr(c,y),c.m&&c.o&&Ri(y,c.m,c.o),c.L&&(c.g.I=c.L);var T=c.g;c=c.ia,T.L=1,T.v=Ci(In(y)),T.m=null,T.P=!0,Qa(T,c)}t.Za=function(){this.C!=null&&(this.C=null,rr(this),No(this),gt(19))};function Do(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Vo(c,y){var T=null;if(c.g==y){Do(c),rl(c),c.g=null;var C=2}else if(nn(c.h,y))T=y.D,zu(c.h,y),C=1;else return;if(c.G!=0){if(y.o)if(C==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;C=Ts(),we(C,new _o(C,T)),Ir(c)}else bs(c);else if(H=y.s,H==3||H==0&&0<y.X||!(C==1&&Ud(c,y)||C==2&&No(c)))switch(T&&0<T.length&&(y=c.h,y.i=y.i.concat(T)),H){case 1:Kr(c,5);break;case 4:Kr(c,10);break;case 3:Kr(c,6);break;default:Kr(c,2)}}}function Ju(c,y){let T=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(T*=2),T*y}function Kr(c,y){if(c.j.info("Error code "+y),y==2){var T=E(c.fb,c),C=c.Xa;const H=!C;C=new $r(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||As(C,"https"),Ci(C),H?Md(C.toString(),T):Gu(C.toString(),T)}else gt(2);c.G=0,c.l&&c.l.sa(y),Zu(c),ko(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=$u(c.h);(y.length!=0||c.i.length!=0)&&(R(c.ka,y),R(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function ec(c,y,T){var C=T instanceof $r?In(T):new $r(T);if(C.g!="")y&&(C.g=y+"."+C.g),Si(C,C.s);else{var H=h.location;C=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var G=new $r(null);C&&As(G,C),y&&(G.g=y),H&&Si(G,H),T&&(G.l=T),C=G}return T=c.D,y=c.ya,T&&y&&Je(C,T,y),Je(C,"VER",c.la),qr(c,C),C}function tc(c,y,T){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ot(new Hr({eb:T})):new ot(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}t=il.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lo(){}Lo.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Y.call(this),this.g=new nl(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!U(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Sr(this)}P(rn,Y),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Mt(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.u&&(T={},T.__data__=Ba(c),c=T);y.i.push(new Uu(y.Ya++,c)),y.G==3&&Ir(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,rn.aa.N.call(this)};function nc(c){vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const T in y){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(nc,vr);function rc(){vo.call(this),this.status=1}P(rc,vo);function Sr(c){this.g=c}P(Sr,il),Sr.prototype.ua=function(){we(this.g,"a")},Sr.prototype.ta=function(c){we(this.g,new nc(c))},Sr.prototype.sa=function(c){we(this.g,new rc)},Sr.prototype.ra=function(){we(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,fI=function(){return new Lo},dI=function(){return Ts()},hI=_r,Yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},To.NO_ERROR=0,To.TIMEOUT=8,To.HTTP_ERROR=6,ph=To,Ou.COMPLETE="complete",cI=Ou,yo.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Y.prototype.listen=Y.prototype.K,Ll=yo,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,uI=ot}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore",w_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new nd("@firebase/firestore");function ra(){return ro.logLevel}function he(t,...e){if(ro.logLevel<=Fe.DEBUG){const n=e.map(tg);ro.debug(`Firestore (${Va}): ${t}`,...n)}}function hi(t,...e){if(ro.logLevel<=Fe.ERROR){const n=e.map(tg);ro.error(`Firestore (${Va}): ${t}`,...n)}}function _a(t,...e){if(ro.logLevel<=Fe.WARN){const n=e.map(tg);ro.warn(`Firestore (${Va}): ${t}`,...n)}}function tg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function Ye(t,e){t||Ae()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class x2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class C2{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Js,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Js)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new pI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Xt(e)}}class P2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class A2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new P2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,hr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new T_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new T_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=k2(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function Xp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Me(r,s);{const a=mI(),l=b2(a.encode(E_(t,n)),a.encode(E_(e,n)));return l!==0?l:Me(r,s)}}n+=r>65535?2:1}return Me(t.length,e.length)}function E_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function b2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Me(t[n],e[n]);return Me(t.length,e.length)}function wa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=-62135596800,S_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*S_);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<I_)throw new Te(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-I_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Rt(0,0))}static max(){return new Ne(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class Rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Rr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Me(e.length,n.length)}static compareSegments(e,n){const r=Rr.isNumericId(e),s=Rr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):Xp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class lt extends Rr{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const N2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Rr{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return N2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new zt([x_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Te(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Te(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Te(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(a(),s++)}if(a(),l)throw new Te(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(lt.fromString(e))}static fromName(e){return new xe(lt.fromString(e).popFirst(5))}static empty(){return new xe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function D2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new ss(s,xe.empty(),e)}function V2(t){return new ss(t.readTime,t.key,tu)}class ss{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ss(Ne.min(),xe.empty(),tu)}static max(){return new ss(Ne.max(),xe.empty(),tu)}}function L2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==O2)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let s=0,a=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(s=>s?Z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,s)=>{const a=e.length,l=new Array(a);let h=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(g=>{l[p]=g,++h,h===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new Z((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function j2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ad.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function ld(t){return t==null}function bh(t){return t===0&&1/t==-1/0}function F2(t){return typeof t=="number"&&Number.isInteger(t)&&!bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="";function U2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=C_(e)),e=B2(t.get(n),e);return C_(e)}function B2(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case yI:n+="";break;default:n+=a}}return n}function C_(t){return t+yI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=s??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Bt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,s,a){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A_(this.data.getIterator())}getIteratorFrom(e){return new A_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class A_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new kt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _I("Invalid base64 string: "+a):a}}(e);return new $t(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=z2.exec(t);if(Ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function as(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="server_timestamp",TI="__type__",EI="__previous_value__",II="__local_write_time__";function rg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TI])===null||n===void 0?void 0:n.stringValue)===wI}function ud(t){const e=t.mapValue.fields[EI];return rg(e)?ud(e):e}function nu(t){const e=os(t.mapValue.fields[II].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r,s,a,l,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const Nh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="__type__",H2="__max__",th={mapValue:{}},xI="__vector__",Dh="value";function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rg(t)?4:q2(t)?9007199254740991:W2(t)?10:11:Ae()}function jr(t,e){if(t===e)return!0;const n=ls(t);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nu(t).isEqual(nu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=os(s.timestampValue),h=os(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return as(s.bytesValue).isEqual(as(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return _t(s.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(s.geoPointValue.longitude)===_t(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return _t(s.integerValue)===_t(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=_t(s.doubleValue),h=_t(a.doubleValue);return l===h?bh(l)===bh(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return wa(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(P_(l)!==P_(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!jr(l[d],h[d])))return!1;return!0}(t,e);default:return Ae()}}function iu(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function Ta(t,e){if(t===e)return 0;const n=ls(t),r=ls(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(a,l){const h=_t(a.integerValue||a.doubleValue),d=_t(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return R_(t.timestampValue,e.timestampValue);case 4:return R_(nu(t),nu(e));case 5:return Xp(t.stringValue,e.stringValue);case 6:return function(a,l){const h=as(a),d=as(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),d=l.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=Me(h[p],d[p]);if(g!==0)return g}return Me(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const h=Me(_t(a.latitude),_t(l.latitude));return h!==0?h:Me(_t(a.longitude),_t(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(a,l){var h,d,p,g;const w=a.fields||{},E=l.fields||{},x=(h=w[Dh])===null||h===void 0?void 0:h.arrayValue,P=(d=E[Dh])===null||d===void 0?void 0:d.arrayValue,D=Me(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:k_(x,P)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===th.mapValue&&l===th.mapValue)return 0;if(a===th.mapValue)return 1;if(l===th.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let w=0;w<d.length&&w<g.length;++w){const E=Xp(d[w],g[w]);if(E!==0)return E;const x=Ta(h[d[w]],p[g[w]]);if(x!==0)return x}return Me(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function R_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=os(t),r=os(e),s=Me(n.seconds,r.seconds);return s!==0?s:Me(n.nanos,r.nanos)}function k_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ta(n[s],r[s]);if(a)return a}return Me(n.length,r.length)}function Ea(t){return Jp(t)}function Jp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return as(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Jp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Jp(n.fields[l])}`;return s+"}"}(t.mapValue):Ae()}function mh(t){switch(ls(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(t);return e?16+mh(e):16;case 5:return 2*t.stringValue.length;case 6:return as(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+mh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return fs(r.fields,(a,l)=>{s+=a.length+mh(l)}),s}(t.mapValue);default:throw Ae()}}function Zp(t){return!!t&&"integerValue"in t}function ig(t){return!!t&&"arrayValue"in t}function b_(t){return!!t&&"nullValue"in t}function N_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gh(t){return!!t&&"mapValue"in t}function W2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SI])===null||n===void 0?void 0:n.stringValue)===xI}function $l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function q2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=zt.emptyPath(),r={},s=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=h.popLast()}l?r[h.lastSegment()]=$l(l):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){fs(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new _n($l(this.value))}}function CI(t){const e=[];return fs(t.fields,(n,r)=>{const s=new zt([n]);if(gh(r)){const a=CI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,s,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Jt(e,0,Ne.min(),Ne.min(),Ne.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new Jt(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ne.min(),Ne.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ne.min(),Ne.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function D_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=Ta(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function V_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function K2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{}class At extends PI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q2(e,n,r):n==="array-contains"?new J2(e,r):n==="in"?new Z2(e,r):n==="not-in"?new eN(e,r):n==="array-contains-any"?new tN(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Y2(e,r):new X2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ta(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends PI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Fr(e,n)}matches(e){return AI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function AI(t){return t.op==="and"}function RI(t){return G2(t)&&AI(t)}function G2(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function em(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(RI(t))return t.filters.map(e=>em(e)).join(",");{const e=t.filters.map(n=>em(n)).join(",");return`${t.op}(${e})`}}function kI(t,e){return t instanceof At?function(r,s){return s instanceof At&&r.op===s.op&&r.field.isEqual(s.field)&&jr(r.value,s.value)}(t,e):t instanceof Fr?function(r,s){return s instanceof Fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,h)=>a&&kI(l,s.filters[h]),!0):!1}(t,e):void Ae()}function bI(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${Ea(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(bI).join(" ,")+"}"}(t):"Filter"}class Q2 extends At{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Y2 extends At{constructor(e,n){super(e,"in",n),this.keys=NI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class X2 extends At{constructor(e,n){super(e,"not-in",n),this.keys=NI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class J2 extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ig(n)&&iu(n.arrayValue,this.value)}}class Z2 extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class eN extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class tN extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n=null,r=[],s=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.le=null}}function L_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new nN(t,e,n,r,s,a,l)}function sg(t){const e=Ve(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>em(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ea(r)).join(",")),e.le=n}return e.le}function og(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V_(t.startAt,e.startAt)&&V_(t.endAt,e.endAt)}function tm(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n=null,r=[],s=[],a=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function rN(t,e,n,r,s,a,l,h){return new cd(t,e,n,r,s,a,l,h)}function ag(t){return new cd(t)}function O_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iN(t){return t.collectionGroup!==null}function Hl(t){const e=Ve(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new kt(zt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new Lh(a,r))}),n.has(zt.keyField().canonicalString())||e.he.push(new Lh(zt.keyField(),r))}return e.he}function Nr(t){const e=Ve(t);return e.Pe||(e.Pe=sN(e,Hl(t))),e.Pe}function sN(t,e){if(t.limitType==="F")return L_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Lh(s.field,a)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return L_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nm(t,e,n){return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hd(t,e){return og(Nr(t),Nr(e))&&t.limitType===e.limitType}function DI(t){return`${sg(Nr(t))}|lt:${t.limitType}`}function ia(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>bI(s)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ea(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ea(s)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Hl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,h,d){const p=D_(l,h,d);return l.inclusive?p<=0:p<0}(r.startAt,Hl(r),s)||r.endAt&&!function(l,h,d){const p=D_(l,h,d);return l.inclusive?p>=0:p>0}(r.endAt,Hl(r),s))}(t,e)}function oN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VI(t){return(e,n)=>{let r=!1;for(const s of Hl(t)){const a=aN(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function aN(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(a,l,h){const d=l.data.field(a),p=h.data.field(a);return d!==null&&p!==null?Ta(d,p):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return vI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new ft(xe.comparator);function di(){return lN}const LI=new ft(xe.comparator);function Ol(...t){let e=LI;for(const n of t)e=e.insert(n.key,n);return e}function OI(t){let e=LI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gs(){return Wl()}function MI(){return Wl()}function Wl(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const uN=new ft(xe.comparator),cN=new kt(xe.comparator);function Ue(...t){let e=cN;for(const n of t)e=e.add(n);return e}const hN=new kt(Me);function dN(){return hN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function jI(t){return{integerValue:""+t}}function fN(t,e){return F2(e)?jI(e):lg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function pN(t,e,n){return t instanceof Oh?function(s,a){const l={fields:{[TI]:{stringValue:wI},[II]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&rg(a)&&(a=ud(a)),a&&(l.fields[EI]=a),{mapValue:l}}(n,e):t instanceof su?UI(t,e):t instanceof ou?BI(t,e):function(s,a){const l=FI(s,a),h=M_(l)+M_(s.Ie);return Zp(l)&&Zp(s.Ie)?jI(h):lg(s.serializer,h)}(t,e)}function mN(t,e,n){return t instanceof su?UI(t,e):t instanceof ou?BI(t,e):n}function FI(t,e){return t instanceof Mh?function(r){return Zp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Oh extends fd{}class su extends fd{constructor(e){super(),this.elements=e}}function UI(t,e){const n=zI(e);for(const r of t.elements)n.some(s=>jr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ou extends fd{constructor(e){super(),this.elements=e}}function BI(t,e){let n=zI(e);for(const r of t.elements)n=n.filter(s=>!jr(s,r));return{arrayValue:{values:n}}}class Mh extends fd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function M_(t){return _t(t.integerValue||t.doubleValue)}function zI(t){return ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof su&&s instanceof su||r instanceof ou&&s instanceof ou?wa(r.elements,s.elements,jr):r instanceof Mh&&s instanceof Mh?jr(r.Ie,s.Ie):r instanceof Oh&&s instanceof Oh}(t.transform,e.transform)}class yN{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pd{}function $I(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ug(t.key,dr.none()):new xu(t.key,t.data,dr.none());{const n=t.data,r=_n.empty();let s=new kt(zt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ps(t.key,r,new Rn(s.toArray()),dr.none())}}function vN(t,e,n){t instanceof xu?function(s,a,l){const h=s.value.clone(),d=F_(s.fieldTransforms,a,l.transformResults);h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof ps?function(s,a,l){if(!yh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=F_(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(HI(s)),d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function ql(t,e,n,r){return t instanceof xu?function(a,l,h,d){if(!yh(a.precondition,l))return h;const p=a.value.clone(),g=U_(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ps?function(a,l,h,d){if(!yh(a.precondition,l))return h;const p=U_(a.fieldTransforms,d,l),g=l.data;return g.setAll(HI(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(a,l,h){return yh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function _N(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=FI(r.transform,s||null);a!=null&&(n===null&&(n=_n.empty()),n.set(r.field,a))}return n||null}function j_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&wa(r,s,(a,l)=>gN(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends pd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ps extends pd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function HI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function F_(t,e,n){const r=new Map;Ye(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,h=e.data.field(a.field);r.set(a.field,mN(l,h,n[s]))}return r}function U_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,pN(a,l,e))}return r}class ug extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wN extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&vN(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MI();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(s.key)?null:h;const d=$I(l,h);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(n,r)=>j_(n,r))&&wa(this.baseMutations,e.baseMutations,(n,r)=>j_(n,r))}}class cg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length);let s=function(){return uN}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new cg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,He;function SN(t){switch(t){case se.OK:return Ae();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ae()}}function WI(t){if(t===void 0)return hi("GRPC error has no .code"),se.UNKNOWN;switch(t){case St.OK:return se.OK;case St.CANCELLED:return se.CANCELLED;case St.UNKNOWN:return se.UNKNOWN;case St.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case St.INTERNAL:return se.INTERNAL;case St.UNAVAILABLE:return se.UNAVAILABLE;case St.UNAUTHENTICATED:return se.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case St.NOT_FOUND:return se.NOT_FOUND;case St.ALREADY_EXISTS:return se.ALREADY_EXISTS;case St.PERMISSION_DENIED:return se.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case St.ABORTED:return se.ABORTED;case St.OUT_OF_RANGE:return se.OUT_OF_RANGE;case St.UNIMPLEMENTED:return se.UNIMPLEMENTED;case St.DATA_LOSS:return se.DATA_LOSS;default:return Ae()}}(He=St||(St={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new ts([4294967295,4294967295],0);function B_(t){const e=mI().encode(t),n=new lI;return n.update(e),new Uint8Array(n.digest())}function z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ts([n,r],0),new ts([s,a],0)]}class hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ts.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(ts.fromNumber(r)));return s.compare(xN)===1&&(s=new ts([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=B_(e),[r,s]=z_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new hg(a,s,n);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.Ee===0)return;const n=B_(e),[r,s]=z_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(Ne.min(),s,new ft(Me),di(),Ue())}}class Cu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class qI{constructor(e,n){this.targetId=e,this.ge=n}}class KI{constructor(e,n,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class $_{constructor(){this.pe=0,this.ye=H_(),this.we=$t.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),r=Ue();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae()}}),new Cu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=H_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class CN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=di(),this.$e=nh(),this.Ue=nh(),this.Ke=new ft(Me)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(tm(a))if(r===0){const l=new xe(a.path);this.ze(n,l,Jt.newNoDocument(l,Ne.min()))}else Ye(r===1);else{const l=this.et(n);if(l!==r){const h=this.tt(e),d=h?this.nt(h,e,l):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,h;try{l=as(r).toUint8Array()}catch(d){if(d instanceof _I)return _a("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new hg(l,s,a)}catch(d){return _a(d instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ke.it(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const h=this.Xe(l);if(h){if(a.current&&tm(h.target)){const d=new xe(h.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,Jt.newNoDocument(d,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=Ue();this.Ue.forEach((a,l)=>{let h=!0;l.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new md(e,n,this.Ke,this.Qe,r);return this.Qe=di(),this.$e=nh(),this.Ue=nh(),this.Ke=new ft(Me),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new $_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new kt(Me),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new kt(Me),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ft(xe.comparator)}function H_(){return new ft(xe.comparator)}const PN={asc:"ASCENDING",desc:"DESCENDING"},AN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RN={and:"AND",or:"OR"};class kN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rm(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bN(t,e){return jh(t,e.toTimestamp())}function Dr(t){return Ye(!!t),Ne.fromTimestamp(function(n){const r=os(n);return new Rt(r.seconds,r.nanos)}(t))}function dg(t,e){return im(t,e).canonicalString()}function im(t,e){const n=function(s){return new lt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QI(t){const e=lt.fromString(t);return Ye(e1(e)),e}function sm(t,e){return dg(t.databaseId,e.path)}function Tp(t,e){const n=QI(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(XI(n))}function YI(t,e){return dg(t.databaseId,e)}function NN(t){const e=QI(t);return e.length===4?lt.emptyPath():XI(e)}function om(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XI(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function W_(t,e,n){return{name:sm(t,e),fields:n.value.mapValue.fields}}function DN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Ye(g===void 0||typeof g=="string"),$t.fromBase64String(g||"")):(Ye(g===void 0||g instanceof Buffer||g instanceof Uint8Array),$t.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=p.code===void 0?se.UNKNOWN:WI(p.code);return new Te(g,p.message||"")}(l);n=new KI(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Tp(t,r.document.name),a=Dr(r.document.updateTime),l=r.document.createTime?Dr(r.document.createTime):Ne.min(),h=new _n({mapValue:{fields:r.document.fields}}),d=Jt.newFoundDocument(s,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new vh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Tp(t,r.document),a=r.readTime?Dr(r.readTime):Ne.min(),l=Jt.newNoDocument(s,a),h=r.removedTargetIds||[];n=new vh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Tp(t,r.document),a=r.removedTargetIds||[];n=new vh([],a,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new IN(s,a),h=r.targetId;n=new qI(h,l)}}return n}function VN(t,e){let n;if(e instanceof xu)n={update:W_(t,e.key,e.value)};else if(e instanceof ug)n={delete:sm(t,e.key)};else if(e instanceof ps)n={update:W_(t,e.key,e.data),updateMask:$N(e.fieldMask)};else{if(!(e instanceof wN))return Ae();n={verify:sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof Oh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof su)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ou)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Mh)return{fieldPath:l.field.canonicalString(),increment:h.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:bN(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(t,e.precondition)),n}function LN(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?Dr(s.updateTime):Dr(a);return l.isEqual(Ne.min())&&(l=Dr(a)),new yN(l,s.transformResults||[])}(n,e))):[]}function ON(t,e){return{documents:[YI(t,e.path)]}}function MN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YI(t,s);const a=function(p){if(p.length!==0)return ZI(Fr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:sa(E.field),direction:UN(E.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=rm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:s}}function jN(t){let e=NN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(w){const E=JI(w);return E instanceof Fr&&RI(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(w){return w.map(E=>function(P){return new Lh(oa(P.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(w){let E;return E=typeof w=="object"?w.value:w,ld(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(w){const E=!!w.before,x=w.values||[];return new Vh(x,E)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const E=!w.before,x=w.values||[];return new Vh(x,E)}(n.endAt)),rN(e,s,l,a,h,"F",d,p)}function FN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oa(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=oa(n.unaryFilter.field);return At.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=oa(n.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=oa(n.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return At.create(oa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>JI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function UN(t){return PN[t]}function BN(t){return AN[t]}function zN(t){return RN[t]}function sa(t){return{fieldPath:t.canonicalString()}}function oa(t){return zt.fromServerFormat(t.fieldPath)}function ZI(t){return t instanceof At?function(n){if(n.op==="=="){if(N_(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NAN"}};if(b_(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N_(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NAN"}};if(b_(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(n.field),op:BN(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(s=>ZI(s));return r.length===1?r[0]:{compositeFilter:{op:zN(n.op),filters:r}}}(t):Ae()}function $N(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function e1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r,s,a=Ne.min(),l=Ne.min(),h=$t.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.Tt=e}}function WN(t){const e=jN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.Tn=new KN}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(ss.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class KN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new kt(lt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new kt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t1=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(t1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ia(0)}static Kn(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="LruGarbageCollector",GN=1048576;function G_([t,e],[n,r]){const s=Me(t,n);return s===0?Me(e,r):s}class QN{constructor(e){this.Hn=e,this.buffer=new kt(G_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();G_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(K_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oa(n)?he(K_,"Ignoring IndexedDB error during garbage collection: ",n):await La(n)}await this.er(3e5)})}}class XN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(ad.ae);const r=new QN(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(q_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,l,h,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,l=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,h=Date.now(),this.removeTargets(e,r,n))).next(w=>(a=w,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),ra()<=Fe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${a} targets in `+(d-h)+`ms
	Removed ${w} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function JN(t,e){return new XN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ql(r.mutation,s,Rn.empty(),Rt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Ol();return a.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,s){let a=di();const l=Wl(),h=function(){return Wl()}();return n.forEach((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof ps)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),ql(g.mutation,p,g.mutation.getFieldMask(),Rt.now())):l.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var w;return h.set(p,new eD(g,(w=l.get(p))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Wl();let s=new ft((l,h)=>l-h),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||Rn.empty();g=h.applyToLocalView(p,g),r.set(d,g);const w=(s.get(h.batchId)||Ue()).add(d);s=s.insert(h.batchId,w)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,w=MI();g.forEach(E=>{if(!a.has(E)){const x=$I(n.get(E),r.get(E));x!==null&&w.set(E,x),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):Z.resolve(Gs());let h=tu,d=a;return l.next(p=>Z.forEach(p,(g,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{d=d.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Ue())).next(g=>({batchId:h,changes:OI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let s=Ol();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Ol();return this.indexManager.getCollectionParents(e,a).next(h=>Z.forEach(h,d=>{const p=function(w,E){return new cd(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((w,E)=>{l=l.insert(w,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Jt.newInvalidDocument(g)))});let h=Ol();return l.forEach((d,p)=>{const g=a.get(d);g!==void 0&&ql(g.mutation,p,Rn.empty(),Rt.now()),dd(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Dr(s.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:WN(s.bundledQuery),readTime:Dr(s.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.overlays=new ft(xe.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gs();return Z.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const s=Gs(),a=n.length+1,l=new xe(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ft((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Gs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Gs(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return Z.resolve(h)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new EN(n,r));let a=this.Rr.get(n);a===void 0&&(a=Ue(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Vr=new kt(Lt.mr),this.gr=new kt(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Lt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new xe(new lt([])),r=new Lt(n,e),s=new Lt(n,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new xe(new lt([])),r=new Lt(n,e),s=new Lt(n,e+1);let a=Ue();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Lt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return xe.comparator(e.key,n.key)||Me(e.Cr,n.Cr)}static pr(e,n){return Me(e.Cr,n.Cr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new kt(Lt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new TN(a,n,r,s);this.mutationQueue.push(l);for(const h of s)this.Mr=this.Mr.add(new Lt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ng:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const h=this.Or(l.Cr);a.push(h)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Me);return n.forEach(s=>{const a=new Lt(s,0),l=new Lt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],h=>{r=r.add(h.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const l=new Lt(new xe(a),0);let h=new kt(Me);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.Cr)),!0)},l),Z.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ye(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(n.mutations,s=>{const a=new Lt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Lt(n,0),s=this.Mr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.kr=e,this.docs=function(){return new ft(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=di();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Jt.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=di();const l=n.path,h=new xe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||L2(V2(g),r)<=0||(s.has(g.key)||dd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ae()}qr(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aD(this)}getSize(e){return Z.resolve(this.size)}}class aD extends ZN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.persistence=e,this.Qr=new ho(n=>sg(n),og),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Ur=new fg,this.targetCount=0,this.Kr=Ia.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ia(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ad(0),this.zr=!1,this.zr=!0,this.jr=new iD,this.referenceDelegate=e(this),this.Hr=new lD(this),this.indexManager=new qN,this.remoteDocumentCache=function(s){return new oD(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new HN(n),this.Yr=new nD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new sD(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new uD(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class uD extends M2{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.ti=new fg,this.ni=null}static ri(e){return new pg(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const s=xe.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,Ne.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.oi=new ho(r=>U2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=JN(this,n)}static ri(e,n){return new Fh(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?Z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,n).next(h=>{h||(r++,a.removeEntry(l,Ne.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}ar(e,n,r){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Ue(),s=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new mg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return HA()?8:j2(en())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new cD;return this._s(e,n,l).next(h=>{if(a.result=h,this.Xi)return this.us(e,n,l,h.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(ra()<=Fe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(ra()<=Fe.DEBUG&&he("QueryEngine","Query:",ia(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(ra()<=Fe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):Z.resolve())}rs(e,n){if(O_(n))return Z.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=nm(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ue(...a);return this.ns.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(n,h);return this.ls(n,p,l,d.readTime)?this.rs(e,nm(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,r,s){return O_(n)||s.isEqual(Ne.min())?Z.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,s)?Z.resolve(null):(ra()<=Fe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ia(n)),this.hs(e,l,n,D2(s,tu)).next(h=>h))})}cs(e,n){let r=new kt(VI(e));return n.forEach((s,a)=>{dd(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return ra()<=Fe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ia(n)),this.ns.getDocumentsMatchingQuery(e,n,ss.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",dD=3e8;class fD{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ft(Me),this.Is=new ho(a=>sg(a),og),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function pD(t,e,n,r){return new fD(t,e,n,r)}async function r1(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let d=Ue();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:h}))})})}function mD(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,p,g){const w=p.batch,E=w.keys();let x=Z.resolve();return E.forEach(P=>{x=x.next(()=>g.getEntry(d,P)).next(D=>{const R=p.docVersions.get(P);Ye(R!==null),D.version.compareTo(R)<0&&(w.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),g.addEntry(D)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(d,w))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Ue();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function i1(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function gD(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const h=[];e.targetChanges.forEach((g,w)=>{const E=s.get(w);if(!E)return;h.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,w)));let x=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken($t.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),s=s.insert(w,x),function(D,R,b){return D.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=dD?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(E,x,g)&&h.push(n.Hr.updateTargetData(a,x))});let d=di(),p=Ue();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(yD(a,l,e.documentUpdates).next(g=>{d=g.Vs,p=g.fs})),!r.isEqual(Ne.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(w=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return Z.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.Ts=s,a))}function yD(t,e,n){let r=Ue(),s=Ue();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=di();return n.forEach((h,d)=>{const p=a.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Ne.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):he(gg,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Vs:l,fs:s}})}function vD(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _D(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,Z.resolve(s)):n.Hr.allocateTargetId(r).next(l=>(s=new Xi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function am(t,e,n){const r=Ve(t),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Oa(l))throw l;he(gg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function Q_(t,e,n){const r=Ve(t);let s=Ne.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,g){const w=Ve(d),E=w.Is.get(g);return E!==void 0?Z.resolve(w.Ts.get(E)):w.Hr.getTargetData(p,g)}(r,l,Nr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,h.targetId).next(d=>{a=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?s:Ne.min(),n?a:Ue())).next(h=>(wD(r,oN(e),h),{documents:h,gs:a})))}function wD(t,e,n){let r=t.Es.get(e)||Ne.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class Y_{constructor(){this.activeTargetIds=dN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TD{constructor(){this.ho=new Y_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Y_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="ConnectivityMonitor";class J_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(X_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(X_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function lm(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="RestConnection",ID={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Nh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,a){const l=lm(),h=this.bo(e,n.toUriEncodedString());he(Ep,`Sending RPC '${e}' ${l}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,h,d,r).then(p=>(he(Ep,`Received RPC '${e}' ${l}: `,p),p),p=>{throw _a(Ep,`RPC '${e}' ${l} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,n,r,s,a,l){return this.So(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,n){const r=ID[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class CD extends SD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=lm();return new Promise((l,h)=>{const d=new uI;d.setWithCredentials(!0),d.listenOnce(cI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ph.NO_ERROR:const g=d.getResponseJson();he(Qt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case ph.TIMEOUT:he(Qt,`RPC '${e}' ${a} timed out`),h(new Te(se.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const w=d.getStatus();if(he(Qt,`RPC '${e}' ${a} failed with status:`,w,"response text:",d.getResponseText()),w>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const P=function(R){const b=R.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(b)>=0?b:se.UNKNOWN}(x.status);h(new Te(P,x.message))}else h(new Te(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Te(se.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{he(Qt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);he(Qt,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",p,r,15)})}Wo(e,n,r){const s=lm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=fI(),h=dI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");he(Qt,`Creating RPC '${e}' stream ${s}: ${g}`,d);const w=l.createWebChannel(g,d);let E=!1,x=!1;const P=new xD({Fo:R=>{x?he(Qt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(E||(he(Qt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),he(Qt,`RPC '${e}' stream ${s} sending:`,R),w.send(R))},Mo:()=>w.close()}),D=(R,b,U)=>{R.listen(b,F=>{try{U(F)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(w,Ll.EventType.OPEN,()=>{x||(he(Qt,`RPC '${e}' stream ${s} transport opened.`),P.Qo())}),D(w,Ll.EventType.CLOSE,()=>{x||(x=!0,he(Qt,`RPC '${e}' stream ${s} transport closed`),P.Uo())}),D(w,Ll.EventType.ERROR,R=>{x||(x=!0,_a(Qt,`RPC '${e}' stream ${s} transport errored:`,R),P.Uo(new Te(se.UNAVAILABLE,"The operation could not be completed")))}),D(w,Ll.EventType.MESSAGE,R=>{var b;if(!x){const U=R.data[0];Ye(!!U);const F=U,Q=(F==null?void 0:F.error)||((b=F[0])===null||b===void 0?void 0:b.error);if(Q){he(Qt,`RPC '${e}' stream ${s} received error:`,Q);const X=Q.status;let ee=function(A){const O=St[A];if(O!==void 0)return WI(O)}(X),k=Q.message;ee===void 0&&(ee=se.INTERNAL,k="Unknown error status: "+X+" with message "+Q.message),x=!0,P.Uo(new Te(ee,k)),w.close()}else he(Qt,`RPC '${e}' stream ${s} received:`,U),P.Ko(U)}}),D(h,hI.STAT_EVENT,R=>{R.stat===Yp.PROXY?he(Qt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===Yp.NOPROXY&&he(Qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return new kN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="PersistentStream";class o1{constructor(e,n,r,s,a,l,h,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new s1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new Te(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(Z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PD extends o1{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=DN(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ne.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?Dr(l.readTime):Ne.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=om(this.serializer),n.addTarget=function(a,l){let h;const d=l.target;if(h=tm(d)?{documents:ON(a,d)}:{query:MN(a,d).ht},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=GI(a,l.resumeToken);const p=rm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ne.min())>0){h.readTime=jh(a,l.snapshotVersion.toTimestamp());const p=rm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=FN(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=om(this.serializer),n.removeTarget=e,this.I_(n)}}class AD extends o1{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=LN(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=om(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VN(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{}class kD extends RD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Te(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,im(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(se.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Co(e,im(n,r),s,l,h,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(se.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hi(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class ND{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{fo(this)&&(he(io,"Restarting streams for network reachability change."),await async function(d){const p=Ve(d);p.W_.add(4),await Pu(p),p.j_.set("Unknown"),p.W_.delete(4),await yd(p)}(this))})}),this.j_=new bD(r,s)}}async function yd(t){if(fo(t))for(const e of t.G_)await e(!0)}async function Pu(t){for(const e of t.G_)await e(!1)}function a1(t,e){const n=Ve(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),wg(n)?_g(n):Ma(n).c_()&&vg(n,e))}function yg(t,e){const n=Ve(t),r=Ma(n);n.K_.delete(e),r.c_()&&l1(n,e),n.K_.size===0&&(r.c_()?r.P_():fo(n)&&n.j_.set("Unknown"))}function vg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ma(t).y_(e)}function l1(t,e){t.H_.Ne(e),Ma(t).w_(e)}function _g(t){t.H_=new CN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ma(t).start(),t.j_.B_()}function wg(t){return fo(t)&&!Ma(t).u_()&&t.K_.size>0}function fo(t){return Ve(t).W_.size===0}function u1(t){t.H_=void 0}async function DD(t){t.j_.set("Online")}async function VD(t){t.K_.forEach((e,n)=>{vg(t,e)})}async function LD(t,e){u1(t),wg(t)?(t.j_.q_(e),_g(t)):t.j_.set("Unknown")}async function OD(t,e,n){if(t.j_.set("Online"),e instanceof KI&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const h of a.targetIds)s.K_.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.K_.delete(h),s.H_.removeTarget(h))}(t,e)}catch(r){he(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uh(t,r)}else if(e instanceof vh?t.H_.We(e):e instanceof qI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ne.min()))try{const r=await i1(t.localStore);n.compareTo(r)>=0&&await function(a,l){const h=a.H_.ot(l);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.K_.get(p);g&&a.K_.set(p,g.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,p)=>{const g=a.K_.get(d);if(!g)return;a.K_.set(d,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),l1(a,d);const w=new Xi(g.target,d,p,g.sequenceNumber);vg(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){he(io,"Failed to raise snapshot:",r),await Uh(t,r)}}async function Uh(t,e,n){if(!Oa(e))throw e;t.W_.add(1),await Pu(t),t.j_.set("Offline"),n||(n=()=>i1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(io,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await yd(t)})}function c1(t,e){return e().catch(n=>Uh(t,n,e))}async function vd(t){const e=Ve(t),n=us(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:ng;for(;MD(e);)try{const s=await vD(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,jD(e,s)}catch(s){await Uh(e,s)}h1(e)&&d1(e)}function MD(t){return fo(t)&&t.U_.length<10}function jD(t,e){t.U_.push(e);const n=us(t);n.c_()&&n.S_&&n.b_(e.mutations)}function h1(t){return fo(t)&&!us(t).u_()&&t.U_.length>0}function d1(t){us(t).start()}async function FD(t){us(t).C_()}async function UD(t){const e=us(t);for(const n of t.U_)e.b_(n.mutations)}async function BD(t,e,n){const r=t.U_.shift(),s=cg.from(r,e,n);await c1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vd(t)}async function zD(t,e){e&&us(t).S_&&await async function(r,s){if(function(l){return SN(l)&&l!==se.ABORTED}(s.code)){const a=r.U_.shift();us(r).h_(),await c1(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await vd(r)}}(t,e),h1(t)&&d1(t)}async function ew(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),he(io,"RemoteStore received new credentials");const r=fo(n);n.W_.add(3),await Pu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await yd(n)}async function $D(t,e){const n=Ve(t);e?(n.W_.delete(2),await yd(n)):e||(n.W_.add(2),await Pu(n),n.j_.set("Unknown"))}function Ma(t){return t.J_||(t.J_=function(n,r,s){const a=Ve(n);return a.M_(),new PD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:DD.bind(null,t),No:VD.bind(null,t),Lo:LD.bind(null,t),p_:OD.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),wg(t)?_g(t):t.j_.set("Unknown")):(await t.J_.stop(),u1(t))})),t.J_}function us(t){return t.Y_||(t.Y_=function(n,r,s){const a=Ve(n);return a.M_(),new AD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:FD.bind(null,t),Lo:zD.bind(null,t),D_:UD.bind(null,t),v_:BD.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await vd(t)):(await t.Y_.stop(),t.U_.length>0&&(he(io,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,h=new Tg(e,n,l,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Oa(t))return new Te(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static emptySet(e){return new ga(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Ol(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Z_=new ft(xe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sa{constructor(e,n,r,s,a,l,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Sa(e,n,ga.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class WD{constructor(){this.queries=nw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=Ve(n),a=s.queries;s.queries=nw(),a.forEach((l,h)=>{for(const d of h.ta)d.onError(r)})})(this,new Te(se.ABORTED,"Firestore shutting down"))}}function nw(){return new ho(t=>DI(t),hd)}async function qD(t,e){const n=Ve(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new HD,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const h=Eg(l,`Initialization of query '${ia(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&Ig(n)}async function KD(t,e){const n=Ve(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GD(t,e){const n=Ve(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const h of l.ta)h.oa(s)&&(r=!0);l.ea=s}}r&&Ig(n)}function QD(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function Ig(t){t.ia.forEach(e=>{e.next()})}var um,rw;(rw=um||(um={}))._a="default",rw.Cache="cache";class YD{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.key=e}}class p1{constructor(e){this.key=e}}class XD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=VI(e),this.wa=new ga(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new tw,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,w)=>{const E=s.get(g),x=dd(this.query,w)?w:null,P=!!E&&this.mutatedKeys.has(E.key),D=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;E&&x?E.data.isEqual(x.data)?P!==D&&(r.track({type:3,doc:x}),R=!0):this.va(E,x)||(r.track({type:2,doc:x}),R=!0,(d&&this.ya(x,d)>0||p&&this.ya(x,p)<0)&&(h=!0)):!E&&x?(r.track({type:0,doc:x}),R=!0):E&&!x&&(r.track({type:1,doc:E}),R=!0,(d||p)&&(h=!0)),R&&(x?(l=l.add(x),a=D?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:h,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,w)=>function(x,P){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return D(x)-D(P)}(g.type,w.type)||this.ya(g.doc,w.doc)),this.Ca(r),s=s!=null&&s;const h=n&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,p=d!==this.ga;return this.ga=d,l.length!==0||p?{snapshot:new Sa(this.query,e.wa,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new p1(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new f1(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ue();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Sa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Sg="SyncEngine";class JD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZD{constructor(e){this.key=e,this.Ba=!1}}class eV{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ho(h=>DI(h),hd),this.qa=new Map,this.Qa=new Set,this.$a=new ft(xe.comparator),this.Ua=new Map,this.Ka=new fg,this.Wa={},this.Ga=new Map,this.za=Ia.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tV(t,e,n=!0){const r=w1(t);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await m1(r,e,n,!0),s}async function nV(t,e){const n=w1(t);await m1(n,e,!0,!1)}async function m1(t,e,n,r){const s=await _D(t.localStore,Nr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await rV(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&a1(t.remoteStore,s),h}async function rV(t,e,n,r,s){t.Ha=(w,E,x)=>async function(D,R,b,U){let F=R.view.ba(b);F.ls&&(F=await Q_(D.localStore,R.query,!1).then(({documents:k})=>R.view.ba(k,F)));const Q=U&&U.targetChanges.get(R.targetId),X=U&&U.targetMismatches.get(R.targetId)!=null,ee=R.view.applyChanges(F,D.isPrimaryClient,Q,X);return sw(D,R.targetId,ee.Ma),ee.snapshot}(t,w,E,x);const a=await Q_(t.localStore,e,!0),l=new XD(e,a.gs),h=l.ba(a.documents),d=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(h,t.isPrimaryClient,d);sw(t,n,p.Ma);const g=new JD(e,n,l);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function iV(t,e,n){const r=Ve(t),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!hd(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await am(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&yg(r.remoteStore,s.targetId),cm(r,s.targetId)}).catch(La)):(cm(r,s.targetId),await am(r.localStore,s.targetId,!0))}async function sV(t,e){const n=Ve(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yg(n.remoteStore,r.targetId))}async function oV(t,e,n){const r=fV(t);try{const s=await function(l,h){const d=Ve(l),p=Rt.now(),g=h.reduce((x,P)=>x.add(P.key),Ue());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=di(),D=Ue();return d.ds.getEntries(x,g).next(R=>{P=R,P.forEach((b,U)=>{U.isValidDocument()||(D=D.add(b))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,P)).next(R=>{w=R;const b=[];for(const U of h){const F=_N(U,w.get(U.key).overlayedDocument);F!=null&&b.push(new ps(U.key,F,CI(F.value.mapValue),dr.exists(!0)))}return d.mutationQueue.addMutationBatch(x,p,b,h)}).next(R=>{E=R;const b=R.applyToLocalDocumentSet(w,D);return d.documentOverlayCache.saveOverlays(x,R.batchId,b)})}).then(()=>({batchId:E.batchId,changes:OI(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,h,d){let p=l.Wa[l.currentUser.toKey()];p||(p=new ft(Me)),p=p.insert(h,d),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,n),await Au(r,s.changes),await vd(r.remoteStore)}catch(s){const a=Eg(s,"Failed to persist write");n.reject(a)}}async function g1(t,e){const n=Ve(t);try{const r=await gD(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Ua.get(a);l&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Ye(l.Ba):s.removedDocuments.size>0&&(Ye(l.Ba),l.Ba=!1))}),await Au(n,r,e)}catch(r){await La(r)}}function iw(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,l)=>{const h=l.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const d=Ve(l);d.onlineState=h;let p=!1;d.queries.forEach((g,w)=>{for(const E of w.ta)E.sa(h)&&(p=!0)}),p&&Ig(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aV(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),a=s&&s.key;if(a){let l=new ft(xe.comparator);l=l.insert(a,Jt.newNoDocument(a,Ne.min()));const h=Ue().add(a),d=new md(Ne.min(),new Map,new ft(Me),l,h);await g1(r,d),r.$a=r.$a.remove(a),r.Ua.delete(e),xg(r)}else await am(r.localStore,e,!1).then(()=>cm(r,e,n)).catch(La)}async function lV(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await mD(n.localStore,e);v1(n,r,null),y1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Au(n,s)}catch(s){await La(s)}}async function uV(t,e,n){const r=Ve(t);try{const s=await function(l,h){const d=Ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,h).next(w=>(Ye(w!==null),g=w.keys(),d.mutationQueue.removeMutationBatch(p,w))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(r.localStore,e);v1(r,e,n),y1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Au(r,s)}catch(s){await La(s)}}function y1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function v1(t,e,n){const r=Ve(t);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||_1(t,r)})}function _1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(yg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),xg(t))}function sw(t,e,n){for(const r of n)r instanceof f1?(t.Ka.addReference(r.key,e),cV(t,r)):r instanceof p1?(he(Sg,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||_1(t,r.key)):Ae()}function cV(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(he(Sg,"New document in limbo: "+n),t.Qa.add(r),xg(t))}function xg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new xe(lt.fromString(e)),r=t.za.next();t.Ua.set(r,new ZD(n)),t.$a=t.$a.insert(n,r),a1(t.remoteStore,new Xi(Nr(ag(n.path)),r,"TargetPurposeLimboResolution",ad.ae))}}async function Au(t,e,n){const r=Ve(t),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{l.push(r.Ha(d,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const w=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(p){s.push(p);const w=mg.Yi(d.targetId,p);a.push(w)}}))}),await Promise.all(l),r.La.p_(s),await async function(d,p){const g=Ve(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(p,E=>Z.forEach(E.Hi,x=>g.persistence.referenceDelegate.addReference(w,E.targetId,x)).next(()=>Z.forEach(E.Ji,x=>g.persistence.referenceDelegate.removeReference(w,E.targetId,x)))))}catch(w){if(!Oa(w))throw w;he(gg,"Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const x=g.Ts.get(E),P=x.snapshotVersion,D=x.withLastLimboFreeSnapshotVersion(P);g.Ts=g.Ts.insert(E,D)}}}(r.localStore,a))}async function hV(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){he(Sg,"User change. New user:",e.toKey());const r=await r1(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(h=>{h.forEach(d=>{d.reject(new Te(se.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(n,r.Rs)}}function dV(t,e){const n=Ve(t),r=n.Ua.get(e);if(r&&r.Ba)return Ue().add(r.key);{let s=Ue();const a=n.qa.get(e);if(!a)return s;for(const l of a){const h=n.ka.get(l);s=s.unionWith(h.view.Sa)}return s}}function w1(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=g1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aV.bind(null,e),e.La.p_=GD.bind(null,e.eventManager),e.La.Ja=QD.bind(null,e.eventManager),e}function fV(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uV.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return pD(this.persistence,new hD,e.initialUser,this.serializer)}Xa(e){return new n1(pg.ri,this.serializer)}Za(e){return new TD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class pV extends Bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ye(this.persistence.referenceDelegate instanceof Fh);const r=this.persistence.referenceDelegate.garbageCollector;return new YN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new n1(r=>Fh.ri(r,n),this.serializer)}}class hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hV.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WD}()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),r=function(a){return new CD(a)}(e.databaseInfo);return function(a,l,h,d){return new kD(a,l,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,h){return new ND(r,s,a,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>iw(this.syncEngine,n,0),function(){return J_.D()?new J_:new ED}())}createSyncEngine(e,n){return function(s,a,l,h,d,p,g){const w=new eV(s,a,l,h,d,p);return g&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Ve(s);he(io,"RemoteStore shutting down."),a.W_.add(5),await Pu(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hm.provider={build:()=>new hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="FirestoreClient";class gV{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Xt.UNAUTHENTICATED,this.clientId=gI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(cs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(cs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Eg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sp(t,e){t.asyncQueue.verifyOperationInProgress(),he(cs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await r1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ow(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yV(t);he(cs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ew(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ew(e.remoteStore,s)),t._onlineComponents=e}async function yV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(cs,"Using user provided OfflineComponentProvider");try{await Sp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await Sp(t,new Bh)}}else he(cs,"Using default OfflineComponentProvider"),await Sp(t,new pV(void 0));return t._offlineComponents}async function T1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(cs,"Using user provided OnlineComponentProvider"),await ow(t,t._uninitializedComponentsProvider._online)):(he(cs,"Using default OnlineComponentProvider"),await ow(t,new hm))),t._onlineComponents}function vV(t){return T1(t).then(e=>e.syncEngine)}async function aw(t){const e=await T1(t),n=e.eventManager;return n.onListen=tV.bind(null,e.syncEngine),n.onUnlisten=iV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sV.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t,e,n){if(!n)throw new Te(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _V(t,e,n,r){if(e===!0&&r===!0)throw new Te(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uw(t){if(!xe.isDocumentKey(t))throw new Te(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cw(t){if(xe.isDocumentKey(t))throw new Te(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cg(t);throw new Te(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firestore.googleapis.com",hw=!0;class dw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S1,this.ssl=hw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GN)throw new Te(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_V("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S2;switch(r.type){case"firstParty":return new A2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lw.get(n);r&&(he("ComponentProvider","Removing Datastore"),lw.delete(n),r.terminate())}(this),Promise.resolve()}}function wV(t,e,n,r={}){var s;const a=(t=ns(t,_d))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a.host!==S1&&a.host!==h&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:r});if(!to(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Xt.MOCK_USER;else{p=jA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Te(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Xt(w)}t._authCredentials=new x2(new pI(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wd(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class rs extends wd{constructor(e,n,r){super(e,n,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new xe(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function dm(t,e,...n){if(t=wt(t),I1("collection","path",e),t instanceof _d){const r=lt.fromString(e,...n);return cw(r),new rs(t,null,r)}{if(!(t instanceof kn||t instanceof rs))throw new Te(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return cw(r),new rs(t.firestore,null,r)}}function fm(t,e,...n){if(t=wt(t),arguments.length===1&&(e=gI.newId()),I1("doc","path",e),t instanceof _d){const r=lt.fromString(e,...n);return uw(r),new kn(t,null,new xe(r))}{if(!(t instanceof kn||t instanceof rs))throw new Te(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return uw(r),new kn(t.firestore,t instanceof rs?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="AsyncQueue";class pw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new s1(this,"async_queue_retry"),this.Su=()=>{const r=Ip();r&&he(fw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Js;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Oa(e))throw e;he(fw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(r);throw hi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Tg.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function mw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class xa extends _d{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new pw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pw(e),this._firestoreClient=void 0,await e}}}function TV(t,e){const n=typeof t=="object"?t:IE(),r=typeof t=="string"?t:Nh,s=Tu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=OA("firestore");a&&wV(s,...a)}return s}function x1(t){if(t._terminated)throw new Te(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EV(t),t._firestoreClient}function EV(t){var e,n,r;const s=t._freezeSettings(),a=function(h,d,p,g){return new $2(h,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,E1(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new gV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ca($t.fromBase64String(e))}catch(n){throw new Te(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ca($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=/^__.*__$/;class SV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class C1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function P1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class kg{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return zh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(P1(this.Lu)&&IV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gd(e)}ju(e,n,r,s=!1){return new kg({Lu:e,methodName:n,zu:r,path:zt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A1(t){const e=t._freezeSettings(),n=gd(t._databaseId);return new xV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CV(t,e,n,r,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,s);bg("Data must be an object, but it was:",l,r);const h=R1(r,l);let d,p;if(a.merge)d=new Rn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const E=pm(e,w,n);if(!l.contains(E))throw new Te(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);b1(g,E)||g.push(E)}d=new Rn(g),p=l.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,p=l.fieldTransforms;return new SV(new _n(h),d,p)}class Ed extends Pg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function PV(t,e,n,r){const s=t.ju(1,e,n);bg("Data must be an object, but it was:",s,r);const a=[],l=_n.empty();fs(r,(d,p)=>{const g=Ng(e,d,n);p=wt(p);const w=s.Uu(g);if(p instanceof Ed)a.push(g);else{const E=Id(p,w);E!=null&&(a.push(g),l.set(g,E))}});const h=new Rn(a);return new C1(l,h,s.fieldTransforms)}function AV(t,e,n,r,s,a){const l=t.ju(1,e,n),h=[pm(e,r,n)],d=[s];if(a.length%2!=0)throw new Te(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(pm(e,a[E])),d.push(a[E+1]);const p=[],g=_n.empty();for(let E=h.length-1;E>=0;--E)if(!b1(p,h[E])){const x=h[E];let P=d[E];P=wt(P);const D=l.Uu(x);if(P instanceof Ed)p.push(x);else{const R=Id(P,D);R!=null&&(p.push(x),g.set(x,R))}}const w=new Rn(p);return new C1(g,w,l.fieldTransforms)}function Id(t,e){if(k1(t=wt(t)))return bg("Unsupported field value:",e,t),R1(t,e);if(t instanceof Pg)return function(r,s){if(!P1(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const h of r){let d=Id(h,s.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Rt.fromDate(r);return{timestampValue:jh(s.serializer,a)}}if(r instanceof Rt){const a=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jh(s.serializer,a)}}if(r instanceof Ag)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ca)return{bytesValue:GI(s.serializer,r._byteString)};if(r instanceof kn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rg)return function(l,h){return{mapValue:{fields:{[SI]:{stringValue:xI},[Dh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return lg(h.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Cg(r)}`)}(t,e)}function R1(t,e){const n={};return vI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,(r,s)=>{const a=Id(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function k1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Ag||t instanceof Ca||t instanceof kn||t instanceof Pg||t instanceof Rg)}function bg(t,e,n){if(!k1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Cg(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function pm(t,e,n){if((e=wt(e))instanceof Td)return e._internalPath;if(typeof e=="string")return Ng(t,e);throw zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const RV=new RegExp("[~\\*/\\[\\]]");function Ng(t,e,n){if(e.search(RV)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Td(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new Te(se.INVALID_ARGUMENT,h+t+d)}function b1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kV extends N1{data(){return super.data()}}function D1(t,e){return typeof e=="string"?Ng(t,e):e instanceof Td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NV{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fs(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Dh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>_t(l.doubleValue));return new Rg(a)}convertGeoPoint(e){return new Ag(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ud(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=os(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Ye(e1(r));const s=new ru(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return s.isEqual(n)||hi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class V1 extends N1{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _h extends V1{data(e={}){return super.data(e)}}class VV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _h(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const d=new _h(s._firestore,s._userDataWriter,h.doc.key,h.doc,new jl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const d=new _h(s._firestore,s._userDataWriter,h.doc.key,h.doc,new jl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:LV(h.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class L1 extends NV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function OV(t,e,n,...r){t=ns(t,kn);const s=ns(t.firestore,xa),a=A1(s);let l;return l=typeof(e=wt(e))=="string"||e instanceof Td?AV(a,"updateDoc",t._key,e,n,r):PV(a,"updateDoc",t._key,e),Dg(s,[l.toMutation(t._key,dr.exists(!0))])}function MV(t){return Dg(ns(t.firestore,xa),[new ug(t._key,dr.none())])}function jV(t,e){const n=ns(t.firestore,xa),r=fm(t),s=DV(t.converter,e);return Dg(n,[CV(A1(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function O1(t,...e){var n,r,s;t=wt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||mw(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(mw(e[l])){const w=e[l];e[l]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[l+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[l+2]=(s=w.complete)===null||s===void 0?void 0:s.bind(w)}let d,p,g;if(t instanceof kn)p=ns(t.firestore,xa),g=ag(t._key.path),d={next:w=>{e[l]&&e[l](FV(p,t,w))},error:e[l+1],complete:e[l+2]};else{const w=ns(t,wd);p=ns(w.firestore,xa),g=w._query;const E=new L1(p);d={next:x=>{e[l]&&e[l](new VV(p,E,w,x))},error:e[l+1],complete:e[l+2]},bV(t._query)}return function(E,x,P,D){const R=new mV(D),b=new YD(x,R,P);return E.asyncQueue.enqueueAndForget(async()=>qD(await aw(E),b)),()=>{R.su(),E.asyncQueue.enqueueAndForget(async()=>KD(await aw(E),b))}}(x1(p),g,h,d)}function Dg(t,e){return function(r,s){const a=new Js;return r.asyncQueue.enqueueAndForget(async()=>oV(await vV(r),s,a)),a.promise}(x1(t),e)}function FV(t,e,n){const r=n.docs.get(e._key),s=new L1(t);return new V1(t,s,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Va=s})(Na),Mr(new fr("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new xa(new C2(r.getProvider("auth-internal")),new R2(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Te(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Wn(__,w_,e),Wn(__,w_,"esm2017")})();var UV="firebase",BV="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(UV,BV,"app");const M1="@firebase/installations",Vg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=1e4,F1=`w:${Vg}`,U1="FIS_v2",zV="https://firebaseinstallations.googleapis.com/v1",$V=60*60*1e3,HV="installations",WV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},so=new uo(HV,WV,qV);function B1(t){return t instanceof mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1({projectId:t}){return`${zV}/projects/${t}/installations`}function $1(t){return{token:t.token,requestStatus:2,expiresIn:GV(t.expiresIn),creationTime:Date.now()}}async function H1(t,e){const r=(await e.json()).error;return so.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function W1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function KV(t,{refreshToken:e}){const n=W1(t);return n.append("Authorization",QV(e)),n}async function q1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function GV(t){return Number(t.replace("s","000"))}function QV(t){return`${U1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=z1(t),s=W1(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:U1,appId:t.appId,sdkVersion:F1},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await q1(()=>fetch(r,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:$1(p.authToken)}}else throw await H1("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=/^[cdef][\w-]{21}$/,mm="";function ZV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=eL(t);return JV.test(n)?n:mm}catch{return mm}}function eL(t){return XV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map;function Q1(t,e){const n=Sd(t);Y1(n,e),tL(n,e)}function Y1(t,e){const n=G1.get(t);if(n)for(const r of n)r(e)}function tL(t,e){const n=nL();n&&n.postMessage({key:t,fid:e}),rL()}let Qs=null;function nL(){return!Qs&&"BroadcastChannel"in self&&(Qs=new BroadcastChannel("[Firebase] FID Change"),Qs.onmessage=t=>{Y1(t.data.key,t.data.fid)}),Qs}function rL(){G1.size===0&&Qs&&(Qs.close(),Qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="firebase-installations-database",sL=1,oo="firebase-installations-store";let xp=null;function Lg(){return xp||(xp=TE(iL,sL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oo)}}})),xp}async function $h(t,e){const n=Sd(t),s=(await Lg()).transaction(oo,"readwrite"),a=s.objectStore(oo),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&Q1(t,e.fid),e}async function X1(t){const e=Sd(t),r=(await Lg()).transaction(oo,"readwrite");await r.objectStore(oo).delete(e),await r.done}async function xd(t,e){const n=Sd(t),s=(await Lg()).transaction(oo,"readwrite"),a=s.objectStore(oo),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await s.done,h&&(!l||l.fid!==h.fid)&&Q1(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Og(t){let e;const n=await xd(t.appConfig,r=>{const s=oL(r),a=aL(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===mm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function oL(t){const e=t||{fid:ZV(),registrationStatus:0};return J1(e)}function aL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(so.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=lL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uL(t)}:{installationEntry:e}}async function lL(t,e){try{const n=await YV(t,e);return $h(t.appConfig,n)}catch(n){throw B1(n)&&n.customData.serverCode===409?await X1(t.appConfig):await $h(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function uL(t){let e=await gw(t.appConfig);for(;e.registrationStatus===1;)await K1(100),e=await gw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Og(t);return r||n}return e}function gw(t){return xd(t,e=>{if(!e)throw so.create("installation-not-found");return J1(e)})}function J1(t){return cL(t)?{fid:t.fid,registrationStatus:0}:t}function cL(t){return t.registrationStatus===1&&t.registrationTime+j1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL({appConfig:t,heartbeatServiceProvider:e},n){const r=dL(t,n),s=KV(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:F1,appId:t.appId}},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await q1(()=>fetch(r,h));if(d.ok){const p=await d.json();return $1(p)}else throw await H1("Generate Auth Token",d)}function dL(t,{fid:e}){return`${z1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(t,e=!1){let n;const r=await xd(t.appConfig,a=>{if(!Z1(a))throw so.create("not-registered");const l=a.authToken;if(!e&&mL(l))return a;if(l.requestStatus===1)return n=fL(t,e),a;{if(!navigator.onLine)throw so.create("app-offline");const h=yL(a);return n=pL(t,h),h}});return n?await n:r.authToken}async function fL(t,e){let n=await yw(t.appConfig);for(;n.authToken.requestStatus===1;)await K1(100),n=await yw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Mg(t,e):r}function yw(t){return xd(t,e=>{if(!Z1(e))throw so.create("not-registered");const n=e.authToken;return vL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pL(t,e){try{const n=await hL(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await $h(t.appConfig,r),n}catch(n){if(B1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await X1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $h(t.appConfig,r)}throw n}}function Z1(t){return t!==void 0&&t.registrationStatus===2}function mL(t){return t.requestStatus===2&&!gL(t)}function gL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$V}function yL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function vL(t){return t.requestStatus===1&&t.requestTime+j1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t){const e=t,{installationEntry:n,registrationPromise:r}=await Og(e);return r?r.catch(console.error):Mg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e=!1){const n=t;return await TL(n),(await Mg(n,e)).token}async function TL(t){const{registrationPromise:e}=await Og(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){if(!t||!t.options)throw Cp("App Configuration");if(!t.name)throw Cp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cp(t){return so.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="installations",IL="installations-internal",SL=t=>{const e=t.getProvider("app").getImmediate(),n=EL(e),r=Tu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xL=t=>{const e=t.getProvider("app").getImmediate(),n=Tu(e,eS).getImmediate();return{getId:()=>_L(n),getToken:s=>wL(n,s)}};function CL(){Mr(new fr(eS,SL,"PUBLIC")),Mr(new fr(IL,xL,"PRIVATE"))}CL();Wn(M1,Vg);Wn(M1,Vg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="analytics",PL="firebase_id",AL="origin",RL=60*1e3,kL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new nd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qn=new uo("analytics","Analytics",bL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){if(!t.startsWith(jg)){const e=qn.create("invalid-gtag-resource",{gtagURL:t});return wn.warn(e.message),""}return t}function tS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function DL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function VL(t,e){const n=DL("firebase-js-sdk-policy",{createScriptURL:NL}),r=document.createElement("script"),s=`${jg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function LL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function OL(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await tS(n)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(h){wn.error(h)}t("config",s,a)}async function ML(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const h=await tS(n);for(const d of l){const p=h.find(w=>w.measurementId===d),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){wn.error(a)}}function jL(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[h,d]=l;await ML(t,e,n,h,d)}else if(a==="config"){const[h,d]=l;await OL(t,e,n,r,h,d)}else if(a==="consent"){const[h,d]=l;t("consent",h,d)}else if(a==="get"){const[h,d,p]=l;t("get",h,d,p)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){wn.error(h)}}return s}function FL(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=jL(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function UL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=30,zL=1e3;class $L{constructor(e={},n=zL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nS=new $L;function HL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function WL(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:HL(r)},a=kL.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let h="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function qL(t,e=nS,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw qn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw qn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new QL;return setTimeout(async()=>{h.abort()},RL),rS({appId:r,apiKey:s,measurementId:a},l,h,e)}async function rS(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=nS){var a;const{appId:l,measurementId:h}=t;try{await KL(r,e)}catch(d){if(h)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:h};throw d}try{const d=await WL(t);return s.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!GL(p)){if(s.deleteThrottleMetadata(l),h)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:h};throw d}const g=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?z0(n,s.intervalMillis,BL):z0(n,s.intervalMillis),w={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return s.setThrottleMetadata(l,w),wn.debug(`Calling attemptFetch again in ${g} millis`),rS(t,w,r,s)}}function KL(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GL(t){if(!(t instanceof mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class QL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function YL(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(){if(yE())try{await vE()}catch(t){return wn.warn(qn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return wn.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function JL(t,e,n,r,s,a,l){var h;const d=qL(t);d.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>wn.error(x)),e.push(d);const p=XL().then(x=>{if(x)return r.getId()}),[g,w]=await Promise.all([d,p]);UL(a)||VL(a,g.measurementId),s("js",new Date);const E=(h=l==null?void 0:l.config)!==null&&h!==void 0?h:{};return E[AL]="firebase",E.update=!0,w!=null&&(E[PL]=w),s("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.app=e}_delete(){return delete Kl[this.app.options.appId],Promise.resolve()}}let Kl={},_w=[];const ww={};let Pp="dataLayer",eO="gtag",Tw,iS,Ew=!1;function tO(){const t=[];if(gE()&&t.push("This is a browser extension environment."),WA()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=qn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function nO(t,e,n){tO();const r=t.options.appId;if(!r)throw qn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qn.create("no-api-key");if(Kl[r]!=null)throw qn.create("already-exists",{id:r});if(!Ew){LL(Pp);const{wrappedGtag:a,gtagCore:l}=FL(Kl,_w,ww,Pp,eO);iS=a,Tw=l,Ew=!0}return Kl[r]=JL(t,_w,ww,e,Tw,Pp,n),new ZL(t)}function rO(t,e,n,r){t=wt(t),YL(iS,Kl[t.app.options.appId],e,n,r).catch(s=>wn.error(s))}const Iw="@firebase/analytics",Sw="0.10.12";function iO(){Mr(new fr(vw,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return nO(r,s,n)},"PUBLIC")),Mr(new fr("analytics-internal",t,"PRIVATE")),Wn(Iw,Sw),Wn(Iw,Sw,"esm2017");function t(e){try{const n=e.getProvider(vw).getImmediate();return{logEvent:(r,s,a)=>rO(n,r,s,a)}}catch(n){throw qn.create("interop-component-reg-failed",{reason:n})}}}iO();function sS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=sS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Zs(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=sS(t))&&(r&&(r+=" "),r+=e);return r}function sO(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}sO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ru=t=>typeof t=="number"&&!isNaN(t),ao=t=>typeof t=="string",fi=t=>typeof t=="function",oO=t=>ao(t)||Ru(t),gm=t=>ao(t)||fi(t)?t:null,aO=(t,e)=>t===!1||Ru(t)&&t>0?t:e,ym=t=>L.isValidElement(t)||ao(t)||fi(t)||Ru(t);function lO(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function uO({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:h,done:d,nodeRef:p,isIn:g,playToast:w}){let E=n?`${t}--${l}`:t,x=n?`${e}--${l}`:e,P=L.useRef(0);return L.useLayoutEffect(()=>{let D=p.current,R=E.split(" "),b=U=>{U.target===p.current&&(w(),D.removeEventListener("animationend",b),D.removeEventListener("animationcancel",b),P.current===0&&U.type!=="animationcancel"&&D.classList.remove(...R))};D.classList.add(...R),D.addEventListener("animationend",b),D.addEventListener("animationcancel",b)},[]),L.useEffect(()=>{let D=p.current,R=()=>{D.removeEventListener("animationend",R),r?lO(D,d,s):d()};g||(h?R():(P.current=1,D.className+=` ${x}`,D.addEventListener("animationend",R)))},[g]),Ge.createElement(Ge.Fragment,null,a)}}function xw(t,e){return{content:oS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function oS(t,e,n=!1){return L.isValidElement(t)&&!ao(t.type)?L.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):fi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function cO({closeToast:t,theme:e,ariaLabel:n="close"}){return Ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function hO({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:a,controlledProgress:l,progress:h,rtl:d,isIn:p,theme:g}){let w=s||l&&h===0,E={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(E.transform=`scaleX(${h})`);let x=Zs("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),P=fi(a)?a({rtl:d,type:r,defaultClassName:x}):Zs(x,a),D={[l&&h>=1?"onTransitionEnd":"onAnimationEnd"]:l&&h<1?null:()=>{p&&n()}};return Ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),Ge.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:P,style:E,...D}))}var dO=1,aS=()=>`${dO++}`;function fO(t,e,n){let r=1,s=0,a=[],l=[],h=e,d=new Map,p=new Set,g=U=>(p.add(U),()=>p.delete(U)),w=()=>{l=Array.from(d.values()),p.forEach(U=>U())},E=({containerId:U,toastId:F,updateId:Q})=>{let X=U?U!==t:t!==1,ee=d.has(F)&&Q==null;return X||ee},x=(U,F)=>{d.forEach(Q=>{var X;(F==null||F===Q.props.toastId)&&((X=Q.toggle)==null||X.call(Q,U))})},P=U=>{var F,Q;(Q=(F=U.props)==null?void 0:F.onClose)==null||Q.call(F,U.removalReason),U.isActive=!1},D=U=>{if(U==null)d.forEach(P);else{let F=d.get(U);F&&P(F)}w()},R=()=>{s-=a.length,a=[]},b=U=>{var F,Q;let{toastId:X,updateId:ee}=U.props,k=ee==null;U.staleId&&d.delete(U.staleId),U.isActive=!0,d.set(X,U),w(),n(xw(U,k?"added":"updated")),k&&((Q=(F=U.props).onOpen)==null||Q.call(F))};return{id:t,props:h,observe:g,toggle:x,removeToast:D,toasts:d,clearQueue:R,buildToast:(U,F)=>{if(E(F))return;let{toastId:Q,updateId:X,data:ee,staleId:k,delay:S}=F,A=X==null;A&&s++;let O={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(F).filter(([z,V])=>V!=null)),toastId:Q,updateId:X,data:ee,isIn:!1,className:gm(F.className||h.toastClassName),progressClassName:gm(F.progressClassName||h.progressClassName),autoClose:F.isLoading?!1:aO(F.autoClose,h.autoClose),closeToast(z){d.get(Q).removalReason=z,D(Q)},deleteToast(){let z=d.get(Q);if(z!=null){if(n(xw(z,"removed")),d.delete(Q),s--,s<0&&(s=0),a.length>0){b(a.shift());return}w()}}};O.closeButton=h.closeButton,F.closeButton===!1||ym(F.closeButton)?O.closeButton=F.closeButton:F.closeButton===!0&&(O.closeButton=ym(h.closeButton)?h.closeButton:!0);let j={content:U,props:O,staleId:k};h.limit&&h.limit>0&&s>h.limit&&A?a.push(j):Ru(S)?setTimeout(()=>{b(j)},S):b(j)},setProps(U){h=U},setToggle:(U,F)=>{let Q=d.get(U);Q&&(Q.toggle=F)},isToastActive:U=>{var F;return(F=d.get(U))==null?void 0:F.isActive},getSnapshot:()=>l}}var an=new Map,au=[],vm=new Set,pO=t=>vm.forEach(e=>e(t)),lS=()=>an.size>0;function mO(){au.forEach(t=>cS(t.content,t.options)),au=[]}var gO=(t,{containerId:e})=>{var n;return(n=an.get(e||1))==null?void 0:n.toasts.get(t)};function uS(t,e){var n;if(e)return!!((n=an.get(e))!=null&&n.isToastActive(t));let r=!1;return an.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function yO(t){if(!lS()){au=au.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||oO(t))an.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=an.get(t.containerId);e?e.removeToast(t.id):an.forEach(n=>{n.removeToast(t.id)})}}var vO=(t={})=>{an.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function cS(t,e){ym(t)&&(lS()||au.push({content:t,options:e}),an.forEach(n=>{n.buildToast(t,e)}))}function _O(t){var e;(e=an.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function hS(t,e){an.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function wO(t){let e=t.containerId||1;return{subscribe(n){let r=fO(e,t,pO);an.set(e,r);let s=r.observe(n);return mO(),()=>{s(),an.delete(e)}},setProps(n){var r;(r=an.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=an.get(e))==null?void 0:n.getSnapshot()}}}function TO(t){return vm.add(t),()=>{vm.delete(t)}}function EO(t){return t&&(ao(t.toastId)||Ru(t.toastId))?t.toastId:aS()}function ku(t,e){return cS(t,e),e.toastId}function Cd(t,e){return{...e,type:e&&e.type||t,toastId:EO(e)}}function Pd(t){return(e,n)=>ku(e,Cd(t,n))}function be(t,e){return ku(t,Cd("default",e))}be.loading=(t,e)=>ku(t,Cd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function IO(t,{pending:e,error:n,success:r},s){let a;e&&(a=ao(e)?be.loading(e,s):be.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,g,w)=>{if(g==null){be.dismiss(a);return}let E={type:p,...l,...s,data:w},x=ao(g)?{render:g}:g;return a?be.update(a,{...E,...x}):be(x.render,{...E,...x}),w},d=fi(t)?t():t;return d.then(p=>h("success",r,p)).catch(p=>h("error",n,p)),d}be.promise=IO;be.success=Pd("success");be.info=Pd("info");be.error=Pd("error");be.warning=Pd("warning");be.warn=be.warning;be.dark=(t,e)=>ku(t,Cd("default",{theme:"dark",...e}));function SO(t){yO(t)}be.dismiss=SO;be.clearWaitingQueue=vO;be.isActive=uS;be.update=(t,e={})=>{let n=gO(t,e);if(n){let{props:r,content:s}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:aS()};a.toastId!==t&&(a.staleId=t);let l=a.render||s;delete a.render,ku(l,a)}};be.done=t=>{be.update(t,{progress:1})};be.onChange=TO;be.play=t=>hS(!0,t);be.pause=t=>hS(!1,t);function xO(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=L.useRef(wO(t)).current;s(t);let a=(e=L.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(h){if(!a)return[];let d=new Map;return t.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:g}=p.props;d.has(g)||d.set(g,[]),d.get(g).push(p)}),Array.from(d,p=>h(p[0],p[1]))}return{getToastToRender:l,isToastActive:uS,count:a==null?void 0:a.length}}function CO(t){let[e,n]=L.useState(!1),[r,s]=L.useState(!1),a=L.useRef(null),l=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:p,onClick:g,closeOnClick:w}=t;_O({id:t.toastId,containerId:t.containerId,fn:n}),L.useEffect(()=>{if(t.pauseOnFocusLoss)return E(),()=>{x()}},[t.pauseOnFocusLoss]);function E(){document.hasFocus()||b(),window.addEventListener("focus",R),window.addEventListener("blur",b)}function x(){window.removeEventListener("focus",R),window.removeEventListener("blur",b)}function P(k){if(t.draggable===!0||t.draggable===k.pointerType){U();let S=a.current;l.canCloseOnClick=!0,l.canDrag=!0,S.style.transition="none",t.draggableDirection==="x"?(l.start=k.clientX,l.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(l.start=k.clientY,l.removalDistance=S.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function D(k){let{top:S,bottom:A,left:O,right:j}=a.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&k.clientX>=O&&k.clientX<=j&&k.clientY>=S&&k.clientY<=A?b():R()}function R(){n(!0)}function b(){n(!1)}function U(){l.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",X)}function F(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",X)}function Q(k){let S=a.current;if(l.canDrag&&S){l.didMove=!0,e&&b(),t.draggableDirection==="x"?l.delta=k.clientX-l.start:l.delta=k.clientY-l.start,l.start!==k.clientX&&(l.canCloseOnClick=!1);let A=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;S.style.transform=`translate3d(${A},0)`,S.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function X(){F();let k=a.current;if(l.canDrag&&l.didMove&&k){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let ee={onPointerDown:P,onPointerUp:D};return h&&d&&(ee.onMouseEnter=b,t.stacked||(ee.onMouseLeave=R)),w&&(ee.onClick=k=>{g&&g(k),l.canCloseOnClick&&p(!0)}),{playToast:R,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:ee}}var PO=typeof window<"u"?L.useLayoutEffect:L.useEffect,Ad=({theme:t,type:e,isLoading:n,...r})=>Ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function AO(t){return Ge.createElement(Ad,{...t},Ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function RO(t){return Ge.createElement(Ad,{...t},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kO(t){return Ge.createElement(Ad,{...t},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function bO(t){return Ge.createElement(Ad,{...t},Ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function NO(){return Ge.createElement("div",{className:"Toastify__spinner"})}var _m={info:RO,warning:AO,success:kO,error:bO,spinner:NO},DO=t=>t in _m;function VO({theme:t,type:e,isLoading:n,icon:r}){let s=null,a={theme:t,type:e};return r===!1||(fi(r)?s=r({...a,isLoading:n}):L.isValidElement(r)?s=L.cloneElement(r,a):n?s=_m.spinner():DO(e)&&(s=_m[e](a))),s}var LO=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:a}=CO(t),{closeButton:l,children:h,autoClose:d,onClick:p,type:g,hideProgressBar:w,closeToast:E,transition:x,position:P,className:D,style:R,progressClassName:b,updateId:U,role:F,progress:Q,rtl:X,toastId:ee,deleteToast:k,isIn:S,isLoading:A,closeOnClick:O,theme:j,ariaLabel:z}=t,V=Zs("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":O}),We=fi(D)?D({rtl:X,position:P,type:g,defaultClassName:V}):Zs(V,D),it=VO(t),st=!!Q||!d,Ee={closeToast:E,type:g,theme:j},ie=null;return l===!1||(fi(l)?ie=l(Ee):L.isValidElement(l)?ie=L.cloneElement(l,Ee):ie=cO(Ee)),Ge.createElement(x,{isIn:S,done:k,position:P,preventExitTransition:n,nodeRef:r,playToast:a},Ge.createElement("div",{id:ee,tabIndex:0,onClick:p,"data-in":S,className:We,...s,style:R,ref:r,...S&&{role:F,"aria-label":z}},it!=null&&Ge.createElement("div",{className:Zs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},it),oS(h,t,!e),ie,!t.customProgressBar&&Ge.createElement(hO,{...U&&!st?{key:`p-${U}`}:{},rtl:X,theme:j,delay:d,isRunning:e,isIn:S,closeToast:E,hide:w,type:g,className:b,controlledProgress:st,progress:Q||0})))},OO=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),MO=uO(OO("bounce",!0)),jO={position:"top-right",transition:MO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function dS(t){let e={...jO,...t},n=t.stacked,[r,s]=L.useState(!0),a=L.useRef(null),{getToastToRender:l,isToastActive:h,count:d}=xO(e),{className:p,style:g,rtl:w,containerId:E,hotKeys:x}=e;function P(R){let b=Zs("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":w});return fi(p)?p({position:R,rtl:w,defaultClassName:b}):Zs(b,gm(p))}function D(){n&&(s(!0),be.play())}return PO(()=>{var R;if(n){let b=a.current.querySelectorAll('[data-in="true"]'),U=12,F=(R=e.position)==null?void 0:R.includes("top"),Q=0,X=0;Array.from(b).reverse().forEach((ee,k)=>{let S=ee;S.classList.add("Toastify__toast--stacked"),k>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=F?"top":"bot");let A=Q*(r?.2:1)+(r?0:U*k);S.style.setProperty("--y",`${F?A:A*-1}px`),S.style.setProperty("--g",`${U}`),S.style.setProperty("--s",`${1-(r?X:0)}`),Q+=S.offsetHeight,X+=.025})}},[r,d,n]),L.useEffect(()=>{function R(b){var U;let F=a.current;x(b)&&((U=F.querySelector('[tabIndex="0"]'))==null||U.focus(),s(!1),be.pause()),b.key==="Escape"&&(document.activeElement===F||F!=null&&F.contains(document.activeElement))&&(s(!0),be.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[x]),Ge.createElement("section",{ref:a,className:"Toastify",id:E,onMouseEnter:()=>{n&&(s(!1),be.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,b)=>{let U=b.length?{...g}:{...g,pointerEvents:"none"};return Ge.createElement("div",{tabIndex:-1,className:P(R),"data-stacked":n,style:U,key:`c-${R}`},b.map(({content:F,props:Q})=>Ge.createElement(LO,{...Q,stacked:n,collapseAll:D,isIn:h(Q.toastId,Q.containerId),key:`t-${Q.key}`},F)))}))}const FO={apiKey:"AIzaSyBc8RjtuaZOMWn4AA9ovmw1OOLDbwlSwWM",authDomain:"wildcats-express-pos.firebaseapp.com",databaseURL:"https://wildcats-express-pos-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wildcats-express-pos",storageBucket:"wildcats-express-pos.firebasestorage.app",messagingSenderId:"908404798026",appId:"1:908404798026:web:c14da08358320310f5ecb3",measurementId:"G-30FN1V543L"},fS=EE(FO),bu=E2(fS),Fl=TV(fS),UO=async(t,e)=>{try{const n=await ob(bu,t,e);return console.log("User logged in:",n.user),be.success("Login successful!"),n.user}catch(n){throw console.error("Error during login:",n.message),new Error("Error during login: Invalid Credentials")}},pS=t=>{const[e,n]=L.useState(!0);return L.useEffect(()=>{const r=XE(bu,s=>{s?n(!1):(be.warn("Unauthorized access! Please log in."),setTimeout(()=>{t("/")},100))});return()=>r()},[t]),e},Cw=async t=>{try{await hb(bu),localStorage.removeItem("token"),t("/")}catch(e){console.error("Error during logout:",e)}},BO=t=>{const[e,n]=L.useState(!0);return L.useEffect(()=>{const r=XE(bu,s=>{s?(console.log("Trying to access login/signup page while logged in."),t("/admin-page")):n(!1)});return()=>r()},[t]),e},zO="/assets/new-mainlogo-DdxHqH-1.svg",$O=()=>{const t=vu(),[e,n]=L.useState(!1),[r,s]=L.useState(!1),a=()=>{t("/login-page")};return r?_.jsx("p",{children:"Loading..."}):_.jsx(_.Fragment,{children:_.jsxs("main",{className:"main-content",children:[_.jsxs("div",{className:"text-container",children:[_.jsx("div",{className:"hide-mobile",children:_.jsxs("h1",{className:"wildcats-desktop",children:["Wildcats ",_.jsx("span",{className:"express-mobile",children:"Express"})]})}),_.jsx("div",{className:"hide-title"}),_.jsx("h3",{className:"typing-text",children:"Fast. Fresh. Fierce."}),_.jsx("h3",{className:"typing-text-mobile",children:"Fast. Fresh. Fierce."}),_.jsx("div",{className:"order-button",children:_.jsx("button",{onClick:a,className:"primary-cta",children:"Order Here"})})]}),_.jsx("div",{className:"cat",children:_.jsx("img",{src:zO,alt:"Photo of Wildcat chef"})})]})})},Fg=L.createContext({});function Ug(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bg=typeof window<"u",mS=Bg?L.useLayoutEffect:L.useEffect,Rd=L.createContext(null),zg=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class HO extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WO({children:t,isPresent:e,anchorX:n}){const r=L.useId(),s=L.useRef(null),a=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=L.useContext(zg);return L.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:w}=a.current;if(e||!s.current||!h||!d)return;const E=n==="left"?`left: ${g}`:`right: ${w}`;s.current.dataset.motionPopId=r;const x=document.createElement("style");return l&&(x.nonce=l),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[e]),_.jsx(HO,{isPresent:e,childRef:s,sizeRef:a,children:L.cloneElement(t,{ref:s})})}const qO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:h})=>{const d=Ug(KO),p=L.useId(),g=L.useCallback(E=>{d.set(E,!0);for(const x of d.values())if(!x)return;r&&r()},[d,r]),w=L.useMemo(()=>({id:p,initial:e,isPresent:n,custom:s,onExitComplete:g,register:E=>(d.set(E,!1),()=>d.delete(E))}),a?[Math.random(),g]:[n,g]);return L.useMemo(()=>{d.forEach((E,x)=>d.set(x,!1))},[n]),L.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(t=_.jsx(WO,{isPresent:n,anchorX:h,children:t})),_.jsx(Rd.Provider,{value:w,children:t})};function KO(){return new Map}function gS(t=!0){const e=L.useContext(Rd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=L.useId();L.useEffect(()=>{if(t)return s(a)},[t]);const l=L.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const ih=t=>t.key||"";function Pw(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const lu=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:h="left"})=>{const[d,p]=gS(l),g=L.useMemo(()=>Pw(t),[t]),w=l&&!d?[]:g.map(ih),E=L.useRef(!0),x=L.useRef(g),P=Ug(()=>new Map),[D,R]=L.useState(g),[b,U]=L.useState(g);mS(()=>{E.current=!1,x.current=g;for(let X=0;X<b.length;X++){const ee=ih(b[X]);w.includes(ee)?P.delete(ee):P.get(ee)!==!0&&P.set(ee,!1)}},[b,w.length,w.join("-")]);const F=[];if(g!==D){let X=[...g];for(let ee=0;ee<b.length;ee++){const k=b[ee],S=ih(k);w.includes(S)||(X.splice(ee,0,k),F.push(k))}return a==="wait"&&F.length&&(X=F),U(Pw(X)),R(g),null}const{forceRender:Q}=L.useContext(Fg);return _.jsx(_.Fragment,{children:b.map(X=>{const ee=ih(X),k=l&&!d?!1:g===b||w.includes(ee),S=()=>{if(P.has(ee))P.set(ee,!0);else return;let A=!0;P.forEach(O=>{O||(A=!1)}),A&&(Q==null||Q(),U(x.current),l&&(p==null||p()),r&&r())};return _.jsx(qO,{isPresent:k,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:k?void 0:S,anchorX:h,children:X},ee)})})};function $g(t,e){t.indexOf(e)===-1&&t.push(e)}function Hg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bn=t=>t;let yS=bn;const GO={useManualTiming:!1};function Wg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class qg{constructor(){this.subscriptions=[]}add(e){return $g(this.subscriptions,e),()=>Hg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oi=t=>t*1e3,ai=t=>t/1e3;function vS(t,e){return e?t*(1e3/e):0}const QO=Wg(()=>window.ScrollTimeline!==void 0);class YO{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(QO()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class XO extends YO{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Kg(t,e){return t?t[e]||t.default||t:void 0}const wm=2e4;function _S(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wm;)e+=n,r=t.next(e);return e>=wm?1/0:e}function Gg(t){return typeof t=="function"}function Aw(t,e){t.timeline=e,t.onfinish=null}const Qg=t=>Array.isArray(t)&&typeof t[0]=="number",JO={linearEasing:void 0};function ZO(t,e){const n=Wg(t);return()=>{var r;return(r=JO[e])!==null&&r!==void 0?r:n()}}const Hh=ZO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(Pa(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function TS(t){return!!(typeof t=="function"&&Hh()||!t||typeof t=="string"&&(t in Tm||Hh())||Qg(t)||Array.isArray(t)&&t.every(TS))}const Ul=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Tm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function ES(t,e){if(t)return typeof t=="function"&&Hh()?wS(t,e):Qg(t)?Ul(t):Array.isArray(t)?t.map(n=>ES(n,e)||Tm.easeOut):Tm[t]}const sh=["read","resolveKeyframes","update","preRender","render","postRender"],Rw={value:null};function eM(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(w){l.has(w)&&(g.schedule(w),t()),d++,w(h)}const g={schedule:(w,E=!1,x=!1)=>{const D=x&&s?n:r;return E&&l.add(w),D.has(w)||D.add(w),w},cancel:w=>{r.delete(w),l.delete(w)},process:w=>{if(h=w,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(p),e&&Rw.value&&Rw.value.frameloop[e].push(d),d=0,n.clear(),s=!1,a&&(a=!1,g.process(w))}};return g}const tM=40;function IS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=sh.reduce((b,U)=>(b[U]=eM(a,e?U:void 0),b),{}),{read:h,resolveKeyframes:d,update:p,preRender:g,render:w,postRender:E}=l,x=()=>{const b=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,tM),1),s.timestamp=b,s.isProcessing=!0,h.process(s),d.process(s),p.process(s),g.process(s),w.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(x))},P=()=>{n=!0,r=!0,s.isProcessing||t(x)};return{schedule:sh.reduce((b,U)=>{const F=l[U];return b[U]=(Q,X=!1,ee=!1)=>(n||P(),F.schedule(Q,X,ee)),b},{}),cancel:b=>{for(let U=0;U<sh.length;U++)l[sh[U]].cancel(b)},state:s,steps:l}}const{schedule:tt,cancel:hs,state:Ut,steps:Ap}=IS(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0),{schedule:Yg}=IS(queueMicrotask,!1);let wh;function nM(){wh=void 0}const Vr={now:()=>(wh===void 0&&Vr.set(Ut.isProcessing||GO.useManualTiming?Ut.timestamp:performance.now()),wh),set:t=>{wh=t,queueMicrotask(nM)}},cr={x:!1,y:!1};function SS(){return cr.x||cr.y}function rM(t){return t==="x"||t==="y"?cr[t]?null:(cr[t]=!0,()=>{cr[t]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}function iM(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function xS(t,e){const n=iM(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function kw(t){return!(t.pointerType==="touch"||SS())}function sM(t,e,n={}){const[r,s,a]=xS(t,n),l=h=>{if(!kw(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=w=>{kw(w)&&(p(w),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(h=>{h.addEventListener("pointerenter",l,s)}),a}function bw(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const CS=(t,e)=>e?t===e?!0:CS(t,e.parentElement):!1,Xg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aM(t){return oM.has(t.tagName)||t.tabIndex!==-1}const Bl=new WeakSet;function Nw(t){return e=>{e.key==="Enter"&&t(e)}}function Rp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Nw(()=>{if(Bl.has(n))return;Rp(n,"down");const s=Nw(()=>{Rp(n,"up")}),a=()=>Rp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Dw(t){return Xg(t)&&!SS()}function uM(t,e,n={}){const[r,s,a]=xS(t,n),l=h=>{const d=h.currentTarget;if(!d||!Dw(h)||Bl.has(d))return;Bl.add(d),bw(h,"set");const p=e(d,h),g=(x,P)=>{d.removeEventListener("pointerup",w),d.removeEventListener("pointercancel",E),bw(x,"release"),!(!Dw(x)||!Bl.has(d))&&(Bl.delete(d),typeof p=="function"&&p(x,{success:P}))},w=x=>{(x.isTrusted?cM(x,d instanceof Element?d.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(x,!1):g(x,!(d instanceof Element)||CS(d,x.target))},E=x=>{g(x,!1)};d.addEventListener("pointerup",w,s),d.addEventListener("pointercancel",E,s),d.addEventListener("lostpointercapture",E,s)};return r.forEach(h=>{h=n.useGlobalTarget?window:h;let d=!1;h instanceof HTMLElement&&(d=!0,!aM(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",l,s),d&&h.addEventListener("focus",p=>lM(p,s),s)}),a}function cM(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const Vw=30,hM=t=>!isNaN(parseFloat(t));class dM{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Vr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qg);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Vw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vw);return vS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uu(t,e){return new dM(t,e)}const PS=L.createContext({strict:!1}),Lw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Aa={};for(const t in Lw)Aa[t]={isEnabled:e=>Lw[t].some(n=>!!e[n])};function fM(t){for(const e in t)Aa[e]={...Aa[e],...t[e]}}const pM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pM.has(t)}let AS=t=>!Wh(t);function mM(t){t&&(AS=e=>e.startsWith("on")?!Wh(e):t(e))}try{mM(require("@emotion/is-prop-valid").default)}catch{}function gM(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(AS(s)||n===!0&&Wh(s)||!e&&!Wh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function yM(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const kd=L.createContext({});function bd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cu(t){return typeof t=="string"||Array.isArray(t)}const Jg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zg=["initial",...Jg];function Nd(t){return bd(t.animate)||Zg.some(e=>cu(t[e]))}function RS(t){return!!(Nd(t)||t.variants)}function vM(t,e){if(Nd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cu(n)?n:void 0,animate:cu(r)?r:void 0}}return t.inherit!==!1?e:{}}function _M(t){const{initial:e,animate:n}=vM(t,L.useContext(kd));return L.useMemo(()=>({initial:e,animate:n}),[Ow(e),Ow(n)])}function Ow(t){return Array.isArray(t)?t.join(" "):t}const wM=Symbol.for("motionComponentSymbol");function la(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TM(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):la(n)&&(n.current=r))},[e])}const ey=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EM="framerAppearId",kS="data-"+ey(EM),bS=L.createContext({});function IM(t,e,n,r,s){var a,l;const{visualElement:h}=L.useContext(kd),d=L.useContext(PS),p=L.useContext(Rd),g=L.useContext(zg).reducedMotion,w=L.useRef(null);r=r||d.renderer,!w.current&&r&&(w.current=r(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=w.current,x=L.useContext(bS);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&SM(w.current,n,s,x);const P=L.useRef(!1);L.useInsertionEffect(()=>{E&&P.current&&E.update(n,p)});const D=n[kS],R=L.useRef(!!D&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,D))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,D)));return mS(()=>{E&&(P.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Yg.render(E.render),R.current&&E.animationState&&E.animationState.animateChanges())}),L.useEffect(()=>{E&&(!R.current&&E.animationState&&E.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,D)}),R.current=!1))}),E}function SM(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:h,layoutScroll:d,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:NS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||h&&la(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:p})}function NS(t){if(t)return t.options.allowProjection!==!1?t.projection:NS(t.parent)}function xM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&fM(t);function h(p,g){let w;const E={...L.useContext(zg),...p,layoutId:CM(p)},{isStatic:x}=E,P=_M(p),D=r(p,x);if(!x&&Bg){PM();const R=AM(E);w=R.MeasureLayout,P.visualElement=IM(s,D,E,e,R.ProjectionNode)}return _.jsxs(kd.Provider,{value:P,children:[w&&P.visualElement?_.jsx(w,{visualElement:P.visualElement,...E}):null,n(s,p,TM(D,P.visualElement,g),D,x,P.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const d=L.forwardRef(h);return d[wM]=s,d}function CM({layoutId:t}){const e=L.useContext(Fg).id;return e&&t!==void 0?e+"-"+t:t}function PM(t,e){L.useContext(PS).strict}function AM(t){const{drag:e,layout:n}=Aa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const DS=t=>e=>typeof e=="string"&&e.startsWith(t),ty=DS("--"),RM=DS("var(--"),ny=t=>RM(t)?kM.test(t.split("/*")[0].trim()):!1,kM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hu={};function bM(t){for(const e in t)hu[e]=t[e],ty(e)&&(hu[e].isCSSVariable=!0)}const ja=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],po=new Set(ja);function VS(t,{layout:e,layoutId:n}){return po.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hu[t]||t==="opacity")}const Zt=t=>!!(t&&t.getVelocity),LS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pi=(t,e,n)=>n>e?e:n<t?t:n,Fa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},du={...Fa,transform:t=>pi(0,1,t)},oh={...Fa,default:1},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qi=Nu("deg"),Lr=Nu("%"),Ce=Nu("px"),NM=Nu("vh"),DM=Nu("vw"),Mw={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},VM={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},LM={rotate:qi,rotateX:qi,rotateY:qi,rotateZ:qi,scale:oh,scaleX:oh,scaleY:oh,scaleZ:oh,skew:qi,skewX:qi,skewY:qi,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:du,originX:Mw,originY:Mw,originZ:Ce},jw={...Fa,transform:Math.round},ry={...VM,...LM,zIndex:jw,size:Ce,fillOpacity:du,strokeOpacity:du,numOctaves:jw},OM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MM=ja.length;function jM(t,e,n){let r="",s=!0;for(let a=0;a<MM;a++){const l=ja[a],h=t[l];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(l.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=LS(h,ry[l]);if(!d){s=!1;const g=OM[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function iy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,h=!1;for(const d in e){const p=e[d];if(po.has(d)){l=!0;continue}else if(ty(d)){s[d]=p;continue}else{const g=LS(p,ry[d]);d.startsWith("origin")?(h=!0,a[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=jM(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}const sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OS(t,e,n){for(const r in e)!Zt(e[r])&&!VS(r,n)&&(t[r]=e[r])}function FM({transformTemplate:t},e){return L.useMemo(()=>{const n=sy();return iy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function UM(t,e){const n=t.style||{},r={};return OS(r,n,t),Object.assign(r,FM(t,e)),r}function BM(t,e){const n={},r=UM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const zM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oy(t){return typeof t!="string"||t.includes("-")?!1:!!(zM.indexOf(t)>-1||/[A-Z]/u.test(t))}const $M={offset:"stroke-dashoffset",array:"stroke-dasharray"},HM={offset:"strokeDashoffset",array:"strokeDasharray"};function WM(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?$M:HM;t[a.offset]=Ce.transform(-r);const l=Ce.transform(e),h=Ce.transform(n);t[a.array]=`${l} ${h}`}function Fw(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function qM(t,e,n){const r=Fw(e,t.x,t.width),s=Fw(n,t.y,t.height);return`${r} ${s}`}function ay(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:h=1,pathOffset:d=0,...p},g,w){if(iy(t,p,w),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:x,dimensions:P}=t;E.transform&&(P&&(x.transform=E.transform),delete E.transform),P&&(s!==void 0||a!==void 0||x.transform)&&(x.transformOrigin=qM(P,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),l!==void 0&&WM(E,l,h,d,!1)}const MS=()=>({...sy(),attrs:{}}),ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function KM(t,e,n,r){const s=L.useMemo(()=>{const a=MS();return ay(a,e,ly(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};OS(a,t.style,t),s.style={...a,...s.style}}return s}function GM(t=!1){return(n,r,s,{latestValues:a},l)=>{const d=(oy(n)?KM:BM)(r,a,l,n),p=gM(r,typeof n=="string",t),g=n!==L.Fragment?{...p,...d,ref:s}:{},{children:w}=r,E=L.useMemo(()=>Zt(w)?w.get():w,[w]);return L.createElement(n,{...g,children:E})}}function Uw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uy(t,e,n,r){if(typeof e=="function"){const[s,a]=Uw(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=Uw(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const Em=t=>Array.isArray(t),QM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),YM=t=>Em(t)?t[t.length-1]||0:t;function Th(t){const e=Zt(t)?t.get():t;return QM(e)?e.toValue():e}function XM({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:JM(r,s,a,t),renderState:e()};return n&&(l.onMount=h=>n({props:r,current:h,...l}),l.onUpdate=h=>n(h)),l}const jS=t=>(e,n)=>{const r=L.useContext(kd),s=L.useContext(Rd),a=()=>XM(t,e,r,s);return n?a():Ug(a)};function JM(t,e,n,r){const s={},a=r(t,{});for(const E in a)s[E]=Th(a[E]);let{initial:l,animate:h}=t;const d=Nd(t),p=RS(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const w=g?h:l;if(w&&typeof w!="boolean"&&!bd(w)){const E=Array.isArray(w)?w:[w];for(let x=0;x<E.length;x++){const P=uy(t,E[x]);if(P){const{transitionEnd:D,transition:R,...b}=P;for(const U in b){let F=b[U];if(Array.isArray(F)){const Q=g?F.length-1:0;F=F[Q]}F!==null&&(s[U]=F)}for(const U in D)s[U]=D[U]}}}return s}function cy(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(Zt(s[l])||e.style&&Zt(e.style[l])||VS(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}const ZM={useVisualState:jS({scrapeMotionValuesFromProps:cy,createRenderState:sy})};function FS(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function US(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const BS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zS(t,e,n,r){US(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(BS.has(s)?s:ey(s),e.attrs[s])}function $S(t,e,n){const r=cy(t,e,n);for(const s in t)if(Zt(t[s])||Zt(e[s])){const a=ja.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const Bw=["x","y","width","height","cx","cy","r"],e4={useVisualState:jS({scrapeMotionValuesFromProps:$S,createRenderState:MS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in s)if(po.has(h)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let h=0;h<Bw.length;h++){const d=Bw[h];t[d]!==e[d]&&(l=!0)}l&&tt.read(()=>{FS(n,r),tt.render(()=>{ay(r,s,ly(n.tagName),t.transformTemplate),zS(n,r)})})}})};function t4(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...oy(r)?e4:ZM,preloadedFeatures:t,useRender:GM(s),createVisualElement:e,Component:r};return xM(l)}}function fu(t,e,n){const r=t.getProps();return uy(r,e,n!==void 0?n:r.custom,t)}const HS=new Set(["width","height","top","left","right","bottom",...ja]);function n4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uu(n))}function r4(t,e){const n=fu(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const h=YM(a[l]);n4(t,l,h)}}function i4(t){return!!(Zt(t)&&t.add)}function Im(t,e){const n=t.getValue("willChange");if(i4(n))return n.add(e)}function WS(t){return t.props[kS]}const qS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,s4=1e-7,o4=12;function a4(t,e,n,r,s){let a,l,h=0;do l=e+(n-e)/2,a=qS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>s4&&++h<o4);return l}function Du(t,e,n,r){if(t===e&&n===r)return bn;const s=a=>a4(a,0,1,t,n);return a=>a===0||a===1?a:qS(s(a),e,r)}const KS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,GS=t=>e=>1-t(1-e),QS=Du(.33,1.53,.69,.99),hy=GS(QS),YS=KS(hy),XS=t=>(t*=2)<1?.5*hy(t):.5*(2-Math.pow(2,-10*(t-1))),dy=t=>1-Math.sin(Math.acos(t)),JS=GS(dy),ZS=KS(dy),ex=t=>/^0[^.\s]+$/u.test(t);function l4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ex(t):!0}const Gl=t=>Math.round(t*1e5)/1e5,fy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function u4(t){return t==null}const c4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,py=(t,e)=>n=>!!(typeof n=="string"&&c4.test(n)&&n.startsWith(t)||e&&!u4(n)&&Object.prototype.hasOwnProperty.call(n,e)),tx=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,h]=r.match(fy);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},h4=t=>pi(0,255,t),kp={...Fa,transform:t=>Math.round(h4(t))},Ys={test:py("rgb","red"),parse:tx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kp.transform(t)+", "+kp.transform(e)+", "+kp.transform(n)+", "+Gl(du.transform(r))+")"};function d4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Sm={test:py("#"),parse:d4,transform:Ys.transform},ua={test:py("hsl","hue"),parse:tx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lr.transform(Gl(e))+", "+Lr.transform(Gl(n))+", "+Gl(du.transform(r))+")"},Yt={test:t=>Ys.test(t)||Sm.test(t)||ua.test(t),parse:t=>Ys.test(t)?Ys.parse(t):ua.test(t)?ua.parse(t):Sm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ys.transform(t):ua.transform(t)},f4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(f4))===null||n===void 0?void 0:n.length)||0)>0}const nx="number",rx="color",m4="var",g4="var(",zw="${}",y4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(y4,d=>(Yt.test(d)?(r.color.push(a),s.push(rx),n.push(Yt.parse(d))):d.startsWith(g4)?(r.var.push(a),s.push(m4),n.push(d)):(r.number.push(a),s.push(nx),n.push(parseFloat(d))),++a,zw)).split(zw);return{values:n,split:h,indexes:r,types:s}}function ix(t){return pu(t).values}function sx(t){const{split:e,types:n}=pu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const h=n[l];h===nx?a+=Gl(s[l]):h===rx?a+=Yt.transform(s[l]):a+=s[l]}return a}}const v4=t=>typeof t=="number"?0:t;function _4(t){const e=ix(t);return sx(t)(e.map(v4))}const ds={test:p4,parse:ix,createTransformer:sx,getAnimatableNone:_4},w4=new Set(["brightness","contrast","saturate","opacity"]);function T4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fy)||[];if(!r)return t;const s=n.replace(r,"");let a=w4.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const E4=/\b([a-z-]*)\(.*?\)/gu,xm={...ds,getAnimatableNone:t=>{const e=t.match(E4);return e?e.map(T4).join(" "):t}},I4={...ry,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:xm,WebkitFilter:xm},ox=t=>I4[t];function ax(t,e){let n=ox(t);return n!==xm&&(n=ds),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const S4=new Set(["auto","none","0"]);function x4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!S4.has(a)&&pu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=ax(n,s)}const Xs=t=>t*180/Math.PI,Cm=t=>{const e=Xs(Math.atan2(t[1],t[0]));return Pm(e)},C4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cm,rotateZ:Cm,skewX:t=>Xs(Math.atan(t[1])),skewY:t=>Xs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Pm=t=>(t=t%360,t<0&&(t+=360),t),$w=Cm,Hw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ww=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),P4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hw,scaleY:Ww,scale:t=>(Hw(t)+Ww(t))/2,rotateX:t=>Pm(Xs(Math.atan2(t[6],t[5]))),rotateY:t=>Pm(Xs(Math.atan2(-t[2],t[0]))),rotateZ:$w,rotate:$w,skewX:t=>Xs(Math.atan(t[4])),skewY:t=>Xs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qw(t){return t.includes("scale")?1:0}function Am(t,e){if(!t||t==="none")return qw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=P4,s=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=C4,s=h}if(!s)return qw(e);const a=r[e],l=s[1].split(",").map(R4);return typeof a=="function"?a(l):l[a]}const A4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Am(n,e)};function R4(t){return parseFloat(t.trim())}const Kw=t=>t===Fa||t===Ce,k4=new Set(["x","y","z"]),b4=ja.filter(t=>!k4.has(t));function N4(t){const e=[];return b4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ra={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Am(e,"x"),y:(t,{transform:e})=>Am(e,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const eo=new Set;let Rm=!1,km=!1;function lx(){if(km){const t=Array.from(eo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=N4(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var h;(h=r.getValue(a))===null||h===void 0||h.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}km=!1,Rm=!1,eo.forEach(t=>t.complete()),eo.clear()}function ux(){eo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(km=!0)})}function D4(){ux(),lx()}class my{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(eo.add(this),Rm||(Rm=!0,tt.read(ux),tt.resolveKeyframes(lx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),h=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const d=r.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),eo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,eo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),V4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L4(t){const e=V4.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function hx(t,e,n=1){const[r,s]=L4(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return cx(l)?parseFloat(l):l}return ny(s)?hx(s,e,n+1):s}const dx=t=>e=>e.test(t),O4={test:t=>t==="auto",parse:t=>t},fx=[Fa,Ce,Lr,qi,DM,NM,O4],Gw=t=>fx.find(dx(t));class px extends my{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),ny(p))){const g=hx(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!HS.has(r)||e.length!==2)return;const[s,a]=e,l=Gw(s),h=Gw(a);if(l!==h)if(Kw(l)&&Kw(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)l4(e[s])&&r.push(s);r.length&&x4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,h=s[l];s[l]=Ra[r](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const Qw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ds.test(t)||t==="0")&&!t.startsWith("url("));function M4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function j4(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Qw(s,e),h=Qw(a,e);return!l||!h?!1:M4(t)||(n==="spring"||Gg(n))&&r}const F4=t=>t!==null;function Dd(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(F4),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const U4=40;class mx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>U4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&D4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Vr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:h,onUpdate:d,isGenerator:p}=this.options;if(!p&&!j4(e,r,s,a))if(l)this.options.duration=0;else{d&&d(Dd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ht=(t,e,n)=>t+(e-t)*n;function bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;s=bp(d,h,t+1/3),a=bp(d,h,t),l=bp(d,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function qh(t,e){return n=>n>0?e:t}const Np=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},z4=[Sm,Ys,ua],$4=t=>z4.find(e=>e.test(t));function Yw(t){const e=$4(t);if(!e)return!1;let n=e.parse(t);return e===ua&&(n=B4(n)),n}const Xw=(t,e)=>{const n=Yw(t),r=Yw(e);if(!n||!r)return qh(t,e);const s={...n};return a=>(s.red=Np(n.red,r.red,a),s.green=Np(n.green,r.green,a),s.blue=Np(n.blue,r.blue,a),s.alpha=ht(n.alpha,r.alpha,a),Ys.transform(s))},H4=(t,e)=>n=>e(t(n)),Vu=(...t)=>t.reduce(H4),bm=new Set(["none","hidden"]);function W4(t,e){return bm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function q4(t,e){return n=>ht(t,e,n)}function gy(t){return typeof t=="number"?q4:typeof t=="string"?ny(t)?qh:Yt.test(t)?Xw:Q4:Array.isArray(t)?gx:typeof t=="object"?Yt.test(t)?Xw:K4:qh}function gx(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>gy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function K4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=gy(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function G4(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],h=t.indexes[l][s[l]],d=(n=t.values[h])!==null&&n!==void 0?n:0;r[a]=d,s[l]++}return r}const Q4=(t,e)=>{const n=ds.createTransformer(e),r=pu(t),s=pu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?bm.has(t)&&!s.values.length||bm.has(e)&&!r.values.length?W4(t,e):Vu(gx(G4(r,s),s.values),n):qh(t,e)};function yx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):gy(t)(t,e)}const Y4=5;function vx(t,e,n){const r=Math.max(e-Y4,0);return vS(n-t(r),e-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jw=.001;function X4({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let s,a,l=1-e;l=pi(mt.minDamping,mt.maxDamping,l),t=pi(mt.minDuration,mt.maxDuration,ai(t)),l<1?(s=p=>{const g=p*l,w=g*t,E=g-n,x=Nm(p,l),P=Math.exp(-w);return Jw-E/x*P},a=p=>{const w=p*l*t,E=w*n+n,x=Math.pow(l,2)*Math.pow(p,2)*t,P=Math.exp(-w),D=Nm(Math.pow(p,2),l);return(-s(p)+Jw>0?-1:1)*((E-x)*P)/D}):(s=p=>{const g=Math.exp(-p*t),w=(p-n)*t+1;return-.001+g*w},a=p=>{const g=Math.exp(-p*t),w=(n-p)*(t*t);return g*w});const h=5/t,d=Z4(s,a,h);if(t=oi(t),isNaN(d))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const J4=12;function Z4(t,e,n){let r=n;for(let s=1;s<J4;s++)r=r-t(r)/e(r);return r}function Nm(t,e){return t*Math.sqrt(1-e*e)}const ej=["duration","bounce"],tj=["stiffness","damping","mass"];function Zw(t,e){return e.some(n=>t[n]!==void 0)}function nj(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!Zw(t,tj)&&Zw(t,ej))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*pi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:mt.mass,stiffness:s,damping:a}}else{const n=X4(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function _x(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:w,velocity:E,isResolvedFromDuration:x}=nj({...n,velocity:-ai(n.velocity||0)}),P=E||0,D=p/(2*Math.sqrt(d*g)),R=l-a,b=ai(Math.sqrt(d/g)),U=Math.abs(R)<5;r||(r=U?mt.restSpeed.granular:mt.restSpeed.default),s||(s=U?mt.restDelta.granular:mt.restDelta.default);let F;if(D<1){const X=Nm(b,D);F=ee=>{const k=Math.exp(-D*b*ee);return l-k*((P+D*b*R)/X*Math.sin(X*ee)+R*Math.cos(X*ee))}}else if(D===1)F=X=>l-Math.exp(-b*X)*(R+(P+b*R)*X);else{const X=b*Math.sqrt(D*D-1);F=ee=>{const k=Math.exp(-D*b*ee),S=Math.min(X*ee,300);return l-k*((P+D*b*R)*Math.sinh(S)+X*R*Math.cosh(S))/X}}const Q={calculatedDuration:x&&w||null,next:X=>{const ee=F(X);if(x)h.done=X>=w;else{let k=0;D<1&&(k=X===0?oi(P):vx(F,X,ee));const S=Math.abs(k)<=r,A=Math.abs(l-ee)<=s;h.done=S&&A}return h.value=h.done?l:ee,h},toString:()=>{const X=Math.min(_S(Q),wm),ee=wS(k=>Q.next(X*k).value,X,30);return X+"ms "+ee}};return Q}function eT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:d,restDelta:p=.5,restSpeed:g}){const w=t[0],E={done:!1,value:w},x=S=>h!==void 0&&S<h||d!==void 0&&S>d,P=S=>h===void 0?d:d===void 0||Math.abs(h-S)<Math.abs(d-S)?h:d;let D=n*e;const R=w+D,b=l===void 0?R:l(R);b!==R&&(D=b-w);const U=S=>-D*Math.exp(-S/r),F=S=>b+U(S),Q=S=>{const A=U(S),O=F(S);E.done=Math.abs(A)<=p,E.value=E.done?b:O};let X,ee;const k=S=>{x(E.value)&&(X=S,ee=_x({keyframes:[E.value,P(E.value)],velocity:vx(F,S,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return k(0),{calculatedDuration:null,next:S=>{let A=!1;return!ee&&X===void 0&&(A=!0,Q(S),k(S)),X!==void 0&&S>=X?ee.next(S-X):(!A&&Q(S),E)}}}const rj=Du(.42,0,1,1),ij=Du(0,0,.58,1),wx=Du(.42,0,.58,1),sj=t=>Array.isArray(t)&&typeof t[0]!="number",oj={linear:bn,easeIn:rj,easeInOut:wx,easeOut:ij,circIn:dy,circInOut:ZS,circOut:JS,backIn:hy,backInOut:YS,backOut:QS,anticipate:XS},tT=t=>{if(Qg(t)){yS(t.length===4);const[e,n,r,s]=t;return Du(e,n,r,s)}else if(typeof t=="string")return oj[t];return t};function aj(t,e,n){const r=[],s=n||yx,a=t.length-1;for(let l=0;l<a;l++){let h=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||bn:e;h=Vu(d,h)}r.push(h)}return r}function lj(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(yS(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=aj(e,r,s),d=h.length,p=g=>{if(l&&g<t[0])return e[0];let w=0;if(d>1)for(;w<t.length-2&&!(g<t[w+1]);w++);const E=Pa(t[w],t[w+1],g);return h[w](E)};return n?g=>p(pi(t[0],t[a-1],g)):p}function uj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Pa(0,e,r);t.push(ht(n,1,s))}}function cj(t){const e=[0];return uj(e,t.length-1),e}function hj(t,e){return t.map(n=>n*e)}function dj(t,e){return t.map(()=>e||wx).splice(0,t.length-1)}function Kh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=sj(r)?r.map(tT):tT(r),a={done:!1,value:e[0]},l=hj(n&&n.length===e.length?n:cj(e),t),h=lj(l,e,{ease:Array.isArray(s)?s:dj(e,s)});return{calculatedDuration:t,next:d=>(a.value=h(d),a.done=d>=t,a)}}const fj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>tt.update(e,!0),stop:()=>hs(e),now:()=>Ut.isProcessing?Ut.timestamp:Vr.now()}},pj={decay:eT,inertia:eT,tween:Kh,keyframes:Kh,spring:_x},mj=t=>t/100;class yy extends mx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||my,h=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,h,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,h=Gg(n)?n:pj[n]||Kh;let d,p;h!==Kh&&typeof e[0]!="number"&&(d=Vu(mj,yx(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=_S(g));const{calculatedDuration:w}=g,E=w+s,x=E*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:w,resolvedDuration:E,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:p,totalDuration:g,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:x,repeatType:P,repeatDelay:D,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-E*(this.speed>=0?1:-1),U=this.speed>=0?b<0:b>g;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let F=this.currentTime,Q=a;if(x){const S=Math.min(this.currentTime,g)/w;let A=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&A--,A=Math.min(A,x+1),!!(A%2)&&(P==="reverse"?(O=1-O,D&&(O-=D/w)):P==="mirror"&&(Q=l)),F=pi(0,1,O)*w}const X=U?{done:!1,value:d[0]}:Q.next(F);h&&(X.value=h(X.value));let{done:ee}=X;!U&&p!==null&&(ee=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return k&&s!==void 0&&(X.value=Dd(d,this.options,s)),R&&R(X.value),k&&this.finish(),X}get duration(){const{resolved:e}=this;return e?ai(e.calculatedDuration):0}get time(){return ai(this.currentTime)}set time(e){e=oi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ai(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=fj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const gj=new Set(["opacity","clipPath","filter","transform"]);function yj(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:h="easeInOut",times:d}={}){const p={[e]:n};d&&(p.offset=d);const g=ES(h,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const vj=Wg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gh=10,_j=2e4;function wj(t){return Gg(t.type)||t.type==="spring"||!TS(t.ease)}function Tj(t,e){const n=new yy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<_j;)r=n.sample(a),s.push(r.value),a+=Gh;return{times:void 0,keyframes:s,duration:a-Gh,ease:"linear"}}const Tx={anticipate:XS,backInOut:YS,circInOut:ZS};function Ej(t){return t in Tx}class nT extends mx{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new px(a,(l,h)=>this.onKeyframesResolved(l,h),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:h,name:d,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&Hh()&&Ej(a)&&(a=Tx[a]),wj(this.options)){const{onComplete:w,onUpdate:E,motionValue:x,element:P,...D}=this.options,R=Tj(e,D);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,s=R.times,a=R.ease,l="keyframes"}const g=yj(h.owner.current,d,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(Aw(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:w}=this.options;h.set(Dd(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ai(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ai(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=oi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return bn;const{animation:r}=n;Aw(r,e)}return bn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:w,element:E,...x}=this.options,P=new yy({...x,keyframes:r,duration:s,type:a,ease:l,times:h,isGenerator:!0}),D=oi(this.time);p.setWithVelocity(P.sample(D-Gh).value,P.sample(D).value,Gh)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return vj()&&r&&gj.has(r)&&!d&&!p&&!s&&a!=="mirror"&&l!==0&&h!=="inertia"}}const Ij={type:"spring",stiffness:500,damping:25,restSpeed:10},Sj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xj={type:"keyframes",duration:.8},Cj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pj=(t,{keyframes:e})=>e.length>2?xj:po.has(t)?t.startsWith("scale")?Sj(e[1]):Ij:Cj;function Aj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const vy=(t,e,n,r={},s,a)=>l=>{const h=Kg(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-oi(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:s};Aj(h)||(g={...g,...Pj(t,g)}),g.duration&&(g.duration=oi(g.duration)),g.repeatDelay&&(g.repeatDelay=oi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(w=!0)),g.allowFlatten=!h.type&&!h.ease,w&&!a&&e.get()!==void 0){const E=Dd(g.keyframes,h);if(E!==void 0)return tt.update(()=>{g.onUpdate(E),g.onComplete()}),new XO([])}return!a&&nT.supports(g)?new nT(g):new yy(g)};function Rj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ex(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:h,...d}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const w in d){const E=t.getValue(w,(a=t.latestValues[w])!==null&&a!==void 0?a:null),x=d[w];if(x===void 0||g&&Rj(g,w))continue;const P={delay:n,...Kg(l||{},w)};let D=!1;if(window.MotionHandoffAnimation){const b=WS(t);if(b){const U=window.MotionHandoffAnimation(b,w,tt);U!==null&&(P.startTime=U,D=!0)}}Im(t,w),E.start(vy(w,E,x,t.shouldReduceMotion&&HS.has(w)?{type:!1}:P,t,D));const R=E.animation;R&&p.push(R)}return h&&Promise.all(p).then(()=>{tt.update(()=>{h&&r4(t,h)})}),p}function Dm(t,e,n={}){var r;const s=fu(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(Ex(t,s,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:w,staggerDirection:E}=a;return kj(t,e,g+p,w,E,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,h]:[h,l];return p().then(()=>g())}else return Promise.all([l(),h(n.delay)])}function kj(t,e,n=0,r=0,s=1,a){const l=[],h=(t.variantChildren.size-1)*r,d=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(bj).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Dm(p,e,{...a,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function bj(t,e){return t.sortNodePosition(e)}function Nj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Dm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Dm(t,e,n);else{const s=typeof e=="function"?fu(t,e,n.custom):e;r=Promise.all(Ex(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Ix(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Dj=Zg.length;function Sx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Sx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Dj;n++){const r=Zg[n],s=t.props[r];(cu(s)||s===!1)&&(e[r]=s)}return e}const Vj=[...Jg].reverse(),Lj=Jg.length;function Oj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Nj(t,n,r)))}function Mj(t){let e=Oj(t),n=rT(),r=!0;const s=d=>(p,g)=>{var w;const E=fu(t,g,d==="exit"?(w=t.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(E){const{transition:x,transitionEnd:P,...D}=E;p={...p,...D,...P}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,g=Sx(t.parent)||{},w=[],E=new Set;let x={},P=1/0;for(let R=0;R<Lj;R++){const b=Vj[R],U=n[b],F=p[b]!==void 0?p[b]:g[b],Q=cu(F),X=b===d?U.isActive:null;X===!1&&(P=R);let ee=F===g[b]&&F!==p[b]&&Q;if(ee&&r&&t.manuallyAnimateOnMount&&(ee=!1),U.protectedKeys={...x},!U.isActive&&X===null||!F&&!U.prevProp||bd(F)||typeof F=="boolean")continue;const k=jj(U.prevProp,F);let S=k||b===d&&U.isActive&&!ee&&Q||R>P&&Q,A=!1;const O=Array.isArray(F)?F:[F];let j=O.reduce(s(b),{});X===!1&&(j={});const{prevResolvedValues:z={}}=U,V={...z,...j},We=Ee=>{S=!0,E.has(Ee)&&(A=!0,E.delete(Ee)),U.needsAnimating[Ee]=!0;const ie=t.getValue(Ee);ie&&(ie.liveStyle=!1)};for(const Ee in V){const ie=j[Ee],me=z[Ee];if(x.hasOwnProperty(Ee))continue;let ue=!1;Em(ie)&&Em(me)?ue=!Ix(ie,me):ue=ie!==me,ue?ie!=null?We(Ee):E.add(Ee):ie!==void 0&&E.has(Ee)?We(Ee):U.protectedKeys[Ee]=!0}U.prevProp=F,U.prevResolvedValues=j,U.isActive&&(x={...x,...j}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(ee&&k)||A)&&w.push(...O.map(Ee=>({animation:Ee,options:{type:b}})))}if(E.size){const R={};if(typeof p.initial!="boolean"){const b=fu(t,Array.isArray(p.initial)?p.initial[0]:p.initial);b&&b.transition&&(R.transition=b.transition)}E.forEach(b=>{const U=t.getBaseTarget(b),F=t.getValue(b);F&&(F.liveStyle=!0),R[b]=U??null}),w.push({animation:R})}let D=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(w):Promise.resolve()}function h(d,p){var g;if(n[d].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var x;return(x=E.animationState)===null||x===void 0?void 0:x.setActive(d,p)}),n[d].isActive=p;const w=l(d);for(const E in n)n[E].protectedKeys={};return w}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=rT(),r=!0}}}function jj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ix(e,t):!1}function Ws(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rT(){return{animate:Ws(!0),whileInView:Ws(),whileHover:Ws(),whileTap:Ws(),whileDrag:Ws(),whileFocus:Ws(),exit:Ws()}}class ms{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fj extends ms{constructor(e){super(e),e.animationState||(e.animationState=Mj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Uj=0;class Bj extends ms{constructor(){super(...arguments),this.id=Uj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zj={animation:{Feature:Fj},exit:{Feature:Bj}};function mu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lu(t){return{point:{x:t.pageX,y:t.pageY}}}const $j=t=>e=>Xg(e)&&t(e,Lu(e));function Ql(t,e,n,r){return mu(t,e,$j(n),r)}function xx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Hj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Wj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Cx=1e-4,qj=1-Cx,Kj=1+Cx,Px=.01,Gj=0-Px,Qj=0+Px;function ln(t){return t.max-t.min}function Yj(t,e,n){return Math.abs(t-e)<=n}function iT(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=ln(n)/ln(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=qj&&t.scale<=Kj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gj&&t.translate<=Qj||isNaN(t.translate))&&(t.translate=0)}function Yl(t,e,n,r){iT(t.x,e.x,n.x,r?r.originX:void 0),iT(t.y,e.y,n.y,r?r.originY:void 0)}function sT(t,e,n){t.min=n.min+e.min,t.max=t.min+ln(e)}function Xj(t,e,n){sT(t.x,e.x,n.x),sT(t.y,e.y,n.y)}function oT(t,e,n){t.min=e.min-n.min,t.max=t.min+ln(e)}function Xl(t,e,n){oT(t.x,e.x,n.x),oT(t.y,e.y,n.y)}const aT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:aT(),y:aT()}),lT=()=>({min:0,max:0}),vt=()=>({x:lT(),y:lT()});function Hn(t){return[t("x"),t("y")]}function Dp(t){return t===void 0||t===1}function Vm({scale:t,scaleX:e,scaleY:n}){return!Dp(t)||!Dp(e)||!Dp(n)}function Ks(t){return Vm(t)||Ax(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ax(t){return uT(t.x)||uT(t.y)}function uT(t){return t&&t!=="0%"}function Qh(t,e,n){const r=t-n,s=e*r;return n+s}function cT(t,e,n,r,s){return s!==void 0&&(t=Qh(t,s,r)),Qh(t,n,r)+e}function Lm(t,e=0,n=1,r,s){t.min=cT(t.min,e,n,r,s),t.max=cT(t.max,e,n,r,s)}function Rx(t,{x:e,y:n}){Lm(t.x,e.translate,e.scale,e.originPoint),Lm(t.y,n.translate,n.scale,n.originPoint)}const hT=.999999999999,dT=1.0000000000001;function Jj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let h=0;h<s;h++){a=n[h],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&da(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Rx(t,l)),r&&Ks(a.latestValues)&&da(t,a.latestValues))}e.x<dT&&e.x>hT&&(e.x=1),e.y<dT&&e.y>hT&&(e.y=1)}function ha(t,e){t.min=t.min+e,t.max=t.max+e}function fT(t,e,n,r,s=.5){const a=ht(t.min,t.max,s);Lm(t,e,n,a,r)}function da(t,e){fT(t.x,e.x,e.scaleX,e.scale,e.originX),fT(t.y,e.y,e.scaleY,e.scale,e.originY)}function kx(t,e){return xx(Wj(t.getBoundingClientRect(),e))}function Zj(t,e,n){const r=kx(t,n),{scroll:s}=e;return s&&(ha(r.x,s.offset.x),ha(r.y,s.offset.y)),r}const bx=({current:t})=>t?t.ownerDocument.defaultView:null,pT=(t,e)=>Math.abs(t-e);function e3(t,e){const n=pT(t.x,e.x),r=pT(t.y,e.y);return Math.sqrt(n**2+r**2)}class Nx{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Lp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,x=e3(w.offset,{x:0,y:0})>=3;if(!E&&!x)return;const{point:P}=w,{timestamp:D}=Ut;this.history.push({...P,timestamp:D});const{onStart:R,onMove:b}=this.handlers;E||(R&&R(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Vp(E,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:x,onSessionEnd:P,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Lp(w.type==="pointercancel"?this.lastMoveEventInfo:Vp(E,this.transformPagePoint),this.history);this.startEvent&&x&&x(w,R),P&&P(w,R)},!Xg(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=Lu(e),h=Vp(l,this.transformPagePoint),{point:d}=h,{timestamp:p}=Ut;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Lp(h,this.history)),this.removeListeners=Vu(Ql(this.contextWindow,"pointermove",this.handlePointerMove),Ql(this.contextWindow,"pointerup",this.handlePointerUp),Ql(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hs(this.updatePoint)}}function Vp(t,e){return e?{point:e(t.point)}:t}function mT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lp({point:t},e){return{point:t,delta:mT(t,Dx(e)),offset:mT(t,t3(e)),velocity:n3(e,.1)}}function t3(t){return t[0]}function Dx(t){return t[t.length-1]}function n3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Dx(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>oi(e)));)n--;if(!r)return{x:0,y:0};const a=ai(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function r3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function gT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function i3(t,{top:e,left:n,bottom:r,right:s}){return{x:gT(t.x,n,s),y:gT(t.y,e,r)}}function yT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function s3(t,e){return{x:yT(t.x,e.x),y:yT(t.y,e.y)}}function o3(t,e){let n=.5;const r=ln(t),s=ln(e);return s>r?n=Pa(e.min,e.max-r,t.min):r>s&&(n=Pa(t.min,t.max-s,e.min)),pi(0,1,n)}function a3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Om=.35;function l3(t=Om){return t===!1?t=0:t===!0&&(t=Om),{x:vT(t,"left","right"),y:vT(t,"top","bottom")}}function vT(t,e,n){return{min:_T(t,e),max:_T(t,n)}}function _T(t,e){return typeof t=="number"?t:t[e]||0}const u3=new WeakMap;class c3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lu(g).point)},a=(g,w)=>{const{drag:E,dragPropagation:x,onDragStart:P}=this.getProps();if(E&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rM(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(R=>{let b=this.getAxisMotionValue(R).get()||0;if(Lr.test(b)){const{projection:U}=this.visualElement;if(U&&U.layout){const F=U.layout.layoutBox[R];F&&(b=ln(F)*(parseFloat(b)/100))}}this.originPoint[R]=b}),P&&tt.postRender(()=>P(g,w)),Im(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},l=(g,w)=>{const{dragPropagation:E,dragDirectionLock:x,onDirectionLock:P,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=w;if(x&&this.currentDirection===null){this.currentDirection=h3(R),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",w.point,R),this.updateAxis("y",w.point,R),this.visualElement.render(),D&&D(g,w)},h=(g,w)=>this.stop(g,w),d=()=>Hn(g=>{var w;return this.getAnimationState(g)==="paused"&&((w=this.getAxisMotionValue(g).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Nx(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:bx(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&tt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ah(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=r3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&la(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=i3(s.layoutBox,n):this.constraints=!1,this.elastic=l3(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=a3(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!la(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Zj(r,s.root,this.visualElement.getTransformPagePoint());let l=s3(s.layout.layoutBox,a);if(n){const h=n(Hj(l));this.hasMutatedConstraints=!!h,h&&(l=xx(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=Hn(g=>{if(!ah(g,n,this.currentDirection))return;let w=d&&d[g]||{};l&&(w={min:0,max:0});const E=s?200:1e6,x=s?40:1e7,P={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(g,P)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Im(this.visualElement,e),r.start(vy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!ah(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:h}=s.layout.layoutBox[n];a.set(e[n]-ht(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!la(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const d=h.get();s[l]=o3({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(l=>{if(!ah(l,e,null))return;const h=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];h.set(ht(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;u3.set(this.visualElement,this);const e=this.visualElement.current,n=Ql(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();la(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tt.read(r);const l=mu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hn(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=d[g].translate,w.set(w.get()+d[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Om,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function ah(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function h3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class d3 extends ms{constructor(e){super(e),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new c3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const wT=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class f3 extends ms{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(e){this.session=new Nx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:wT(e),onStart:wT(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&tt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Ql(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=TT(t,e.target.x),r=TT(t,e.target.y);return`${n}% ${r}%`}},p3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ds.parse(t);if(s.length>5)return r;const a=ds.createTransformer(t),l=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=h,s[1+l]/=d;const p=ht(h,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class m3 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;bM(g3),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tt.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Vx(t){const[e,n]=gS(),r=L.useContext(Fg);return _.jsx(m3,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(bS),isPresent:e,safeToRemove:n})}const g3={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:p3};function y3(t,e,n){const r=Zt(t)?t:uu(t);return r.start(vy("",r,e,n)),r.animation}function v3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const _3=(t,e)=>t.depth-e.depth;class w3{constructor(){this.children=[],this.isDirty=!1}add(e){$g(this.children,e),this.isDirty=!0}remove(e){Hg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_3),this.isDirty=!1,this.children.forEach(e)}}function T3(t,e){const n=Vr.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(hs(r),t(a-e))};return tt.read(r,!0),()=>hs(r)}const Lx=["TopLeft","TopRight","BottomLeft","BottomRight"],E3=Lx.length,ET=t=>typeof t=="string"?parseFloat(t):t,IT=t=>typeof t=="number"||Ce.test(t);function I3(t,e,n,r,s,a){s?(t.opacity=ht(0,n.opacity!==void 0?n.opacity:1,S3(r)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,x3(r))):a&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<E3;l++){const h=`border${Lx[l]}Radius`;let d=ST(e,h),p=ST(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||IT(d)===IT(p)?(t[h]=Math.max(ht(ET(d),ET(p),r),0),(Lr.test(p)||Lr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function ST(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const S3=Ox(0,.5,JS),x3=Ox(.5,.95,bn);function Ox(t,e,n){return r=>r<t?0:r>e?1:n(Pa(t,e,r))}function xT(t,e){t.min=e.min,t.max=e.max}function $n(t,e){xT(t.x,e.x),xT(t.y,e.y)}function CT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function PT(t,e,n,r,s){return t-=e,t=Qh(t,1/n,r),s!==void 0&&(t=Qh(t,1/s,r)),t}function C3(t,e=0,n=1,r=.5,s,a=t,l=t){if(Lr.test(e)&&(e=parseFloat(e),e=ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=ht(a.min,a.max,r);t===a&&(h-=e),t.min=PT(t.min,e,n,h,s),t.max=PT(t.max,e,n,h,s)}function AT(t,e,[n,r,s],a,l){C3(t,e[n],e[r],e[s],e.scale,a,l)}const P3=["x","scaleX","originX"],A3=["y","scaleY","originY"];function RT(t,e,n,r){AT(t.x,e,P3,n?n.x:void 0,r?r.x:void 0),AT(t.y,e,A3,n?n.y:void 0,r?r.y:void 0)}function kT(t){return t.translate===0&&t.scale===1}function Mx(t){return kT(t.x)&&kT(t.y)}function bT(t,e){return t.min===e.min&&t.max===e.max}function R3(t,e){return bT(t.x,e.x)&&bT(t.y,e.y)}function NT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jx(t,e){return NT(t.x,e.x)&&NT(t.y,e.y)}function DT(t){return ln(t.x)/ln(t.y)}function VT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class k3{constructor(){this.members=[]}add(e){$g(this.members,e),e.scheduleRender()}remove(e){if(Hg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b3(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:w,rotateY:E,skewX:x,skewY:P}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),E&&(r+=`rotateY(${E}deg) `),x&&(r+=`skewX(${x}deg) `),P&&(r+=`skewY(${P}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Op=["","X","Y","Z"],N3={visibility:"hidden"},LT=1e3;let D3=0;function Mp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Fx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Fx(r)}function Ux({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},h=e==null?void 0:e()){this.id=D3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(O3),this.nodes.forEach(B3),this.nodes.forEach(z3),this.nodes.forEach(M3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new w3)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new qg),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const d=this.eventHandlers.get(l);d&&d.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v3(l),this.instance=l;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let w;const E=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=T3(E,250),Eh.hasAnimatedSinceResize&&(Eh.hasAnimatedSinceResize=!1,this.nodes.forEach(MT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E,hasRelativeLayoutChanged:x,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||K3,{onLayoutAnimationStart:R,onLayoutAnimationComplete:b}=g.getProps(),U=!this.targetLayout||!jx(this.targetLayout,P),F=!E&&x;if(this.options.layoutRoot||this.resumeFrom||F||E&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,F);const Q={...Kg(D,"layout"),onPlay:R,onComplete:b};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else E||MT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OT);return}this.isUpdating||this.nodes.forEach(F3),this.isUpdating=!1,this.nodes.forEach(U3),this.nodes.forEach(V3),this.nodes.forEach(L3),this.clearAllSnapshots();const h=Vr.now();Ut.delta=pi(0,1e3/60,h-Ut.timestamp),Ut.timestamp=h,Ut.isProcessing=!0,Ap.update.process(Ut),Ap.preRender.process(Ut),Ap.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j3),this.sharedNodes.forEach(H3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Mx(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(h||Ks(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return l&&(d=this.removeTransform(d)),G3(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:h}=this.options;if(!h)return vt();const d=h.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(Q3))){const{scroll:g}=this.root;g&&(ha(d.x,g.offset.x),ha(d.y,g.offset.y))}return d}removeElementScroll(l){var h;const d=vt();if($n(d,l),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:w,options:E}=g;g!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&$n(d,l),ha(d.x,w.offset.x),ha(d.y,w.offset.y))}return d}applyTransform(l,h=!1){const d=vt();$n(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&da(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ks(g.latestValues)&&da(d,g.latestValues)}return Ks(this.latestValues)&&da(d,this.latestValues),d}removeTransform(l){const h=vt();$n(h,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ks(p.latestValues))continue;Vm(p.latestValues)&&p.updateSnapshot();const g=vt(),w=p.measurePageBox();$n(g,w),RT(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ks(this.latestValues)&&RT(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:E}=this.options;if(!(!this.layout||!(w||E))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Xl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),Rx(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Xl(this.relativeTargetOrigin,this.target,x.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vm(this.parent.latestValues)||Ax(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(p=!1),p)return;const{layout:g,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||w))return;$n(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,x=this.treeScale.y;Jj(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=vt());const{target:P}=h;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CT(this.prevProjectionDelta.x,this.projectionDelta.x),CT(this.prevProjectionDelta.y,this.projectionDelta.y)),Yl(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==x||!VT(this.projectionDelta.x,this.prevProjectionDelta.x)||!VT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ca(),this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca()}setAnimationOrigin(l,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},w=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=vt(),x=d?d.source:void 0,P=this.layout?this.layout.source:void 0,D=x!==P,R=this.getStack(),b=!R||R.members.length<=1,U=!!(D&&!b&&this.options.crossfade===!0&&!this.path.some(q3));this.animationProgress=0;let F;this.mixTargetDelta=Q=>{const X=Q/1e3;jT(w.x,l.x,X),jT(w.y,l.y,X),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W3(this.relativeTarget,this.relativeTargetOrigin,E,X),F&&R3(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=vt()),$n(F,this.relativeTarget)),D&&(this.animationValues=g,I3(g,p,this.latestValues,X,U,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Eh.hasAnimatedSinceResize=!0,this.currentAnimation=y3(0,LT,{...l,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=l;if(!(!h||!d||!p)){if(this!==l&&this.layout&&p&&Bx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||vt();const w=ln(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+w;const E=ln(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+E}$n(h,d),da(h,g),Yl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new k3),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:h}=this.options;return h?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:h}=this.options;return h?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Mp("z",l,p,this.animationValues);for(let g=0;g<Op.length;g++)Mp(`rotate${Op[g]}`,l,p,this.animationValues),Mp(`skew${Op[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N3;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Th(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=Th(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ks(this.latestValues)&&(D.transform=g?g({},""):"none",this.hasProjected=!1),D}const E=w.animationValues||w.latestValues;this.applyTransformsToTarget(),p.transform=b3(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x,y:P}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${P.origin*100}% 0`,w.animationValues?p.opacity=w===this?(d=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=w===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const D in hu){if(E[D]===void 0)continue;const{correct:R,applyTo:b,isCSSVariable:U}=hu[D],F=p.transform==="none"?E[D]:R(E[D],w);if(b){const Q=b.length;for(let X=0;X<Q;X++)p[b[X]]=F}else U?this.options.visualElement.renderState.vars[D]=F:p[D]=F}return this.options.layoutId&&(p.pointerEvents=w===this?Th(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var h;return(h=l.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(OT),this.root.sharedNodes.clear()}}}function V3(t){t.updateLayout()}function L3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Hn(w=>{const E=l?n.measuredBox[w]:n.layoutBox[w],x=ln(E);E.min=r[w].min,E.max=E.min+x}):Bx(a,n.layoutBox,r)&&Hn(w=>{const E=l?n.measuredBox[w]:n.layoutBox[w],x=ln(r[w]);E.max=E.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+x)});const h=ca();Yl(h,r,n.layoutBox);const d=ca();l?Yl(d,t.applyTransform(s,!0),n.measuredBox):Yl(d,r,n.layoutBox);const p=!Mx(h);let g=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:x}=w;if(E&&x){const P=vt();Xl(P,n.layoutBox,E.layoutBox);const D=vt();Xl(D,r,x.layoutBox),jx(P,D)||(g=!0),w.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=P,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function O3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function M3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function j3(t){t.clearSnapshot()}function OT(t){t.clearMeasurements()}function F3(t){t.isLayoutDirty=!1}function U3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function B3(t){t.resolveTargetDelta()}function z3(t){t.calcProjection()}function $3(t){t.resetSkewAndRotation()}function H3(t){t.removeLeadSnapshot()}function jT(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FT(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function W3(t,e,n,r){FT(t.x,e.x,n.x,r),FT(t.y,e.y,n.y,r)}function q3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K3={duration:.45,ease:[.4,0,.1,1]},UT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BT=UT("applewebkit/")&&!UT("chrome/")?Math.round:bn;function zT(t){t.min=BT(t.min),t.max=BT(t.max)}function G3(t){zT(t.x),zT(t.y)}function Bx(t,e,n){return t==="position"||t==="preserve-aspect"&&!Yj(DT(e),DT(n),.2)}function Q3(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Y3=Ux({attachResizeListener:(t,e)=>mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jp={current:void 0},zx=Ux({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jp.current){const t=new Y3({});t.mount(window),t.setOptions({layoutScroll:!0}),jp.current=t}return jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),X3={pan:{Feature:f3},drag:{Feature:d3,ProjectionNode:zx,MeasureLayout:Vx}};function $T(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&tt.postRender(()=>a(e,Lu(e)))}class J3 extends ms{mount(){const{current:e}=this.node;e&&(this.unmount=sM(e,(n,r)=>($T(this.node,r,"Start"),s=>$T(this.node,s,"End"))))}unmount(){}}class Z3 extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vu(mu(this.node.current,"focus",()=>this.onFocus()),mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&tt.postRender(()=>a(e,Lu(e)))}class eF extends ms{mount(){const{current:e}=this.node;e&&(this.unmount=uM(e,(n,r)=>(HT(this.node,r,"Start"),(s,{success:a})=>HT(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mm=new WeakMap,Fp=new WeakMap,tF=t=>{const e=Mm.get(t.target);e&&e(t)},nF=t=>{t.forEach(tF)};function rF({root:t,...e}){const n=t||document;Fp.has(n)||Fp.set(n,{});const r=Fp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(nF,{root:t,...e})),r[s]}function iF(t,e,n){const r=rF(e);return Mm.set(t,n),r.observe(t),()=>{Mm.delete(t),r.unobserve(t)}}const sF={some:0,all:1};class oF extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:sF[s]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),E=p?g:w;E&&E(d)};return iF(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(aF(e,n))&&this.startObserver()}unmount(){}}function aF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lF={inView:{Feature:oF},tap:{Feature:eF},focus:{Feature:Z3},hover:{Feature:J3}},uF={layout:{ProjectionNode:zx,MeasureLayout:Vx}},jm={current:null},$x={current:!1};function cF(){if($x.current=!0,!!Bg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jm.current=t.matches;t.addListener(e),e()}else jm.current=!1}const hF=[...fx,Yt,ds],dF=t=>hF.find(dx(t)),fF=new WeakMap;function pF(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Zt(s))t.addValue(r,s);else if(Zt(a))t.addValue(r,uu(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,uu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const WT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=my,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Vr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,tt.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Nd(n),this.isVariantNode=RS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in E){const P=E[x];d[x]!==void 0&&Zt(P)&&P.set(d[x],!1)}}mount(e){this.current=e,fF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$x.current||cF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hs(this.notifyUpdate),hs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=po.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Aa){const n=Aa[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WT.length;r++){const s=WT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=pF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(cx(s)||ex(s))?s=parseFloat(s):!dF(s)&&ds.test(n)&&(s=ax(e,n)),this.setBaseTarget(e,Zt(s)?s.get():s)),Zt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=uy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Zt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Hx extends mF{constructor(){super(...arguments),this.KeyframeResolver=px}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gF(t){return window.getComputedStyle(t)}class yF extends Hx{constructor(){super(...arguments),this.type="html",this.renderInstance=US}readValueFromInstance(e,n){if(po.has(n))return A4(e,n);{const r=gF(e),s=(ty(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kx(e,n)}build(e,n,r){iy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cy(e,n,r)}}class vF extends Hx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&FS(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(po.has(n)){const r=ox(n);return r&&r.default||0}return n=BS.has(n)?n:ey(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return $S(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&tt.postRender(this.updateDimensions)}build(e,n,r){ay(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){zS(e,n,r,s)}mount(e){this.isSVGTag=ly(e.tagName),super.mount(e)}}const _F=(t,e)=>oy(t)?new vF(e):new yF(e,{allowProjection:t!==L.Fragment}),wF=t4({...zj,...lF,...X3,...uF},_F),ke=yM(wF);var Wx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qT=Ge.createContext&&Ge.createContext(Wx),TF=["attr","size","title"];function EF(t,e){if(t==null)return{};var n=IF(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){SF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SF(t,e,n){return e=xF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xF(t){var e=CF(t,"string");return typeof e=="symbol"?e:e+""}function CF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qx(t){return t&&t.map((e,n)=>Ge.createElement(e.tag,Xh({key:n},e.attr),qx(e.child)))}function Br(t){return e=>Ge.createElement(PF,Yh({attr:Xh({},t.attr)},e),qx(t.child))}function PF(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=EF(t,TF),h=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Ge.createElement("svg",Yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:Xh(Xh({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&Ge.createElement("title",null,a),t.children)};return qT!==void 0?Ge.createElement(qT.Consumer,null,n=>e(n)):e(Wx)}function AF(t){return Br({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function RF(t){return Br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function kF(t){return Br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function bF(t){return Br({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function NF(t){return Br({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"},child:[]}]})(t)}function DF(t){return Br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3V2"},child:[]},{tag:"path",attr:{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5"},child:[]},{tag:"path",attr:{d:"M2 14h12a2 2 0 0 1 0 4h-2"},child:[]},{tag:"path",attr:{d:"M4 10h16"},child:[]},{tag:"path",attr:{d:"M5 10a7 7 0 0 1 14 0"},child:[]},{tag:"path",attr:{d:"M5 14v6a1 1 0 0 1-1 1H2"},child:[]}]})(t)}function VF(t){return Br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}function LF(t){return Br({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{width:"3",height:"9",x:"7",y:"7"},child:[]},{tag:"rect",attr:{width:"3",height:"5",x:"14",y:"7"},child:[]}]})(t)}function OF(t){return Br({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Image_Off"},child:[{tag:"path",attr:{d:"M19.937,14.218l0,-8.654c0,-0.829 -0.672,-1.5 -1.5,-1.5l-10.628,-0c-0.276,-0 -0.5,-0.225 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l10.628,-0c1.38,-0 2.5,1.118 2.5,2.5l0,10.624c0,0.276 -0.224,0.5 -0.5,0.501c-0.276,-0 -0.5,-0.225 -0.5,-0.5l0,-0.556l-4.583,-4.584c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.162,0.162 2.37,2.37 3.876,3.876Zm-0.121,6.304c-0.395,0.262 -0.869,0.415 -1.379,0.415l-12.874,-0c-1.381,-0 -2.5,-1.119 -2.5,-2.5l0,-12.873c0,-0.51 0.153,-0.984 0.414,-1.38l-0.263,-0.263c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.088,0.088 0.176,0.176 0.263,0.263c0.245,0.245 16.095,16.094 16.339,16.338l0.263,0.263c0.455,0.456 -0.252,1.163 -0.707,0.707c-0.088,-0.087 -0.175,-0.175 -0.263,-0.263Zm-11.104,-11.103l-2.001,-2.001c-0.094,0.196 -0.146,0.415 -0.146,0.647c-0,0.829 0.672,1.5 1.5,1.5c0.232,-0 0.451,-0.052 0.647,-0.146Zm-2.733,-2.733l-1.77,-1.77c-0.093,0.196 -0.146,0.416 -0.146,0.648l0,10.717l1.926,-1.926c0.587,-0.586 1.536,-0.586 2.122,-0l0.555,0.554c0.195,0.196 0.511,0.196 0.706,0l2.415,-2.415l-2.343,-2.343c-0.395,0.262 -0.869,0.414 -1.379,0.414c-1.38,-0 -2.5,-1.119 -2.5,-2.5c-0,-0.509 0.152,-0.983 0.414,-1.379Zm-1.916,11.009l0,0.741c0,0.829 0.671,1.5 1.5,1.5l12.874,0c0.232,0 0.451,-0.052 0.647,-0.145c-0.165,-0.165 -3.264,-3.263 -6.59,-6.59l-2.414,2.415c-0.585,0.586 -1.537,0.586 -2.122,0l-0.554,-0.554c-0.195,-0.196 -0.512,-0.196 -0.708,0l-2.633,2.633Z"},child:[]}]}]})(t)}const MF="/new-mainlogo.svg",jF="/cat_profile.svg",FF=()=>{const t=vu(),e=pS(t),[n,r]=L.useState("student"),[s,a]=L.useState([]),[l,h]=L.useState({schoolId:"",name:"",courseYear:"",department:"",gradesTeaching:[],yearsTeaching:[],position:"",staffDepartment:"",staffPosition:""}),d=Y=>{const{name:we,value:ze}=Y.target;h(tn=>({...tn,[we]:ze}))},p=Y=>{const{name:we,value:ze,checked:tn}=Y.target;h(tn?Tt=>({...Tt,[we]:[...Tt[we],ze]}):Tt=>({...Tt,[we]:Tt[we].filter(Ht=>Ht!==ze)}))},g=Y=>{Y.preventDefault();const we={type:n,schoolId:l.schoolId,name:l.name,...n==="student"&&{courseYear:l.courseYear},...n==="faculty"&&{department:l.department,gradesTeaching:l.gradesTeaching,yearsTeaching:l.yearsTeaching,position:l.position},...n==="staff"&&{department:l.staffDepartment,position:l.staffPosition}};a([...s,we]),h({schoolId:"",name:"",courseYear:"",department:"",gradesTeaching:[],yearsTeaching:[],position:"",staffDepartment:"",staffPosition:""})},[w,E]=L.useState("dashboard"),[x,P]=L.useState(!1),[D,R]=L.useState([]),[b,U]=L.useState({name:"",price:0,quantity:0,image:null,_id:null,imageURL:"",category:""}),[F,Q]=L.useState(!1),[X,ee]=L.useState(!1),[k,S]=L.useState(null),[A,O]=L.useState(""),[j,z]=L.useState(""),[V,We]=L.useState(""),[it,st]=L.useState(""),Ee=[{orderNumber:"22-5714-674",dateOrdered:"7/16/2024, 1:22:16 AM",status:"Completed",product:"Fried Chicken",quantity:"1x",totalPrice:"50.00"}],[ie,me]=L.useState([{orderNumber:"19-4566-878",name:"James Bond",totalAmount:"100.00",products:"Fried Chicken, Burger, Rice",status:"Pending",paymentMode:"Cash"},{orderNumber:"20-3454-654",name:"Steve Harvey",totalAmount:"200.00",products:"Pasta, Salad",status:"Pending",paymentMode:"G-Cash"},{orderNumber:"21-7784-123",name:"Clark Kent",totalAmount:"150.00",products:"Fried Chicken, Fries, Soda",status:"Pending",paymentMode:"Cash"}]),[ue,$]=L.useState(""),[J,ye]=L.useState(""),[De,Le]=L.useState(""),te=async()=>{if(J!==De){be.error("New password and confirm password do not match.");return}try{const Y=bu.currentUser;if(!Y){be.error("No user is currently logged in.");return}const we=is.credential(Y.email,ue);await l_(Y,we);const ze=is.credential(Y.email,J);try{await l_(Y,ze),be.error("New password cannot be the same as the current password.");return}catch{console.log("Password is new.")}await ab(Y,J),be.success(`Password updated successfully!
Please log in again.`),setTimeout(()=>{Cw(t)},3e3)}catch(Y){console.error("Error updating password:",Y.message),be.error(_.jsxs(_.Fragment,{children:[" Failed to update password: ",_.jsx("br",{})," ",Y.message," "]}))}},_e=(Y,we)=>{const ze=[...ie];ze[Y].status=we,me(ze)},de=()=>{console.log("Downloading report...")};if(L.useEffect(()=>{sessionStorage.getItem("hasLoggedIn")==="true"&&(setTimeout(()=>{be.success("Login successful!")},500),sessionStorage.removeItem("hasLoggedIn"))},[]),L.useEffect(()=>{const Y=dm(Fl,"menu"),we=O1(Y,ze=>{const tn=ze.docs.map(Tt=>({...Tt.data(),_id:Tt.id}));R(tn)},ze=>{console.error("Error fetching menu items:",ze),be.error("Failed to fetch menu items.")});return()=>we()},[]),e)return _.jsx("div",{children:"Loading..."});const Oe=()=>{U({name:"",price:"",quantity:"",image:null,_id:null,imageURL:"",category:""}),Q(!0)},Qe=Y=>{U({name:Y.name,price:Y.price,quantity:Y.quantity,image:null,_id:Y._id,imageURL:Y.imageURL,category:Y.category}),Q(!0)},un=()=>{Q(!1),U({name:"",image:"",price:0,quantity:0,category:""})},Tn=Y=>{E(Y)},gr=()=>{P(!x)},Nn=Y=>{const{name:we,value:ze}=Y.target;U(tn=>({...tn,[we]:ze}))},yi=async Y=>{Y.preventDefault();try{let we=null,ze=null;if(b.image){const Ht=new FormData;Ht.append("file",b.image),Ht.append("upload_preset","wildcats_express_menu"),Ht.append("cloud_name","dxbkzby8x");const yr=await fetch("https://api.cloudinary.com/v1_1/dxbkzby8x/image/upload",{method:"POST",body:Ht});if(!yr.ok)throw new Error("Cloudinary upload failed");const Ti=await yr.json();we=Ti.secure_url,ze=Ti.public_id}const tn=dm(Fl,"menu"),Tt={name:b.name,price:parseFloat(b.price),quantity:Number(b.quantity),imageURL:we||b.imageURL,publicID:ze||"",category:b.category};if(b._id){const Ht=fm(Fl,"menu",b._id);await OV(Ht,Tt),be.success("Menu item updated successfully.")}else await jV(tn,Tt),be.success("New menu item added successfully.");un()}catch(we){console.error("Error uploading menu item: ",we),be.error("Failed to add menu item.")}},gs=Y=>{S(Y),ee(!0)},ys=Y=>{const we=Y.target.files[0];if(we){if(we.size>5*1024*1024){be.error("Image file is too large. Max size is 5MB.");return}U(ze=>({...ze,image:we}))}},mo=async()=>{if(!k){console.error("No item selected for deletion.");return}try{const Y=fm(Fl,"menu",k);await MV(Y),R(we=>we.filter(ze=>ze._id!==k)),S(null),be.success("Menu item deleted successfully.",{autoClose:5e3})}catch(Y){console.error("Error deleting menu item:",Y),be.error("Failed to delete menu item. Please try again.",{autoClose:5e3})}finally{ee(!1)}},vi=()=>_.jsxs("div",{className:"add-menu-container",children:[_.jsx("button",{onClick:Oe,className:"add-menu-button",children:"Add New Menu"}),F&&_.jsx("div",{className:"modal-overlay-menu",children:_.jsxs("div",{className:"modal-menu",children:[_.jsx("h2",{children:b._id?"Edit Item":"Add New Item"}),_.jsxs("form",{onSubmit:yi,children:[_.jsx("input",{type:"text",name:"name",value:b.name,onChange:Nn,placeholder:"Item Name",required:!0}),_.jsx("input",{type:"number",name:"price",value:b.price,onChange:Nn,placeholder:"Price",min:"0",step:"0.01",required:!0}),_.jsx("input",{type:"number",name:"quantity",value:b.quantity,onChange:Nn,placeholder:"Quantity",min:"0",step:"1",required:!0}),_.jsx("input",{type:"text",name:"category",value:b.category,onChange:Nn,placeholder:"Category",required:!0}),!b._id&&_.jsxs("div",{className:"file-input-container",children:[_.jsx("label",{htmlFor:"image",children:"Choose Image:"}),_.jsx("input",{className:"input-image",type:"file",id:"image",name:"image",onChange:ys,accept:"image/*"})]}),b.image&&_.jsxs("div",{className:"image-preview",children:[_.jsx("img",{src:URL.createObjectURL(b.image),alt:"Preview",className:"image-preview-img"}),_.jsx("p",{children:b.image.name})]}),_.jsxs("div",{className:"modal-actions-menu",children:[_.jsx("button",{type:"submit",children:"Save"}),_.jsx("button",{type:"button",onClick:un,children:"Cancel"})]})]})]})})]}),Kn=()=>_.jsx(_.Fragment,{children:_.jsx("div",{className:"menu-items",children:D.map(Y=>_.jsxs("div",{className:"menu-item",children:[_.jsx("div",{className:"menu-image-container",children:Y.imageURL?_.jsx("img",{src:Y.imageURL,alt:Y.name,className:"menu-image"}):_.jsx("div",{className:"menu-image-placeholder",children:_.jsx(OF,{className:"no-image-icon"})})}),_.jsxs("div",{className:"menu-details",children:[_.jsx("div",{className:"menu-name",children:Y.name}),_.jsxs("div",{className:"menu-price",children:["Php ",Number(Y.price).toFixed(2)]}),_.jsxs("div",{className:"menu-quantity",children:["Quantity: ",Y.quantity]})]}),_.jsxs("div",{className:"menu-actions",children:[_.jsx("button",{className:"action-link-edit",onClick:()=>Qe(Y),children:"Edit"}),_.jsx("button",{className:"action-link-delete",onClick:()=>gs(Y._id),children:"Delete"}),X&&_.jsx("div",{className:"modal-overlay-delete",children:_.jsxs("div",{className:"modal-delete",children:[_.jsx("p",{children:"Are you sure you want to delete this menu item?"}),_.jsxs("div",{className:"modal-actions-delete",children:[_.jsx("button",{onClick:()=>mo(),children:"Yes"}),_.jsx("button",{onClick:()=>{ee(!1),S(null)},children:"No"})]})]})})]})]},Y._id))})}),Gn=()=>_.jsxs("div",{className:"dashboard-container-admin",children:[_.jsxs("div",{className:"orders-wrapper",children:[_.jsxs("div",{className:"order-line-container",children:[_.jsx("h3",{children:"Order Line"}),_.jsx("br",{}),_.jsxs("div",{className:"order-cards",children:[_.jsxs("div",{className:"order-card",children:[_.jsxs("div",{className:"order-card-header",children:[_.jsx("div",{className:"school-id",children:"19-4566-878"}),_.jsx("div",{className:"order-id",children:"Order #1"})]}),_.jsxs("div",{className:"order-details",children:[_.jsx("p",{children:"James Bond"}),_.jsxs("div",{className:"order-status",children:[_.jsx("span",{children:_.jsx("p",{children:"In Progress"})}),_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress",style:{width:"90%"}})}),_.jsx("span",{className:"progress-percentage",children:"90%"})]})]})]}),_.jsxs("div",{className:"order-card",children:[_.jsxs("div",{className:"order-card-header",children:[_.jsx("div",{className:"school-id",children:"20-3454-654"}),_.jsx("div",{className:"order-id",children:"Order #2"})]}),_.jsxs("div",{className:"order-details",children:[_.jsx("p",{children:"Steve Harvey"}),_.jsxs("div",{className:"order-status",children:[_.jsx("span",{children:_.jsx("p",{children:"In Progress"})}),_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress",style:{width:"50%"}})}),_.jsx("span",{className:"progress-percentage",children:"50%"})]})]})]}),_.jsxs("div",{className:"order-card",children:[_.jsxs("div",{className:"order-card-header",children:[_.jsx("div",{className:"school-id",children:"19-4566-878"}),_.jsx("div",{className:"order-id",children:"Order #3"})]}),_.jsxs("div",{className:"order-details",children:[_.jsx("p",{children:"Clark Johnson"}),_.jsxs("div",{className:"order-status",children:[_.jsx("span",{children:_.jsx("p",{children:"In Progress"})}),_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress",style:{width:"68%"}})}),_.jsx("span",{className:"progress-percentage",children:"68%"})]})]})]}),_.jsxs("div",{className:"order-card",children:[_.jsxs("div",{className:"order-card-header",children:[_.jsx("div",{className:"school-id",children:"22-4535-765"}),_.jsx("div",{className:"order-id",children:"Order #4"})]}),_.jsxs("div",{className:"order-details",children:[_.jsx("p",{children:"Steve Rogers"}),_.jsxs("div",{className:"order-status",children:[_.jsx("span",{children:_.jsx("p",{children:"In Progress"})}),_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress",style:{width:"30%"}})}),_.jsx("span",{className:"progress-percentage",children:"30%"})]})]})]})]})]}),_.jsxs("div",{className:"current-order-container",children:[_.jsx("h3",{children:"Current Order"}),_.jsx("br",{}),_.jsxs("div",{className:"current-order-card",children:[_.jsx("h4",{children:"Recipient: Dave Miller"}),_.jsx("p",{children:"School ID:"}),_.jsx("p",{children:"#123456789"}),_.jsx("br",{}),_.jsxs("div",{className:"current-order-card-bottom",children:[_.jsx("span",{children:"Order#: 4"}),_.jsx("span",{children:"Items: 8"})]})]})]})]}),_.jsxs("div",{className:"popular-picks-container",children:[_.jsx("h2",{children:"Popular Picks"}),_.jsx("br",{}),_.jsxs("div",{className:"popular-picks",children:[_.jsx("div",{className:"pick",children:_.jsxs("div",{className:"pick-name-price",children:[_.jsx("span",{className:"pick-name",children:"Fried Chicken"}),_.jsx("span",{className:"pick-price",children:"50.00"})]})}),_.jsx("div",{className:"pick",children:_.jsxs("div",{className:"pick-name-price",children:[_.jsx("span",{className:"pick-name",children:"Bulalo"}),_.jsx("span",{className:"pick-price",children:"100.00"})]})}),_.jsx("div",{className:"pick",children:_.jsxs("div",{className:"pick-name-price",children:[_.jsx("span",{className:"pick-name",children:"Longganisa"}),_.jsx("span",{className:"pick-price",children:"80.00"})]})}),_.jsx("div",{className:"pick",children:_.jsxs("div",{className:"pick-name-price",children:[_.jsx("span",{className:"pick-name",children:"Rice"}),_.jsx("span",{className:"pick-price",children:"10.00"})]})})]})]})]}),vs=()=>_.jsx("div",{className:"orders-modal",children:_.jsxs("table",{className:"orders-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Order Number"}),_.jsx("th",{children:"Name"}),_.jsx("th",{children:"Total Amount"}),_.jsx("th",{children:"Products"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Mode of Payment"})]})}),_.jsx("tbody",{children:ie.map((Y,we)=>_.jsxs("tr",{children:[_.jsx("td",{children:Y.orderNumber}),_.jsx("td",{children:Y.name}),_.jsx("td",{children:Y.totalAmount}),_.jsx("td",{children:Y.products}),_.jsx("td",{children:_.jsxs("select",{value:Y.status,onChange:ze=>_e(we,ze.target.value),children:[_.jsx("option",{value:"Pending",children:"Pending"}),_.jsx("option",{value:"Preparing",children:"Preparing"}),_.jsx("option",{value:"Ready to Pickup",children:"Ready to Pickup"}),_.jsx("option",{value:"Completed",children:"Completed"}),_.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),_.jsx("td",{children:Y.paymentMode})]},Y.orderNumber))})]})}),_i=()=>_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"search-container",children:_.jsx("input",{type:"text",placeholder:"Search by Order Number, Date, Status, or Product",value:A,onChange:Y=>O(Y.target.value)})}),_.jsxs("div",{className:"filters-section",children:[_.jsx("span",{className:"filters-label",children:"Filters"}),_.jsxs("select",{value:j,onChange:Y=>z(Y.target.value),children:[_.jsx("option",{value:"",children:"Day"}),Array.from({length:31},(Y,we)=>_.jsx("option",{value:we+1,children:we+1},we+1))]}),_.jsxs("select",{value:V,onChange:Y=>We(Y.target.value),children:[_.jsx("option",{value:"",children:"Month"}),_.jsx("option",{value:"1",children:"January"}),_.jsx("option",{value:"2",children:"February"}),_.jsx("option",{value:"3",children:"March"}),_.jsx("option",{value:"4",children:"April"}),_.jsx("option",{value:"5",children:"May"}),_.jsx("option",{value:"6",children:"June"}),_.jsx("option",{value:"7",children:"July"}),_.jsx("option",{value:"8",children:"August"}),_.jsx("option",{value:"9",children:"September"}),_.jsx("option",{value:"10",children:"October"}),_.jsx("option",{value:"11",children:"November"}),_.jsx("option",{value:"12",children:"December"})]}),_.jsxs("select",{value:it,onChange:Y=>st(Y.target.value),children:[_.jsx("option",{value:"",children:"Year"}),_.jsx("option",{value:"2025",children:"2025"}),_.jsx("option",{value:"2026",children:"2026"}),_.jsx("option",{value:"2026",children:"2027"}),_.jsx("option",{value:"2028",children:"2028"}),_.jsx("option",{value:"2029",children:"2029"}),_.jsx("option",{value:"2030",children:"2030"}),_.jsx("option",{value:"2031",children:"2031"}),_.jsx("option",{value:"2032",children:"2032"}),_.jsx("option",{value:"2033",children:"2033"}),_.jsx("option",{value:"2034",children:"2034"}),_.jsx("option",{value:"2035",children:"2035"})]}),_.jsx("button",{className:"download-button",onClick:de,children:"Download Report"})]}),_.jsx("div",{className:"table-container",children:_.jsxs("table",{children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Order Number"}),_.jsx("th",{children:"Date Ordered"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Product"}),_.jsx("th",{children:"Quantity"}),_.jsx("th",{children:"Total Price"})]})}),_.jsx("tbody",{children:Ee.map(Y=>_.jsxs("tr",{children:[_.jsx("td",{children:Y.orderNumber}),_.jsx("td",{children:Y.dateOrdered}),_.jsx("td",{children:_.jsx("span",{className:`status-badge ${Y.status.toLowerCase()}`,children:Y.status})}),_.jsx("td",{children:Y.product}),_.jsx("td",{children:Y.quantity}),_.jsx("td",{children:Y.totalPrice})]},Y.orderNumber))})]})})]}),wi=()=>_.jsx(_.Fragment,{children:_.jsx("div",{className:"settings-modal",children:_.jsx("div",{className:"settings-content",children:_.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),te()},children:[_.jsx("label",{children:"Old Password:"}),_.jsx("input",{type:"password",placeholder:"Enter current password",value:ue,required:!0,onChange:Y=>$(Y.target.value)}),_.jsx("label",{children:"New Password:"}),_.jsx("input",{type:"password",placeholder:"Enter new password",value:J,required:!0,onChange:Y=>ye(Y.target.value)}),_.jsx("label",{children:"Confirm Password:"}),_.jsx("input",{type:"password",placeholder:"Confirm new password",value:De,required:!0,onChange:Y=>Le(Y.target.value)}),_.jsx("button",{className:"save-btn",type:"submit",children:"Save Changes"})]})})})}),_s=()=>_.jsxs("div",{className:"registerCustomer-container",children:[_.jsxs("div",{className:"customer-form-section",children:[_.jsx("h2",{children:"Register New Customer"}),_.jsxs("form",{onSubmit:g,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Customer Type:"}),_.jsxs("div",{className:"radio-group",children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",name:"customerType",value:"student",checked:n==="student",onChange:()=>r("student")}),"Student"]}),_.jsxs("label",{children:[_.jsx("input",{type:"radio",name:"customerType",value:"faculty",checked:n==="faculty",onChange:()=>r("faculty")}),"Faculty"]}),_.jsxs("label",{children:[_.jsx("input",{type:"radio",name:"customerType",value:"staff",checked:n==="staff",onChange:()=>r("staff")}),"Staff"]})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"School ID:"}),_.jsx("input",{type:"text",name:"schoolId",value:l.schoolId,onChange:d,placeholder:"Enter school ID",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Full Name:"}),_.jsx("input",{type:"text",name:"name",value:l.name,onChange:d,placeholder:"Enter full name",required:!0})]}),n==="student"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Course & Year:"}),_.jsx("input",{type:"text",name:"courseYear",value:l.courseYear,onChange:d,placeholder:"e.g. BSCpE-3",required:!0})]}),n==="faculty"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Department:"}),_.jsxs("select",{name:"department",value:l.department,onChange:d,required:!0,children:[_.jsx("option",{value:"",children:"Select Department"}),_.jsx("option",{value:"HS",children:"High School (Grade 7-10)"}),_.jsx("option",{value:"SHS",children:"Senior High School (Grade 11-12)"}),_.jsx("option",{value:"College",children:"College"})]})]}),l.department==="HS"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Grades Teaching:"}),_.jsx("div",{className:"checkbox-group",children:[7,8,9,10].map(Y=>_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",name:"gradesTeaching",value:`Grade ${Y}`,checked:l.gradesTeaching.includes(`Grade ${Y}`),onChange:p}),"Grade ",Y]},Y))})]}),l.department==="SHS"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Grades Teaching:"}),_.jsxs("div",{className:"checkbox-group",children:[_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",name:"gradesTeaching",value:"Grade 11",checked:l.gradesTeaching.includes("Grade 11"),onChange:p}),"Grade 11"]}),_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",name:"gradesTeaching",value:"Grade 12",checked:l.gradesTeaching.includes("Grade 12"),onChange:p}),"Grade 12"]})]})]}),l.department==="College"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Years Teaching:"}),_.jsx("div",{className:"checkbox-group",children:["1st Year","2nd Year","3rd Year","4th Year"].map(Y=>_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",name:"yearsTeaching",value:Y,checked:l.yearsTeaching.includes(Y),onChange:p}),Y]},Y))})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Position:"}),_.jsxs("select",{name:"position",value:l.position,onChange:d,required:!0,children:[_.jsx("option",{value:"",children:"Select Position"}),_.jsx("option",{value:"Advisor",children:"Advisor"}),_.jsx("option",{value:"Instructor/Teacher",children:"Instructor/Teacher"}),_.jsx("option",{value:"Chairman",children:"Chairman"}),_.jsx("option",{value:"Dean",children:"Dean"}),_.jsx("option",{value:"Vice Position",children:"Vice Position"}),_.jsx("option",{value:"President",children:"President"})]})]})]}),n==="staff"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Department:"}),_.jsx("input",{type:"text",name:"staffDepartment",value:l.staffDepartment,onChange:d,placeholder:"Enter department",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Position:"}),_.jsx("input",{type:"text",name:"staffPosition",value:l.staffPosition,onChange:d,placeholder:"Enter position",required:!0})]})]}),_.jsx("button",{type:"submit",className:"register-button",children:"Register Customer"})]})]}),_.jsxs("div",{className:"customer-list-section",children:[_.jsx("h2",{children:"Registered Customers"}),s.length===0?_.jsx("p",{children:"No customers registered yet."}):_.jsx("div",{className:"customer-cards",children:s.map((Y,we)=>_.jsxs("div",{className:`customer-card ${Y.type}`,children:[_.jsx("h3",{children:Y.name}),_.jsxs("p",{children:[_.jsx("strong",{children:"ID:"})," ",Y.schoolId]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Type:"})," ",Y.type.charAt(0).toUpperCase()+Y.type.slice(1)]}),Y.type==="student"&&_.jsxs("p",{children:[_.jsx("strong",{children:"Course & Year:"})," ",Y.courseYear]}),Y.type==="faculty"&&_.jsxs(_.Fragment,{children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Department:"})," ",Y.department]}),Y.gradesTeaching.length>0&&_.jsxs("p",{children:[_.jsx("strong",{children:"Grades:"})," ",Y.gradesTeaching.join(", ")]}),Y.yearsTeaching.length>0&&_.jsxs("p",{children:[_.jsx("strong",{children:"Years:"})," ",Y.yearsTeaching.join(", ")]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Position:"})," ",Y.position]})]}),Y.type==="staff"&&_.jsxs(_.Fragment,{children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Department:"})," ",Y.department]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Position:"})," ",Y.position]})]})]},we))})]})]});return _.jsxs(_.Fragment,{children:[_.jsxs(ke.div,{className:"admin-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[_.jsxs("div",{className:"header",children:[_.jsxs("div",{className:"logo-container",children:[_.jsx("img",{src:MF,alt:"Wildcats Express Logo",className:"logo"}),_.jsx("h1",{children:_.jsx(ed,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})})]}),_.jsxs("div",{className:"profile-section",onClick:gr,children:[_.jsx("img",{src:jF,alt:"Admin",className:"profile-photo"}),_.jsx("span",{className:"profile-name",children:"Admin"}),_.jsx(lu,{mode:"sync",children:x&&_.jsxs(ke.div,{className:"dropdown-menu",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[_.jsxs("div",{className:"dropdown-item",onClick:()=>Tn("adminReports"),children:[_.jsx(AF,{})," Admin Reports"]}),_.jsxs("div",{className:"dropdown-item",onClick:()=>Tn("registerCustomer"),children:[_.jsx(bF,{})," Add Customer"]}),_.jsxs("div",{className:"dropdown-item",onClick:()=>Tn("settings"),children:[_.jsx(RF,{})," Settings"]}),_.jsxs("div",{className:"dropdown-item",onClick:()=>t("/pos-page"),children:[_.jsx(NF,{})," Customer"]}),_.jsxs("div",{className:"dropdown-item",onClick:()=>Cw(t),children:[_.jsx(kF,{})," Sign Out"]})]})})]})]}),_.jsx("div",{className:"sidebar",children:_.jsxs("nav",{children:[_.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Tn("dashboard"),className:w==="dashboard"?"active":"",children:_.jsx(LF,{className:"dashboard-icon"})}),_.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Tn("addMenu"),className:w==="addMenu"?"active":"",children:_.jsx(VF,{className:"addmenu-icon"})}),_.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Tn("orders"),className:w==="orders"?"active":"",children:_.jsx(DF,{className:"orders-icon"})})]})}),_.jsx("div",{className:"main-content-admin",children:_.jsx(lu,{mode:"wait",children:_.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[w==="dashboard"&&_.jsxs(ke.div,{className:"dashboard",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[_.jsx("h3",{children:"Welcome, Admin!"}),_.jsx("br",{}),_.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),_.jsx("div",{children:Gn()})]}),w==="addMenu"&&_.jsxs(ke.div,{className:"add-menu",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[_.jsx("h3",{children:"Welcome, Admin!"}),_.jsx("br",{}),_.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),_.jsx("br",{}),_.jsx("div",{children:vi()}),_.jsx("br",{}),_.jsx("div",{children:Kn()})]}),w==="orders"&&_.jsxs(ke.div,{className:"orders",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[_.jsx("h2",{children:"Orders"}),_.jsx("br",{}),_.jsx("div",{children:vs()})]}),w==="adminReports"&&_.jsxs(ke.div,{className:"admin-reports",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[_.jsx("h2",{children:"Admin Reports"}),_.jsx("br",{}),_.jsx("div",{children:_i()})]}),w==="registerCustomer"&&_.jsxs(ke.div,{className:"register-customer",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[_.jsx("h2",{children:"Add Customer"}),_.jsx("div",{children:_s()})]}),w==="settings"&&_.jsxs(ke.div,{className:"settings",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[_.jsx("h2",{children:"Settings"}),_.jsx("br",{}),_.jsx("div",{children:wi()})]}),w==="pos-page"&&_.jsx(ke.div,{className:"pos-page",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:_.jsx("h2",{children:"Backend please redirect this to /pos-page"})})]},w)})})]}),_.jsx(dS,{position:"top-center",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})},UF=()=>{const t=vu(),e=pS(t),[n,r]=L.useState({}),[s,a]=L.useState([]),[l,h]=L.useState("All"),[d,p]=L.useState(""),[g,w]=L.useState("menu"),[E,x]=L.useState(""),[P,D]=L.useState(!1),[R,b]=L.useState(""),[U,F]=L.useState(""),[Q,X]=L.useState(""),[ee,k]=L.useState(null),[S,A]=L.useState(""),[O,j]=L.useState(null);if(L.useEffect(()=>{const te=dm(Fl,"menu"),_e=O1(te,de=>{const Oe=de.docs.map(Qe=>({...Qe.data(),_id:Qe.id}));a(Oe)},de=>{console.error("Error fetching menu items:",de),be.error("Failed to fetch menu items.")});return()=>_e()},[]),L.useEffect(()=>{const te=_e=>{_e.altKey&&_e.shiftKey&&_e.key==="A"&&t("/admin-page")};return document.addEventListener("keydown",te),()=>{document.removeEventListener("keydown",te)}},[t]),e)return _.jsx("div",{children:"Loading..."});const z=(te,_e)=>{r(de=>({...de,[te]:Math.max(1,(de[te]||1)+_e)}))},V=te=>{r(_e=>({..._e,[te._id]:_e[te._id]||1}))};s.filter(te=>(l==="All"||te.category===l)&&te.name.toLowerCase().includes(d.toLowerCase()));const We=te=>{w(te)},it=()=>{if(!E){alert("Please enter your School ID before proceeding to checkout.");return}if(!R){alert("Please select a payment method before proceeding to checkout.");return}if(R==="gcash"){if(!U||parseFloat(U)<ue){alert("Please enter a valid amount paid.");return}if(!Q){alert("Please enter the GCash reference number.");return}}const te=`WCE-${Date.now()}`;k(te),alert(`Order Successful! Your order number is: ${te}`),console.log("Order Number:",te),console.log("Checkout successful with payment method:",R),R==="gcash"&&(console.log("Amount Paid:",U),console.log("GCash Reference Number:",Q)),r({}),F(""),X(""),st()},st=()=>{D(!0)},Ee=()=>{D(!1)},ie=te=>{r(_e=>{const de={..._e};return delete de[te],de})},me=te=>{b(te.target.value)},ue=Object.keys(n).reduce((te,_e)=>{const de=s.find(Oe=>Oe._id===_e);return te+(de?de.price*n[_e]:0)},0),$=te=>{A(te.target.value)},J=te=>{x(te.target.value)},ye=()=>_.jsx(_.Fragment,{children:_.jsxs(ke.div,{className:"menu-container-pos",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[_.jsx(ke.div,{className:"search-bar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:_.jsx("input",{type:"text",placeholder:"Search for food...",value:d,onChange:te=>p(te.target.value)})}),_.jsx(ke.div,{className:"category-filter",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:["All","Rice","Dishes","Coffee","Drinks","Snacks"].map(te=>_.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:l===te?"active-category":"",onClick:()=>h(te),children:te},te))}),_.jsx(ke.div,{className:"menu-grid",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:_.jsx(lu,{mode:"wait",children:s.filter(te=>(l==="All"||te.category===l)&&te.name.toLowerCase().includes(d.toLowerCase())).map(te=>_.jsxs(ke.div,{className:"menu-item-pos",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{scale:1.05},transition:{duration:.2},children:[_.jsx("img",{src:te.imageURL,alt:te.name,className:"item-img"}),_.jsx("h3",{className:"item-name",children:te.name}),_.jsxs("p",{className:"item-price",children:["Php ",te.price]}),_.jsxs("div",{className:"quantity-selector",children:[_.jsx(ke.button,{whileTap:{scale:.9},onClick:()=>z(te._id,-1),children:"-"}),_.jsx("span",{children:n[te._id]||0}),_.jsx(ke.button,{whileTap:{scale:.9},onClick:()=>z(te._id,1),children:"+"})]}),_.jsx(ke.button,{className:"add-to-cart",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>V(te),children:"Add to Cart"})]},te._id))})})]})}),De=()=>_.jsxs("div",{className:"cart-container",children:[S&&_.jsxs("h3",{className:"client-name",children:[" ",S]}),_.jsx("h2",{className:"view-title",children:" Your Cart"}),_.jsxs("div",{className:"client-info-input",children:[_.jsx("label",{htmlFor:"client-name",children:"Full Name:"}),_.jsx("input",{type:"text",id:"client-name",placeholder:"Enter your Full Name",value:S,onChange:$})]}),_.jsxs("div",{className:"school-id-input",children:[_.jsx("label",{htmlFor:"school-id",children:"School ID Number:"}),_.jsx("input",{type:"text",id:"school-id",placeholder:"Enter your School ID",value:E,onChange:J})]}),P&&_.jsxs("div",{className:"confirmation-modal",children:[_.jsx("h3",{children:"Order Confirmed"}),_.jsx("p",{children:"Thank you for your purchase!"}),_.jsx("button",{onClick:Ee,children:"Close"})]}),Object.keys(n).length===0?_.jsxs("div",{className:"empty-state-cart",children:[_.jsx("p",{children:"Your cart is empty"}),_.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>We("menu"),className:"return-to-menu",children:" Return to Menu"})]}):_.jsxs("div",{className:"cart-items",children:[Object.keys(n).map(te=>{const _e=s.find(de=>de._id===te);return _e?_.jsxs(ke.div,{className:"cart-item",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[_.jsxs("div",{className:"cart-item-details",children:[_.jsx("h3",{children:_e.name}),_.jsxs("p",{children:["Php ",_e.price,"  ",n[te]," = Php ",(_e.price*n[te]).toFixed(2)]})]}),_.jsxs("div",{className:"cart-item-actions",children:[_.jsx(ke.button,{whileTap:{scale:.9},onClick:()=>z(te,-1),children:"-"}),_.jsx("span",{children:n[te]}),_.jsx(ke.button,{whileTap:{scale:.9},onClick:()=>z(te,1),children:"+"}),_.jsx(ke.button,{whileTap:{scale:.9},onClick:()=>ie(te),className:"trash-button",children:""})]})]},te):null}),_.jsxs("div",{className:"cart-summary",children:[_.jsxs("div",{className:"cart-total",children:[_.jsx("strong",{children:"Total:"}),_.jsxs("span",{children:["Php ",Object.keys(n).reduce((te,_e)=>{const de=s.find(Oe=>Oe._id===_e);return te+(de?de.price*n[_e]:0)},0).toFixed(2)]})]}),_.jsxs("div",{className:"payment-method",children:[_.jsx("h4",{children:"Select Payment Method:"}),_.jsxs("div",{className:"payment-options",children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",name:"payment",value:"cash",onChange:me})," Cash "]}),_.jsxs("label",{children:[_.jsx("input",{type:"radio",name:"payment",value:"gcash",onChange:me})," GCash "]})]}),R==="gcash"&&_.jsxs("div",{className:"gcash-fields",children:[_.jsx("label",{children:"Amount Paid:"}),_.jsx("input",{type:"number",placeholder:"Enter amount paid",value:U,onChange:te=>F(te.target.value)}),_.jsx("br",{}),_.jsx("label",{children:"GCash Reference Number:"}),_.jsx("input",{type:"text",placeholder:"Enter reference number",value:Q,onChange:te=>X(te.target.value)})]})]}),_.jsx(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"checkout-button",onClick:it,children:" Proceed to Checkout"}),_.jsx(ke.button,{whileTap:{scale:.9},onClick:()=>ie(itemId),className:"trash-button"})]})]})]}),Le=()=>{const te=[{id:"19-3950-969",date:"February 14, 2025",items:[{name:"Fried Chicken",quantity:1,price:30},{name:"Chicken Adobo",quantity:1,price:80}],total:110,status:"Pending"},{id:"20-3950-969",date:"February 27, 2025",items:[{name:"Chicken Adobo",quantity:1,price:80},{name:"Bulalo",quantity:1,price:100}],total:180,status:"Pending"},{id:"18-3950-969",date:"February 28, 2025",items:[{name:"Chicken Adobo",quantity:2,price:80}],total:160,status:"Pending"}],_e=()=>{const de=["Pending","Preparing","Ready"],Oe=te.find(Qe=>Qe.id===ee&&de.includes(Qe.status));j(Oe||null)};return _.jsxs("div",{className:"track-order",children:[_.jsx("h2",{className:"view-title",children:"Track Your Order"}),_.jsx("div",{className:"track-order-content",children:_.jsxs("form",{className:"order-tracking-form",onSubmit:de=>{de.preventDefault(),_e()},children:[_.jsx("label",{htmlFor:"orderNumber",className:"order-label",children:"Enter your order number:"}),_.jsx("input",{type:"text",id:"orderNumber",placeholder:"e.g., xx-xxxx-xx",className:"order-number-input",value:ee,onChange:de=>k(de.target.value)}),_.jsx(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"track-button",children:"Track Order"})]})}),O&&_.jsxs("div",{className:"tracked-order",children:[_.jsx("h2",{children:"Order Details"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Order ID:"})," ",O.id]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Date Ordered:"})," ",O.date]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Total Amount:"})," ",O.total]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Status:"})," ",O.status]}),_.jsx("h3",{children:"Items Ordered:"}),_.jsx("ul",{children:O.items.map((de,Oe)=>_.jsxs("li",{children:[de.name," (x",de.quantity,") - ",de.price]},Oe))})]}),_.jsxs("div",{className:"recent-orders",children:[_.jsx("h2",{className:"orders-title-pos",children:"Recent Orders"}),_.jsx("div",{className:"orders-table-container-pos",children:_.jsxs("table",{className:"orders-table-pos",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Order ID"}),_.jsx("th",{children:"Date Ordered"}),_.jsx("th",{children:"Menus Ordered"}),_.jsx("th",{children:"Total Amount"}),_.jsx("th",{children:"Status"})]})}),_.jsx("tbody",{children:te.map((de,Oe)=>_.jsxs("tr",{children:[_.jsx("td",{children:de.id}),_.jsx("td",{children:de.date}),_.jsx("td",{children:de.items.map((Qe,un)=>_.jsxs("div",{children:[Qe.name," (x",Qe.quantity,") - ",Qe.price]},un))}),_.jsxs("td",{children:["",de.total]}),_.jsx("td",{className:"status",children:de.status})]},Oe))})]})})]})]})};return _.jsxs(ke.div,{className:"pos-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[_.jsx(ke.header,{className:"navbar-pos",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:_.jsxs("div",{className:"logo-container-pos",children:[_.jsx("img",{src:"/new-mainlogo.svg",className:"new-logo",alt:"Wildcats Express"}),_.jsxs("span",{className:"title",children:[_.jsx("h1",{children:_.jsx(ed,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})}),_.jsx("small",{children:"CIT-UNIVERSITY"})]})]})}),_.jsxs("div",{className:"main-content-container",children:[_.jsxs(ke.aside,{className:"sidebar-pos",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.3},children:[_.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:g==="menu"?"active-view-button":"",onClick:()=>We("menu"),children:"Menu"}),_.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:g==="cart"?"active-view-button":"",onClick:()=>We("cart"),children:"Cart"}),_.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:g==="trackOrder"?"active-view-button":"",onClick:()=>We("trackOrder"),children:"Track Order"})]}),_.jsx("div",{className:"pos-page",children:_.jsxs(lu,{mode:"wait",children:["Menu Modal",g==="menu"&&_.jsx(ke.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:_.jsx("div",{children:ye()})},"menu-view"),"Cart Modal",g==="cart"&&_.jsx(ke.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:_.jsx("div",{children:De()})},"cart-view"),"TrackOrder Modal",g==="trackOrder"&&_.jsx(ke.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:_.jsx("div",{children:Le()})},"track-order-view")]})})]})]})},BF=()=>{const{name:t,profilePhoto:e,userID:n,isAuth:r}=JSON.parse(localStorage.getItem("auth"))||{};return{name:t,profilePhoto:e,userID:n,isAuth:r}},zF="/assets/thinking-cat-Def_mMOd.svg";function $F(t){return Br({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M7.987 8.5l6.146 6.146-0.707 0.707-6.853-6.853 6.854-6.854 0.707 0.707-6.147 6.147zM9.29 2.353l-0.707-0.707-6.854 6.854 6.854 6.854 0.707-0.707-6.146-6.147 6.146-6.147z"},child:[]}]})(t)}const HF=()=>{const t=vu(),e=BO(t);BF();const[n,r]=L.useState(""),[s,a]=L.useState(""),[l,h]=L.useState(!1);if(e)return _.jsx("div",{children:"Loading..."});const d={exit:{scale:.95,opacity:0,rotate:[0,-5],y:-50,transition:{duration:.4,ease:"easeInOut"}}},p=async w=>{w.preventDefault(),be.dismiss();try{await UO(n,s),h(!0),be.success("Login successful!",{autoClose:3e3}),sessionStorage.setItem("hasLoggedIn","true"),setTimeout(()=>{t("/admin-page")},3e3)}catch(E){console.error("Login failed: ",E.message),be.error(`${E.message}`)}},g=()=>{t("/")};return _.jsxs(_.Fragment,{children:[_.jsx(lu,{children:!l&&_.jsx(ke.div,{className:"login-page",initial:{opacity:1},animate:{opacity:1},exit:d.exit,variants:d,children:_.jsxs("div",{className:"login-container",children:[_.jsx(ke.div,{className:"back-button",whileHover:{scale:1.1},whileTap:{scale:.9},children:_.jsx("button",{type:"button",className:"button",onClick:g,children:_.jsx($F,{className:"button-icon"})})}),_.jsx(ke.div,{className:"mascot-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:_.jsx("img",{src:zF,alt:"Mascot",className:"mascot-image"})}),_.jsxs(ke.div,{className:"form-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[_.jsxs("div",{className:"wildcats-title",children:[_.jsx("h2",{className:"wildcats",children:"Wildcats "}),_.jsx("h2",{className:"express",children:"Express"})]}),_.jsx("h3",{children:"Admin"}),_.jsxs("form",{onSubmit:p,children:[_.jsx(ke.input,{type:"text",placeholder:"Username",value:n,required:!0,onChange:w=>r(w.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4}}),_.jsx(ke.input,{type:"password",placeholder:"Password",value:s,required:!0,onChange:w=>a(w.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5}}),_.jsx(ke.button,{type:"submit",className:"login-button",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:"Login"})]})]})]})},"login-page")}),_.jsx(dS,{position:"top-left",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})};function WF(){return _.jsx(_.Fragment,{children:_.jsx("div",{className:"App",children:_.jsx(vA,{children:_.jsxs(QP,{children:[_.jsx(Nl,{path:"/",element:_.jsx($O,{})}),_.jsx(Nl,{path:"/login-page",element:_.jsx(HF,{})}),_.jsx(Nl,{path:"/admin-page",element:_.jsx(FF,{})}),_.jsx(Nl,{path:"/pos-page",element:_.jsx(UF,{})})]})})})})}sP.createRoot(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(WF,{})}));
